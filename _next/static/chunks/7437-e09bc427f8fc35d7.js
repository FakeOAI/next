"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7437],{7937:function(e,t,r){function n(e){return null!=e}r.d(t,{BB:function(){return c},He:function(){return d},PO:function(){return i},Ry:function(){return f},Um:function(){return l},WU:function(){return p},aS:function(){return u},lm:function(){return n},r3:function(){return o},sw:function(){return g}});let o=(e,t)=>e.includes(t),a=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null==e)return r;let n=Array.isArray(e)?e:[e];return t?n.map(t):n},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r=>a(r,e,t)},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"object"!=typeof e||null==e||Array.isArray(e)?t:e},l=(e,t)=>{let r=s(e),n={};for(let e in t)n[e]=t[e](null==r?void 0:r[e]);return n},u=e=>t=>l(t,e),c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"object"==typeof e||null==e?t:String(e)},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("object"==typeof e||null==e)return t;let r=Number(e);return isNaN(r)?t:r},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("boolean"==typeof e)return e;if("number"==typeof e){if(0===e)return!1;if(1===e)return!0}if("string"==typeof e){let t=e.toLowerCase();if("false"===t)return!1;if("true"===t)return!0}return t},p=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t[0];return o(t,e)?e:r},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e[0];return r=>p(r,e,t)}},16779:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(77420),o=r(19841),a=r(92379),i=r(13490),s=r(651);function l(e){let{onChange:t,enabled:r,label:l,disabled:u,withLockIcon:c=!1,lockIconOverride:d=null,size:g="normal",id:p}=e,f=(0,a.useCallback)(()=>{t(!r)},[r,t]);return(0,s.jsx)(n.fC,{id:p,checked:r,disabled:u,onCheckedChange:f,"aria-label":l,className:(0,o.default)("focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-token-text-secondary focus-visible:ring-offset-2 focus-visible:radix-state-checked:ring-black focus-visible:dark:ring-token-main-surface-primary focus-visible:dark:radix-state-checked:ring-green-600",u?"cursor-not-allowed opacity-50":"cursor-pointer","bg-gray-200 radix-state-checked:bg-black dark:border dark:border-token-border-medium dark:bg-transparent","relative shrink-0 rounded-full dark:radix-state-checked:border-green-600 dark:radix-state-checked:bg-green-600","normal"===g?"h-[20px] w-[32px]":"h-[19px] w-[30px]"),children:(0,s.jsx)(n.bU,{className:(0,o.default)("flex items-center justify-center rounded-full","transition-transform duration-100 will-change-transform ltr:translate-x-0.5 rtl:-translate-x-0.5","bg-white","normal"===g?"h-[16px] w-[16px] ltr:radix-state-checked:translate-x-[14px] rtl:radix-state-checked:translate-x-[-14px]":"h-[15px] w-[15px] ltr:radix-state-checked:translate-x-[13px] rtl:radix-state-checked:translate-x-[-13px]"),children:c?d||(0,s.jsx)(i.oVl,{className:"icon-xs dark:text-black"}):null})})}},59578:function(e,t,r){r.d(t,{wm:function(){return V},Xu:function(){return K}});var n=r(98601),o=r(55963),a=r(93951),i=r(41987),s=r(10481),l=r(22433),u=r(10449),c=r(42420),d=r(56032),g=r(84760),p=r(99976),f=r(61619),m=r(88667),h=r(19841),v=r(21389),y=r(88600),b=r(65925),x=r.n(b),T=r(92379),w=r(75172),j=r(62984),C=r(68306),M=r(2721),k=r(31438),O=r(15913),S=r(97537),_=r(16779),P=r(60682),I=r(91530),D=r.n(I),N=r(59144),E=r(24434),L=r(651);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let A=P.pm.FirstTimeUsingUserContext;var R=e=>{let{onClose:t}=e,r=(0,w.Z)(),{markAsViewed:n}=(0,P.qg)(A),o=(0,T.useCallback)(()=>{n(),t()},[n,t]);return(0,L.jsxs)(E.Z,{isOpen:!0,onClose:D(),size:"custom",className:"max-w-xl",type:"success",title:r.formatMessage(Z.title),primaryButton:(0,L.jsx)(N.Z.Button,{onClick:o,title:r.formatMessage(Z.ok),color:"primary"}),children:[(0,L.jsxs)("div",{className:"mb-6 flex flex-col gap-3",children:[(0,L.jsx)("p",{children:(0,L.jsx)(j.Z,z({},Z.body1))}),(0,L.jsx)("p",{children:(0,L.jsx)(j.Z,z({},Z.body2))})]}),(0,L.jsx)("div",{className:"flex flex-col gap-3 text-sm text-token-text-tertiary",children:(0,L.jsx)("p",{children:(0,L.jsx)(j.Z,z(z({},Z.legal1),{},{values:{article:e=>(0,L.jsx)("a",{href:s.i,target:"_blank",className:"underline",rel:"noopener noreferrer",children:e})}}))})})]})};let Z=(0,C.vU)({title:{id:"UserContextFirstTimeModal.title",defaultMessage:"Introducing Custom Instructions"},body1:{id:"UserContextFirstTimeModal.body1",defaultMessage:"Customize your interactions with ChatGPT by providing specific details and guidelines for your chats."},body2:{id:"UserContextFirstTimeModal.body2",defaultMessage:"Whenever you edit your custom instructions, they'll take effect in all new chats you create. Existing chats won't be updated."},legal1:{id:"UserContextFirstTimeModal.legal1",defaultMessage:"Your instructions will be used to make our models better unless you've opted out and may be shared with any plugins you've enabled. Visit our <article>Help Center</article> to learn more."},ok:{id:"UserContextFirstTimeModal.ok",defaultMessage:"OK"}});var F=r(30853),B=r(13490),G=r(24740);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function K(e){let t=(0,w.Z)();return(0,g.a)({queryKey:["userContext"],queryFn:()=>M.Z.getUserSystemMessage().catch(e=>{throw G.m.danger(t.formatMessage({id:"userContextModal.getCustomInstructionsError",defaultMessage:"Failed to get your settings"})),e}),enabled:e,select:e=>{var t,r,n,o;return{aboutUserMessage:null!==(t=null==e?void 0:e.about_user_message)&&void 0!==t?t:"",aboutModelMessage:null!==(r=null==e?void 0:e.about_model_message)&&void 0!==r?r:"",disabledTools:null!==(n=null==e?void 0:e.disabled_tools)&&void 0!==n?n:[],enabled:null===(o=null==e?void 0:e.enabled)||void 0===o||o}}})}let H={aboutUserMessage:void 0,aboutModelMessage:void 0,disabledTools:void 0,enabled:void 0};function V(e){var t,r,n;let{isModalOpen:o}=e,i=(0,w.Z)(),l=function(){let{eligible:e}=(0,P.qg)(A);return e}(),{0:u,1:g}=(0,T.useState)(!1),{isLoading:h,data:v}=K(o),{aboutUserMessage:y="",aboutModelMessage:b="",disabledTools:C=[],enabled:O}=null!=v?v:{},{0:I,1:D}=(0,T.useState)(H),{aboutUserMessage:U,aboutModelMessage:z,disabledTools:Z,enabled:F}=I,B=null!=F?F:!!O,{0:q,1:V}=(0,T.useState)(null),et=(0,T.useCallback)(()=>{k.vm.closeModal(k.B.UserContext),D(H),V(null)},[]),{isPending:en,mutate:eo}=function(e){let{onSuccess:t,onError:r}=e,n=(0,c.NL)();return(0,d.D)({mutationFn:e=>{let{userContext:t}=e;return M.Z.createOrUpdateUserSystemMessage(t)},onSettled:(e,t)=>{let r=["userContext"];null===e||t?n.invalidateQueries({queryKey:r}):n.setQueryData(r,e)},onSuccess:t,onError:r})}({onSuccess:()=>{et()},onError:e=>{var t,r,n;return(null===(t=e.response)||void 0===t?void 0:t.reason)==="content_policy"&&null!==(r=e.response)&&void 0!==r&&r.field?V(null===(n=e.response)||void 0===n?void 0:n.field):G.m.danger(i.formatMessage({id:"userContextModal.saveError",defaultMessage:"Failed to update settings"})),e}}),{0:ea,1:ei}=(0,T.useState)(!1),es=(0,a.t)(),el=null===(t=null==es?void 0:es.isFree())||void 0===t||t,eu=X(null!=U?U:"")||X(null!=z?z:""),ec=void 0!==z&&z!==b||void 0!==U&&U!==y||void 0!==Z&&!x()(Z,C)||void 0!==F&&F!==O,ed=(0,T.useCallback)(()=>{ec?ei(!0):et()},[et,ec]),eg=(0,T.useCallback)(async()=>{en||(V(null),eo({userContext:{aboutUserMessage:null!=U?U:"",aboutModelMessage:null!=z?z:"",disabledTools:null!=Z?Z:[],enabled:!!F}}))},[en,z,U,Z,F,eo]),ep=(0,T.useCallback)(()=>{if(eu){var e,t,r,n;let o=X(null!=U?U:""),a=X(null!=z?z:"");o&&(m.m9.logEvent("chatgpt_user_context_modal__message_past_limit",void 0,{type:"about_user_message",limit:Y.toString(),character_length:null!==(e=null==U?void 0:U.length.toString())&&void 0!==e?e:""}),p.A.logEvent(f.M.userContextModelMessagePastLimit,{type:"about_user_message",limit:Y.toString(),character_length:null!==(t=null==U?void 0:U.length.toString())&&void 0!==t?t:""})),a&&(m.m9.logEvent("chatgpt_user_context_modal__message_past_limit",void 0,{type:"about_model_message",limit:Y.toString(),character_length:null!==(r=null==z?void 0:z.length.toString())&&void 0!==r?r:""}),p.A.logEvent(f.M.userContextModelMessagePastLimit,{type:"about_model_message",limit:Y.toString(),character_length:null!==(n=null==z?void 0:z.length.toString())&&void 0!==n?n:""})),G.m.danger(i.formatMessage(er.messageLimitError,{limit:Y}),{duration:4,hasCloseButton:!0});return}eg()},[i,eu,z,U,eg]);if(o&&l&&!u)return(0,L.jsx)(R,{onClose:()=>{g(!0)}});if(o&&ea){let e=()=>{ei(!1)};return(0,L.jsx)(E.Z,{isOpen:!0,onClose:e,type:"success",title:i.formatMessage(er.confirmCloseTitle),primaryButton:(0,L.jsx)(N.Z.Button,{title:i.formatMessage(er.confirmCloseOk),color:"danger",onClick:()=>{et(),e()}}),secondaryButton:(0,L.jsx)(N.Z.Button,{title:i.formatMessage(er.confirmCloseCancel),color:"secondary",onClick:e}),children:(0,L.jsx)("div",{className:"text-sm",children:(0,L.jsx)(j.Z,W({},er.confirmCloseBody))})},"confirm-close")}return(0,L.jsxs)(E.Z,{isOpen:o,onClose:ed,type:"success",size:"custom",className:"max-w-lg xl:max-w-xl",title:(0,L.jsx)(j.Z,W({},er.profileTitle)),children:[h?(0,L.jsx)("div",{className:"flex h-14 items-center justify-center",children:(0,L.jsx)(S.Z,{})}):(0,L.jsxs)("div",{className:"max-h-[60vh] overflow-y-auto md:max-h-[calc(100vh-300px)]",children:[(0,L.jsxs)("div",{className:"flex items-center gap-1",children:[(0,L.jsx)("div",{className:"text-sm font-semibold",children:(0,L.jsx)(j.Z,W({},er.customInstructionsTitle))}),(0,L.jsx)($,{label:(0,L.jsx)(j.Z,W(W({},er.customInstructionsTooltip),{},{values:{article:e=>(0,L.jsx)("a",{href:s.i,target:"_blank",className:"underline",rel:"noreferrer",children:e})}}))})]}),(0,L.jsx)("p",{className:"text-muted pb-3 pt-2 text-sm text-token-text-primary",children:(0,L.jsx)(j.Z,W({},er.aboutYouHelpText))}),(0,L.jsx)(J,{className:"mb-3",onSubmit:ep,disabled:!B,tip:(0,L.jsx)(Q,{children:(0,L.jsxs)("ul",{className:"list-disc pl-5",children:[(0,L.jsx)("li",{children:(0,L.jsx)(j.Z,W({},er.aboutUserTip1))}),(0,L.jsx)("li",{children:(0,L.jsx)(j.Z,W({},er.aboutUserTip2))}),(0,L.jsx)("li",{children:(0,L.jsx)(j.Z,W({},er.aboutUserTip3))}),(0,L.jsx)("li",{children:(0,L.jsx)(j.Z,W({},er.aboutUserTip4))}),(0,L.jsx)("li",{children:(0,L.jsx)(j.Z,W({},er.aboutUserTip5))})]})}),hasModError:"about_user_message"===q,value:null!=U?U:y,onChange:e=>D(t=>{var r,n,o;return{aboutModelMessage:null!==(r=t.aboutModelMessage)&&void 0!==r?r:b,aboutUserMessage:e.target.value,enabled:null!==(n=t.enabled)&&void 0!==n?n:B,disabledTools:null!==(o=t.disabledTools)&&void 0!==o?o:C}})}),(0,L.jsx)("p",{className:"text-muted py-3 text-sm text-token-text-primary",children:(0,L.jsx)(j.Z,W({},er.modelHelpText))}),(0,L.jsx)(J,{onSubmit:ep,disabled:!B,tip:(0,L.jsx)(Q,{children:(0,L.jsxs)("ul",{className:"list-disc pl-5",children:[(0,L.jsx)("li",{children:(0,L.jsx)(j.Z,W({},er.modelTip1))}),(0,L.jsx)("li",{children:(0,L.jsx)(j.Z,W({},er.modelTip2))}),(0,L.jsx)("li",{children:(0,L.jsx)(j.Z,W({},er.modelTip3))}),(0,L.jsx)("li",{children:(0,L.jsx)(j.Z,W({},er.modelTip4))})]})}),hasModError:"about_model_message"===q,value:null!=z?z:b,onChange:e=>D(t=>{var r,n,o;return{aboutUserMessage:null!==(r=t.aboutUserMessage)&&void 0!==r?r:y,aboutModelMessage:e.target.value,enabled:null!==(n=t.enabled)&&void 0!==n?n:B,disabledTools:null!==(o=t.disabledTools)&&void 0!==o?o:C}})}),!el&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:"my-6 h-px bg-token-border-light"}),(0,L.jsx)(ee,{disabledTools:null!==(r=null!==(n=I.disabledTools)&&void 0!==n?n:C)&&void 0!==r?r:[],onDisabledToolsChanged:e=>D(t=>{var r,n,o;return{aboutUserMessage:null!==(r=t.aboutUserMessage)&&void 0!==r?r:y,aboutModelMessage:null!==(n=t.aboutModelMessage)&&void 0!==n?n:b,enabled:null!==(o=t.enabled)&&void 0!==o?o:B,disabledTools:e}})})]})]}),(0,L.jsx)("div",{className:"mt-4 md:mt-5",children:(0,L.jsxs)("div",{className:"flex flex-grow flex-col items-stretch justify-between gap-0 sm:flex-row sm:items-center sm:gap-3",children:[(0,L.jsxs)("label",{className:"mt-5 flex cursor-pointer flex-row justify-between gap-2 sm:mt-4",children:[(0,L.jsx)("div",{className:"self-center text-sm text-token-text-primary",children:(0,L.jsx)(j.Z,W({},er.chatPreferencesEnable))}),(0,L.jsx)(_.Z,{enabled:B,onChange:e=>{D(t=>{var r,n,o;return{aboutUserMessage:null!==(r=t.aboutUserMessage)&&void 0!==r?r:y,aboutModelMessage:null!==(n=t.aboutModelMessage)&&void 0!==n?n:b,enabled:e,disabledTools:null!==(o=t.disabledTools)&&void 0!==o?o:C}})},label:B?i.formatMessage(er.disableToggleLabel):i.formatMessage(er.enableToggleLabel)})]}),(0,L.jsx)(N.Z.Actions,{secondaryButton:(0,L.jsx)(N.Z.Button,{onClick:ed,children:(0,L.jsx)(j.Z,W({},er.cancel))}),primaryButton:(0,L.jsx)(N.Z.Button,{loading:en,onClick:ep,color:"primary",visuallyDisabled:eu,disabled:!ec,children:(0,L.jsx)(j.Z,W({},er.save))})})]})})]},"user-context")}let Q=e=>{let{children:t}=e;return(0,L.jsx)("div",{className:"whitespace-pre-line",children:t})},Y=1500,X=e=>e.length>Y,J=e=>{let{disabled:t,onChange:r,onSubmit:n,placeholder:o,value:a,tip:i,hasModError:s,className:l}=e,c=(0,w.Z)(),d=(0,T.useRef)(null),g=(0,O.x_)(),p=(0,O.aj)(),f=!g,{0:m,1:b}=(0,T.useState)(!1),{0:x,1:C}=(0,T.useState)(f),M=!f&&m&&!x,k=f&&!x,S=X(a);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(E.Z,{isOpen:k,type:"success",size:"custom",className:"max-w-lg",title:c.formatMessage(er.tipsHeader),showCloseButton:!0,onClose:()=>{C(!0)},children:i}),(0,L.jsxs)(u.fC,{open:M,children:[(0,L.jsxs)("div",{className:l,children:[(0,L.jsx)(u.xz,{asChild:!0,children:(0,L.jsx)("textarea",{ref:d,className:(0,h.default)("w-full resize-none rounded bg-token-main-surface-primary p-4 placeholder:text-gray-300",{"border-orange-400 focus:border-orange-400":s,"border-red-500 focus:border-red-500":S&&!s,"focus-token-border-heavy border-token-border-light":!S&&!s,"opacity-30":t}),disabled:t,placeholder:o,onKeyDown:e=>{t||"Enter"!==e.key||!e.metaKey||e.shiftKey||e.nativeEvent.isComposing||(e.preventDefault(),n())},rows:g&&!p?6:5,value:a,onChange:r,onBlur:()=>{b(!1)},onFocus:()=>{b(!0)}})}),(0,L.jsx)("div",{className:(0,h.default)("flex items-center justify-between px-1 text-xs tabular-nums",S?"text-red-600":"text-token-text-tertiary"),children:s?(0,L.jsx)("div",{className:"visible mt-2 text-left text-xs text-orange-400",children:(0,L.jsx)(j.Z,W(W({},er.modApiVoilation),{},{values:{policyLink:e=>(0,L.jsx)("a",{href:"https://platform.openai.com/docs/usage-policies/content-policy",className:"underline",target:"_blank",rel:"noreferrer",children:e}),feedbackLink:e=>(0,L.jsx)("a",{href:"https://forms.gle/3gyAMj5r5rTEcgbs5",className:"underline",target:"_blank",rel:"noreferrer",children:e})}}))}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{children:"".concat(a.length,"/").concat(Y)}),(0,L.jsx)("button",{className:"flex items-center gap-1",onClick:()=>{var e;null===(e=d.current)||void 0===e||e.focus(),C(!x)},tabIndex:-1,children:(0,L.jsx)(v.M,{initial:!1,children:m&&(0,L.jsx)(y.E.div,{className:"flex items-center gap-1",initial:{opacity:0},animate:{opacity:1,transition:{duration:.2,ease:"easeIn"}},exit:{opacity:0,transition:{duration:.2,ease:"easeIn"}},children:x?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(j.Z,W({},er.showTips)),(0,L.jsx)(B.tEF,{className:"icon-xs"})]}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(j.Z,W({},er.hideTips)),(0,L.jsx)(B.Xl7,{className:"icon-xs"})]})},"show-hide")})})]})})]}),(0,L.jsx)(u.h_,{children:(0,L.jsx)(u.VY,{side:"right",align:"start",sideOffset:12,className:"popover relative max-w-[220px] animate-slideLeftAndFade select-none rounded-xl border border-token-border-light bg-token-main-surface-primary p-4 text-sm text-token-text-primary shadow-[0px_4px_14px_rgba(0,0,0,0.06)] xl:max-w-xs",onOpenAutoFocus:e=>{e.preventDefault()},onCloseAutoFocus:e=>{e.preventDefault()},children:(0,L.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,L.jsx)("strong",{children:(0,L.jsx)(j.Z,W({},er.tipsHeader))}),i]})})})]})]})};function $(e){let{label:t,side:r="bottom"}=e;return(0,L.jsx)(F.u,{sideOffset:4,interactive:!0,label:(0,L.jsx)("div",{children:t}),side:r,children:(0,L.jsx)(B.szr,{className:"h-4 w-4 text-token-text-tertiary"})})}function ee(e){var t;let{disabledTools:r,onDisabledToolsChanged:n}=e;(0,T.useEffect)(()=>{p.A.logEvent(f.M.userContextGpt4CapabilitiesShown)},[]);let o=(0,a.t)(),s=null!==(t=null==o?void 0:o.isEnterprisey())&&void 0!==t&&t,u=!(0,a.FJ)(i.L0.BrowsingAvailable)&&s,c=e=>{n(r.includes(e)?r.filter(t=>t!==e):[...r,e])};return(0,L.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,L.jsxs)("div",{className:"flex items-center gap-1",children:[(0,L.jsx)("div",{className:"text-sm font-semibold",children:(0,L.jsx)(j.Z,{id:"userContextModal.gpt4CapabilitiesTitle",defaultMessage:"GPT-4 Capabilities"})}),(0,L.jsx)($,{label:(0,L.jsx)(j.Z,{id:"userContextModal.tools.capabilitiesInfo.1",defaultMessage:"Choose which tools can be used with GPT-4"}),side:"top"})]}),(0,L.jsxs)("div",{className:"mt-2 flex flex-col gap-3 md:flex-row",children:[(0,L.jsx)(et,{title:(0,L.jsx)(j.Z,{id:"userContextModal.tools.browse",defaultMessage:"Browsing"}),tooltipLabel:u?(0,L.jsx)(j.Z,{id:"5SuA2c",defaultMessage:"Browsing is disabled by your organization"}):(0,L.jsx)(j.Z,{id:"userContexModal.tools.browserTooltip",defaultMessage:"Browse the internet to find answers"}),tool:l.X.BROWSER,onClick:c,Icon:B.n9J,checked:!r.includes(l.X.BROWSER)&&!u,disabled:u}),(0,L.jsx)(et,{title:(0,L.jsx)(j.Z,{id:"userContextModal.tools.dalle",defaultMessage:"DALL\xb7E"}),tooltipLabel:(0,L.jsx)(j.Z,{id:"userContextModal.tools.dalleTooltip",defaultMessage:"Generate images using DALL\xb7E"}),tool:l.X.DALLE,onClick:c,Icon:B.q$4,checked:!r.includes(l.X.DALLE)}),(0,L.jsx)(et,{title:(0,L.jsx)(j.Z,{id:"userContextModal.tools.codeInterpreter.1",defaultMessage:"Code"}),tooltipLabel:(0,L.jsx)(j.Z,{id:"userContextModal.tools.codeInterpreterTooltip",defaultMessage:"Execute code using Code Interpreter"}),tool:l.X.PYTHON,onClick:c,Icon:B.FxN,checked:!r.includes(l.X.PYTHON)})]})]})}function et(e){let{tool:t,title:r,tooltipLabel:n,Icon:a,onClick:i,checked:s,disabled:l}=e;return(0,L.jsx)(F.u,{className:"block flex-1",label:n,side:"top",sideOffset:4,children:(0,L.jsxs)("button",{className:(0,h.default)("flex w-full items-center justify-between rounded border border-token-border-medium p-2",{"cursor-not-allowed text-token-text-quaternary":l}),onClick:()=>i(t),disabled:l,children:[(0,L.jsxs)("div",{className:"flex items-center gap-2",children:[(0,L.jsx)(a,{className:"h-4 w-4 text-token-text-tertiary"}),(0,L.jsx)("div",{className:"text-sm font-semibold",children:r})]}),(0,L.jsx)(o.Z,{id:t,checked:s&&!l,disabled:l})]})})}let er=(0,C.vU)({tipsHeader:{id:"userContextModal.tipsHeader",defaultMessage:"Thought starters"},aboutUserTip1:{id:"userContextModal.aboutUserTip1",defaultMessage:"Where are you based?"},aboutUserTip2:{id:"userContextModal.aboutUserTip2",defaultMessage:"What do you do for work?"},aboutUserTip3:{id:"userContextModal.aboutUserTip3",defaultMessage:"What are your hobbies and interests?"},aboutUserTip4:{id:"userContextModal.aboutUserTip4",defaultMessage:"What subjects can you talk about for hours?"},aboutUserTip5:{id:"userContextModal.aboutUserTip5",defaultMessage:"What are some goals you have?"},modelTip1:{id:"userContextModal.modelTip1",defaultMessage:"How formal or casual should ChatGPT be?"},modelTip2:{id:"userContextModal.modelTip2",defaultMessage:"How long or short should responses generally be?"},modelTip3:{id:"userContextModal.modelTip3",defaultMessage:"How do you want to be addressed?"},modelTip4:{id:"userContextModal.modelTip4",defaultMessage:"Should ChatGPT have opinions on topics or remain neutral?"},save:{id:"userContextModal.save",defaultMessage:"Save"},chatPreferencesEnable:{id:"userContextModal.chatPreferencesEnable",defaultMessage:"Enable for new chats"},enableToggleLabel:{id:"userContextModal.enableToggleLabel",defaultMessage:"Enable chat preferences"},disableToggleLabel:{id:"userContextModal.disableToggleLabel",defaultMessage:"Disable chat preferences"},cancel:{id:"userContextModal.cancel",defaultMessage:"Cancel"},aboutYouHelpText:{id:"userContextModal.aboutYouHelpText",defaultMessage:"What would you like ChatGPT to know about you to provide better responses?"},modelHelpText:{id:"userContextModal.modelHelpText",defaultMessage:"How would you like ChatGPT to respond?"},profileTitle:{id:"userContextModal.title.1",defaultMessage:"Customize ChatGPT"},customInstructionsTitle:{id:"userContextModal.customInstructionsTitle",defaultMessage:"Custom Instructions"},customInstructionsTooltip:{id:"userContextModal.customInstructionsTooltip",defaultMessage:"<article>Learn more</article> about Custom instructions and how they’re used to help ChatGPT provide better responses."},messageLimitError:{id:"userContextModal.messageLimitError",defaultMessage:"Please limit your responses to {limit} characters or less."},showTips:{id:"userContextModal.showTips",defaultMessage:"Show tips"},hideTips:{id:"userContextModal.hideTips",defaultMessage:"Hide tips"},confirmCloseTitle:{id:"userContextModal.confirmCloseTitle",defaultMessage:"You have unsaved changes."},confirmCloseBody:{id:"userContextModal.confirmCloseBody",defaultMessage:"Are you sure you want to exit? Any changes you made will be permanently lost."},confirmCloseCancel:{id:"userContextModal.confirmCloseCancel",defaultMessage:"Back"},confirmCloseOk:{id:"userContextModal.confirmCloseOk",defaultMessage:"Exit"},modApiVoilation:{id:"userContextModal.modApiVoilation",defaultMessage:"This content may violate our <policyLink>content policy</policyLink>. If you believe this to be in error, please <feedbackLink>submit your feedback</feedbackLink> — your input will aid our research in this area."},browser:{id:"userContexModal.tools.browserTooltip",defaultMessage:"Browse the internet to find answers"},dalle:{id:"userContexModal.tools.dalleTooltip",defaultMessage:"Generate images using DALL\xb7E"},python:{id:"userContexModal.tools.codeInterpreterTooltip",defaultMessage:"Execute code using Code Interpreter"}})},55963:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(19841),o=r(651);function a(e){let{id:t,label:r,checked:a,onChange:i,disabled:s,className:l,labelClassName:u,readOnly:c,labelSide:d="right"}=e,g=r&&(0,o.jsx)("label",{className:(0,n.default)("form-check-label text-token-text-primary",u),htmlFor:t,children:r});return(0,o.jsxs)("div",{className:"form-check flex items-center gap-2",children:["left"===d&&g,(0,o.jsx)("input",{className:(0,n.default)("form-check-input float-left h-4 w-4 appearance-none rounded-sm border border-gray-300 bg-white bg-contain bg-center bg-no-repeat align-top transition duration-200 checked:border-blue-600 checked:bg-blue-600 focus:outline-none",s?"cursor-not-allowed":"cursor-pointer",l),type:"checkbox",disabled:s,onChange:i,checked:a,readOnly:c,id:t}),"right"===d&&g]})}},94668:function(e,t,r){r.d(t,{Z:function(){return c}});var n,o=r(2346),a=r(19841),i=r(92379),s=r(15478),l=r(13490),u=r(651);function c(e){let t,{type:r="info",children:n,isDismissible:o=!1,onDismiss:s,className:c,isElevated:g=!1}=e,{0:p,1:f}=(0,i.useState)(!1);return p?null:("none"!==r&&(t=l.szr),(0,u.jsxs)(d,{$type:r,className:(0,a.default)("flex w-full items-start gap-3 rounded-2xl border text-sm","warning"===r||"danger"===r?"bg-opacity-5":"bg-opacity-10",o?"py-2.5 pl-3 pr-2 md:py-3 md:pl-4 md:pr-3":"px-3 py-2.5 md:p-4",g&&"shadow-xxs",c),children:[t&&(0,u.jsx)(t,{className:(0,a.default)("icon-lg shrink-0",o&&"mt-[2px] md:mt-px",("info"===r||"none"===r)&&"text-token-text-secondary")}),(0,u.jsx)("div",{className:(0,a.default)("grow",o?"pt-[4px] md:pt-[3px]":"pt-[2px]",!t&&"pl-1"),children:n}),o&&(0,u.jsx)("button",{onClick:()=>{f(!0),null==s||s()},className:(0,a.default)("flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-transparent text-token-text-primary",("info"===r||"none"===r)&&"hover:bg-token-main-surface-secondary","danger"===r&&"hover:bg-token-surface-error/10","warning"===r&&"hover:bg-orange-400/10"),children:(0,u.jsx)(l.tPq,{className:"icon-md"})})]}))}let d=s.Z.div(n||(n=(0,o.Z)(["\n",""])),e=>{let{$type:t}=e;switch(t){case"danger":return"text-token-text-error border-token-surface-error/15 bg-token-surface-error bg-opacity-0";case"warning":return"text-orange-600 bg-orange-400 bg-opacity-0 border-orange-400/15";case"success":return"text-green-500 border-green-500 bg-green-500 bg-opacity-0";default:return"text-token-text-primary border-token-border-light bg-token-main-surface-primary bg-opacity-0"}})},30853:function(e,t,r){r.d(t,{E:function(){return p},u:function(){return f}});var n,o=r(2346),a=r(98601),i=r(52088),s=r(59594),l=r(19841);r(92379);var u=r(15478),c=r(651);let d=["disabled"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let p=e=>{let{disabled:t}=e,r=(0,i.Z)(e,d);return t?(0,c.jsx)(c.Fragment,{children:r.children}):(0,c.jsx)(f,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r))},f=e=>{let t,r,{label:n,contentClassName:o,customPaddingClassName:a,theme:i="default",cornerRadius:u="lg",side:d="bottom",sideOffset:g=14,align:p="center",alignOffset:f=0,withArrow:h=!0,wide:v=!1,size:y="small",interactive:b=!1,usePortal:x=!0,className:T,children:w,delayDuration:j=300,closeOnOutsideClick:C=!0,open:M,onOpenChange:k}=e;if(!n)return(0,c.jsx)("span",{className:T,children:w});switch(i){case"blue":t="",r="bg-blue-selection";break;case"white":t="",r="bg-white";break;case"default":t="border-white/10 dark:border",r="bg-gray-950"}let O=(0,c.jsxs)(s.VY,{collisionPadding:8,onPointerDownOutside:C?void 0:e=>e.preventDefault(),side:d,sideOffset:g,alignOffset:f,align:p,className:(0,l.default)("relative shadow-xs transition-opacity",a||"px-3 py-2","rounded-".concat(u),t,r,v?"max-w-sm":"max-w-xs",o),children:[(0,c.jsx)("span",{className:(0,l.default)("flex items-center whitespace-pre-wrap text-center font-semibold normal-case text-gray-100",{"text-xs":"xsmall"===y,"text-sm":"small"===y}),children:n}),h&&(0,c.jsx)(s.Eh,{asChild:!0,children:(0,c.jsx)(m,{className:r})})]});return(0,c.jsxs)(s.fC,{delayDuration:j,disableHoverableContent:!b,open:M,onOpenChange:k,children:[(0,c.jsx)(s.xz,{asChild:!0,children:(0,c.jsx)("span",{className:T,children:w})}),x?(0,c.jsx)(s.h_,{children:O}):O]})},m=u.Z.div(n||(n=(0,o.Z)(["relative top-[-4px] h-2 w-2 rotate-45 transform shadow-xs dark:border-r dark:border-b border-white/10"])))},39004:function(e,t,r){r.d(t,{AG:function(){return M},Bw:function(){return x},CR:function(){return j},D2:function(){return U},DC:function(){return A},DS:function(){return q},Dq:function(){return D},EF:function(){return O},F0:function(){return F},Fi:function(){return I},HW:function(){return b},K7:function(){return ee},K9:function(){return B},M0:function(){return G},N_:function(){return W},Sg:function(){return _},UQ:function(){return $},Vw:function(){return Z},WL:function(){return Q},Wd:function(){return R},Wz:function(){return E},YR:function(){return Y},Z1:function(){return X},ZJ:function(){return K},b9:function(){return z},i6:function(){return S},kX:function(){return w},kb:function(){return H},m_:function(){return k},pJ:function(){return V},rm:function(){return J},un:function(){return C},uy:function(){return T},z5:function(){return P}});var n=r(98601),o=r(16757),a=r(10080),i=r(24740),s=r(84760),l=r(19856),u=r(49166),c=r(42420),d=r(56032),g=r(85567),p=r(34977),f=r(42906),m=r(99555),h=r(45334);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let b="GPT Builder";function x(e){let t=new URL("http://example.com".concat(e)).pathname.match(/(?:\/gizmo)?\/g\/([^/]+)/);if(t)return t[1]}function T(e){if(e)return"ChatGPT - ".concat(e)}function w(e){var t,r;return null!==(t=null!==(r=e.gizmo.short_url)&&void 0!==r?r:e.gizmo.id)&&void 0!==t?t:"-"}function j(e){let t=e.split("-");return t.length>1&&"g"===t[0]?"g-".concat(t[1]):t[0]}function C(e){return"/g/".concat(e)}function M(e){return"".concat("https://chatgpt.com").concat(C(e))}function k(e){return C(w(e))}function O(e,t){let r=new URLSearchParams;return null!=t&&r.set(f.l,t),(0,g.I)(new URL("".concat(k(e),"?").concat(r),"https://chatgpt.com"))}function S(e){return"/g/".concat(w(e))}function _(e){return(0,h.S9)(e)&&0===e.gizmo.live_version||(0,h.WQ)(e)&&0===e.liveVersion}function P(e,t){return(0,s.a)({queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:async()=>m.U.getGizmoDiscovery(e,t)})}function I(e){let{cutId:t,locale:r,limit:n,cursor:o,enabled:a=!0}=e;return(0,l.N)({queryKey:["gizmos","discovery",{cutId:t,locale:r,limit:n}],queryFn:async e=>{let{pageParam:o}=e;return m.U.getGizmoDiscoveryCut(t,{locale:r,cursor:o,limit:n})},initialPageParam:o,getNextPageParam:e=>{var t;return null!==(t=e.list.cursor)&&void 0!==t?t:void 0},enabled:a})}function D(){return(0,s.a)({queryKey:["gizmos","pinned"],queryFn:async()=>m.U.getGizmoPinned()})}function N(){return(0,u.C)({queryKey:["gizmos","bootstrap"],queryFn:async()=>m.U.getGizmoBootstrap().then(e=>({gizmos:e.gizmos.map(e=>({resource:e.resource,flair:e.flair}))}))})}function E(){return(0,s.a)(N())}function L(e,t){let r=e.filter(e=>e.resource.gizmo.id!==t.resource.gizmo.id),n=r.findIndex(e=>e.flair.kind===a.JK.Recent);return -1===n&&(n=r.length),r.splice(n,0,t),r}let U={handleGizmoInteracted(e,t){let r=e.getQueryData(Z(e,t).queryKey);null!=r&&e.setQueryData(N().queryKey,e=>{if(null==e)return e;let n=e.gizmos.find(e=>e.resource.gizmo.id===t);return(null==n?void 0:n.flair.kind)===a.JK.FirstParty||(null==n?void 0:n.flair.kind)===a.JK.SidebarKeep?e:{gizmos:L(e.gizmos,{resource:r,flair:{kind:a.JK.Recent}})}})},handleGizmoSidebarKeep(e,t){let r=e.getQueryData(Z(e,t).queryKey);null!=r&&e.setQueryData(N().queryKey,e=>null==e?e:{gizmos:L(e.gizmos,{resource:r,flair:{kind:a.JK.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(N().queryKey,e=>null!=e&&e.gizmos.some(e=>e.resource.gizmo.id===t)?{gizmos:e.gizmos.filter(e=>e.resource.gizmo.id!==t)}:e)}};function z(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,c.NL)();return(0,s.a)(Z(r,e,t))}function A(e){let{gizmoId:t,draft:r,version:n}=e,o=(0,c.NL)(),a=n?{queryKey:["gizmo","version",{gizmoId:t,version:n}],queryFn:async()=>m.U.getVersion({gizmoId:t,version:n}),enabled:null!=t}:Z(o,t,r);return(0,s.a)(a)}function R(e,t){return(0,s.a)({queryKey:["gizmo","userActionSettings",{gizmoId:e}],queryFn:async()=>m.U.getUserActionSettings(e),enabled:null!=e&&t})}function Z(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,u.C)({queryKey:["gizmo",{gizmoId:t},{draft:r}],queryFn:async()=>m.U.getGizmo(t,r),enabled:null!=t,initialData:()=>{var n,o;if(!0===r)return;let a=e.getQueryData(N().queryKey);if(null!=a)return null===(n=a.gizmos.find(e=>e.resource.gizmo.id===t))||void 0===n?void 0:n.resource;let i=e.getQueryData(["gizmos","discovery"]);if(null!=i)for(let e of i.cuts){let r=null===(o=e.list.items.find(e=>e.resource.gizmo.id===t))||void 0===o?void 0:o.resource;if(null!=r)return r}}})}function F(e,t){return e.fetchQuery(Z(e,t))}function B(e){return(0,s.a)({queryKey:["gizmo",{search:e}],queryFn:async()=>m.U.getGizmoSearch(e),enabled:e.length>0})}function G(e,t){return(0,s.a)({queryKey:["gizmo-search-workspace",{search:e}],queryFn:async()=>m.U.getGizmoSearchForWorkspace(e),enabled:e.length>0&&t})}function q(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,l.N)({queryKey:[r?"gizmo-search-workspace":"gizmo",{query:e,cursor:n}],queryFn:async t=>{let{pageParam:o}=t;return r?m.U.getGizmoSearchForWorkspace(e,n=o):m.U.getGizmoSearch(e,n=o)},initialPageParam:n,getNextPageParam:e=>{var t;return null!==(t=e.cursor)&&void 0!==t?t:void 0},enabled:t})}function W(){let e=(0,c.NL)();return(0,d.D)({mutationFn:async e=>{let{gizmoId:t,editorData:r}=e,{instructions:n,name:o,description:i,profilePictureId:s,profilePictureUrl:l,promptStarters:u,tools:c,files:d,trainingDisabled:g}=r;return m.U.upsertDraft({instructions:n,display:{name:o,description:i,profile_pic_id:s,profile_picture_url:l,prompt_starters:u},tools:c,files:d.map(e=>y(y({},e),{},{location:a.Nh.FILE_SERVICE})),training_disabled:g},t)},onSettled:t=>{t&&(e.setQueryData(Z(e,t.gizmo.id,!0).queryKey,t),e.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}})}function K(){let e=(0,c.NL)();return(0,d.D)({mutationFn:async e=>{let{gizmoId:t,data:r}=e,{sharingRecipient:n,categories:o}=r,i=await m.U.promoteDraft({sharing:r.sharingSubjects&&r.sharingSubjects.length>0?r.sharingSubjects:{recipient:n},categories:o},t);if(i.error)throw new a.DC(i);return i.resource},onSettled:t=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),e.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),t&&e.setQueryData(Z(e,t.gizmo.id,!1).queryKey,t)}})}function H(){let e=(0,c.NL)();return(0,d.D)({mutationFn:async e=>{let{gizmoId:t}=e;return m.U.deleteGizmo(t)},onSettled:()=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}})}function V(){let e=(0,c.NL)();return(0,d.D)({mutationFn:async e=>{let{name:t,hideName:r,websiteUrl:n,willReceiveSupportEmails:o}=e;return m.U.updateBuilderProfile({name:t,hide_name:r,website_url:n,will_receive_support_emails:o})},onSuccess:t=>{e.setQueryData(["builderProfile"],t)},onError:e=>{i.m.warning(e.message)}})}function Q(){return(0,s.a)({queryKey:["builderProfile"],queryFn:async()=>m.U.getBuilderProfile()})}function Y(){return(0,d.D)({mutationFn:async e=>{let{gizmoId:t}=e;return m.U.copyGizmo({gizmoId:t})}})}function X(){return(0,s.a)({queryKey:["gizmoCategories"],queryFn:async()=>m.U.getCategories()})}function J(){return function(e){let t=x(e);if(t)return j(t)}((0,p.useRouter)().asPath)}function $(e,t){return!!(null!=t&&[o.OL.PrimaryAssistant,o.OL.GizmoInteraction].includes(t)&&(null==e?void 0:e.includes(o.S.GPT_4)))}function ee(e,t){let r=(0,c.NL)();return(0,d.D)({mutationFn:async t=>{let{rating:r,message:n,includeFrom:o}=t;await m.U.upsertUserReview(e,r,n,o)},onSuccess:async()=>{null==t||t(),r.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},onError:e=>{i.m.danger(e.message)}})}},99555:function(e,t,r){r.d(t,{U:function(){return u}});var n=r(98601),o=r(28438),a=r(72409),i=r(39004);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class u{static getMyGizmos(){return a.c.get("".concat(o.B,"/gizmos?mine=true"))}static getGizmosByUser(e){return a.c.get("".concat(o.B,"/gizmos/u/").concat(e))}static getGizmo(e,t){return a.c.get("".concat(o.B,"/gizmos/").concat(e).concat(t?"?draft=true":""))}static shareGizmo(e,t){return a.c.post("".concat(o.B,"/gizmos/").concat(e,"/share"),t)}static getGizmoDiscovery(e,t){let r=new URLSearchParams;return null!=e&&r.set("locale",e),a.c.get(t?"".concat(o.k5,"/gizmos/discovery_anon?").concat(r):"".concat(o.k5,"/gizmos/discovery?").concat(r),{authOption:o.FB.SendIfAvailable})}static async getGizmoDiscoveryCut(e,t){let r=r=>{let n={};null!=r&&(n.cursor=r),(null==t?void 0:t.limit)!=null&&(n.limit="".concat(t.limit)),(null==t?void 0:t.locale)!=null&&(n.locale=t.locale);let i="".concat(o.k5,"/gizmos/discovery/").concat(e);return a.c.get(i,{params:n,authOption:o.FB.SendIfAvailable})},n=await r(null==t?void 0:t.cursor);return 0===n.list.items.length&&null!=n.list.cursor?(await new Promise(e=>setTimeout(e,30*Math.random())),r(n.list.cursor)):n}static getGizmoBootstrap(){return a.c.get("".concat(o.B,"/gizmos/bootstrap?limit=2"))}static getGizmoPinned(){return a.c.get("".concat(o.B,"/gizmos/pinned"))}static getGizmoSearch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?a.c.get("".concat(o.B,"/gizmos/search?q=").concat(e,"&cursor=").concat(t," ")):a.c.get("".concat(o.B,"/gizmos/search?q=").concat(e))}static getGizmoSearchForWorkspace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?a.c.get("".concat(o.B,"/gizmos/search?q=").concat(e,"&workspace_only=",!0,"&cursor=").concat(t)):a.c.get("".concat(o.B,"/gizmos/search?q=").concat(e,"&workspace_only=",!0))}static async postGizmoAppeal(e,t,r,n,i){await a.c.post("".concat(o.B,"/gizmos/").concat(t,"/appeal"),{reason:r,share_recipient:n,categories:i}),await e.invalidateQueries({queryKey:["gizmo",{gizmoId:t}]})}static async postGizmoCancelAppeal(e,t){await a.c.post("".concat(o.B,"/gizmos/").concat(t,"/cancel_appeal"),{}),await e.invalidateQueries({queryKey:["gizmo",{gizmoId:t}]})}static upsertDraft(e,t){return void 0!==t?a.c.post("".concat(o.B,"/gizmos?gizmo_id=").concat(t),e):a.c.post("".concat(o.B,"/gizmos"),e)}static promoteDraft(e,t){return a.c.post("".concat(o.B,"/gizmos/").concat(t,"/promote"),e)}static deleteGizmo(e){return a.c.delete("".concat(o.B,"/gizmos/").concat(e))}static getBuilderProfile(){return a.c.get("".concat(o.B,"/gizmo_creator_profile"))}static updateBuilderProfile(e){return a.c.post("".concat(o.B,"/gizmo_creator_profile"),e)}static unverifySocialAuth(e){return a.c.delete("".concat(o.B,"/gizmo_creator_profile/socials/").concat(e))}static async updateGizmoSidebar(e,t,r){let n=await a.c.post("".concat(o.B,"/gizmos/").concat(t,"/sidebar"),{action:r});switch(r){case"keep":i.D2.handleGizmoSidebarKeep(e,t);break;case"hide":i.D2.handleGizmoSidebarHide(e,t)}return n}static async removeFromRecent(e,t){let r=await a.c.post("".concat(o.B,"/gizmos/").concat(t,"/remove_recent"),{});return e.invalidateQueries({queryKey:["gizmos","bootstrap"]}),e.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(e){return a.c.post("".concat(o.B,"/gizmos/fetch_openapi"),{url:e})}static validateOpenAPISpec(e){return a.c.post("".concat(o.B,"/gizmos/validate_openapi"),{raw_spec:e})}static transformToOpenAPISpec(e,t){return a.c.post("".concat(o.B,"/gizmos/transform_openapi"),l(l({},e),{},{auth:t}))}static async doOAuthRedirect(e,t,r,n,i){let s=await a.c.post("".concat(o.B,"/gizmos/oauth_redirect"),{gizmo_id:e,gizmo_action_id:t,domain:r,redirect_to:n,draft:i});window.location.href=s.redirect_uri}static async upsertUserActionSettings(e,t,r){return a.c.post("".concat(o.B,"/gizmos/action_settings"),{gizmo_action_id:e,domain:t,action_settings:r})}static async getUserActionSettings(e){return a.c.get("".concat(o.B,"/gizmos/user_action_settings?gizmo_id=").concat(e))}static async generateCategory(e,t){return a.c.post("".concat(o.B,"/gizmos/gen_category"),{name:e,instructions:t})}static async getCategories(){return a.c.get("".concat(o.B,"/gizmos/categories"))}static async getUserReview(e){return a.c.get("".concat(o.B,"/gizmo_reviews/").concat(e))}static async upsertUserReview(e,t,r,n){return a.c.post("".concat(o.B,"/gizmo_reviews/").concat(e),{rating:t,message:r,include_from:n})}static async sendFeedbackEmail(e,t,r){return a.c.post("".concat(o.B,"/gizmos/").concat(e,"/feedback"),{message:t,include_from:r})}static async getAbout(e){return a.c.get("".concat(o.B,"/gizmos/").concat(e,"/about"))}static async getCreatorSlice(e){let{creatorId:t}=e;return a.c.get("".concat(o.B,"/gizmo_creators/").concat(t,"/gizmos"))}static async getVersion(e){let{gizmoId:t,version:r}=e;return null==r?a.c.get("".concat(o.B,"/gizmos/").concat(t,"/version/latest")):a.c.get("".concat(o.B,"/gizmos/").concat(t,"/version/").concat(r))}static async listVersions(e){let{gizmoId:t,limit:r,cursor:n}=e,i={};return r&&(i.limit=r),n&&(i.cursor=n),a.c.get("".concat(o.B,"/gizmos/").concat(t,"/versions"),{params:i})}static async getRolodex(){return a.c.get("".concat(o.B,"/rolodex"))}static async upsertToRolodex(e,t){let{gizmoId:r,usageDescription:n,remove:i}=t,s=await a.c.post("".concat(o.B,"/rolodex"),{gizmo_id:r,usage_description:n,remove:i});return e.invalidateQueries({queryKey:["gizmoRolodex"],refetchType:"all"}),s}static async copyGizmo(e){let{gizmoId:t}=e;return await a.c.post("".concat(o.B,"/gizmos/").concat(t,"/copy"))}}},10080:function(e,t,r){var n,o,a,i,s;r.d(t,{AR:function(){return j},CS:function(){return l},DC:function(){return w},EL:function(){return d},H$:function(){return x},JK:function(){return C},LA:function(){return c},Mj:function(){return T},Nh:function(){return v},U9:function(){return f},Zz:function(){return p},fV:function(){return g},h:function(){return y},q0:function(){return h},qL:function(){return u},yS:function(){return m}});let l="g-YyyyMT9XH",u="g-2fkFE8rbu",c=((n={})[n.USER=1]="USER",n[n.GROUP=2]="GROUP",n[n.WORKSPACE=3]="WORKSPACE",n[n.ALL=4]="ALL",n[n.PROJECT=5]="PROJECT",n[n.ORGANIZATION=6]="ORGANIZATION",n[n.SYSTEM=7]="SYSTEM",n[n.AGENT=8]="AGENT",n),d={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},g={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},p={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"},f=((o={}).FirstParty="first_party",o.UsesFunctionCalls="uses_function_calls",o.Reportable="reportable",o.Private="private",o.Workspace="workspace",o.Public="public",o.Beta="beta",o.Pinned="pinned",o.WorkspaceDisabled="workspace_disabled",o.Unreviewable="unreviewable",o),m=e=>{var t;return null===(t=e.gizmo.tags)||void 0===t?void 0:t.includes(f.FirstParty)},h=e=>{var t;return!(null!==(t=e.gizmo.tags)&&void 0!==t&&t.includes(f.Unreviewable))},v=((a={}).FILE_SERVICE="fs",a);function y(e){return e.type===c.USER||e.type===c.GROUP}let b=[c.USER,c.GROUP,c.WORKSPACE,c.ALL];function x(e){return 0===e.length?null:e.reduce((e,t)=>b.indexOf(t.type)<b.indexOf(e.type)?e:t,e[0])}function T(e,t,r){return(t=t.filter(e=>e.type===p.User||e.type===p.Group),e===p.Private||e===p.User||e===p.Group)?[{type:p.Private,capabilities:d},...t]:[...t,{type:e,capabilities:r}]}class w{constructor(e){this.response=e}}let j=((i={}).ENGLISH="en",i.GLOBAL="global",i),C=((s={}).FirstParty="first_party",s.SidebarKeep="sidebar_keep",s.Mine="mine",s.Recent="recent",s.Workspace="workspace",s)},45334:function(e,t,r){r.d(t,{R2:function(){return s},S9:function(){return u},VN:function(){return d},WQ:function(){return c},XA:function(){return l},k1:function(){return i}});var n=r(10080),o=r(31498),a=r(75172);function i(e){var t,r;return null!==(t=null===(r=e.gizmo.current_user_permission)||void 0===r?void 0:r.can_write)&&void 0!==t&&t}function s(e){var t,r;return null!==(t=null===(r=e.gizmo.current_user_permission)||void 0===r?void 0:r.can_view_config)&&void 0!==t&&t}function l(e){let t=(0,a.Z)();return function(e,t,r){let o=null==t?void 0:t.name;switch(e){case n.Zz.Link:return r.formatMessage(g.privacyAnyoneWithLink);case n.Zz.Private:return r.formatMessage(g.privacyOnlyMe);case n.Zz.Group:case n.Zz.User:return r.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case n.Zz.Marketplace:return r.formatMessage(g.privacyMarketplace);case n.Zz.Workspace:return r.formatMessage(g.privacyWorkspace,{workspaceName:o});case n.Zz.WorkspaceLink:return r.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:o})}}(e,(0,o.ec)(e=>e.currentWorkspace),t)}function u(e){return"gizmo"in e}function c(e){return"id"in e}function d(e){return"".concat(e.replaceAll(".","_").replaceAll("-","_"),"__jit_plugin")}let g=(0,r(68306).vU)({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}})},96388:function(e,t,r){r.d(t,{LW:function(){return T},ZC:function(){return x},ZP:function(){return w},xz:function(){return j}});var n=r(98601),o=r(16757),a=r(67437),i=r(92745),s=r(92319),l=r(87186),u=r(92379),c=r(62984),d=r(68306),g=r(50895),p=r(70229),f=r(11550),m=r(69438),h=r(32371),v=r(651);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function x(e){var t;if(void 0===e)return{flagSeverity:void 0,shouldHideContent:!1,errCode:void 0,errMessage:void 0};let{errType:r,errCode:n,err:o,disclaimers:a}=e,i=(null===(t=e.message.metadata)||void 0===t||null===(t=t.finish_details)||void 0===t?void 0:t.type)==="content_filter";return!(a&&a.length>0)&&i?{flagSeverity:"warning",shouldHideContent:!1,errCode:l.qS.ContentOrTos,errMessage:o}:{flagSeverity:r,shouldHideContent:"danger"===r&&n===l.qS.ContentPolicy,disclaimers:a,errCode:n,errMessage:o}}function T(e){return(0,v.jsx)(h.q,{flag:"danger",isUserTurn:!1,children:(0,v.jsx)(c.Z,b({},P.somethingWentWrong))})}function w(e){let{message:t,onRequestMoreCompletions:r,clientThreadId:n,id:o,isFeedbackEnabled:a,isUserTurn:i,className:u}=e,{errCode:d,errMessage:f,flagSeverity:y}=x(t);switch(d){case l.qS.ContentPolicy:return(0,v.jsx)(h.q,{flag:y,isUserTurn:i,className:u,children:(0,v.jsx)(O,{isFeedbackEnabled:a})});case l.qS.ContentOrTos:return(0,v.jsx)(h.q,{flag:y,isUserTurn:i,className:u,children:(0,v.jsx)(k,{isFeedbackEnabled:a})});case m.uU:return(0,v.jsx)(C,{className:u,id:o,onRequestMoreCompletions:r,flag:y,clientThreadId:n,isUserTurn:i});case s.wp:return(0,v.jsx)(h.q,{flag:y,isUserTurn:i,className:u,children:(0,v.jsx)(c.Z,b({},P.historyDisabledConversationMissing))});default:return void 0!==f?(0,v.jsx)(h.q,{flag:y,isUserTurn:i,className:u,children:(0,v.jsx)(g.U,{rehypePlugins:[[p.Z,{target:"_new",rel:"noopener noreferrer"}]],className:"markdown prose w-full break-words dark:prose-invert",children:f})}):null}}function j(e){let t=e&&new Date(e),r=t&&new Date(t);return r?"after ".concat(r.getHours()%12||12,":").concat(10>r.getMinutes()?"0":"").concat(r.getMinutes()," ").concat(r.getHours()>=12?"PM":"AM"):"later"}function C(e){let t,{className:r,id:n,onRequestMoreCompletions:s,flag:l,clientThreadId:d,isUserTurn:g}=e,p=(0,m.Y8)(e=>e.isoDate),y=j(p),x=(0,i.WA)(null!=d?d:o.Zq),T=x&&x.kind!==o.OL.PrimaryAssistant,w=(0,a.fm)(),C=(0,a.j8)(),k=(0,u.useCallback)(()=>{s(n,{eventSource:"mouse"},!0,"none",!1)},[n,s]),O=(0,u.useCallback)(()=>{w({modelId:C.id,location:"Model switcher menu item"}),s(n,{eventSource:"mouse"},!0,"none",!0)},[s,n,C.id,w]);return t=T?null!=p?(0,v.jsx)("span",{children:(0,v.jsx)(c.Z,b(b({},P.gptUsageCapExceededCustomFeature),{},{values:{link:M,formattedTime:y}}))}):(0,v.jsx)(c.Z,b({},P.gptUsageCapExceededExpired)):null!=p?(0,v.jsx)("span",{children:(0,v.jsx)(c.Z,b(b({},P.gptUsageCapExceeded),{},{values:{link:M,formattedTime:y}}))}):(0,v.jsx)(c.Z,b({},P.gptUsageCapExceededExpired)),(0,v.jsx)(h.q,{flag:null!=p?l:void 0,isUserTurn:g,className:r,children:(0,v.jsxs)("div",{className:"flex items-center gap-6",children:[t,null==p&&(0,v.jsx)(f.z,{color:"secondary",className:"flex-shrink-0",onClick:k,children:(0,v.jsx)(c.Z,b({},P.buttonTryAgain))}),null!=p&&!T&&(0,v.jsx)(f.z,{color:"secondary",className:"flex-shrink-0",onClick:O,children:(0,v.jsx)(c.Z,b({},P.buttonUseDefaultModel))})]})})}let M=e=>(0,v.jsx)("a",{href:"https://share.hsforms.com/16d0ZZVM3QZirXnCD_q7u1Q4sk30",target:"_blank",rel:"noreferrer",className:"underline",children:e});function k(e){let{isFeedbackEnabled:t}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:t?"font-semibold":"",children:(0,v.jsx)(c.Z,b(b({},P.contentOrTosViolationNoFeedback),{},{values:{contentPolicyLink:S,termsLink:_}}))}),(0,v.jsx)("div",{children:t&&(0,v.jsx)(c.Z,b({},P.contentPolicyFeedback))})]})}function O(e){let{isFeedbackEnabled:t}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:t?"font-semibold":"",children:(0,v.jsx)(c.Z,b(b({},P.contentPolicyViolationNoFeedback),{},{values:{contentPolicyLink:S}}))}),(0,v.jsx)("div",{children:t&&(0,v.jsx)(c.Z,b({},P.contentPolicyFeedback))})]})}let S=e=>(0,v.jsx)(h.L,{target:"_blank",href:"https://openai.com/policies/usage-policies",rel:"noreferrer",children:e}),_=e=>(0,v.jsx)(h.L,{target:"_blank",href:"https://openai.com/policies/terms-of-use",rel:"noreferrer",children:e}),P=(0,d.vU)({contentPolicyFeedback:{id:"TextMessageDisplay.contentPolicyFeedback",defaultMessage:"Did we get it wrong? Please tell us by giving this response a thumbs down."},contentPolicyViolation:{id:"TextMessageDisplay.contentPolicyViolation.2",defaultMessage:"This content may violate our <contentPolicyLink>usage policies</contentPolicyLink>. Did we get it wrong? Please tell us by giving this response a thumbs down."},contentPolicyViolationNoFeedback:{id:"TextMessageDisplay.contentPolicyViolationNoFeedback",defaultMessage:"This content may violate our <contentPolicyLink>usage policies</contentPolicyLink>."},contentOrTosViolation:{id:"TextMessageDisplay.contentOrTosViolation.2",defaultMessage:"This content may violate our <termsLink>Terms of Use</termsLink> or <contentPolicyLink>usage policies</contentPolicyLink>. Did we get it wrong? Please tell us by giving this response a thumbs down."},contentOrTosViolationNoFeedback:{id:"TextMessageDisplay.contentOrTosViolationNoFeedback",defaultMessage:"This content may violate our <termsLink>Terms of Use</termsLink> or <contentPolicyLink>usage policies</contentPolicyLink>."},historyDisabledConversationMissing:{id:"TextMessageDisplay.historyDisabledConversationMissing",defaultMessage:"Sorry, conversations created when Chat History is off expire after 6 hours of inactivity. Please start a new conversation to continue using ChatGPT."},somethingWentWrong:{id:"TextMessageDisplay.somethingWentWrong",defaultMessage:"Something went wrong."},gptUsageCapExceeded:{id:"TextMessageDisplay.gptUsageCapExceeded",defaultMessage:"You've reached the current usage cap for GPT-4. You can continue with the default model now, or try again {formattedTime}. <link>Learn more</link>"},gptUsageCapExceededCustomFeature:{id:"TextMessageDisplay.gptUsageCapExceededCustomFeature",defaultMessage:"You've reached the current usage cap for GPT-4, please try again {formattedTime}. <link>Learn more</link>"},gptUsageCapExceededExpired:{id:"TextMessageDisplay.gptUsageCapExceededExpired",defaultMessage:"You previously reached your usage cap for GPT-4, but you can now try sending your message again"},buttonUseDefaultModel:{id:"TextMessageDisplay.buttonUseDefaultModel",defaultMessage:"Use default model"},buttonTryAgain:{id:"TextMessageDisplay.buttonTryAgain",defaultMessage:"Try again"}})},32371:function(e,t,r){r.d(t,{L:function(){return d},q:function(){return g}});var n,o,a=r(2346),i=r(19841),s=r(15478),l=r(94668),u=r(13490),c=r(651);let d=s.Z.a(n||(n=(0,a.Z)(["bold underline"]))),g=e=>{let{className:t,isUserTurn:r,flag:n,children:o}=e;return"info"!==n&&r?(0,c.jsx)(p,{className:(0,i.default)("w-full pr-5 text-right",t),$flag:n,children:o}):(r||l.Z,(0,c.jsxs)(p,{$flag:n,className:(0,i.default)("flex w-full items-start gap-3 rounded-2xl border p-4","warning"===n||"danger"===n?"bg-opacity-5":"bg-opacity-10",t),children:[(0,c.jsx)(u.szr,{className:"icon-lg"}),(0,c.jsx)("div",{className:"pt-px",children:o})]}))},p=s.Z.div(o||(o=(0,a.Z)(["text-sm \n",""])),e=>{let{$flag:t}=e;switch(t){case"danger":return"text-token-text-error border-token-surface-error/15 bg-token-surface-error bg-opacity-0";case"warning":return"text-orange-600 border-token-border-light bg-orange-400 bg-opacity-0";case"info":return"text-token-text-primary border-token-border-light bg-token-main-surface-primary bg-opacity-0";default:return"text-green-500 border-green-500 bg-green-500 bg-opacity-0"}})},60682:function(e,t,r){r.d(t,{hO:function(){return p},pm:function(){return d},qg:function(){return g}});var n,o=r(98601),a=r(58025),i=r(2721),s=r(42420),l=r(56032);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let d=((n={}).LocaleBanner="oai/apps/hasSeenLocaleBanner",n.HasSeenPluginDisclaimer="oai/apps/hasSeenPluginsDisclaimer",n.FirstTimeUsingUserContext="oai/apps/hasUserContextFirstTime/2023-06-29",n.Onboarding="oai/apps/hasSeenOnboarding",n.TeamOwnerOnboarding="oai/apps/hasSeenTeamOwnerOnboarding",n.MemoryOnboarding="oai/apps/hasSeenMemoryOnboarding",n.TemporaryChatOnboarding="oai/apps/hasSeenTemporaryChatOnboarding",n.ArchiveConversationOnboarding="oai/apps/hasSeenArchiveConversationOnboarding",n.ExploreGPTs="oai/apps/hasSeenExploreGPTs2",n.ExploreGPTsNewNux="oai/apps/hasSeenExploreGPTsNewNux",n.MentionGPTs="oai/apps/hasSeenMentionGPTs",n.ModelTunerDisclaimer="oai/apps/hasSeenModelTunerDisclaimer",n.DalleEditingOnboarding="oai/apps/hasSeenDalleEditingOnboarding",n.ModelSwitcherAutoDowngrade="oai/apps/hasSeenModelSwitcherAutoDowngrade",n.SonicSidebar="oai/apps/hasDismissedSonicSidebar",n.ContextConnectors="oai/apps/hasSeenContextConnectorTooltip",n.AG8PqS2q="oai/apps/hasDismissedAG8PqS2q",n.SidekickLauncherOnboarding="oai/apps/hasSeenSidekickLauncherOnboarding",n.UseSidekick="oai/apps/hasDismissedUseSidekick",n.hasSeenSncUsageNux="oai/apps/hasSeenSncUsageNux",n.hasSeenSncWelcomeNux="oai/apps/hasSeenSncWelcomeNux",n.hasSeenSncSidebarTooltip="oai/apps/hasSeenSncSidebarTooltip",n.hasSeenSncSourcesTooltip="oai/apps/hasSeenSncSourcesTooltip",n);function g(e){let{data:t=[],isLoading:r}=(0,a.vl)(e=>e.eligible_announcements),n=p();return{eligible:t.includes(e),markAsViewed:()=>n.mutate({key:e}),isLoading:r}}function p(){let e=(0,s.NL)();return(0,l.D)({mutationFn:e=>{let{key:t}=e;return i.Z.announcementViewed(t)},onMutate:async t=>{let{key:r}=t;e.setQueryData(["userSettings"],e=>c(c({},e),{},{eligible_announcements:e.eligible_announcements.filter(e=>e!==r)}))},onSuccess:()=>{e.invalidateQueries({queryKey:["userSettings"]})}})}},69438:function(e,t,r){r.d(t,{BT:function(){return s},Y8:function(){return l},Zp:function(){return c},c0:function(){return u},uU:function(){return i}});var n=r(92379),o=r(68810),a=r(73177);let i="model_cap_exceeded";function s(){let e=l(e=>e.isoDate),t=Date.now(),r=e&&new Date(e).getTime(),o=e&&r&&r<=t;return((0,n.useEffect)(()=>{o&&c()},[o]),o)?null:e?"gpt-4":null}(0,o.Ue)(()=>({serverThreadIds:new Set}));let l=(0,o.Ue)()((0,a.tJ)(()=>({isoDate:""}),{name:"oai/apps/capExpiresAt"}));function u(e){l.setState({isoDate:e})}function c(){l.setState({isoDate:""})}},73468:function(e,t,r){r.d(t,{dN:function(){return _},nP:function(){return P},ft:function(){return I},ZP:function(){return z},q_:function(){return D},f3:function(){return E},i0:function(){return L}});var n,o,a,i=r(98601),s=r(16757),l=r(7937),u=r(59358),c=r(93951),d=r(14015),g=r.n(d),p=r(92379),f=r(25162),m=r(69438),h=r(86025),v=r(31498),y=r(84760),b=r(75172),x=r(68306),T=r(2721),w=r(96388);let j={textarea:"","model-switcher":""},C=(0,x.vU)({shortLimitMinutes:{id:"modelCapMessaging.shortLimitMinutes",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# minute} one {# minute} other {# minutes}}"},shortLimitHours:{id:"modelCapMessaging.shortLimitHours",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# hour} one {# hour} other {# hours}}"},shortLimitDays:{id:"modelCapMessaging.shortLimitDays",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# day} one {# day} other {# days}}"}});var M=r(67437),k=r(651);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let _=((n={}).BROWSING="browsing_model",n.CODE_INTERPRETER="code_interpreter_model",n.DALLE="dalle_model",n),P=((o={}).ALPHA="alpha",o.EXPERIMENTS="experiments",o.MAINLINE="mainline",o),I=((a={}).GPT4o="AG8PqS2q",a.AUTO="auto",a),D=e=>{let{categoryId:t}=e;return t===I.AUTO},N={[_.BROWSING]:{name:(0,k.jsxs)("span",{children:["Browse with ",(0,k.jsx)(f.jE,{className:"icon-sm mt-[-3px] inline-block"})," Bing"]})},[_.CODE_INTERPRETER]:{name:"Advanced Data Analysis"},[_.DALLE]:{name:"DALL\xb7E 3"}};function E(e){let t=function(e){for(let t of z())if(t.options.length>0&&t.options.find(t=>t.value===e))return t.categoryId;return null}(null!=e?e:void 0);return(0,l.r3)([P.ALPHA,P.EXPERIMENTS,P.MAINLINE],t)?"bg-orange-500 text-white":"bg-token-main-surface-primary text-token-text-primary"}function L(e,t){let{data:r}=(0,M.Y7)(),n=null==r?void 0:r.categories.some(r=>r[t]===e);return null!=n&&n}let U=e=>g()(e,e=>{let{id:t}=e;return t.split(":").slice(0,1).join(":")});function z(){var e;let{data:t}=(0,M.Y7)(),r=(0,m.BT)(),n=(0,c.t)(),o=(0,u.w)(null==n?void 0:n.getWorkspaceId()),a=null!==(e=null==n?void 0:n.isEnterprise())&&void 0!==e&&e,{modelSwitcherDisclaimer:i}=function(){let e=(0,m.Y8)(e=>e.isoDate),t=(0,w.xz)(e),r=(0,b.Z)(),n=(0,v.ec)(v.F_.isEnterprisePlan),{isUnauthenticated:o,isLoading:a}=(0,h.u)(),{data:i}=(0,y.a)({queryKey:["modelMessageCap",o],queryFn:()=>T.Z.getModelMessageCap(o),enabled:!a});return(0,p.useMemo)(()=>{var e,o,a;let s=null!==(e=null==i?void 0:i.message_cap)&&void 0!==e?e:0,l=null!==(o=null==i?void 0:i.message_cap_window)&&void 0!==o?o:1,{text:u,type:c,value:d}=function(e){if(e<60)return{type:"minute",value:e,text:e<2?"minute":"".concat(e," minutes")};let t=Math.floor(e/60);if(t<24)return{type:"hour",value:t,text:t<2?"hour":"".concat(t," hours")};let r=Math.floor(t/24);return r<7?{type:"day",value:r,text:r<2?"day":"".concat(r," days")}:{type:"minute",value:e,text:e<2?"minute":"".concat(e," minutes")}}(l),g=null!==(a=null==i?void 0:i.message_disclaimer)&&void 0!==a?a:j;if(!u||n)return{textareaDisclaimer:g.textarea,modelSwitcherDisclaimer:g["model-switcher"],modelSwitcherLimitShort:""};if(!i||!l||!s)return{textareaDisclaimer:j.textarea,modelSwitcherDisclaimer:j["model-switcher"],modelSwitcherLimitShort:""};let p=r.formatMessage(C.shortLimitMinutes,{numerator:s,denominator:d});switch(c){case"hour":p=r.formatMessage(C.shortLimitHours,{numerator:s,denominator:d});break;case"day":p=r.formatMessage(C.shortLimitDays,{numerator:s,denominator:d})}return{textareaDisclaimer:g.textarea.replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%","".concat(s)).replaceAll("%DENOMINATOR%",u),modelSwitcherDisclaimer:g["model-switcher"].replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%","".concat(s)).replaceAll("%DENOMINATOR%",u),modelSwitcherLimitShort:p}},[i,t,r,n])}(),l=(0,M.iu)();return(0,p.useMemo)(()=>{let e=[];if(!t)return e;let{categories:n,groups:u,modelsMap:c}=t;for(let s of n){let{defaultModel:n,categoryId:u,label:c}=s;if(l.has(n)){let d=r===n,g=t.modelsMap[n],p=d?[]:function(e,t,r,n,o){let a=[],i=null==e?void 0:e.browsing;if((o&&i||!o)&&null!=t[_.BROWSING]&&r.has(t[_.BROWSING])){let e=N[_.BROWSING];a.push(A(n[t[_.BROWSING]],{name:e.name}))}if(null!=t[_.CODE_INTERPRETER]&&r.has(t[_.CODE_INTERPRETER])){let e=N[_.CODE_INTERPRETER];a.push(A(n[t[_.CODE_INTERPRETER]],{name:e.name}))}if(null!=t[_.DALLE]&&r.has(t[_.DALLE])){let e=N[_.DALLE];a.push(A(n[t[_.DALLE]],{name:e.name}))}return a}(o.data,s,l,t.modelsMap,a);e.push({categoryId:u,value:n,name:c,description:d?i:g.description,options:[A(g,{name:"Default"}),...p]})}}for(let t of u){let{group:r,label:n,modelIds:o}=t,a=o[0],i=o.map(e=>c[e]).filter(e=>{let{tags:t}=e;return!t.includes(s.S.HIDDEN)});if(r===P.EXPERIMENTS){let t=Object.entries(U(i)).map(e=>{let[t,r]=e,n=t.split(":").slice(-1)[0];return{key:t,value:n,name:n,options:r.map(e=>{let{title:t}=e;return A(S(S({},e),{},{title:t.replace(n,"")}))})}});e.push({categoryId:r,value:a,name:n,options:t})}else e.push({categoryId:r,value:a,name:n,options:i.map(e=>A(e))})}return e},[t,l,r,o.data,a,i])}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S({value:e.id,name:e.title},t)}},67437:function(e,t,r){r.d(t,{B9:function(){return N},Bv:function(){return U},H6:function(){return A},Hb:function(){return P},L4:function(){return x},OX:function(){return _},Tg:function(){return S},WK:function(){return R},Xy:function(){return z},Y7:function(){return O},fm:function(){return E},ge:function(){return b},iu:function(){return I},j8:function(){return Z},kH:function(){return w},mx:function(){return T},vJ:function(){return L}});var n=r(98601),o=r(52088),a=r(93951),i=r(49166),s=r(84760),l=r(99976),u=r(34977),c=r(92379),d=r(16757),g=r(2721),p=r(92745),f=r(30478),m=r(73468);let h=["default_model","tagline","color","human_category_name","category","human_category_short_name","human_category_shorter_name","subscription_level","short_explainer"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let b="gpt-4o-mini",x="text-davinci-002-render-sha",T="gpt-4",w="gpt-4o",j=A({slug:b,max_tokens:4097,title:"Default",description:"",tags:[d.S.GPT_3_5],product_features:{}}),C=e=>{let{default_model:t,tagline:r,color:n,human_category_name:a,category:i,human_category_short_name:s,human_category_shorter_name:l,subscription_level:u,short_explainer:c}=e;return y({color:n,tagline:r,defaultModel:t,label:a,shortLabel:s,description:c,shorterLabel:null!=l?l:s,subscriptionLevel:u,categoryId:i},(0,o.Z)(e,h))},M=e=>{let{icon:t,icon_filled_src:r,icon_outline_src:n}=e;return{iconName:t,iconFilledSrc:r,iconOutlineSrc:n}},k=e=>{let{group:t,human_group_name:r,human_group_short_name:n,model_ids:o}=e;return{group:t,label:r,shortLabel:n,modelIds:o}};function O(){let e=(0,f.V_)();return(0,s.a)((0,i.C)({retry:5,queryKey:["models",{isHistoryDisabled:e}],queryFn:async()=>await g.Z.getModels(e).then(e=>{var t;let{models:r,internal_groups:n,categories:o}=e,a=r.map(A);return{categories:o.concat().reverse().map(C),groups:null!==(t=null==n?void 0:n.map(k))&&void 0!==t?t:[],modelsList:a,modelsMap:Object.fromEntries(a.map(e=>[e.id,e]))}})}))}function S(){return(0,s.a)((0,i.C)({retry:5,queryKey:["modelIcons"],queryFn:async()=>await g.Z.getModelIcons().then(e=>Object.fromEntries(Object.entries(e).map(e=>{let[t,r]=e;return[t,M(r)]})))}))}function _(){let{isRegen:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isLoading:t,data:{categories:r=[],groups:n=[]}={}}=O();return{isLoading:t,categories:(0,c.useMemo)(()=>e?r.filter(e=>!1!==e.is_regenerate_category):r.filter(e=>!e.is_regenerate_category),[r,e]),groups:null!=n?n:[]}}function P(){let{categories:e}=_();return!!e.find(e=>{let{categoryId:t}=e;return t===m.ft.GPT4o})}function I(){let{data:e}=O();return(0,c.useMemo)(()=>new Set(e?Object.keys(e.modelsMap):[b]),[e])}let D={[b]:j};function N(){var e;let{data:t}=O();return null!==(e=null==t?void 0:t.modelsMap)&&void 0!==e?e:D}function E(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,u.useRouter)(),{query:r}=t;return(0,c.useCallback)(n=>{let{location:o,modelId:a}=n,i={model:encodeURIComponent(a)},s=t.route.includes("/g/");if(e||s)l.A.logNewChatButtonClicked({location:o}),t.push({pathname:"/",query:i},void 0,{shallow:!0});else{let e=y(y({},r),i);l.A.logNewChatButtonClicked({location:o}),t.replace({pathname:t.basePath,query:e},void 0,{shallow:!0})}},[e,r,t])}function L(){var e;let{data:{categories:t=[]}={}}=O(),{doesUserHaveAnyAccountsWithPlusFeatures:r}=(0,a.al)();if(r)return null;let n=t.find(m.q_);return null!==(e=null==n?void 0:n.defaultModel)&&void 0!==e?e:null}function U(e){return(0,p.y8)(e)}function z(e){let t=U(e),r=N();return(0,c.useMemo)(()=>{var e;return null==t?j:null!==(e=r[t])&&void 0!==e?e:j},[t,r])}function A(e){return{id:e.slug,maxTokens:e.max_tokens,title:e.title,description:e.description,tags:e.tags,enabledTools:e.enabled_tools,product_features:e.product_features}}function R(e){var t;return decodeURIComponent(null!==(t=e.model)&&void 0!==t?t:"")||null}function Z(){var e,t,r,n;let o;let{data:i}=O(),{doesUserHaveAnyAccountsWithPlusFeatures:s}=(0,a.al)(),l=(0,a.t)();return e=!!s,t=!!(null!=l&&l.isEnterprise()),o=d.S.GPT_3_5,t?o=d.S.GPT_4:e&&(o=d.S.GPT_4o),null!==(r=null!==(n=null==i?void 0:i.modelsList.find(e=>e.tags.includes(o)))&&void 0!==n?n:null==i?void 0:i.modelsList[0])&&void 0!==r?r:j}},42906:function(e,t,r){r.d(t,{M:function(){return p},l:function(){return g}});var n=r(52088),o=r(16757),a=r(67437),i=r(92745),s=r(85567),l=r(34977),u=r(92379),c=r(92054);function d(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let g="q";function p(e){var t;let{clientThreadId:r,currentLeafId:p,handleRequestCompletion:m}=e,h=(0,u.useRef)(!1),{isLoading:v}=(0,a.Y7)(),y=(0,l.useRouter)(),b=(0,u.useCallback)((e,t,n,a)=>{i.tQ.updateTree(r,r=>{r.addNode(e,n,t,o.uU.User,void 0,a)})},[r]),x=(0,u.useCallback)(async(e,t,r,n)=>{let{content:a,attachments:i}=t;b(e,p,a,i.length>0?{attachments:i}:{}),m({type:o.Os.Next,promptId:e,eventMetadata:r,cancelActiveRequests:!0,completionMetadata:n})},[b,m,p]),T=y.isReady?window.location.pathname:null,w=!v&&null!=(t=T)&&("/"===t||f(t)),j=i.iN.getConversationMode(r),C=(0,s.f)();f(T)&&void 0===C&&(w=!1),(0,u.useEffect)(()=>{var e;if(!w||h.current)return;let t=y.query,{[g]:o,m:a}=t,s=(0,n.Z)(t,[g,"m"].map(d)),l=null!==(e="string"==typeof o?o:null)&&void 0!==e?e:"string"==typeof a?a:null;if(!l||null!=i.tQ.getServerThreadId(r)||null==j)return;let u=(0,c.Z)();h.current=!0,y.replace({query:s},void 0,{shallow:!0}),x(u,{content:l,attachments:[]},{eventSource:"url"},{conversationMode:j,source:"instant-query"})},[w,y,x,r,j])}function f(e){return null!=e&&/^\/g\/[\w-]+$/.test(e)}},92745:function(e,t,r){r.d(t,{Ao:function(){return eh},Fe:function(){return es},GD:function(){return Q},GK:function(){return eT},Hk:function(){return $},JI:function(){return V},Kt:function(){return W},Lp:function(){return S},OX:function(){return k},Rz:function(){return eu},U0:function(){return H},UL:function(){return B},Um:function(){return R},Uy:function(){return er},WA:function(){return G},Wb:function(){return ej},XK:function(){return F},XL:function(){return et},Yk:function(){return J},Zz:function(){return _},_L:function(){return D},aS:function(){return ef},dz:function(){return ei},eV:function(){return q},eY:function(){return ep},ff:function(){return ev},h9:function(){return ex},iN:function(){return z},je:function(){return en},lA:function(){return ea},lz:function(){return eb},nd:function(){return X},nh:function(){return eo},o0:function(){return ey},oq:function(){return K},qA:function(){return ee},qN:function(){return E},r7:function(){return em},tQ:function(){return A},u9:function(){return el},uj:function(){return Y},xn:function(){return ew},y8:function(){return Z},yt:function(){return ec}});var n,o=r(16757);r(59578);var a=r(39004),i=r(67437),s=r(2721),l=r(89153),u=r(22433);r(46900);var c=r(98541),d=r(76868),g=r(79746),p=r(82363),f=r(13859),m=r.n(f),h=r(2428),v=r.n(h),y=r(65925),b=r.n(y),x=r(34977),T=r(92379),w=r(92054),j=r(68810),C=r(95267),M=r(1552);function k(){return"".concat(o.Uo).concat((0,w.Z)())}let O=0;function S(){return O++}function _(e){return e.startsWith(o.Uo)}let P=()=>new c.Cv,I=()=>Object.freeze({lastModelUsed:null,createTime:new Date}),D=((n={}).NewChat="NewChat",n.Server="Server",n.User="User",n.Generated="Generated",n.Unknown="Unknown",n),N={},E=(0,j.Ue)((0,C.n)(()=>({threads:{},clientNewThreadIdToServerIdMapping:{},threadRetainCounts:{}}))),L=E.getState,U=E.setState,z={resolveThreadId:function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L();return null!==(t=r.clientNewThreadIdToServerIdMapping[e])&&void 0!==t?t:e},getThread:function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L(),n=z.resolveThreadId(e,r);return null!==(t=r.threads[n])&&void 0!==t?t:null},hasThread:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L(),r=z.resolveThreadId(e,t);return null!=t.threads[r]},isLoading:function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L(),n=z.resolveThreadId(e,r);return null===(t=r.threads[n])||void 0===t?void 0:t.isLoading},getConversationMode:function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L(),n=z.resolveThreadId(e,r);return null===(t=r.threads[n])||void 0===t?void 0:t.mode},getThreadModelId:function(e){var t,r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L();return null!==(t=null===(r=z.getThread(e,n))||void 0===r?void 0:r.modelId)&&void 0!==t?t:null},getGizmoId(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L(),r=t.threads[z.resolveThreadId(e,t)];if((null==r?void 0:r.mode.kind)===o.OL.GizmoInteraction||(null==r?void 0:r.mode.kind)===o.OL.GizmoTest)return r.mode.gizmo_id},getThreadTitleSource(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L(),r=z.resolveThreadId(e,t),n=t.threads[r];return null!=n?n.titleSource:D.Unknown},getThreadCreateTime(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L(),n=z.resolveThreadId(e,r);return null===(t=r.threads[n])||void 0===t||null===(t=t.initialThreadData)||void 0===t?void 0:t.createTime},getCurrentNode(e){var t,r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L(),o=z.resolveThreadId(e,n),a=null!==(t=null===(r=n.threads[o])||void 0===r?void 0:r.currentLeafId)&&void 0!==t?t:"root";return A.getTree(e).getNodeByIdOrMessageId(a)},isThreadUrlSafe(e,t){var r,n;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L(),a=z.resolveThreadId(e,o);return null!==(r=null===(n=o.threads[a])||void 0===n?void 0:n.safeUrls.includes(t))&&void 0!==r&&r},getRatingPrompt(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L(),n=z.resolveThreadId(e,r);return null===(t=r.threads[n])||void 0===t?void 0:t.promptGptRating}},A={initThread:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=A.resolveThreadId(e);if(null==L().threads[n]){let e=(0,d.PH)();U(o=>{o.threads[n]={initialThreadData:e,mode:t,modelId:r,tree:new c.Cv(c.Cv.createTree()),title:null,titleSource:D.NewChat,currentLeafId:"root",conversationTurns:[],safeUrls:[],isLoading:!_(n),docsReferencedByURL:{},conversationOrigin:null}})}},setThreadModelId:(e,t)=>{let r=A.resolveThreadId(e);U(e=>{let n=e.threads[r];null!=n&&(n.modelId=t)})},updateConversationMode:(e,t)=>{let r=A.resolveThreadId(e);U(e=>{let n=e.threads[r];null!=n&&(n.mode=t)})},getServerThreadId:e=>_(e)?L().clientNewThreadIdToServerIdMapping[e]:e,setServerIdForNewThread:(e,t)=>{void 0===L().clientNewThreadIdToServerIdMapping[e]&&U(r=>{r.threads[t]=r.threads[e],delete r.threads[e],r.clientNewThreadIdToServerIdMapping[e]=t})},initThreadFromServerData:function(e,t){var r,n,a,s,l;let u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,p=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=A.resolveThreadId(e);if(!p&&(null==L().threads[f]&&!u||(null===(l=L().threads[f])||void 0===l?void 0:l.isLoading)===!1))return;let m=(0,d._J)(t),h=null!==(r=m.mapping)&&void 0!==r?r:c.Cv.createTree(),v={lastModelUsed:function e(t,r,n){var o;if(n)return n;let a=t[r];return null!=a&&null!==(o=a.message)&&void 0!==o&&null!==(o=o.metadata)&&void 0!==o&&o.model_slug?a.message.metadata.model_slug:null!=a&&a.parentId?e(t,a.parentId):null}(m.mapping,m.initialCurrentLeafId,t.default_model_slug),createTime:"create_time"in t?new Date(1e3*t.create_time):void 0,isArchived:null!==(n=t.is_archived)&&void 0!==n&&n},y=new c.Cv(h),b=null!==(a=null!==(s=m.initialCurrentLeafId)&&void 0!==s?s:m.rootId)&&void 0!==a?a:"root",x="has_user_editable_context"in t?{hasUserEditableContextFlag:t.has_user_editable_context,authorName:t.author_name,model:"model"in t&&null!=t.model?(0,i.H6)(t.model):void 0}:void 0;U(e=>{var r,n,a,i;let s=e.threads[f];e.threads[f]={modelId:null!==(r=null==s?void 0:s.modelId)&&void 0!==r?r:null,initialThreadData:v,mode:null!=t.gizmo_id?{kind:o.OL.GizmoInteraction,gizmo_id:t.gizmo_id}:{kind:o.OL.PrimaryAssistant,plugin_ids:t.plugin_ids},sharedConversationMetadata:x,title:null!==(n=t.title)&&void 0!==n?n:null,titleSource:D.Server,tree:y,currentLeafId:b,isLoading:!1,continuingFromSharedConversationId:g,safeUrls:null!==(a=t.safe_urls)&&void 0!==a?a:[],conversationTurns:[],docsReferencedByURL:{},conversationOrigin:null!==(i=t.conversation_origin)&&void 0!==i?i:null}}),A.recomputeConversationTurnsForCurrentLeafId(f,[])},updateInitialThreadDataForNewThread:(e,t)=>{let r=A.resolveThreadId(e);U(e=>{let n=e.threads[r];null!=n&&(n.initialThreadData.lastModelUsed=t)})},getThreadCurrentLeafId:e=>{var t,r;let n=A.resolveThreadId(e);return null!==(t=null===(r=L().threads[n])||void 0===r?void 0:r.currentLeafId)&&void 0!==t?t:"root"},getThreadSafeUrls:e=>{var t;let r=A.resolveThreadId(e);return null===(t=L().threads[r])||void 0===t?void 0:t.safeUrls},addThreadSafeUrl:(e,t)=>{let r=A.resolveThreadId(e);r&&U(e=>{let n=e.threads[r];null!=n&&n.safeUrls.push(t)})},setThreadCurrentLeafId:(e,t)=>{let r=A.resolveThreadId(e);null!=L().threads[r]&&U(e=>{let n=e.threads[r];if(null==n)return;n.currentLeafId=t;let o=A.computeThreadConversationTurns(r,n.currentLeafId,n.conversationTurns);n.conversationTurns=o})},setTitle:(e,t,r)=>{let n=A.resolveThreadId(e);U(e=>{let o=e.threads[n];o&&(o.title=t,o.titleSource=r)})},getTitle:e=>{var t,r;let n=z.resolveThreadId(e);return null!==(t=null===(r=L().threads[n])||void 0===r?void 0:r.title)&&void 0!==t?t:void 0},getTitleAndSource:e=>({title:A.getTitle(e),titleSource:z.getThreadTitleSource(e)}),getConversationOrigin:e=>{var t,r;let n=z.resolveThreadId(e);return null!==(t=null===(r=L().threads[n])||void 0===r?void 0:r.conversationOrigin)&&void 0!==t?t:null},setConversationOrigin:(e,t)=>{let r=A.resolveThreadId(e);U(e=>{let n=e.threads[r];n&&(n.conversationOrigin=t)})},deleteNodesByFilter:(e,t)=>{let r=A.getThreadCurrentLeafId(e);A.updateTree(e,n=>{n.deleteNodesByFilter(t).includes(r)&&A.setThreadCurrentLeafId(e,"root")})},updateTree:(e,t)=>{var r,n;let o=A.resolveThreadId(e);if(!(null!=L().threads[o])){console.warn("Thread does not exist, cannot update tree: ",o);return}t(A.getTree(e));let a=null!==(r=null===(n=L().threads[o])||void 0===n?void 0:n.conversationTurns)&&void 0!==r?r:[];A.recomputeConversationTurnsForCurrentLeafId(o,a)},getTree:e=>{var t,r;let n=A.resolveThreadId(e);return null!==(t=null===(r=L().threads[n])||void 0===r?void 0:r.tree)&&void 0!==t?t:P()},resolveThreadId:e=>z.resolveThreadId(e),recomputeConversationTurnsForCurrentLeafId:(e,t)=>{let r=A.resolveThreadId(e);U(e=>{let n=e.threads[r];if(null==n)return;let o=A.computeThreadConversationTurns(r,n.currentLeafId,t);n.conversationTurns=o})},computeThreadConversationTurns:(e,t,r)=>{let n=A.resolveThreadId(e);return A.getTree(n).getConversationTurns(t).map((e,t)=>{let n=null==r?void 0:r[t];return b()(n,e)?n:e})},getThreadConversationTurns:(e,t,r)=>{var n,o,a;let i=A.resolveThreadId(e),s=L().threads[i];if(null==s)return[];let l=s.tree,u=l.messageIdToNodeId(null!==(n=null==s?void 0:s.currentLeafId)&&void 0!==n?n:"root"),c=null!=t?l.messageIdToNodeId(t):null;return null!=c&&c!==u?A.computeThreadConversationTurns(i,c,null!=r?r:[]):null!==(o=null===(a=L().threads[i])||void 0===a?void 0:a.conversationTurns)&&void 0!==o?o:[]},removeContinuingFromSharedConversationId:e=>{let t=A.resolveThreadId(e);U(e=>{let r=e.threads[t];(null==r?void 0:r.continuingFromSharedConversationId)!=null&&delete r.continuingFromSharedConversationId})},updateReferencedDocState:(e,t,r)=>{let n=A.resolveThreadId(e);U(e=>{let o=e.threads[n];o&&(o.docsReferencedByURL[t]=r)})},copyLastMessageToClipboard:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mouse",r=A.getThreadCurrentLeafId(e),n=A.getThreadConversationTurns(e,r);return A.copyMessageToClipboard(e,n.length-1,t)},copyMessageToClipboard:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mouse",n=A.getThreadCurrentLeafId(e),a=A.getThreadConversationTurns(e,n)[t];if(!a)return Promise.reject();let{messages:i}=a,l=i.reduce((e,t)=>t.err||t.message.author.role!==o.uU.Assistant||"all"!==t.message.recipient?e:e+(e?"\n\n":"")+(0,u.RR)(t.message),"");return(0,g.v)(l).then(()=>{let t=A.getServerThreadId(e);t&&s.Z.submitImplicitMessageFeedback({messageId:i[0].message.id,type:"copy",serverThreadId:t,selectedText:l,source:r})})},deleteThread:e=>{U(t=>{delete t.threads[e],delete t.clientNewThreadIdToServerIdMapping[e]})},retainThread:e=>{U(t=>{var r;t.threadRetainCounts[e]=(null!==(r=t.threadRetainCounts[e])&&void 0!==r?r:0)+1}),clearTimeout(N[e])},releaseThread:e=>{null!=L().threads[e]&&(U(t=>{var r;t.threadRetainCounts[e]=Math.max((null!==(r=t.threadRetainCounts[e])&&void 0!==r?r:0)-1,0)}),L().threadRetainCounts[e]>0||(clearTimeout(N[e]),N[e]=setTimeout(()=>{null==L().threads[e]||L().threadRetainCounts[e]>0||A.deleteThread(e)},3e4)))},setPromptGptRating:(e,t)=>{let r=A.resolveThreadId(e);U(e=>{let n=e.threads[r];null!=n&&(null==t?n.promptGptRating=void 0:n.promptGptRating={gizmoId:t})})}};async function R(e,t){let r=await s.Z.getConversation(e);return p.U.addTiming("chatgpt.web.chatPage.loadExistingConversation"),A.initThreadFromServerData(e,r,t,void 0,t),r}let Z=e=>{let t=E(t=>z.getThreadModelId(e,t));return null!=t?t:i.ge},F=e=>E(t=>null==e?void 0:_(e)?t.clientNewThreadIdToServerIdMapping[e]:e),B=e=>E(t=>{var r,n;let o=A.resolveThreadId(e);return null!==(r=null===(n=t.threads[o])||void 0===n?void 0:n.initialThreadData)&&void 0!==r?r:I()}),G=(e,t)=>E(r=>{let n=z.getConversationMode(e,r);return t&&((null==n?void 0:n.kind)===o.OL.GizmoInteraction||(null==n?void 0:n.kind)===o.OL.PrimaryAssistant)?{gizmo_id:t,kind:o.OL.GizmoInteraction}:n}),q=e=>{let t=(0,a.rm)();return E(r=>null==r.threads[z.resolveThreadId(e,r)]?t:z.getGizmoId(e,r))},W=e=>E(t=>{var r,n;let o=A.resolveThreadId(e);return null!==(r=null===(n=t.threads[o])||void 0===n?void 0:n.isLoading)&&void 0!==r&&r}),K=e=>E(()=>A.getThreadCurrentLeafId(e)),H=(e,t)=>{let r=(0,T.useRef)([]);return E(()=>{var n;let o=A.getThreadConversationTurns(e,t,r.current);return r.current=o,null!==(n=null==o?void 0:o.length)&&void 0!==n?n:0})},V=(e,t)=>{let r=(0,T.useRef)([]);return E(()=>{let n=A.getThreadConversationTurns(e,t,r.current);return r.current=n,n})},Q=(e,t,r)=>{let n=(0,T.useRef)([]);return E(()=>{let o=A.getThreadConversationTurns(e,r,n.current);return n.current=o,t>=0&&t<o.length?o[t]:null})},Y=(e,t)=>{let r=(0,T.useRef)([]);return E(()=>{let n=A.getThreadConversationTurns(e,t,r.current);return r.current=n,n.length>0?n[n.length-1]:null})},X=(e,t)=>{let r=(0,T.useRef)([]);return E(()=>{let n=A.getThreadConversationTurns(e,t,r.current);r.current=n;let a=0;for(let e=n.length-1;e>=0;e--){let t=n[e];if(t.messages.some(e=>{var t;return null===(t=e.message.metadata)||void 0===t?void 0:t.is_indepth_feedback}))return!0;if(t.messages.some(e=>e.message.author.role===o.uU.Assistant)&&a++,a>=3)break}return!1})},J=(e,t)=>E(()=>{let r=A.resolveThreadId(e);return A.getTree(r).getBranchFromLeaf(t).some(e=>e.message.author.role===o.uU.User)}),$=e=>{let t=K(e);return(0,T.useMemo)(()=>{var r,n;let o=A.getThreadConversationTurns(e,t,[]),a=null!==(r=null==o?void 0:o.length)&&void 0!==r?r:0,i=null!==(n=null==o?void 0:o[a-1])&&void 0!==n?n:null;return 0===a?t:c.Cv.getRequestIdFromConversationTurn(i)},[t,e])},ee=e=>E(()=>A.getTitle(e)),et=e=>(0,M.s)(E,()=>A.getTitleAndSource(e),b()),er=e=>E(()=>{var t;let r=A.resolveThreadId(e);return null===(t=L().threads[r])||void 0===t?void 0:t.continuingFromSharedConversationId}),en=e=>E(()=>{var t;let r=A.resolveThreadId(e);return null===(t=L().threads[r])||void 0===t||null===(t=t.sharedConversationMetadata)||void 0===t?void 0:t.authorName}),eo=(e,t)=>E(()=>{let r=A.getTree(e).getNodeByIdOrMessageId(t);if(null==r)throw Error("useThreadTreeNode: cannot get tree node for ".concat(t," in thread ").concat(e));return r}),ea=(e,t)=>E(()=>{var r,n;return null!==(r=null===(n=A.getTree(e))||void 0===n?void 0:n.getHasErrorFromNode(t))&&void 0!==r&&r}),ei=(e,t)=>E(()=>{var r,n;return null!==(r=null===(n=A.getTree(e))||void 0===n?void 0:n.isMessageIncomplete(t))&&void 0!==r&&r}),es=(e,t)=>E(()=>{let r=A.getTree(e);return null==r?[]:r.getBranchFromLeaf(t).filter(e=>e.message.author.role!==o.uU.Root)}),el=(e,t)=>es(e,t).map(e=>e.message),eu=(e,t)=>E(()=>{let r=A.getTree(e);return null==r?null:r.getLeafFromNode(t)}),ec=(e,t)=>E(()=>{let r=A.getTree(e);return null!=r&&t.map(e=>r.getLeafFromNode(e)).some(e=>r.getHasErrorFromNode(e.id))}),ed=e=>{var t,r,n,o,a;let i=A.getTree(e).getUserContext();if(null==i)return null;let{message:s}=i,l=null!==(t=null===(r=s.metadata)||void 0===r?void 0:r.shared_conversation_id)&&void 0!==t?t:null;if((null===(n=s.metadata)||void 0===n?void 0:n.user_context_message_data)!=null){let{about_user_message:e,about_model_message:t}=s.metadata.user_context_message_data;return{aboutUserMessage:null!==(o=null==e?void 0:e.trim())&&void 0!==o?o:"",aboutModelMessage:null!==(a=null==t?void 0:t.trim())&&void 0!==a?a:"",fallback:null,shareId:l}}return{aboutUserMessage:null,aboutModelMessage:null,fallback:(0,u.RR)(s),shareId:l}},eg=e=>E(t=>{var r;let n=A.resolveThreadId(e);return null===(r=t.threads[n])||void 0===r||null===(r=r.sharedConversationMetadata)||void 0===r?void 0:r.hasUserEditableContextFlag}),ep=e=>!!A.getTree(e).findNode(e=>"model_editable_context"===e.message.content.content_type),ef=e=>{let t=eg(e);return null!=ed(e)||!!t},em=e=>E(()=>{var t;let r=A.resolveThreadId(e);return(null===(t=L().threads[r])||void 0===t?void 0:t.continuingFromSharedConversationId)!=null}),eh=e=>E(()=>"root"===A.getThreadCurrentLeafId(e)),ev=e=>{let t=(0,x.useRouter)(),r=F(e);return!!r&&(!!t.query.convId&&t.query.convId===r||!!v()(t.query.default)&&"c"===t.query.default[0]&&t.query.default[1]===r)},ey=e=>E(()=>{var t;let r=A.resolveThreadId(e);return null===(t=L().threads[r])||void 0===t?void 0:t.promptGptRating}),eb=(e,t)=>E(()=>{let r=A.resolveThreadId(e),n=A.getTree(r).getBranchFromLeaf(t);return m()(n,e=>e.message.author.role===o.uU.System&&"system_content"===e.message.content.content_type)}),ex=()=>null!=(0,T.useContext)(l.gB);function eT(e){let t=A.getTree(e),r=A.getThreadCurrentLeafId(e),n=t.getNodeByIdOrMessageId(r);for(;n;){var o;let e=null===(o=n.message.metadata)||void 0===o?void 0:o.default_model_slug;if(e)return e;if(!n.parentId)return;n=t.getNodeByIdOrMessageId(n.parentId)}}function ew(e){let{clientThreadId:t,role:r}=e;return A.getTree(t).countMessagesByAuthor(r)}function ej(e){let{clientThreadId:t,conversationLeafId:r}=e,n=A.getTree(t);return(0,T.useMemo)(()=>n.getNodeByIdOrMessageId(r).message.end_turn,[r,n])}},31438:function(e,t,r){r.d(t,{B:function(){return g},EV:function(){return y},GK:function(){return x},bM:function(){return h},ss:function(){return T},tN:function(){return m},vm:function(){return v},xH:function(){return b}});var n,o,a=r(98601),i=r(99976),s=r(61619),l=r(13249),u=r(92379),c=r(68810);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let g=((n={}).DownloadMessages="download-messages",n.InviteUsersToWorkspace="invite-users-to-workspace",n.WorkspaceAppearance="workspace-appearance",n.KeyboardActions="keyboard-actions",n.UserContext="user-context",n.WorkspaceSwitcher="workspace-switcher",n.ReadOnlyConversationTemplate="read-only-conversation-template",n.CookieManagement="cookie-management",n.AgeVerificationInterstitial="age-verification-interstitial",n.GPTDetails="gpt-details",n.GPTPrivacySettings="gpt-privacy-settings",n.GPTFeedbackEmail="gpt-support-email",n.GPTReview="gpt-review",n.GPTRemoveThirdParty="gpt-remove-third-party",n.SharedConversationModeration="shared-conversation-moderation",n.ReportConversation="report-conversation",n.BlockingInitialComponent="blocking-initial-component",n.NoAuthNewChat="no-auth-new-chat",n.GlobalMemoryOnboarding="global-memory-onboarding",n),p=l.F.IsNavigationCollapsed,f={isThreadHeaderVisible:!0,isDesktopNavCollapsed:null!==(o=l.m.getItem(p))&&void 0!==o&&o,isVoiceActive:!1,sharingModalThreadId:void 0,leaveWorkspaceData:null,activeSidebar:!1,activeModals:new Set,isLatencyDevToolsVisible:!1,purchaseWorkspaceData:null,isShowingDvdPlayer:!1},m=(0,c.Ue)()(()=>(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e})({},f)),h={isThreadHeaderVisible:e=>e.isThreadHeaderVisible,isLatencyDevtoolsVisible:e=>e.isLatencyDevToolsVisible},v={toggleDesktopNavCollapsed:()=>{m.setState(e=>{let t=!e.isDesktopNavCollapsed;return l.m.setItem(p,t),i.A.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:t}),{isDesktopNavCollapsed:t}})},closeSidebar:()=>{l.m.setItem(p,!0),i.A.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!0}),m.setState({isDesktopNavCollapsed:!0})},closeSidebarWithoutSavingPreference:()=>{m.setState({isDesktopNavCollapsed:!0})},openSidebar:()=>{l.m.setItem(p,!1),i.A.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!1}),m.setState({isDesktopNavCollapsed:!1})},hideThreadHeader:()=>{m.setState({isThreadHeaderVisible:!1})},showThreadHeader:()=>{m.setState({isThreadHeaderVisible:!0})},openSharingModal(e,t){m.setState({sharingModalThreadId:e}),i.A.logEvent(s.M.shareConversationOpenModal,{location:t})},closeSharingModal(){m.setState({sharingModalThreadId:void 0})},setLeaveWorkspaceData(e){m.setState({leaveWorkspaceData:e})},setPurchaseWorkspaceData(e){m.setState({purchaseWorkspaceData:e})},setActiveSidebar(e){m.setState({activeSidebar:e})},toggleActiveSidebar(e){m.setState(t=>({activeSidebar:t.activeSidebar!==e&&e}))},closeActiveSidebar(){m.setState(()=>({activeSidebar:!1}))},toggleModal(e){m.setState(t=>{let r=new Set(t.activeModals);return r.has(e)?r.delete(e):r.add(e),{activeModals:r}})},openModal(e){m.setState(t=>{let r=new Set(t.activeModals);return r.add(e),{activeModals:r}})},closeModal(e){m.setState(t=>{let r=new Set(t.activeModals);return r.delete(e),{activeModals:r}})},hideLatencyDevTools:()=>{m.setState({isLatencyDevToolsVisible:!1})},showLatencyDevTools:()=>{m.setState({isLatencyDevToolsVisible:!0})},showDvdPlayer:()=>{m.setState({isShowingDvdPlayer:!0})},hideDvdPlayer:()=>{m.setState({isShowingDvdPlayer:!1})}};function y(e){return m(t=>t.activeModals.has(e))}function b(){return m(e=>e.isDesktopNavCollapsed)}function x(){return m(e=>e.isShowingDvdPlayer)}function T(){let{0:e,1:t}=(0,u.useState)(!1),r=m(e=>e.activeModals);return(0,u.useEffect)(()=>{t(e=>e||r.has(g.BlockingInitialComponent))},[r]),e}},31498:function(e,t,r){r.d(t,{F_:function(){return h},aF:function(){return p},e2:function(){return y},ec:function(){return m},m0:function(){return v}});var n=r(98601),o=r(49166),a=r(84760),i=r(99333),s=r(2721),l=r(93951);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function d(){let e=await s.Z.getMe();return{id:e.id,email:e.email,name:e.name,picture:e.picture,created:e.created}}let g=(0,o.C)({queryKey:["user"],queryFn:d,staleTime:1/0});function p(){return(0,a.a)(g).data}let f={currentWorkspace:null,subscriptionStatus:null,workspaces:[]};function m(e){var t;let r=null!==(t=(0,a.a)(c(c({},(0,l.KP)()),{},{select:e=>{var t,r;let n=(0,l.EI)(e);return{currentWorkspace:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:null,subscriptionStatus:null!==(r=null==n?void 0:n.data.subscriptionStatus)&&void 0!==r?r:null,workspaces:e.accountItems.map(e=>e.data)}}})).data)&&void 0!==t?t:f;return e?e(r):r}let h={hasMultipleWorkspaces:e=>{let{workspaces:t}=e;return t.length>1},isPersonalWorkspace:e=>{let{currentWorkspace:t}=e;return(null==t?void 0:t.structure)===i.CZ.PERSONAL},isBusinessWorkspace:e=>{let{currentWorkspace:t}=e;return null!=t?t.structure===i.CZ.WORKSPACE:void 0},isEnterprisePlan:e=>{let{subscriptionStatus:t}=e;return(null==t?void 0:t.planType)===i.D8.ENTERPRISE},isEduPlan:e=>{let{subscriptionStatus:t}=e;return(null==t?void 0:t.planType)===i.D8.EDU},isEnterpriseyPlan:e=>{let{subscriptionStatus:t}=e;return(null==t?void 0:t.planType)===i.D8.ENTERPRISE||(null==t?void 0:t.planType)===i.D8.EDU},isTeamPlan:e=>{let{subscriptionStatus:t}=e;return(null==t?void 0:t.planType)===i.D8.TEAM},isAdmin:e=>{let{currentWorkspace:t}=e;return null!=t&&t.role===i.r3.ADMIN},isOwner:e=>{let{currentWorkspace:t}=e;return null!=t&&t.role===i.r3.OWNER},workspaceId:e=>{let{currentWorkspace:t}=e;return null!=t?t.id:null},businessWorkspace:e=>{let{currentWorkspace:t}=e;return(null==t?void 0:t.structure)===i.CZ.WORKSPACE?t:void 0},businessWorkspaceId:e=>{let{currentWorkspace:t}=e;return(null==t?void 0:t.structure)===i.CZ.WORKSPACE?t.id:void 0},hasPaidSubscription:e=>{let{subscriptionStatus:t}=e;return null!=t&&t.hasPaidSubscription},wasPaidCustomer:e=>{let{subscriptionStatus:t}=e;return null!=t&&t.wasPaidCustomer},hasCustomerObject:e=>{let{subscriptionStatus:t}=e;return null!=t&&t.hasCustomerObject},hasUnclaimedFreeTrial:e=>{var t;let{currentWorkspace:r}=e;return null==r||null===(t=r.promoData)||void 0===t?void 0:t.has_claimed_free_trial},lastActiveSubscription:e=>{let{subscriptionStatus:t}=e;return null!=t?t.lastActiveSubscription:null},workspaces:e=>{let{workspaces:t}=e;return t},accountUserId:e=>{let{currentWorkspace:t}=e;return null==t?void 0:t.accountUserId}};function v(){let e=(0,l.t)();if(null!=e)return e.hasPlusFeatures()}function y(){var e;return null===(e=(0,l.t)())||void 0===e?void 0:e.data.subscriptionStatus.lastActiveSubscription}},10481:function(e,t,r){r.d(t,{i:function(){return n},l:function(){return o}});let n="https://help.openai.com/en/articles/8096356-custom-instructions-for-chatgpt",o="https://help.openai.com/en/articles/7967234-enabling-multi-factor-authentication-mfa-with-openai#h_488a963a1e"},79746:function(e,t,r){r.d(t,{v:function(){return a}});var n=r(24740);function o(){n.m.danger("Failed to copy to clipboard.",{duration:4,hasCloseButton:!0})}function a(e){return new Promise((t,r)=>{var n;if(!(null!==(n=navigator)&&void 0!==n&&n.clipboard)){o(),r();return}try{navigator.clipboard.writeText(e).then(()=>t("success"),()=>{o(),r()})}catch(e){o(),r()}})}},85567:function(e,t,r){r.d(t,{I:function(){return s},f:function(){return l}});var n=r(84760);let o="client-correlated-secret";function a(){let e=localStorage.getItem(o);return null==e?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function i(){null==a()&&localStorage.setItem(o,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));let e=a();if(null==e)throw Error("Failed to get key from storage");return e}function s(e){let t=new URL(e),r=(0,n.a)({queryKey:[o,"generate-challenge",e.search],queryFn:async()=>[...new Uint8Array(await crypto.subtle.sign("HMAC",await i(),new TextEncoder().encode(e.search)))].map(e=>e.toString(16).padStart(2,"0")).join(""),staleTime:0});if(void 0!==r.data)return t.hash=r.data,t}function l(){var e,t;let r=null===(e=location)||void 0===e?void 0:e.search,a=null===(t=location)||void 0===t?void 0:t.hash;return(0,n.a)({queryKey:[o,"verify-challenge",r,a],queryFn:async()=>"string"==typeof r&&"string"==typeof a&&crypto.subtle.verify("HMAC",await i(),function(e){let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++)t[r]=parseInt(e.substr(2*r,2),16);return t.buffer}(a.slice(1)),new TextEncoder().encode(r))}).data?new URLSearchParams(r):void 0}}}]);
//# sourceMappingURL=7437-e09bc427f8fc35d7.js.map