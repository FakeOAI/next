"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9354],{64216:function(e,t,n){var r=n(79746),i=n(11550),a=n(13490),o=n(651);t.Z=e=>{let{label:t,value:n,onCopied:s}=e,l=()=>{(0,r.v)(n),s()};return(0,o.jsxs)("div",{className:"flex flex-col space-y-2",children:[void 0!==t&&(0,o.jsx)("label",{className:"font-semibold",children:t}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{onClick:l,className:"w-full cursor-pointer break-all rounded-lg bg-token-main-surface-tertiary px-4 py-2 font-mono text-sm text-token-text-primary",children:n}),(0,o.jsx)(i.z,{color:"ghost",onClick:l,icon:a.TIy})]})]})}},17893:function(e,t,n){var r,i,a,o,s,l,c;n.r(t);let d={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"after"},i={defaultValue:null,kind:"LocalArgument",name:"expand"},a={defaultValue:null,kind:"LocalArgument",name:"first"},o={defaultValue:null,kind:"LocalArgument",name:"isArchived"},s={defaultValue:null,kind:"LocalArgument",name:"order"}],kind:"Fragment",metadata:null,name:"useConversationHistoryQuery",selections:c=[{alias:null,args:[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"expand",variableName:"expand"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"is_archived",variableName:"isArchived"},{kind:"Variable",name:"order",variableName:"order"}],concreteType:"ConversationDisplayConnection",kind:"LinkedField",name:"conversationDisplayHistory",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationDisplayEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ConversationDisplay",kind:"LinkedField",name:"node",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"updateTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currentNodeId",storageKey:null},{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"primaryGizmo",plural:!1,selections:[l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"asyncStatus",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,r,s,i,o],kind:"Operation",name:"useConversationHistoryQuery",selections:c},params:{cacheID:"097c1fc0342383d3ae16a1757d2b9664",id:"5f5770417560c56ba8fa929b84900b53f40cdcc3906d5197003e9ecf7adf3bb7",metadata:{},name:"useConversationHistoryQuery",operationKind:"query",text:"query useConversationHistoryQuery(\n  $first: Int\n  $after: Cursor\n  $order: String\n  $expand: Boolean\n  $isArchived: Boolean\n) {\n  conversationDisplayHistory(first: $first, after: $after, order: $order, expand: $expand, is_archived: $isArchived) {\n    edges {\n      node {\n        id\n        title\n        updateTime\n        createTime\n        currentNodeId\n        primaryGizmo {\n          id\n        }\n        asyncStatus\n      }\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n      startCursor\n      hasPreviousPage\n    }\n  }\n}\n"}};d.hash="377edfb04902b17f5e9aab4e1df62db0",t.default=d},88491:function(e,t,n){n.d(t,{Z:function(){return P}});var r,i=n(98601),a=n(99333),o=n(11550),s=n(64216),l=n(6440),c=n(59144),d=n(36792),u=n(13490),m=n(24434),f=n(24740),p=n(2721),g=n(42420),h=n(56032),v=n(92379),y=n(75172),x=n(62984),b=n(68306),j=n(12310),k=n(651);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var N=((r=N||{})[r.INITIAL=0]="INITIAL",r[r.PENDING=1]="PENDING",r[r.FINAL=2]="FINAL",r);function P(e){let{workspaceId:t,isOpen:n,onClose:r,currentDomain:i,domains:o=[],showUnverifiedDomains:l=!1,onVerifyDomain:d}=e,u=(0,y.Z)(),{mutateAsync:b,isPending:j}=function(e){let t=(0,g.NL)();return(0,h.D)({mutationFn:t=>{let{hostname:n}=t;return p.Z.addDomainToWorkspace(e,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:e=>{f.m.danger(e.message)}})}(t),{mutateAsync:w,isPending:P}=function(e){let t=(0,g.NL)();return(0,h.D)({mutationFn:t=>{let{domainId:n}=t;return p.Z.checkDomainForWorkspace(e,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:e=>{f.m.danger(e.message)}})}(t),{0:T,1:S}=(0,v.useState)(null!=i?i:void 0),{0:Z,1:C}=(0,v.useState)(null==i?void 0:i.hostname),{0:I,1:L}=(0,v.useState)((null==i?void 0:i.status)===void 0?N.INITIAL:(null==i?void 0:i.status)===a.pT.PENDING?N.PENDING:N.FINAL),E=()=>{i||(S(void 0),L(N.INITIAL))},_=async()=>{if(void 0===Z)return;let e=o.find(e=>e.hostname===Z&&e.status===a.pT.PENDING);if(e)S(e),L(N.PENDING);else{let e=await b({hostname:Z});"id"in e&&S(e),L(N.PENDING)}},A=(0,k.jsx)(c.Z.Button,{title:u.formatMessage(M.check),color:"primary",disabled:(null==T?void 0:T.id)===void 0||P,onClick:async()=>{if(null!=T&&T.id){let e=await w({domainId:T.id});"error"in e&&f.m.danger(u.formatMessage(M.domainCheckError,{message:e.error.message})),"id"in e&&(d&&d(e),e.status===a.pT.VERIFIED&&L(N.FINAL))}}}),R=(0,k.jsx)(c.Z.Button,{title:u.formatMessage(M.submit),color:"primary",disabled:void 0===Z||j,onClick:_}),F=(0,k.jsx)(c.Z.Button,{title:u.formatMessage(M.done),color:"primary",onClick:()=>{E(),r()}});return(0,k.jsxs)(m.Z,{isOpen:n,onClose:()=>{E(),r()},type:"success",className:"text-token-text-secondary",title:u.formatMessage(I===N.INITIAL?M.newTitle:M.editTitle),primaryButton:I===N.INITIAL?R:I===N.PENDING?A:F,secondaryButton:(0,k.jsx)(c.Z.Button,{title:u.formatMessage(M.cancel),color:"secondary",onClick:()=>{E(),r()}}),children:[I===N.INITIAL&&(0,k.jsx)(D,{hostname:Z,onSetHostname:C,onSubmit:_,unverifiedDomains:l?o:[],onVerifyDomain:e=>{L(N.PENDING),S(e)},workspaceId:t}),I===N.PENDING&&(0,k.jsxs)("div",{className:"flex flex-col gap-3",children:[u.formatMessage(M.verificationTokenMessage,{hostname:null==T?void 0:T.hostname}),(null==T?void 0:T.dns_verification_token_string)&&(0,k.jsx)(s.Z,{value:T.dns_verification_token_string,onCopied:()=>{f.m.success(u.formatMessage(M.copiedTXTRecordToClipboard),{duration:3})}}),(0,k.jsx)(x.Z,O({},M.verificationTokenFooter))]}),I===N.FINAL&&(0,k.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,k.jsx)(x.Z,O(O({},M.successfulVerification),{},{values:{hostname:null==T?void 0:T.hostname}})),(null==T?void 0:T.dns_verification_token_string)&&(0,k.jsx)(s.Z,{value:T.dns_verification_token_string,onCopied:()=>{f.m.success(u.formatMessage(M.copiedTXTRecordToClipboard),{duration:3})}})]})]})}function T(e){let{unverifiedDomains:t,onVerifyDomain:n,workspaceId:r}=e,{mutateAsync:i}=(0,j.Bd)(r);return(0,k.jsxs)(d.Z.Root,{fixed:!0,size:"compact",className:"mb-6 border-b border-token-border-light",children:[(0,k.jsxs)(d.Z.Header,{children:[(0,k.jsx)(d.Z.HeaderCell,{children:(0,k.jsx)(x.Z,O({},M.unverifiedDomainsTableHeader))}),(0,k.jsx)(d.Z.HeaderCell,{textAlign:"right"})]}),t.map(e=>(0,k.jsxs)(d.Z.Row,{children:[(0,k.jsx)(d.Z.Cell,{children:e.hostname}),(0,k.jsx)(d.Z.Cell,{textAlign:"right",children:(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsx)(o.z,{color:"secondary",size:"small",onClick:()=>n(e),children:(0,k.jsx)(x.Z,O({},M.verifyDomainButton))}),(0,k.jsx)(o.z,{color:"secondary",size:"small",onClick:()=>i({domainId:e.id}),icon:u.XHJ})]})})]},e.id))]})}function D(e){let{hostname:t,onSetHostname:n,onSubmit:r,unverifiedDomains:i,onVerifyDomain:a,workspaceId:o}=e,s=(0,y.Z)();return(0,k.jsxs)(k.Fragment,{children:[i&&i.length>0&&(0,k.jsx)(T,{workspaceId:o,unverifiedDomains:i,onVerifyDomain:a}),(0,k.jsx)("form",{onSubmit:e=>{e.preventDefault(),r()},children:(0,k.jsxs)("div",{className:"mb-4",children:[(0,k.jsx)("label",{className:"mb-2 flex items-center text-sm font-semibold",children:(0,k.jsx)(x.Z,O({},M.domainInput))}),(0,k.jsx)(l.Z,{name:"hostname",placeholder:s.formatMessage(M.placeholder),value:null!=t?t:"",onChange:e=>{n(e.target.value)}})]})})]})}let M=(0,b.vU)({newTitle:{id:"domainModal.newTitle.0",defaultMessage:"Verify a new domain"},editTitle:{id:"domainModal.editTitle",defaultMessage:"Manage Domain"},submit:{id:"domainModal.submit",defaultMessage:"Submit"},check:{id:"domainModal.check",defaultMessage:"Check"},done:{id:"domainModal.done",defaultMessage:"Done"},cancel:{id:"domainModal.cancel",defaultMessage:"Cancel"},domainInput:{id:"domainModal.domainInput.0",defaultMessage:"Add a new domain"},placeholder:{id:"domainModal.placeholder",defaultMessage:"openai.com"},domainCheckError:{id:"domainModal.domainCheckError",defaultMessage:"Your domain could not be verified: {message}"},verificationTokenMessage:{id:"domainModal.verificationTokenMessage",defaultMessage:"To verify ownership of {hostname}, navigate to your DNS provider and add a TXT record with this value:"},verificationTokenFooter:{id:"domainModal.verificationTokenFooter",defaultMessage:"Then, check the record to complete the verification."},successfulVerification:{id:"domainModal.successfulVerification.0",defaultMessage:'Your domain, "{hostname}" has been successfully verified'},copiedTXTRecordToClipboard:{id:"domainModal.copiedTXTRecordToClipboard",defaultMessage:"Copied DNS TXT record to clipboard"},verifyDomainButton:{id:"domainModal.verifyDomainButton",defaultMessage:"Verify"},unverifiedDomainsTableHeader:{id:"domainModal.unverifiedDomainsTableHeader",defaultMessage:"Your unverified domains"}})},81522:function(e,t,n){n.d(t,{B$:function(){return u},Yk:function(){return d},hx:function(){return m}});var r=n(98601),i=n(68029),a=n(68810);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let l=(0,i.M)(()=>({activeRequests:{}})),c=e=>(0,a.oR)(l,e);function d(e){return c(t=>null!=t.activeRequests[e])}function u(){return c(e=>Object.keys(e.activeRequests).length>0)}let m={addRequest(e,t){l.setState(n=>({activeRequests:s(s({},n.activeRequests),{},{[e]:{id:e,abortController:t}})}))},removeRequest(e){l.setState(t=>{let n=s({},t.activeRequests);return delete n[e],{activeRequests:n}})},clear(){l.setState({activeRequests:{}})},abortRequest(e){let{activeRequests:t}=l.getState();return null!=t[e]&&(t[e].abortController.abort(),m.removeRequest(e),!0)},abortRequests(e){let{activeRequests:t}=l.getState(),n=s({},t);for(let t of e)null!=n[t]&&(n[t].abortController.abort(),delete n[t]);l.setState({activeRequests:n})},abortAllRequests(){let{activeRequests:e}=l.getState();Object.values(e).forEach(e=>{e.abortController.abort()}),m.clear()}}},83036:function(e,t,n){n.d(t,{Z:function(){return p}});var r,i=n(2346),a=n(42110),o=n(10449);n(82363);var s=n(88667),l=n(92379),c=n(62984),d=n(15478),u=n(13490),m=n(651);let f=d.Z.div(r||(r=(0,i.Z)(["text-sm text-token-text-tertiary"])));function p(e){let t,n,{gizmo:r,builderName:i,builderUrl:o,className:l,socials:d,hideLink:p=!1}=e,{value:h}=(0,s.sB)("2256850471");r&&"gizmo"in r?(t=r.gizmo.author.display_name,n=r.gizmo.author.link_to):(t=i,n=o),(""===t||null==t)&&(t="community builder");let v=null==d?void 0:d.filter(e=>e.verified),y=(0,m.jsxs)("div",{className:"w-48 space-y-4 text-sm",children:[n&&(0,m.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,m.jsxs)("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[(0,m.jsx)(u.n9J,{className:"icon-md"}),(0,m.jsx)("span",{children:(0,m.jsx)(c.Z,{id:"gizmo.author.websiteLabel",defaultMessage:"Website"})})]}),(0,m.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:n,className:"text-token-text-tertiary  hover:cursor-pointer",children:(0,m.jsx)(u.Pfi,{className:"icon-sm"})})]}),h&&(null==v?void 0:v.map((e,t)=>e.verified?(0,m.jsx)(a.lD,{socialData:e},t):null)),(0,m.jsxs)("div",{className:"text-xs text-token-text-tertiary",children:[(n||v&&v.length>0)&&(0,m.jsx)("hr",{className:"my-2 border-token-border-light"}),(0,m.jsx)(c.Z,{id:"gizmo.author.cannotViewLabel",defaultMessage:"The builder of this GPT cannot view your conversations."})]})]});return(0,m.jsxs)("div",{className:"flex flex-row items-center space-x-1",children:[(0,m.jsx)(f,{className:l,children:(0,m.jsx)(c.Z,{id:"gizmo.author.byLabel",defaultMessage:"By {displayName}",values:{displayName:t}})}),!p&&(0,m.jsx)(g,{socials:d,website:n,children:y})]})}function g(e){let{website:t,socials:n,children:r}=e,{0:i,1:a}=(0,l.useState)(!1),s=[];t&&s.push((0,m.jsx)(u.n9J,{className:"icon-xs text-token-text-secondary"})),n&&n.forEach(e=>{e.verified&&("twitter"===e.type?s.push((0,m.jsx)(u.suT,{className:"icon-xs text-token-text-secondary"})):"linkedin"===e.type?s.push((0,m.jsx)(u.O9,{className:"icon-xs text-token-text-secondary"})):"github"===e.type&&s.push((0,m.jsx)(u.C2$,{className:"icon-xs text-token-text-secondary"})))});let c=s.length-2;return s=s.slice(0,2),c>0&&s.push((0,m.jsxs)("span",{className:"text-xs font-semibold text-token-text-secondary",children:["+",c]},"overflow")),(0,m.jsx)(o.fC,{open:i,onOpenChange:a,children:(0,m.jsxs)("div",{onPointerLeave:()=>a(!1),children:[(0,m.jsx)(o.xz,{asChild:!0,children:(0,m.jsx)("div",{onPointerEnter:()=>a(!0),children:s.length>0?(0,m.jsx)("div",{className:"flex items-center gap-1 rounded-xl bg-token-main-surface-secondary px-2 py-1",children:s}):(0,m.jsx)(u.tBG,{className:"icon-xs text-token-text-secondary"})})}),(0,m.jsx)(o.VY,{side:"top",sideOffset:8,align:"center",className:"z-10 rounded-lg bg-token-main-surface-primary p-4 drop-shadow-md",children:r})]})})}},12128:function(e,t,n){n.d(t,{M:function(){return c},Z:function(){return l}});var r=n(25162),i=n(13490),a=n(39004),o=n(10080),s=n(651);function l(e){let{isFirstParty:t,src:n,alt:a,className:o}=e;return(0,s.jsx)("div",{className:o,children:null!=n?(0,s.jsx)("div",{className:"gizmo-shadow-stroke overflow-hidden rounded-full",children:(0,s.jsx)("img",{src:n,className:"h-full w-full bg-token-main-surface-secondary",alt:null!=a?a:"GPT",width:80,height:80})}):(0,s.jsx)("div",{className:"gizmo-shadow-stroke relative flex h-full items-center justify-center rounded-full bg-token-main-surface-primary text-token-text-primary",children:t?(0,s.jsx)(r.nI,{className:"h-2/3 w-2/3"}):(0,s.jsx)(i.uy2,{className:"h-2/3 w-2/3 text-gray-400"})})})}function c(e){var t,n;let{gizmoId:r,className:i}=e,{data:c}=(0,a.b9)(r);return(0,s.jsx)(l,{src:null==c?void 0:c.gizmo.display.profile_picture_url,isFirstParty:null!==(t=null==c||null===(n=c.gizmo.tags)||void 0===n?void 0:n.includes(o.U9.FirstParty))&&void 0!==t&&t,className:i})}},42110:function(e,t,n){n.d(t,{lD:function(){return O},s6:function(){return N},tw:function(){return w}});var r=n(98601),i=n(88491),a=n(12310),o=n(11550),s=n(98095),l=n(13490),c=n(99555),d=n(81690),u=n(97537),m=n(93951),f=n(54089),p=n(42420),g=n(56032),h=n(19841),v=n(92379),y=n(62984),x=n(68306),b=n(651);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e){var t,n;let{selectedDomain:r,verifiedDomains:o,domains:c,onChangeDomain:d}=e,{0:u,1:p}=(0,v.useState)(!1),g=o.length>0,h=null===(t=(0,m.t)())||void 0===t?void 0:t.id,x=null===(n=(0,m.t)())||void 0===n?void 0:n.isEnterprisey(),{mutateAsync:j}=(0,a.Bd)(h);return(0,b.jsxs)("div",{className:"font-normal",children:[(0,b.jsxs)(s.Z.Root,{children:[(0,b.jsx)(f.xz,{children:(0,b.jsxs)("span",{className:"flex items-center gap-2 py-2",children:[null!=r?r:(0,b.jsx)(y.Z,k({},P.selectADomain)),(0,b.jsx)(l.T2M,{className:"icon-md"})]})}),(0,b.jsx)(s.Z.Portal,{children:(0,b.jsxs)(s.Z.Content,{children:[(0,b.jsx)(s.Z.RadioGroup,{value:r,onValueChange:e=>{e!==r&&d(e)},children:o.map(e=>{let{id:t,hostname:n}=e;return(0,b.jsx)(s.Z.RadioItem,{value:n,children:(0,b.jsxs)("div",{className:"flex flex-row",children:[(0,b.jsx)("span",{children:n}),(0,b.jsx)("span",{onClick:()=>{j({domainId:t}),d("")},children:(0,b.jsx)(l.XHJ,{className:"icon-sm fixed right-4"})})]})},t)})}),g&&(0,b.jsx)(s.Z.Separator,{}),(0,b.jsx)(s.Z.Item,{onClick:()=>{p(!0)},icon:l.Vz5,children:(0,b.jsx)(y.Z,k({},P.addDomain))})]})})]}),h&&!x&&(0,b.jsx)(i.Z,{domains:c,isOpen:u,onClose:()=>p(!1),workspaceId:h,showUnverifiedDomains:!0,onVerifyDomain:e=>{d(e.hostname)}})]})}function O(e){let{socialData:t}=e,{type:n,display_name:r,verified_data:i}=t,a="twitter"===n?l.suT:"linkedin"===n?l.O9:"github"===n?l.C2$:null;return a?(0,b.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[a({className:"icon-md"}),(0,b.jsx)("span",{children:r})]}),(null==i?void 0:i.link_to)&&(0,b.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:i.link_to,className:"text-sm text-token-text-tertiary  hover:cursor-pointer",children:(0,b.jsx)(l.Pfi,{className:"icon-sm"})})]}):null}function N(e){let{socialData:t,icon:n}=e,{id:r,type:i,display_name:a,verified:s,verified_data:m}=t,{0:f,1:x}=(0,v.useState)(!1),j=function(){let e=(0,p.NL)();return(0,g.D)({mutationFn:e=>{let{verifierType:t}=e;return c.U.unverifySocialAuth(t)},onSuccess:()=>{e.refetchQueries({queryKey:["builderProfile"]})}})}();return(0,b.jsxs)("div",{className:"flex flex-row items-center justify-between space-y-1",children:[(0,b.jsxs)("div",{className:(0,h.default)("flex items-center space-x-2"),children:[(0,b.jsx)(n,{className:"icon-sm"}),(0,b.jsx)("span",{children:a}),s&&(null==m?void 0:m.username)&&(0,b.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:m.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:null==m?void 0:m.username})]}),s?(0,b.jsx)("div",{className:"py-1 font-semibold hover:cursor-pointer",onClick:()=>{j.mutate({verifierType:i})},children:j.isPending?(0,b.jsx)(u.Z,{}):(0,b.jsx)(l.tPq,{className:"icon-sm text-token-text-tertiary"})}):(0,b.jsx)(o.z,{size:"small",color:"secondary",loading:f,onClick:async()=>{x(!0),await (0,d.Up)({id:r},"#settings/BuilderProfile"),x(!1)},children:(0,b.jsx)(y.Z,k({},P.verify))})]})}let P=(0,x.vU)({verify:{defaultMessage:"Add",id:"GizmoSocialRow.add"},addDomain:{id:"GizmoSocialRow.addDomain",defaultMessage:"Verify new domain"},selectADomain:{id:"GizmoSocialRow.selectADomain",defaultMessage:"Select a domain"}})},81690:function(e,t,n){n.d(t,{Up:function(){return a},doConnectorOauthRedirect:function(){return o},wP:function(){return l},wW:function(){return s}});var r=n(16757),i=n(2721);async function a(e,t){let n="".concat("https://chat.openai.com","/aip/").concat(e.id,"/oauth/callback"),r=await i.Z.pluginOauthRedirect(e.id,n,t);window.location.href=r.redirect_uri}async function o(e,t,n,r){let a=await i.Z.connectorOauthRedirect(e.id,n,t,r);window.location.href=a.redirect_uri}function s(e){switch(e){case r.NA.Link:return"link_paste_popover";case r.NA.Picker:return"file_upload_menu"}}async function l(e){await i.Z.deleteUserConnectedApp(e),window.location.reload()}},24241:function(e,t,n){n.d(t,{MO:function(){return v},aM:function(){return y},wT:function(){return h}});var r,i=n(98601),a=n(2721),o=n(93951),s=n(53132),l=n(19856),c=n(88667),d=n(92379),u=n(6522),m=n(67566),f=n(41987);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let h="conversationHistory";function v(){var e;let t=(0,o.hz)(),n=null!==(e=null==t?void 0:t.includes(f.Ud))&&void 0!==e&&e,r=(0,o.t)(),i=!n&&!!(null!=r&&r.data),p=(0,u.useRelayEnvironment)(),{value:v}=(0,c.sB)("2893406386"),y=function(e,t){let{data:n,fetchNextPage:r,hasNextPage:i,isInitialLoading:a,isFetchingNextPage:o,isError:s}=(0,l.N)({queryKey:[h],queryFn:t=>{let{pageParam:n}=t;return(0,m.fetchQuery_DEPRECATED)(e,x,{after:n,first:28,order:"updated",expand:!1,isArchived:!1})},initialPageParam:"aWR4Oi0x",getNextPageParam:e=>{var t,n;return null!==(t=e.conversationDisplayHistory)&&void 0!==t&&t.pageInfo.hasNextPage?null===(n=e.conversationDisplayHistory)||void 0===n?void 0:n.pageInfo.endCursor:void 0},enabled:t});return{conversations:(0,d.useMemo)(()=>{var e;return null!==(e=null==n?void 0:n.pages.flatMap(e=>{var t,n;return(null!==(t=null===(n=e.conversationDisplayHistory)||void 0===n?void 0:n.edges)&&void 0!==t?t:[]).flatMap(e=>{var t,n;return null!=e&&e.node?[{id:e.node.id,title:null!==(t=e.node.title)&&void 0!==t?t:"",create_time:e.node.createTime,update_time:e.node.updateTime,conversation_template_id:null===(n=e.node.primaryGizmo)||void 0===n?void 0:n.id,async_status:e.node.asyncStatus}]:[]})}))&&void 0!==e?e:[]},[n]),data:n,fetchNextPage:r,hasNextPage:i,isInitialLoading:a,isFetchingNextPage:o,isError:s}}(p,i&&v),b=function(e){let{data:t,fetchNextPage:n,hasNextPage:r,isInitialLoading:i,isFetchingNextPage:o,isError:s}=(0,l.N)({queryKey:[h],queryFn:e=>{let{pageParam:t}=e;return a.Z.getConversations({offset:t,limit:28})},initialPageParam:0,getNextPageParam:e=>{let t=e.offset+e.limit;return t<e.total?t:void 0},enabled:e});return{conversations:(0,d.useMemo)(()=>{var e;return null!==(e=null==t?void 0:t.pages.flatMap(e=>e.items))&&void 0!==e?e:[]},[t]),data:t,fetchNextPage:n,hasNextPage:r,isInitialLoading:i,isFetchingNextPage:o,isError:s}}(i&&!v),{conversations:j,data:k,fetchNextPage:w,hasNextPage:O,isInitialLoading:N,isFetchingNextPage:P,isError:T}=v?y:b,{setStatusMap:D,getState:M}=s.p.useStore();return(0,d.useEffect)(()=>{if(j.length){let{statusMap:e}=M();D(g(g({},j.reduce((e,t)=>(e[t.id]=t.async_status,e),{})),e))}},[j,D,M]),{data:k,conversations:j,fetchNextPage:w,hasNextPage:O,isLoading:N,isFetchingNextPage:P,isError:i&&T}}function y(e){e.invalidateQueries({queryKey:[h]})}let x=void 0!==r?r:r=n(17893)},53132:function(e,t,n){n.d(t,{p:function(){return l}});var r=n(98601),i=n(99333),a=n(25579);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class l extends(0,a.R)()(()=>({statusMap:{}})){constructor(){super(...arguments),(0,r.Z)(this,"setStatusMap",e=>{this.setState({statusMap:e})}),(0,r.Z)(this,"setConversationStatus",(e,t)=>{this.setState(n=>({statusMap:s(s({},n.statusMap),{},{[e]:t})}))})}}(0,r.Z)(l,"selectStatusMap",e=>e),(0,r.Z)(l,"selectConversationStatus",e=>t=>e.statusMap[t]),(0,r.Z)(l,"hasUnreadConversations",e=>Object.values(e.statusMap).some(e=>e===i.w2.FINISHED))},49763:function(e,t,n){n.d(t,{V:function(){return o}});var r=n(98601),i=n(36560),a=n.n(i);class o{constructor(){(0,r.Z)(this,"emitter",new(a())),this.emitter.setMaxListeners(1e3)}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}publish(e){this.emitter.emit(e.kind,e),this.emitter.emit("anyEvent",e)}}},15174:function(e,t,n){var r=n(92379);t.Z=function(){let e=(0,r.useRef)(!1);return(0,r.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),(0,r.useCallback)(()=>e.current,[])}},27393:function(e,t,n){n.d(t,{Ef:function(){return p},UG:function(){return g},dG:function(){return c},gb:function(){return h},mK:function(){return f}});var r,i=n(98601),a=n(37671),o=n(82363),s=n(92379);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let c=((r={}).SonicHome="sonic.web.home",r.SonicServer="sonic.ssr.search",r.ChatPageLoad="chatgpt.web.pageLoad",r.CompletionRequest="chatgpt.web.completionRequest",r.ProofOfWork="chatgpt.web.proofOfWork",r);class d{constructor(e,t){var n,r;(0,i.Z)(this,"expectedTimingLogTimeouts",{}),(0,i.Z)(this,"startMs",-1),(0,i.Z)(this,"lastLogMs",-1),(0,i.Z)(this,"loggedTimings",new Set),(0,i.Z)(this,"timingBlocks",{}),(0,i.Z)(this,"debug",!1),this.namespace=e,this.expectedTimingLogs=null!==(n=null==t?void 0:t.expectedTimingLogs)&&void 0!==n?n:[],this.debug=null!==(r=null==t?void 0:t.debug)&&void 0!==r&&r,this.reset()}reset(){for(let e of(this.startMs=this.lastLogMs=performance.now(),this.timingBlocks={},this.loggedTimings=new Set,Object.values(this.expectedTimingLogTimeouts)))clearTimeout(e);for(let e of(this.expectedTimingLogTimeouts={},this.expectedTimingLogs)){let t=setTimeout(()=>{var t;o.U.addAction("".concat(this.namespace,".").concat(e.name,".timed_out"),null!==(t=e.initializationInfo)&&void 0!==t?t:{})},e.expectedInMs);this.expectedTimingLogTimeouts[e.name]=t,this.debug&&console.debug("[DatadogProfiler] Expecting ".concat(this.namespace,".").concat(e.name," to be logged within ").concat(e.expectedInMs,"ms"))}}logTiming(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromLastLog:!1};if(this.loggedTimings.has(e)){console.warn("[DatadogProfiler] Timing ".concat(this.namespace,".").concat(e," already logged"));return}let n=performance.now()-(t.fromLastLog?this.lastLogMs:this.startMs);o.U.addAction("".concat(this.namespace,".").concat(e),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({durationMs:n},t.context)),this.lastLogMs=performance.now(),this.loggedTimings.add(e),e in this.expectedTimingLogTimeouts&&(clearTimeout(this.expectedTimingLogTimeouts[e]),delete this.expectedTimingLogTimeouts[e]),this.debug&&console.debug("[DatadogProfiler] ".concat(this.namespace,".").concat(e,": ").concat(n,"ms"))}startBlock(e){this.timingBlocks[e]=performance.now()}endBlock(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{throwError:!0},n=this.timingBlocks[e];if(void 0===n&&t.throwError)throw Error("Block ".concat(e," not started"));let r=performance.now()-n;o.U.addAction("".concat(this.namespace,".").concat(e),{durationMs:r}),delete this.timingBlocks[e]}}let u={},m="__global__";function f(e){let{namespace:t,key:n=m,opts:r}=e;void 0===u[t]&&(u[t]={});let i=(0,a.S)(u[t]);return void 0!==i[n]&&o.U.addError("Profiler already exists for namespace ".concat(t," and key ").concat(n)),i[n]=new d(t,r),i[n]}function p(e){let{namespace:t,key:n=m}=e;if(void 0!==u[t])return(0,a.S)(u[t])[n]}function g(e){let{namespace:t,key:n=m}=e;if(void 0!==u[t]){let e=(0,a.S)(u[t]);delete e[n]}}function h(e){let{namespace:t,key:n=m,opts:r}=e,{0:i}=(0,s.useState)(()=>f({namespace:t,key:n,opts:r}));return i}}}]);
//# sourceMappingURL=9354-e65481b91ba4d763.js.map