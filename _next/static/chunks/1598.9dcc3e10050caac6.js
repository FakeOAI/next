(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1598],{34598:function(e,t,r){var n=r(85036);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},60510:function(e){e.exports=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}},85036:function(e,t,r){var n=r(83663),i=r(18826),s=r(31154);e.exports=function(e,t,r){return t==t?s(e,t,r):n(e,i,r)}},18826:function(e){e.exports=function(e){return e!=e}},18296:function(e,t,r){var n=r(25561),i=r(34598),s=r(60510),a=r(8529),o=r(33295),l=r(33005);e.exports=function(e,t,r){var u=-1,c=i,d=e.length,f=!0,m=[],g=m;if(r)f=!1,c=s;else if(d>=200){var x=t?null:o(e);if(x)return l(x);f=!1,c=a,g=new n}else g=t?[]:m;e:for(;++u<d;){var p=e[u],h=t?t(p):p;if(p=r||0!==p?p:0,f&&h==h){for(var v=g.length;v--;)if(g[v]===h)continue e;t&&g.push(h),m.push(p)}else c(g,h,r)||(g!==m&&g.push(h),m.push(p))}return m}},33295:function(e,t,r){var n=r(353),i=r(91530),s=r(33005),a=n&&1/s(new n([,-0]))[1]==1/0?function(e){return new n(e)}:i;e.exports=a},31154:function(e){e.exports=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1}},96594:function(e,t,r){var n=r(61757),i=r(18296);e.exports=function(e,t){return e&&e.length?i(e,n(t,2)):[]}},66587:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(98601),i=r(52088),s=r(19841),a=r(651);let o=["className"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){let{className:t}=e,r=(0,i.Z)(e,o);return(0,a.jsx)("textarea",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:(0,s.default)("form-textarea w-full rounded-lg border border-token-border-light bg-token-main-surface-secondary text-sm text-token-text-primary focus:border-token-text-primary focus:shadow-none focus:outline-none focus:ring-token-text-primary",t)},r))}},98303:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var n=r(93951);function i(e){let t=(0,n.hz)();return!n.t()?.isWorkspaceAccount()||(t?.includes(e)??!1)}},10083:function(e,t,r){"use strict";r.d(t,{X:function(){return g},r:function(){return m}});var n=r(12128),i=r(10080),s=r(15913),a=r(19841),o=r(50820),l=r(57456),u=r(54097),c=r(83036),d=r(45334),f=r(651);function m(e){let{gizmo:t,hideOwner:r=!1,children:n,className:i,avatarClassName:s,showStarterPrompts:o=!1,disableStarterPrompts:l=!1}=e;return null==t?null:(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:(0,a.default)("flex h-full flex-col items-center justify-center text-token-text-primary",i),children:[(0,f.jsx)(g,{gizmo:t,avatarClassName:s}),(0,f.jsx)(p,{gizmo:t,hideOwner:r,showStarterPrompts:o,disableStarterPrompts:l}),n]})})}function g(e){let{gizmo:t,avatarClassName:r}=e,s=!!(null!=t&&(0,d.S9)(t)&&t?.gizmo.tags?.includes(i.U9.FirstParty));return(0,f.jsx)("div",{className:"relative",children:(0,f.jsx)(n.Z,{isFirstParty:s||!t,src:null!=t&&(0,d.WQ)(t)?t.profilePictureUrl:t?.gizmo.display.profile_picture_url,className:(0,a.default)("mb-3 h-12 w-12",r)})})}function x(e){let{gizmo:t,disabled:r}=e,n=(0,u.O)(t),i=(0,o.f)(),a=(0,s.BL)();if(null==n||0===n.length)return null;let c=n.slice(0,a?2:4);return(0,f.jsx)(l.cS,{starterPrompts:c,onSelectStarterPrompt:i,disabled:r})}function p(e){let{gizmo:t,hideOwner:r,showStarterPrompts:n,disableStarterPrompts:i}=e,s=null!=t&&(0,d.WQ)(t)?t.name:t?.gizmo.display.name,a=null!=t&&(0,d.WQ)(t)?t.description:t?.gizmo.display.description;return(0,f.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,f.jsx)("div",{className:"text-center text-2xl font-semibold",children:s}),!r&&(0,f.jsx)("div",{className:"flex items-center gap-1 text-token-text-tertiary",children:(0,f.jsx)(f.Fragment,{children:t&&(0,d.WQ)(t)?(0,f.jsx)(c.Z,{gizmo:t}):(0,f.jsx)(c.Z,{gizmo:t,socials:t.gizmo.author.display_socials})})}),a&&(0,f.jsx)("div",{className:"max-w-md text-center text-sm font-normal text-token-text-primary",children:a}),n&&(0,f.jsx)(x,{gizmo:t,disabled:i})]})}},20053:function(e,t,r){"use strict";r.d(t,{H:function(){return R}});var n=r(98601),i=r(11550),s=r(66587),a=r(24434),o=r(99555),l=r(24740),u=r(31438),c=r(31498),d=r(84760),f=r(99976),m=r(61619),g=r(19841),x=r(92379),p=r(75172),h=r(62984),v=r(68306),b=r(30853),y=r(28146),j=r(39004),w=r(10080),O=r(651);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let R=e=>{let{rating:t,onRating:r,className:n}=e,{0:i,1:s}=(0,x.useState)(),a=(0,p.Z)();return(0,O.jsx)("div",{className:(0,g.default)("flex flex-row",n),children:[1,2,3,4,5].map(e=>{let n=(0,O.jsx)(y.e0l,{className:(0,g.default)("icon-2xl cursor-pointer",(i??t??0)>=e?function(e,t){let r=e??t??0;return(0,g.default)(null!=e&&e!=t&&"opacity-50 dark:opacity-60",r>4?"text-brand-purple":r>3?"text-green-500":r>2?"text-yellow-500":r>1?"text-orange-500":"text-red-500")}(i,t):"text-token-main-surface-tertiary")}),o=function(e){switch(e){case 1:return P.hoverRating1;case 2:return P.hoverRating2;case 3:return P.hoverRating3;case 4:return P.hoverRating4;case 5:return P.hoverRating5}}(i??0),l=o&&a.formatMessage(o);return(0,O.jsx)("div",{onClick:()=>{r(e)},onMouseEnter:()=>{s(e)},onMouseLeave:()=>{s(void 0)},className:"p-1",children:o?(0,O.jsx)(b.u,{label:l,side:"top",sideOffset:4,children:n}):n},e)})})},k=e=>{var t;let{gizmo:r}=e,n=(0,c.aF)(),v=()=>u.vm.closeModal(u.B.GPTReview),y=(0,p.Z)(),{0:z,1:k}=(0,x.useState)(""),{0:N,1:G}=(0,x.useState)(!1),S=(t=r.gizmo.id,(0,d.a)({queryFn:async()=>o.U.getUserReview(t),queryKey:["gizmo","review",{gizmoId:t}],enabled:null!=t})),Z=(0,j.K7)(r.gizmo.id),{0:C,1:E}=(0,x.useState)(),F=C===S.data?.rating;(0,x.useEffect)(()=>{null!=S.data&&null==C&&E(S.data.rating)},[S.data,C]),(0,x.useEffect)(()=>{f.A.logEvent(m.M.showRatingModal,{gizmo_id:r.gizmo.id})},[r.gizmo.id]);let _=null!=S.data,T=!r.gizmo.tags?.includes(w.U9.FirstParty)&&r.gizmo.author.will_receive_support_emails;return(0,O.jsx)(a.Z,{type:"success",title:(0,O.jsxs)("div",{children:[(0,O.jsx)(h.Z,M({},P.title)),(0,O.jsxs)("div",{className:"align-end mt-2 flex text-sm font-normal",children:[_?(0,O.jsx)(h.Z,M({},P.subtitleChange)):(0,O.jsx)(h.Z,M({},P.subtitle)),(0,O.jsx)(b.u,{label:y.formatMessage(P.subtitleTooltip),className:"ml-1 flex cursor-pointer items-center pl-1",sideOffset:0,children:(0,O.jsx)("div",{className:"icon-xs flex items-center justify-center rounded-full border border-token-text-tertiary text-[8px] font-bold text-token-text-tertiary",children:"i"})})]})]}),isOpen:!0,onClose:v,size:"custom",showCloseButton:!0,className:"max-w-xl overflow-y-auto",hideSeparator:!0,children:(0,O.jsxs)("div",{className:"flex flex-grow flex-col space-y-8",children:[(0,O.jsx)(R,{rating:C,onRating:E,className:"mx-auto flex flex-row items-center"}),T&&(0,O.jsxs)("div",{children:[(0,O.jsx)(s.Z,{className:"mb-1 w-full resize-none overflow-y-auto rounded-md bg-transparent focus:border-gray-200 focus:ring-gray-200 dark:focus:border-white dark:focus:ring-white",placeholder:y.formatMessage(P.messagePlaceholder),value:z,rows:1,onChange:e=>k(e.target.value)}),(0,O.jsxs)("div",{className:(0,g.default)("flex flex-row items-center space-x-2 self-start",z.length>0?"text-token-text-primary":"text-token-text-tertiary"),children:[(0,O.jsx)("input",{type:"checkbox",className:"rounded",checked:N,onChange:e=>G(e.target.checked)}),n&&(0,O.jsx)("span",{className:"text-sm",children:(0,O.jsx)(h.Z,M(M({},P.includeFrom),{},{values:{email:(0,O.jsx)("strong",{children:n.email})}}))})]})]}),(0,O.jsx)(i.z,{color:"primary",disabled:F,onClick:async()=>{if(null==C){l.m.warning("Please select a rating");return}f.A.logEvent(m.M.submitRatingModal,{gizmo_id:r.gizmo.id,rating:C}),await Z.mutateAsync({rating:C,message:z.length>0?z:void 0,includeFrom:z.length>0?N:void 0}),l.m.success(y.formatMessage(P.successToast),{duration:3}),v()},children:(0,O.jsx)(h.Z,M({},P.submit))})]})})},P=(0,v.vU)({title:{id:"GizmoReviewModal.title",defaultMessage:"Leave Feedback"},subtitle:{id:"GizmoReviewModal.subtitle",defaultMessage:"How would you rate this GPT?"},subtitleChange:{id:"GizmoReviewModal.subtitleChange",defaultMessage:"Would you like to change your rating?"},subtitleTooltip:{id:"GizmoReviewModal.subtitleTooltip",defaultMessage:"Stars will be public and anonymous"},messagePlaceholder:{id:"GizmoReviewModal.messagePlaceholder",defaultMessage:"Add an optional private email to the creator"},submit:{id:"GizmoReviewModal.submit",defaultMessage:"Submit"},successToast:{id:"GizmoReviewModal.successToast",defaultMessage:"Review sent"},includeFrom:{id:"GizmoReviewModal.includeFrom",defaultMessage:"Include my email address {email}"},hoverRating1:{id:"GizmoReviewModal.hoverRating1",defaultMessage:"Bad"},hoverRating2:{id:"GizmoReviewModal.hoverRating2",defaultMessage:"Okay"},hoverRating3:{id:"GizmoReviewModal.hoverRating3",defaultMessage:"Good"},hoverRating4:{id:"GizmoReviewModal.hoverRating4",defaultMessage:"Great!"},hoverRating5:{id:"GizmoReviewModal.hoverRating5",defaultMessage:"Excellent!"}});t.Z=e=>{let{gizmo:t}=e;return(0,u.EV)(u.B.GPTReview)?(0,O.jsx)(k,{gizmo:t}):null}}}]);
//# sourceMappingURL=1598.9dcc3e10050caac6.js.map