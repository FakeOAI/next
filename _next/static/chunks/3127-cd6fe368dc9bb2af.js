"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3127],{76608:function(e,t,r){r.d(t,{x:function(){return l}});var n=r(19841),a=r(62984),i=r(28146),s=r(651);function l(e){let{type:t,onClick:r}=e,l="more"===t?i.eOB:i.BZB;return(0,s.jsx)("div",{className:(0,n.default)("group flex w-full items-center justify-start","less"===t&&"z-20","more"===t&&"mt-1"),children:(0,s.jsxs)("button",{className:"flex flex-1 select-none items-center rounded-lg py-1 pl-4 text-sm tracking-tight hover:bg-token-sidebar-surface-secondary focus:ring-0",onClick:r,children:[(0,s.jsx)(l,{className:"icon-2xl -ml-3 mr-1 font-semibold text-token-text-secondary"}),"more"===t?(0,s.jsx)(a.Z,{id:"25xE8F",defaultMessage:"See more"}):(0,s.jsx)(a.Z,{id:"1poXLj",defaultMessage:"See less"})]})})}},33127:function(e,t,r){r.d(t,{Z:function(){return w}});var n=r(71522),a=r(86025),i=r(19841),s=r(92379),l=r(31438),o=r(15913),c=r(51813),d=r(66290),u=r(88667),m=r(62984),f=r(98095),p=r(28146),g=r(15972),h=r(91496),x=r(28626),v=r(30808),b=r(75372),j=r(651);let y=()=>{var e,t;let{openSettings:r}=(0,h.F)(),n=null===(e=(0,u.sB)("3376455464"))||void 0===e?void 0:e.value,a=null===(t=(0,u.sB)("90459671"))||void 0===t?void 0:t.value,i=(0,d.Z)();return(0,j.jsxs)("div",{className:"flex h-full flex-col gap-2 p-3",children:[(0,j.jsx)(b.f,{icon:p.bl$,onClick:()=>{(0,g.Xl)(i),l.vm.closeActiveSidebar()},children:(0,j.jsx)(m.Z,{id:"0FupYP",defaultMessage:"New chat"})}),(0,j.jsx)("div",{className:"flex grow items-center justify-center",children:(0,j.jsx)(x.LE,{})}),(0,j.jsxs)(f.d,{contentClassName:"w-[298px]",triggerButton:(0,j.jsx)(b.f,{icon:p.voc,children:(0,j.jsx)(m.Z,{id:"y4Lkp7",defaultMessage:"Settings and more"})}),children:[(0,j.jsx)(f.Z.Item,{onClick:()=>r(),icon:p.SWE,children:(0,j.jsx)(m.Z,{id:"HrRLkZ",defaultMessage:"Settings"})}),n&&a&&(0,j.jsx)(f.Z.Item,{icon:p.U65,onClick:()=>{l.vm.openModal(l.B.ReportConversation)},children:(0,j.jsx)(m.Z,{id:"thread.report.0",defaultMessage:"Report illegal content"})}),(0,j.jsx)(f.Z.Separator,{}),(0,j.jsx)(v.E,{})]})]})};function w(e){let{children:t,hideNavigation:r=!1,mobileHeaderContent:d,mobileHeaderRightContent:u,mobileHeaderBottomContent:m,sidebar:f,forceOpenDesktopSidebar:p=!1}=e,g=(0,o.w$)(),{isUnauthenticated:h}=(0,a.u)(),[x,v,b]=(0,l.tN)(e=>[e.isDesktopNavCollapsed,e.activeStageSidebar,e.activeSidebar]),M=[],O=null;s.Children.forEach(t,e=>{s.isValidElement(e)&&(e.type===w.Sidebars?O=e:M.push(e))});let k=!h&&!r&&null!=f,P=k&&!g;return(0,j.jsxs)("div",{className:(0,i.default)("relative flex h-full w-full overflow-hidden transition-colors","popover-nav"!==b&&"z-0"),children:[k&&(0,j.jsx)(n.ZP,{children:(0,j.jsx)(c.O_,{isExpanded:p||!x,isPopover:v||!g,children:h?(0,j.jsx)(y,{}):f})}),(0,j.jsxs)("div",{className:"relative flex h-full max-w-full flex-1 flex-col overflow-hidden",children:[P&&(0,j.jsx)(n.ZP,{children:(0,j.jsx)(c.Vs,{onClickOpenSidebar:()=>l.vm.togglePopoverNavSidebar(),rightContent:u,bottomContent:m,children:d})}),(0,j.jsx)("main",{className:"relative h-full w-full flex-1 overflow-auto transition-width",children:M})]}),O]})}w.Sidebars=function(e){let{children:t}=e;return(0,j.jsx)(j.Fragment,{children:t})}},51813:function(e,t,r){r.d(t,{MP:function(){return S},Nz:function(){return Z},O_:function(){return _},Vs:function(){return D}});var n=r(98601),a=r(52088),i=r(11550),s=r(28146),l=r(16351),o=r(69539),c=r(86025),d=r(82821),u=r(66583),m=r(99976),f=r(19841),p=r(88600),g=r(34977),h=r(92379),x=r(75172),v=r(62984),b=r(68306),j=r(31438);r(15913);var y=r(30853),w=r(90067),M=r(56409),O=r(651);let k=["onClick","className"],P=["onClick"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function S(e){let{onClick:t,className:r}=e,n=(0,a.Z)(e,k);return(0,O.jsx)(w.zV,N({onClick:t,className:(0,f.default)(r,"flex-grow overflow-hidden")},n))}function Z(e){let{clientThreadId:t,historyDisabled:r,onNewChatButtonClick:n}=e,a=(0,x.Z)(),{isUnauthenticated:i,isLoading:l}=(0,c.u)(),d=(0,o.x)();if(l)return null;if(i)return d?(0,O.jsx)(E,{}):(0,O.jsx)(T,{});let u=r?a.formatMessage({id:"/CxV1V",defaultMessage:"Clear chat"}):a.formatMessage({id:"Cvr6Bs",defaultMessage:"New chat"});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(M.m2,{conversationId:t}),(0,O.jsx)(y.u,{label:u,className:"h-6",sideOffset:4,children:(0,O.jsx)(I,{"aria-label":u,onClick:()=>{m.A.logNewChatButtonClicked({location:"Mobile header"}),n()},children:r?(0,O.jsx)(s.Ezi,{className:"icon-lg mx-2.5 text-token-text-secondary"}):(0,O.jsx)(s.bl$,{className:"icon-lg mx-2.5 text-token-text-secondary"})})})]})}function I(e){let{onClick:t}=e,r=(0,a.Z)(e,P);return(0,O.jsx)("button",N({type:"button",className:"pr-3",onClick:t},r))}function T(){let e=(0,d.b)();return(0,O.jsx)(i.z,{as:"button",size:"small",color:"primary",className:"mr-6",onClick:()=>{let t=e({authType:"signup"});m.A.logSignUpButtonClicked({location:"Mobile Chat Stage Header",provider:t})},children:(0,O.jsx)(v.Z,N({},L.signUpButtonText))})}function E(){let e=(0,d.b)();return(0,O.jsx)(i.z,{as:"button",size:"small",color:"primary",className:"mr-6",onClick:()=>{let t=e({authType:"login"});m.A.logLogInButtonClicked({location:"Mobile Chat Stage Header",provider:t})},children:(0,O.jsx)(v.Z,N({},l.kn.logInButtonText))})}let D=e=>{let{onClickOpenSidebar:t,children:r,rightContent:n,bottomContent:a}=e,i=(0,j.tN)(e=>e.activeSidebar),l=(0,g.useRouter)().asPath;return(0,h.useEffect)(()=>{"popover-nav"===i&&j.vm.setActiveSidebar(!1)},[l]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"sticky top-0 z-10 flex min-h-[60px] items-center justify-center border-transparent bg-token-main-surface-primary pl-0 md:hidden",children:[(0,O.jsxs)("button",{type:"button",className:"absolute bottom-0 left-0 top-0 inline-flex items-center justify-center rounded-md px-3 hover:text-token-text-primary focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white active:opacity-50",onClick:t,children:[(0,O.jsx)("span",{className:"sr-only",children:(0,O.jsx)(v.Z,N({},L.openSidebar))}),(0,O.jsx)(s.Oqj,{className:"icon-lg mx-2.5 text-token-text-secondary"})]}),r,null!=n&&(0,O.jsx)("div",{className:"absolute bottom-0 right-0 top-0 inline-flex items-center justify-center",children:n})]}),a&&(0,O.jsx)("div",{className:"flex w-full items-center justify-center bg-token-main-surface-primary",children:a})]})};function _(e){let{isPopover:t=!1,isExpanded:r=!1,children:n}=e;return(0,O.jsxs)(O.Fragment,{children:[t&&(0,O.jsx)(A,{children:n}),(0,O.jsx)(F,{isExpanded:!t&&r,children:n})]})}function F(e){let{isExpanded:t,children:r}=e,n=(0,h.useRef)(null);return(0,O.jsx)(p.E.div,{className:"flex-shrink-0 overflow-x-hidden bg-token-sidebar-surface-primary",ref:n,initial:!1,animate:{width:t?"260px":0,transition:{duration:.165,ease:"easeOut"}},onAnimationStart:()=>{n.current&&(n.current.style.visibility="visible")},onAnimationComplete:()=>{n.current&&(t||(n.current.style.visibility="hidden"))},children:(0,O.jsx)("div",{className:"h-full w-[260px]",children:(0,O.jsx)("div",{className:"flex h-full min-h-0 flex-col",children:r})})})}function A(e){let{children:t}=e,r=(0,j.tN)(e=>e.activeSidebar);return(0,O.jsx)(u.fC,{open:"popover-nav"===r,onOpenChange:e=>{e||j.vm.setActiveSidebar(!1)},children:(0,O.jsxs)(u.h_,{children:[(0,O.jsx)(u.aV,{className:"fixed inset-0 z-10 bg-white/50 radix-state-open:animate-show dark:bg-black/50"}),(0,O.jsx)(u.VY,{className:"fixed left-0 top-0 z-50 h-full max-w-xs border-r border-gray-200 bg-token-sidebar-surface-primary shadow-[0_0_64px_0_rgba(0,0,0,0.07)] focus:outline-none radix-state-open:animate-sidebarShow dark:border-gray-800",children:t})]})})}let L=(0,b.vU)({closeSidebar:{id:"navigation.closeSidebar",defaultMessage:"Close sidebar"},openSidebar:{id:"navigation.openSidebar",defaultMessage:"Open sidebar"},signUpButtonText:{id:"navigation.signUpButtonText",defaultMessage:"Sign up"}})},7331:function(e,t,r){r.d(t,{Z:function(){return V}});var n,a=r(98601),i=r(99333),s=r(55963),l=r(2721),o=r(60464),c=r(42420),d=r(56032),u=r(18939),m=r.n(u),f=r(92379),p=r(75172),g=r(62984),h=r(11550),x=r(19841),v=r(68306),b=r(75592),j=r(67526),y=r(30853),w=r(28146),M=r(651);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function P(e){return e.split(/[\s,]+/)}function C(e){let{value:t,onChange:r,className:n}=e,a=(0,p.Z)(),{0:i,1:s}=(0,f.useState)(""),l=(0,f.useCallback)(e=>{if(i)switch(e.key){case"Enter":case",":case" ":r([...t,...P(i).map(N)]),s(""),e.preventDefault()}},[i,r,t]);return(0,M.jsx)(b.ZP,{className:(0,x.default)("react-select-container",n),isMulti:!0,onBlur:e=>{i&&(r([...t,...P(i).map(N)]),s(i),e.preventDefault())},classNamePrefix:"react-select",components:S,inputValue:i,isClearable:!0,menuIsOpen:!1,onChange:r,onInputChange:s,onKeyDown:l,placeholder:a.formatMessage(Z.placeholder),value:t,"aria-labelledby":"add-emails-label",name:"add-member-emails"})}let N=e=>({label:e,value:e,isValid:o.F.test(e)}),S={DropdownIndicator:()=>null,IndicatorsContainer:()=>null,ClearIndicator:()=>null,MultiValueRemove:()=>null,MultiValue:e=>{let t=(0,p.Z)(),r=(0,M.jsxs)("span",{className:"flex items-center gap-1",children:[(0,M.jsx)("span",{children:e.children}),(0,M.jsx)(w.tPq,{className:"icon-sm"})]}),n=e.data.isValid?r:(0,M.jsx)(y.u,{label:t.formatMessage(Z.tooltipInvalidEmail,{email:e.data.value}),side:"top",children:r});return(0,M.jsx)(j.c.MultiValue,k(k({},e),{},{children:(0,M.jsx)("button",{className:(0,x.default)("m-1 cursor-pointer rounded-full border border-transparent py-1 pl-3 pr-2 text-sm text-token-text-primary",e.data.isValid?"bg-token-main-surface-secondary hover:border-token-border-medium hover:bg-token-main-surface-tertiary":"bg-red-200 text-red-500"),onClick:t=>{var r,n;null===(r=(n=e.removeProps).onClick)||void 0===r||r.call(n,t),t.preventDefault()},"aria-label":t.formatMessage(Z.removeMember,{member:e.data.value}),children:n})}))}},Z=(0,v.vU)({membersAdded:{id:"emailsTextarea.membersAdded",defaultMessage:"+{count} {count, plural, one {member} other {members}}"},removeMember:{id:"emailsTextarea.removeMember",defaultMessage:"Remove {member}"},tooltipInvalidEmail:{id:"emailsTextarea.tooltipInvalidEmail",defaultMessage:'"{email}" may not be a valid email'},clearAllEntries:{id:"emailsTextarea.clearAllEntries",defaultMessage:"Clear all"},placeholder:{id:"emailsTextarea.placeholder",defaultMessage:"Type an email and press enter..."}});var I=r(6440),T=r(94668),E=r(73062),D=r(36792),_=r(24740),F=r(12310),A=r(44087);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let B=((n={})[n.INITIAL=0]="INITIAL",n[n.CSV_TABLE=1]="CSV_TABLE",n);function V(e){var t;let{workspace:r,canResendInviteEmails:n,onCancel:a,cancelButtonText:u,onSuccess:x,fullWidthButtons:v=!1}=e,b=r.isOwnerOfAccount(),{0:j,1:y}=(0,f.useState)(!1),{0:O,1:k}=(0,f.useState)(!1),P=(0,f.useRef)(null),N=r.isTeam(),S=(0,p.Z)(),{0:Z,1:L}=(0,f.useState)(!0),{0:V,1:W}=(0,f.useState)(!1),{0:H,1:q}=(0,f.useState)(B.INITIAL),{0:G,1:$}=(0,f.useState)([]),{0:K,1:X}=(0,f.useState)([]),{mutateAsync:Q}=function(e,t){let r=(0,p.Z)(),n=(0,c.NL)();return(0,d.D)({mutationFn:async t=>{let{emails:n,role:a,resendEmails:i}=t,s=[],o=Math.max(5,Math.round(n.length/10));for(let e=0;e<n.length;e+=o)s.push(n.slice(e,e+o));let c=async t=>l.Z.addWorkspaceUsers(e,t,a,i).then(e=>(e.errored_emails.length>0&&_.m.danger(r.formatMessage(U.inviteMessageFailure,{emailsStr:e.errored_emails.map(e=>{let{email_address:t,error:r}=e;return"".concat(t,": ").concat(r)}).join(", ")})),e.account_invites)).catch(e=>{throw _.m.danger(e.message),e});return(await Promise.all(s.map(e=>c(e)))).flat()},onSuccess:()=>{n.invalidateQueries({queryKey:["workspace","invites",e]}),null==t||t()}})}(r.id,x),Y=(0,F.uo)(),J=null===(t=(0,F.VG)())||void 0===t||t,{0:ee,1:et}=(0,f.useState)([]);(0,f.useEffect)(()=>{if(!(null!=G&&G.length)||!(null!=Y&&Y.length)||J){et([]);return}let e=Y.map(e=>"@"+e.hostname.toLowerCase());et(G.map(e=>{let{email:t}=e;return t.toLowerCase()}).filter(t=>!e.some(e=>t.endsWith(e))))},[Y,J,G]);let er=z(b),en=async e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){let e=await new Promise(e=>{if(r.size/1048576>25)e({status:"error",reason:"file_too_large"});else if("text/csv"!==r.type)e({status:"error",reason:"invalid_file_type"});else{let t=new FileReader;t.readAsText(r),t.onload=function(t){var r;let n=O,a=(null===(r=t.target)||void 0===r?void 0:r.result).split("\n"),i=new Set;e({status:"success",newRows:a.reduce((e,t)=>{let[r,a]=t.split(",").map(e=>e.trim());if(o.F.test(r)&&!i.has(r)){var s;void 0!==er[a]||n||(n=!0),e.push({email:r,role:null!==(s=er[a])&&void 0!==s?s:er.member})}return i.add(r),e},[]),hasWarning:n})}}});"success"===e.status?($(e.newRows),q(B.CSV_TABLE),k(e.hasWarning)):"file_too_large"===e.reason?_.m.danger(S.formatMessage(U.fileTooLargeWarning,{maxSize:"".concat(25,"MB")}),{duration:5}):"invalid_file_type"===e.reason&&_.m.danger(S.formatMessage(U.fileIncorrectTypeWarning),{duration:5})}},ea=(e,t,r)=>{let n=[...G];n[e]=R(R({},n[e]),{},{[t]:r}),$(n)},ei=e=>{$([...G.slice(0,e),...G.slice(e+1)])},es=(0,f.useCallback)(()=>{$([]),q(B.INITIAL),W(!1),X([])},[]),el=async()=>{W(!0);try{G.length>5&&_.m.info(S.formatMessage(U.inviteMessageLoading,{numRows:G.length}),{hasCloseButton:!0});let e=[["admin",i.r3.ADMIN],["owner",i.r3.OWNER],["member",i.r3.STANDARD]],t=(await Promise.all(m()(e.map(e=>{let[t,r]=e,n=G.filter(e=>e.role===t).map(e=>e.email);return n.length>0&&Q({emails:n,role:r,resendEmails:Z})})))).flat().length;t>0&&_.m.success(S.formatMessage(U.inviteSuccessToast,{numRows:t,userStr:1===t?"user":"users",workspaceName:(0,A.CV)(S,r)})),null==x||x(),es()}finally{W(!1)}},eo=(0,M.jsx)(h.z,{color:"primary",size:v?"large":"medium",disabled:V||0===G.length||ee.length>0,onClick:el,children:V?S.formatMessage(U.inviteMemberInviteSubmitButtonLoading):S.formatMessage(U.inviteMemberInviteSubmitButton)}),ec=(0,M.jsx)(h.z,{color:"primary",size:v?"large":"medium",disabled:0===K.length,onClick:()=>{let e=new Set;$(K.reduce((t,r)=>(e.has(r.value)||t.push(r.value),e.add(r.value),t),[]).map(e=>({email:e,role:er.member}))),q(B.CSV_TABLE)},children:S.formatMessage(U.inviteMemberInviteNextButton)});return(0,M.jsxs)("div",{className:"flex flex-col gap-2",children:[H===B.INITIAL&&(0,M.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,M.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,M.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,M.jsx)("label",{htmlFor:"upload-csv",id:"upload-csv-label",children:(0,M.jsx)(g.Z,R({},U.importCSVLabel))}),(0,M.jsxs)("span",{className:"text-sm text-token-text-tertiary",children:[(0,M.jsx)(g.Z,R(R({},j?U.helperCSVFormatHide:U.helperCSVFormatShow),{},{values:{link:e=>(0,M.jsx)("button",{className:"underline",onClick:()=>{y(!j)},children:e})}})),j&&(0,M.jsx)("pre",{className:"mt-4",children:"email,role\nuser1@company.com,member\nadmin@company.com,admin\nit@company.com,owner"})]})]}),(0,M.jsx)("input",{ref:P,type:"file",accept:".csv,text/csv",id:"upload-csv",className:"hidden",onChange:en}),(0,M.jsx)(h.z,{color:"secondary",onClick:()=>{var e;return null===(e=P.current)||void 0===e?void 0:e.click()},children:(0,M.jsx)(g.Z,R({},U.importCSVButton))})]}),(0,M.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,M.jsx)("label",{htmlFor:"add-member-emails",id:"add-emails-label",children:(0,M.jsx)(g.Z,R({},U.addEmailsFieldName))}),(0,M.jsx)(C,{value:K,onChange:X})]})]}),H===B.CSV_TABLE&&(0,M.jsxs)(M.Fragment,{children:[O&&(0,M.jsxs)("div",{className:"flex w-full items-center bg-yellow-100 p-4",children:[(0,M.jsx)(w.ETw,{className:"icon-sm mr-2 text-yellow-700"}),(0,M.jsx)("div",{className:"flex-grow text-yellow-700",children:(0,M.jsx)(g.Z,R({},U.unspecifiedRoleDescription))})]}),ee.length>0&&(0,M.jsx)("div",{className:"flex w-full items-center bg-red-100 p-4",children:(0,M.jsxs)("div",{className:"flex-grow text-red-700",children:[(0,M.jsx)(g.Z,R({},U.prohibitedExternalEmailDescription)),(0,M.jsx)("pre",{className:"my-1",children:ee.join(", ")}),(0,M.jsx)(g.Z,R({},U.prohibitedExternalEmailResolution))]})}),(0,M.jsxs)(D.Z.Root,{size:"normal",children:[(0,M.jsxs)(D.Z.Header,{children:[(0,M.jsx)(D.Z.HeaderCell,{children:(0,M.jsx)(g.Z,R({},U.inviteTableHeaderEmail))}),(0,M.jsx)(D.Z.HeaderCell,{className:"pl-3 dark:bg-gray-900",children:(0,M.jsx)(g.Z,R({},U.inviteTableHeaderRole))}),(0,M.jsx)(D.Z.HeaderCell,{})]}),(0,M.jsx)(D.Z.Body,{children:G.map((e,t)=>(0,M.jsxs)(D.Z.Row,{children:[(0,M.jsx)(D.Z.Cell,{children:(0,M.jsx)(I.Z,{name:"email",type:"email",value:e.email,onChange:e=>ea(t,"email",e.target.value),color:"neutral"})}),(0,M.jsx)(D.Z.Cell,{children:(0,M.jsxs)(E.Z.Root,{value:e.role,onValueChange:e=>ea(t,"role",e),children:[(0,M.jsxs)(E.Z.Trigger,{children:[(0,M.jsx)(E.Z.Value,{}),(0,M.jsx)(E.Z.Icon,{})]}),(0,M.jsx)(E.Z.Portal,{children:(0,M.jsxs)(E.Z.Content,{className:"border border-token-main-surface-secondary",children:[(0,M.jsx)(E.Z.Item,{value:er.member,children:(0,M.jsx)(g.Z,R({},U.inviteRoleMember))}),er.admin&&(0,M.jsx)(E.Z.Item,{value:er.admin,children:(0,M.jsx)(g.Z,R({},U.inviteRoleAdmin))}),er.owner&&(0,M.jsx)(E.Z.Item,{value:er.owner,children:(0,M.jsx)(g.Z,R({},U.inviteRoleOwner))})]})})]})}),(0,M.jsx)(D.Z.Cell,{textAlign:"right",children:(0,M.jsx)(w.XHJ,{onClick:()=>ei(t),className:"icon-sm mr-2 cursor-pointer text-token-text-secondary"})})]},t))})]})]}),n&&L&&(0,M.jsx)("div",{className:"mt-2 flex items-center text-left text-token-text-secondary",children:(0,M.jsx)(s.Z,{id:"resend-emails",checked:Z,onChange:e=>L(e.currentTarget.checked),label:S.formatMessage(U.resendEmailsFieldName)})}),H===B.INITIAL&&N&&(0,M.jsx)("div",{className:"mb-4",children:(0,M.jsx)(T.Z,{children:(0,M.jsx)(g.Z,R({},U.teamInviteModalNote))})}),(0,M.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,M.jsx)(h.z,{color:"secondary",size:v?"large":"medium",onClick:()=>{H!==B.INITIAL?q(B.INITIAL):(es(),a())},children:H===B.INITIAL?u:S.formatMessage(U.inviteMemberInviteBackButton)}),H===B.INITIAL?ec:eo]})]})}let z=e=>{let t={member:"member"};return e&&(t.admin="admin",t.owner="owner"),t},U={importCSVLabel:{id:"adminPage.importCSVLabel",defaultMessage:"Import from CSV",description:"Name of label for import from CSV button"},helperCSVFormatHide:{id:"adminPage.helperCSVFormat",defaultMessage:'The file must include email and an optional role on each line. Roles can be "member", "admin", or "owner". <link>Hide Example</link>',description:"Instructions for formatting the import CSV, with a link to hide the example"},helperCSVFormatShow:{id:"adminPage.helperCSVFormat",defaultMessage:'The file must include email and an optional role on each line. Roles can be "member", "admin", or "owner". <link>Show Example</link>',description:"Instructions for formatting the import CSV, with a link to show an example"},importCSVButton:{id:"adminPage.importCSVButton",defaultMessage:"Upload",description:"Name of upload from CSV button"},addEmailsFieldName:{id:"adminPage.addEmailsFieldName.0",defaultMessage:"Emails",description:"Name of input for adding emails to workspace"},unspecifiedRoleDescription:{id:"adminPage.unspecifiedRoleDescription",defaultMessage:"Roles that were unspecified have been changed to Member.",description:"Description text for defaulting invite roles to member"},prohibitedExternalEmailDescription:{id:"adminPage.prohibitedExternalEmailDescription",defaultMessage:"The following emails are not a part of your organization's verified domains:",description:"Description text for error message"},prohibitedExternalEmailResolution:{id:"adminPage.prohibitedExternalEmailResolution",defaultMessage:'Either remove these emails, enable "Allow External Domain Invites" from your workspace settings, or verify these email domains.',description:"Description text for error message"},inviteTableHeaderEmail:{id:"adminPage.inviteTableHeaderEmail",defaultMessage:"Email",description:"Label for email column of invite table header"},inviteTableHeaderRole:{id:"adminPage.inviteTableHeaderRole",defaultMessage:"Role",description:"Label for role column of invite table header"},inviteRoleMember:{id:"adminPage.inviteRoleMember",defaultMessage:"Member",description:"Member role for workspace invite"},inviteRoleAdmin:{id:"adminPage.inviteRoleAdmin",defaultMessage:"Admin",description:"Admin role for workspace invite"},inviteRoleOwner:{id:"adminPage.inviteRoleOwner",defaultMessage:"Owner",description:"Owner role for workspace invite"},fileTooLargeWarning:{id:"adminPage",defaultMessage:"File is too large. Please upload a CSV file smaller than {maxSize}.",description:"Error when uploading a file that is too large"},fileIncorrectTypeWarning:{id:"adminPage",defaultMessage:"Please upload a CSV file.",description:"Error when uploading a file that is not a CSV"},resendEmailsFieldName:{id:"adminPage.resendEmailsFieldName",defaultMessage:"Resend emails for existing invites",description:"Name of checkbox input for resending emails to workspace"},teamInviteModalNote:{id:"adminPage.teamInviteModalNote",defaultMessage:"Users that accept invites will be included as additional seats on your next invoice.",description:"Note for team plan invites that additional seats will be charged"},inviteMessageLoading:{id:"adminPage.inviteMessageLoading",defaultMessage:"Sending out {numRows} invites, this may take a minute...",description:"Loading message when invites are being sent"},inviteSuccessToast:{id:"adminPage.inviteSuccessToast",defaultMessage:"Invited {numRows} {userStr} to {workspaceName}",description:"Message on successfully sending out invites"},inviteMemberInviteNextButton:{id:"adminPage.inviteMemberInviteNextButton",defaultMessage:"Next",description:"The title of the invite member modal next button"},inviteMemberInviteSubmitButton:{id:"adminPage.inviteMemberInviteSubmitButton",defaultMessage:"Send invites",description:"The title of the invite member modal submit button"},inviteMemberInviteSubmitButtonLoading:{id:"adminPage.inviteMemberInviteSubmitButtonLoading",defaultMessage:"Sending invites...",description:"Button label while inviting members"},inviteMemberInviteBackButton:{id:"adminPage.inviteMemberInviteBackButton",defaultMessage:"Back",description:"The title of the invite member modal back button"},inviteMessageFailure:{id:"adminPage.inviteMessageFailure",defaultMessage:"Unable to invite {emailsStr}",description:"Message that shows which emails were unsuccessful at being invited"}}},25805:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(98601),a=r(31438),i=r(91530),s=r.n(i),l=r(75172),o=r(62984),c=r(68306),d=r(24434),u=r(7331),m=r(12310),f=r(651);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e){var t,r;let{workspace:n}=e,i=(0,l.Z)(),c=(0,a.EV)(a.B.InviteUsersToWorkspace),p=null===(t=(0,m.VG)())||void 0===t||t,h=null===(r=(0,m.uo)())||void 0===r?void 0:r.map(e=>e.hostname);return(0,f.jsx)(d.Z,{size:"custom",className:"max-w-lg text-sm",isOpen:c,onClose:s(),type:"success",title:null!=n.data.name?i.formatMessage(x.inviteMemberModalTitle,{workspaceName:n.data.name}):i.formatMessage(x.inviteMemberModalTitleUntitledWorkspace),description:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{children:(0,f.jsx)(o.Z,g({},x.inviteMemberModalDescription))}),!!(null!=h&&h.length)&&!p&&(0,f.jsxs)("p",{className:"mt-2",children:[(0,f.jsx)(o.Z,g({},x.prohibitExternalDomainsDescription)),"\xa0",(0,f.jsx)("b",{children:h.join(", ")})]})]}),children:(0,f.jsx)(u.Z,{workspace:n,canResendInviteEmails:!0,onCancel:()=>a.vm.closeModal(a.B.InviteUsersToWorkspace),onSuccess:()=>a.vm.closeModal(a.B.InviteUsersToWorkspace),cancelButtonText:i.formatMessage(x.inviteMemberInviteCancelButton)})})}let x=(0,c.vU)({inviteMemberInviteCancelButton:{id:"adminPage.inviteMemberInviteCancelButton",defaultMessage:"Cancel"},inviteMemberModalTitle:{id:"adminPage.inviteMemberModalTitle",defaultMessage:"Invite members to the {workspaceName} workspace"},inviteMemberModalTitleUntitledWorkspace:{id:"adminPage.inviteMemberModalTitleUntitledWorkspace",defaultMessage:"Invite members to this workspace"},inviteMemberModalDescription:{id:"adminPage.inviteMemberModalDescription",defaultMessage:"This workspace is private, only select members and roles can use this workspace. This workspace is opted out of training."},prohibitExternalDomainsDescription:{id:"ky8nVd",defaultMessage:"Only users from the following emails can be added to this workspace:"},fileTooLargeWarning:{id:"adminPage",defaultMessage:"File is too large. Please upload a CSV file smaller than {maxSize}."}})},28626:function(e,t,r){r.d(t,{LE:function(){return ev},ZP:function(){return eh}});var n,a,i=r(2346),s=r(98601),l=r(16351),o=r(93951),c=r(86025),d=r(82821),u=r(31438),m=r(12598),f=r(99976),p=r(65012),g=r(88667),h=r(19841),x=r(92379),v=r(69539),b=r(75172),j=r(62984),y=r(68306),w=r(15478),M=r(11550),O=r(30478),k=r(76608);r(30853);var P=r(28146),C=r(91496),N=r(22591),S=r(83322),Z=r(25805),I=r(71829),T=r(2721),E=r(41987),D=r(66290),_=r(84760),F=r(61619),A=r(34977),L=r(97537),R=r(87440),B=r(68810);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let z={showFreeTrialLoadingPayment:!1,showConfirmDismissFreeTrial:!1,didCloseFreeTrial:!1},U=(0,B.Ue)()(()=>(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e})({},z));function W(e){U.setState({showFreeTrialLoadingPayment:e})}var H=r(24740),q=r(88600),G=r(98302),$=r(651);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Q(e){let{showFreeTrialLoadingPayment:t,handleGetPaymentLink:r}=e,n=(0,b.Z)(),{data:a,isLoading:i,isSuccess:s}=(0,_.a)({queryKey:["claimedReferralInvite"],queryFn:()=>T.Z.getClaimedReferralInvite(),refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,refetchOnReconnect:!1}),l=null==a?void 0:a.invite_code,{0:o,1:c}=(0,x.useState)(!1);if((0,x.useEffect)(()=>{l&&!o&&s&&(c(!0),g.m9.logEvent("chatgpt_referral_show_claimed_sidebar_menu_promo"),f.A.logEvent(F.M.chatgptReferralShowClaimedSidebartMenuPromo))},[l,c,o,s]),!l||i||!s)return null;let d=l.invite_metadata.invite_data,u=null!=d&&d.referral_trial_duration_months?(null==d?void 0:d.referral_trial_duration_months)>1?n.formatMessage(J.monthsOfBenefit,{referralTrialDurationMonths:null==d?void 0:d.referral_trial_duration_months}):n.formatMessage(J.daysOfBenefit,{referralTrialDurationDays:null==d?void 0:d.referral_trial_duration_days}):null;return(0,$.jsx)(q.E.div,{className:(0,h.default)("relative",{"cursor-progress opacity-50":t}),layout:"position",initial:{y:-10,opacity:1},animate:{y:0,opacity:1,transition:{duration:.1,ease:"easeIn"}},children:(0,$.jsxs)(Y,{className:(0,h.default)(t&&"opacity-75"),onClick:()=>{t||(W(!0),r())},children:[(0,$.jsxs)("div",{className:"flex w-full flex-row items-center justify-start gap-3",children:[(0,$.jsx)(G.E33,{className:"icon-sm shrink-0"}),(0,$.jsx)(j.Z,X(X({},J.freeTrialCta),{},{values:{duration:u}}))]}),!t&&(0,$.jsx)(P.tPq,{onClick:e=>{e.stopPropagation(),U.setState({showConfirmDismissFreeTrial:!0}),U.setState({didCloseFreeTrial:!0})},className:"icon-md shrink-0 rounded-full p-0.5 text-token-text-tertiary opacity-50 transition-colors duration-200 hover:bg-[#0077FF] hover:text-red-500 group-hover:opacity-100"}),(0,$.jsx)("span",{className:"absolute top-11 h-0 w-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-[#0077FF] transition-colors duration-200 group-hover:border-t-[#0077FF]"})]})})}let Y=w.Z.a(n||(n=(0,i.Z)(["group relative mb-1 rounded-md hover:[#0077FF] bg-[#0077FF] flex px-3 min-h-[44px] py-1 items-center gap-3 transition-colors duration-200 dark:text-white cursor-pointer text-sm"]))),J=(0,y.vU)({freeTrialCta:{id:"PaymentMenuItems.freeTrialCta",defaultMessage:"Get {duration}!"},monthsOfBenefit:{id:"FreeTrialMenuItem.monthsOfBenefit",defaultMessage:"{referralTrialDurationMonths, plural, one {one month free} other {# months free}}"},daysOfBenefit:{id:"FreeTrialMenuItem.daysOfBenefit",defaultMessage:"{referralTrialDurationDays, plural, one {one day free} other {# days free}}"}});var ee=r(90067);function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function en(){var e,t,r,n,a,i;let s=(0,A.useRouter)(),l=(0,b.Z)(),c=(0,o.hz)(),d=(0,o.t)(),u=!d,m=null!==(e=null==d?void 0:d.hasPaidSubscription())&&void 0!==e&&e,p=null!==(t=null==d?void 0:d.hasClaimedFreeTrial())&&void 0!==t&&t,h=(0,x.useMemo)(()=>null==d?void 0:d.subscriptionAnalyticsParams,[d]),v=async()=>{W(!0),f.A.logEvent(F.M.clickAccountPaymentCheckout,h);try{let e=await T.Z.getCheckoutLink(c);s.push(e.url)}catch(e){H.m.warning(l.formatMessage(el.paymentErrorWarning),{hasCloseButton:!0}),W(!1)}finally{}},j=U(e=>e.didCloseFreeTrial),y=U(e=>e.showFreeTrialLoadingPayment),w=!j&&p,M=null!==(r=null==d?void 0:d.wasPaidCustomer())&&void 0!==r&&r,O=null!==(n=null==d?void 0:d.isWorkspaceAccount())&&void 0!==n&&n,k=null!==(a=null==d?void 0:d.isPlus())&&void 0!==a&&a,P=(0,D.Z)(),{setShowReferralInviteModal:C}=(0,R.C)(e=>({setShowReferralInviteModal:e.setShowReferralInviteModal})),N=(0,x.useCallback)(()=>{g.m9.logEvent("chatgpt_referral_invite_sidebar_clicked"),f.A.logEvent(F.M.chatgptReferralInviteSidebarClicked,h),C(!0,()=>{f.A.logEvent(F.M.clickSidebarAccountPaymentMenuItem,h)})},[h,C]),S=null!==(i=null==d?void 0:d.isTeam())&&void 0!==i&&i;return(0,$.jsxs)($.Fragment,{children:[((null==c?void 0:c.includes(E.a3))||m)&&(0,$.jsx)(es,{analyticsParams:h,handleReferralInvite:N}),!m&&w&&(0,$.jsx)(Q,{showFreeTrialLoadingPayment:y,handleGetPaymentLink:v}),S&&(0,$.jsx)(ei,{}),!u&&!O&&(0,$.jsx)(ee.Vq,{onClick:w?()=>{y||(W(!0),v())}:()=>{f.A.logEvent(F.M.clickSidebarAccountPaymentMenuItem,h),(0,I.MG)(P,"Sidebar account payment menu item")},className:"m-0 rounded-lg px-2",children:(0,$.jsx)("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:(0,$.jsx)("div",{className:"flex items-center gap-2",children:(0,$.jsx)(ea,{wasPaidCustomer:M,showFreeTrialLoadingPayment:y,hasPlusSubscription:k})})})})]})}let ea=e=>{let{wasPaidCustomer:t,showFreeTrialLoadingPayment:r,hasPlusSubscription:n}=e;return r?(0,$.jsx)(L.Z,{className:"icon-sm shrink-0"}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("span",{className:"flex h-7 w-7 items-center justify-center rounded-full border border-token-border-light",children:(0,$.jsx)(P.xIk,{className:"icon-sm shrink-0"})}),(0,$.jsx)("div",{className:"flex flex-col",children:t?(0,$.jsx)(j.Z,er({},el.renewPlus)):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("span",{children:n?(0,$.jsx)(j.Z,er({},el.createATeamWorkspace)):(0,$.jsx)(j.Z,er({},el.upgradePlan))}),(0,$.jsx)("span",{className:"line-clamp-1 text-xs text-token-text-tertiary",children:n?(0,$.jsx)(j.Z,er({},el.upgradeToTeamUpsell)):(0,$.jsx)(j.Z,er({},el.upgradeToPlusUpsell))})]})})]})},ei=()=>{let e=(0,o.t)();return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(ee.Vq,{onClick:()=>{u.vm.openModal(u.B.InviteUsersToWorkspace)},className:"rounded-lg",children:(0,$.jsx)("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:(0,$.jsxs)("span",{className:"flex items-center gap-2",children:[(0,$.jsx)("span",{className:"flex h-7 w-7 items-center justify-center rounded-full border border-token-border-light",children:(0,$.jsx)(P.pF9,{className:"icon-sm shrink-0"})}),(0,$.jsx)(j.Z,er({},el.inviteMembers))]})})}),null!=e?(0,$.jsx)(Z.Z,{workspace:e}):null]})},es=e=>{var t;let{analyticsParams:r,handleReferralInvite:n}=e,a=(0,o.hz)(),i=null!==(t=null==a?void 0:a.includes(E.a3))&&void 0!==t&&t,s=(0,o.t)(),{data:l}=(0,_.a)({queryKey:["referralInvites"],queryFn:()=>T.Z.getEligibleReferralInvites(),enabled:i}),c=s&&!s.isOrWasPaidCustomer()&&!s.hasPlusFeatures(),d=(null==l?void 0:l.invites_remaining)&&(null==l?void 0:l.invites_remaining)>0,u=c&&d,{0:m,1:p}=(0,x.useState)(!1);return((0,x.useEffect)(()=>{u&&!m&&(p(!0),g.m9.logEvent("chatgpt_referral_show_sidebar_menu_item"),f.A.logEvent(F.M.chatgptReferralShowSidebarMenuItem,r))},[u,p,m,r]),u)?(0,$.jsx)(ee.Vq,{onClick:n,className:"rounded-lg",children:(0,$.jsx)("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:(0,$.jsxs)("span",{className:"flex items-center gap-2",children:[(0,$.jsx)("span",{className:"flex h-7 w-7 items-center justify-center rounded-full border border-token-border-light",children:(0,$.jsx)(P.pF9,{className:"icon-sm shrink-0"})}),(0,$.jsx)(j.Z,er({},el.inviteReferral))]})})}):null},el=(0,y.vU)({upgradePlan:{id:"PaymentMenuItems.upgradePlan",defaultMessage:"Upgrade plan"},createATeamWorkspace:{id:"PaymentMenuItems.createATeamWorkspace",defaultMessage:"Add Team workspace"},upgradeToTeamUpsell:{id:"PaymentMenuItems.upgradeToTeamUpsell",defaultMessage:"Collaborate on a Team plan"},upgradeToPlusUpsell:{id:"PaymentMenuItems.upgradeToPlusUpsell.0",defaultMessage:"Get GPT-4, DALL\xb7E, and more"},renewPlus:{id:"PaymentMenuItems.renewPlus",defaultMessage:"Renew Plus"},inviteReferral:{id:"PaymentMenuItems.inviteReferral",defaultMessage:"Refer a friend"},inviteMembers:{id:"PaymentMenuItems.inviteMembers.0",defaultMessage:"Invite members"},paymentErrorWarning:{id:"PaymentMenuItems.paymentErrorWarning",defaultMessage:"The payments page encountered an error. Please try again. If the problem continues, please visit help.openai.com."}});var eo=r(15913),ec=r(42420),ed=r(56032);let eu=()=>(0,_.a)({queryKey:["userSurvey"],queryFn:async()=>T.Z.getActiveUserSurvey()}),em=()=>{let e=(0,ec.NL)();return(0,ed.D)({mutationFn:async e=>{let{surveyId:t,reason:r}=e;return T.Z.completeUserSurvey(t,r)},onSuccess:async()=>{e.invalidateQueries({queryKey:["userSurvey"]})}})};function ef(){var e;let t=(0,b.Z)(),r=(0,eo.w$)(),{0:n,1:a}=(0,x.useState)(!1),i=null===(e=eu().data)||void 0===e?void 0:e.survey,s=em(),l=e=>{a(!0),null!=i&&s.mutate({surveyId:i.id,reason:e})};return n||null==i?null:(0,$.jsx)("div",{className:"mx-1 mb-1 rounded-sm bg-brand-blue-800",children:(0,$.jsxs)("div",{className:"flex flex-col items-center justify-stretch gap-3 p-3 text-sm text-white",children:[(0,$.jsxs)("div",{className:"flex w-full items-start",children:[(0,$.jsxs)("div",{className:"flex flex-grow flex-col gap-1",children:[(0,$.jsx)("div",{className:"font-bold",children:(0,$.jsx)(j.Z,{id:"navigation.survey.title",defaultMessage:"We are asking a small group of people for their opinion"})}),(0,$.jsx)("div",{children:(0,$.jsx)(j.Z,{id:"navigation.survey.description",defaultMessage:"Could you spare few minutes to take a short survey?"})})]}),(0,$.jsx)("button",{className:"text-white/25 hover:text-white/40",onClick:()=>l("dismissed"),"aria-label":t.formatMessage({id:"navigation.survey.dismiss",defaultMessage:"Dismiss survey"}),children:(0,$.jsx)(P.tPq,{width:r?"20px":"24px",height:r?"20px":"24px"})})]}),(0,$.jsxs)("a",{href:i.link,target:"_blank",className:"flex w-full flex-row items-center justify-center gap-2 rounded bg-white/25 p-2 hover:bg-white/40",rel:"noreferrer",onClick:()=>l("link_clicked"),children:[(0,$.jsx)(P.Pfi,{className:"icon-sm"}),(0,$.jsx)(j.Z,{id:"navigation.survey.takeSurvey",defaultMessage:"Take survey"})]})]})})}function ep(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ep(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eh(e){let{navHeader:t,children:r,className:n}=e,a=(0,b.Z)(),i=(0,x.useRef)(null),s=(0,O.V_)(),{openSettings:l}=(0,C.F)(),{isUnauthenticated:o}=(0,c.u)();return(0,x.useEffect)(()=>{O._P.getModifiedSettings()&&l()},[]),(0,$.jsx)($.Fragment,{children:(0,$.jsxs)("div",{className:"relative h-full w-full flex-1 items-start border-white/20",children:[(0,$.jsx)(m.f,{asChild:!0,children:(0,$.jsx)("h2",{children:(0,$.jsx)(j.Z,eg({},ej.chatHistoryLabel))})}),(0,$.jsxs)("nav",{className:(0,h.default)("flex h-full w-full flex-col px-3",n),"aria-label":a.formatMessage(ej.chatHistoryLabel),children:[t,(0,$.jsx)(eb,{ref:i,$disableScroll:s&&!o,children:r}),(0,$.jsx)(ex,{})]})]})})}function ex(){let{0:e}=(0,x.useState)(()=>{let e=p.bX.getCookie(p.cn.Workspace);return"string"==typeof e&&e!==l.bC}),t=(0,o.t)(),r=(null==t?void 0:t.data)==null,{isUnauthenticated:n}=(0,c.u)(),{openSettings:a}=(0,C.F)(),{isCollapsible:i}=(0,N.j)(),s=(0,u.tN)(e=>e.isHistoryCollapsed);return e&&r||!t?null:n?(0,$.jsx)(ev,{}):(0,$.jsxs)("div",{className:(0,h.default)("flex flex-col py-2 empty:hidden dark:border-white/20",i&&"-mx-3 border-t border-token-border-sharp px-3"),children:[i&&!s&&(0,$.jsx)(k.x,{type:"less",onClick:u.vm.toggleHistoryCollapsed}),(0,$.jsx)(ef,{}),(0,$.jsx)(en,{}),(0,$.jsx)("div",{className:"flex w-full items-center md:hidden",children:(0,$.jsx)("div",{className:"max-w-[100%] grow",children:(0,$.jsx)(S.W,{onClickSettings:()=>a()})})})]})}let ev=()=>{let e=(0,v.x)(),t=(0,d.b)(),r=(0,$.jsx)(M.z,{as:"button",size:"medium",color:e?"secondary":"primary","data-testid":"signup-button",onClick:()=>{let e=t({authType:"signup"});f.A.logSignUpButtonClicked({location:"Sidebar bottom unit",provider:e}),g.m9.logEvent("chatgpt_sidebar_signup_button_clicked")},children:(0,$.jsx)(j.Z,eg({},ej.unauthSignupCta))}),n=(0,$.jsx)(M.z,{as:"button",size:"medium",color:e?"primary":"secondary","data-testid":"login-button",onClick:()=>{let e=t({authType:"login"});f.A.logLogInButtonClicked({location:"Sidebar bottom unit",provider:e}),g.m9.logEvent("chatgpt_sidebar_login_button_clicked")},children:(0,$.jsx)(j.Z,eg({},ej.unauthLoginCta))});return(0,$.jsxs)("div",{className:"p-2",children:[(0,$.jsxs)("div",{className:"mb-4 mt-2",children:[(0,$.jsx)("p",{className:"mb-1 text-sm font-semibold text-token-text-primary",children:(0,$.jsx)(j.Z,eg({},e?ej.logInOrSignUp:ej.signUpOrLogIn))}),(0,$.jsx)("p",{className:"text-sm text-token-text-secondary",children:(0,$.jsx)(j.Z,{id:"4qlPtW",defaultMessage:"Get smarter responses, upload files and images, and more."})})]}),(0,$.jsx)("div",{className:"flex flex-row items-start gap-2",children:e?[n,r]:[r,n]})]})},eb=w.Z.div(a||(a=(0,i.Z)(["flex-col flex-1 transition-opacity duration-500 relative -mr-2 pr-2\n  ",""])),e=>{let{$disableScroll:t}=e;return t?"overflow-y-hidden opacity-20 pointer-events-none":"overflow-y-auto"}),ej=(0,y.vU)({chatHistoryLabel:{id:"NavigationContent.chatHistoryLabel",defaultMessage:"Chat history"},closeSidebar:{id:"NavigationContent.closeSidebar",defaultMessage:"Close sidebar"},signInToChat:{id:"NavigationContent.signInToChat",defaultMessage:"Sign in to ChatGPT"},signUpOrLogIn:{id:"NavigationContent.signUpOrLogIn",defaultMessage:"Sign up or log in"},logInOrSignUp:{id:"NavigationContent.logInOrSignUp",defaultMessage:"Log in or sign up"},unauthSignupCta:{id:"NavigationContent.unauthSignupCta",defaultMessage:"Sign up"},unauthLoginCta:{id:"NavigationContent.unauthLoginCta",defaultMessage:"Log in"}})},75372:function(e,t,r){r.d(t,{f:function(){return p}});var n,a=r(98601),i=r(52088),s=r(2346),l=r(92379),o=r(15478),c=r(651);let d=["icon","children"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let f=o.Z.button(n||(n=(0,s.Z)(["flex h-10 w-full items-center gap-2.5 rounded-lg px-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary"]))),p=(0,l.forwardRef)(function(e,t){let{icon:r,children:n}=e,a=(0,i.Z)(e,d);return(0,c.jsxs)(f,m(m({ref:t},a),{},{children:[(0,c.jsx)("div",{className:"flex h-6 w-6 items-center justify-center text-token-text-secondary",children:(0,c.jsx)(r,{className:"icon-md"})}),(0,c.jsx)("span",{className:"text-sm",children:n})]}))})},22591:function(e,t,r){r.d(t,{j:function(){return s}});var n=r(88667),a=r(92379),i=r(24241);function s(){let{conversations:e}=(0,i.MO)(),t=(0,a.useMemo)(()=>!(e.length<=5)&&n.m9.checkGate("4277113861"),[e]);return{canUseHistoryIsCollapsible:t,isCollapsible:t&&e.length>5,recentConversationLimit:5}}},60464:function(e,t,r){r.d(t,{F:function(){return n}});let n=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/}}]);
//# sourceMappingURL=3127-cd6fe368dc9bb2af.js.map