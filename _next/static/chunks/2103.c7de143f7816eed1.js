"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2103,4169],{89905:function(e,t,r){r.d(t,{Z:function(){return y}});var n,s,a,l=r(2346),o=r(99333),i=r(58025),c=r(79746),d=r(19841),u=r(92379),f=r(75172),p=r(62984),h=r(15478),m=r(39358),x=r(16779),j=r(41871),g=r(651);function y(e){let{children:t,className:r,language:n,content:s,shouldWrapCode:a}=e,l=(0,u.useCallback)(()=>{(0,c.v)(s)},[s]),o=(0,f.Z)(),{isWithinDataAnalysisToolMessage:i}=(0,u.useContext)(j.cm);return(0,g.jsx)(w,{title:n,shouldWrapCode:a,headerDecoration:(0,g.jsxs)("div",{className:"flex items-center",children:[i&&(0,g.jsx)(b,{}),(0,g.jsx)(m.Z,{buttonText:o.formatMessage({id:"zIa6ZQ",defaultMessage:"Copy code"}),onCopy:l})]}),codeClassName:r,children:t})}function b(){let e=(0,i.Gt)(),{data:t=!1}=(0,i.R1)(o.sh.ShowExpandedCodeView),r=(0,f.Z)();return(0,g.jsxs)("div",{className:"mr-2 flex items-center gap-2 border-r border-token-border-medium pr-2",children:[(0,g.jsx)("label",{htmlFor:"ada-always-show",children:(0,g.jsx)(p.Z,{defaultMessage:"Always show details",id:"message.tools.codeInterpreter.alwaysShowAnalysis"})}),(0,g.jsx)(x.Z,{id:"ada-always-show",size:"small",onChange:t=>{e.mutate({setting:o.sh.ShowExpandedCodeView,value:t})},enabled:t,label:t?r.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis on",id:"message.tools.codeInterpreter.alwaysShowAnalysis.enabled"}):r.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis off",id:"message.tools.codeInterpreter.alwaysShowAnalysis.disabled"})})]})}function w(e){let{children:t,title:r,headerDecoration:n,shouldWrapCode:s=!1,className:a,codeContainerClassName:l,codeClassName:o}=e;return(0,g.jsxs)(v,{className:a,children:[(null!=r||null!=n)&&(0,g.jsxs)(O,{children:[r&&(0,g.jsx)("span",{children:r}),n]}),(0,g.jsx)(Z,{className:l,children:(0,g.jsx)(k,{$shouldWrap:s,className:o,children:t})})]})}let v=h.Z.div(n||(n=(0,l.Z)(["dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"]))),O=h.Z.div(s||(s=(0,l.Z)(["flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"]))),Z=function(e){let{children:t,className:r}=e;return(0,g.jsx)("div",{className:(0,d.default)("overflow-y-auto p-4",r),dir:"ltr",children:t})},k=h.Z.code(a||(a=(0,l.Z)(["",""])),e=>e.$shouldWrap?"!whitespace-pre-wrap":"!whitespace-pre")},39358:function(e,t,r){r.d(t,{Z:function(){return j}});var n,s=r(2346),a=r(98601),l=r(92379),o=r(68306),i=r(62984),c=r(15478),d=r(15174),u=r(30853),f=r(47563),p=r(651);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let x=(0,o.vU)({copy:{id:"CopyButton.copy",defaultMessage:"Copy"},copied:{id:"CopyButton.copied",defaultMessage:"Copied!"}});function j(e){let{buttonText:t,shouldChangeText:r=!0,iconClassName:n="icon-sm",onCopy:s,className:a}=e,{0:o,1:c}=(0,l.useState)(!1),h=(0,d.Z)(),j=(0,l.useCallback)(e=>{e.stopPropagation(),s(),c(!0),setTimeout(()=>{h()&&c(!1)},2e3)},[h,s]),y=t;return r&&o?y=(0,p.jsx)(i.Z,m({},x.copied)):!0===t&&(y=(0,p.jsx)(i.Z,m({},x.copy))),(0,p.jsxs)(p.Fragment,{children:[!o&&(0,p.jsx)(u.u,{label:(0,p.jsx)(i.Z,{id:"CopyButton.copyTooltip",defaultMessage:"Copy"}),sideOffset:0,children:(0,p.jsxs)(g,{onClick:j,className:a,children:[(0,p.jsx)(f.TIy,{className:n}),y]})}),o&&(0,p.jsxs)(g,{className:a,children:[(0,p.jsx)(f.$As,{className:n}),y]})]})}let g=c.Z.button(n||(n=(0,s.Z)(["flex gap-1 items-center"])))},82175:function(e,t,r){r.r(t),r.d(t,{FormattedText:function(){return E},UserFormattedText:function(){return D}});var n=r(98601),s=r(52088),a=r(92745),l=r(25009),o=r(99976),i=r(61619),c=r(19841),d=r(99661),u=r(92379),f=r(50895),p=r(2721),h=r(28438),m=r(84760),x=r(89678),j=r.n(x),g=r(30478);async function y(e){let t=await r.e(7635).then(r.t.bind(r,47635,19));if(null!=h.B&&null!=e&&e.startsWith(h.B))return!0;try{let r=t.get(new URL(null!=e?e:"").hostname);if("openai.com"===r)return!0;return!1}catch{return!1}}var b=r(22440),w=r(4777),v=r(651);let O=["node","onClick","clientThreadId","messageId","href"],Z=["src","clientThreadId"],k=["node"],C=["node"];function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let N={},T={};function I(e,t){return function(e,t){var r;let n=(0,a.qN)(r=>null!=e&&null!=t&&a.iN.isThreadUrlSafe(e,t,r)),{data:{safe:s}={}}=(r=n?void 0:t,(0,m.a)({queryKey:["safe-url",{serverThreadId:e,url:r}],queryFn:async()=>{var t;return await y(r)||null!==(t=a.tQ.getThreadSafeUrls(e))&&void 0!==t&&t.includes(r)?{safe:!0}:p.Z.getConversationSafeUrls(e,r,(0,g.YK)())},enabled:null!=e&&null!=r}));return n||s?t:void 0}(e,function(e,t){let{0:r,1:n}=(0,u.useState)(void 0),{0:s}=(0,u.useState)(()=>j()(e=>{n(e)},500));return(0,u.useEffect)(()=>{s(e)},[s,e]),r===e?e:void 0}(t,0))}function M(e){var t;let{node:r,onClick:n,clientThreadId:l,messageId:c,href:d}=e,u=(0,s.Z)(e,O),f=n,p=null==r||null===(t=r.properties)||void 0===t?void 0:t.href,h=I((0,a.XK)(l),d);return null!=c&&"string"==typeof p&&p.includes("/bing/redirect")&&(N[c]||(o.A.logEvent(i.M.browsingShowBingLink,{id:c,content:p}),N[c]=!0),f=e=>{T[c]||(o.A.logEvent(i.M.browsingClickBingLink,{id:c,content:p}),T[c]=!0),null==n||n(e)}),(0,v.jsx)("a",P(P({onClick:f},u),{},{href:h,rel:"noreferrer"}))}function W(e){let{src:t,clientThreadId:r}=e,n=(0,s.Z)(e,Z),l=I((0,a.XK)(r),t);return null==l?(0,v.jsx)("div",{}):(0,v.jsx)("img",P(P({},n),{},{src:l}))}function E(e){let{size:t="medium",children:r,className:n,clientThreadId:o,messageId:i,interpolateCitations:f=!1,componentOverrides:p}=e,{resolvedTheme:h}=(0,d.F)(),m=(0,a.h9)(),x=(0,u.useMemo)(()=>P(P({},w.ff),{},{a:e=>{var t;let{node:r}=e,n=(0,s.Z)(e,k),a=null==r||null===(t=r.properties)||void 0===t?void 0:t.href;return"string"==typeof a&&a.startsWith(b.O6)?m?(0,v.jsx)(b.c7,P({},n)):null!=o&&null!=i?(0,v.jsx)(b.ZP,P(P({},n),{},{clientThreadId:o,messageId:i,href:a})):null:(0,v.jsx)(M,P(P({},e),{},{clientThreadId:o,messageId:i,interpolateCitations:f}))},img:e=>{var t;let{node:r}=e,n=(0,s.Z)(e,C),a=null==r||null===(t=r.properties)||void 0===t?void 0:t.src;return"string"==typeof a&&(a.startsWith(b.O6)||a.startsWith("attachment:"))?null:(0,v.jsx)(W,P(P({},n),{},{clientThreadId:o}))}},p),[o,f,m,i,p]);return(0,v.jsx)(l.S,{name:"formatted_text_error",fallback:()=>(0,v.jsx)(v.Fragment,{children:r}),children:(0,v.jsx)(_,{rehypePlugins:w.Yu,remarkPlugins:w.Hf,className:(0,c.default)(n,"markdown prose w-full break-words dark:prose-invert","dark"===h?"dark":"light","small"===t&&"prose-xs"),urlTransform:w.SQ,components:x,children:r})})}function D(e){let{text:t}=e;return(0,v.jsx)(l.S,{name:"formatted_text_error",fallback:()=>(0,v.jsx)(v.Fragment,{children:t}),children:(0,v.jsx)(F,{text:t})})}let F=e=>{let{text:t}=e,r=t.split(/(```[\s\S]*?```|`[^`\n]+`|```[\s\S]*|`[^`\n]*\n|`[^`\n]*$)/g).map((e,t)=>e.startsWith("```")&&e.endsWith("```")?(0,v.jsx)("pre",{className:"overflow-x-auto",children:(0,v.jsx)("code",{children:e.slice(3,-3).trim()})},t):e.startsWith("```")?(0,v.jsx)("pre",{className:"overflow-x-auto",children:(0,v.jsx)("code",{children:e.slice(3).trim()})},t):e.startsWith("`")&&e.endsWith("`")?(0,v.jsx)("code",{children:e.slice(1,-1)},t):e.startsWith("`")?(0,v.jsx)("code",{children:e.slice(1)},t):e);return(0,v.jsx)("div",{children:r})},_=(0,u.memo)(f.U)}}]);
//# sourceMappingURL=2103.c7de143f7816eed1.js.map