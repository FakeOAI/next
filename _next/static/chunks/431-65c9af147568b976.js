"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431],{6440:function(e,t,r){var n=r(98601),a=r(19841),i=r(92379),s=r(15478),o=r(651);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.Z=i.forwardRef(function(e,t){let{name:r,placeholder:n,type:s,list:l,displayName:d,onChange:m,onFocus:f,onBlur:p,value:b,saveOnBlur:g,icon:h,onInputIconClick:x,className:v,autoComplete:j,autoFocus:y,onPressEnter:w,disabled:k,maxLength:O,color:P="tertiary"}=e,{0:N,1:M}=(0,i.useState)(b),S=(0,i.useCallback)(e=>{p?.(e),g&&M(e.target.value)},[p,g]),T=(0,i.useCallback)(e=>{m?.(e),g&&M(e.target.value)},[m,g]),E=(0,i.useCallback)(e=>{"Enter"===e.key&&w&&(e.preventDefault(),w(N))},[w,N]);(0,i.useEffect)(()=>{M(b)},[b]);let C=c(c({},g?{}:{value:b}),g?{value:N}:{});return(0,o.jsxs)("div",{className:(0,a.default)("rounded-md border shadow-none","neutral"===P&&"border-transparent px-3 py-2 focus-within:border-green-500 focus-within:bg-token-main-surface-tertiary focus-within:ring-1 focus-within:ring-transparent hover:bg-token-main-surface-tertiary","tertiary"===P&&"border-token-border-medium px-3 py-2 focus-within:border-token-border-xheavy focus-within:ring-1 focus-within:ring-token-text-secondary","search"===P&&"rounded-xl border-token-border-medium bg-token-main-surface-primary p-4 focus-within:border-token-border-xheavy focus-within:ring-0 dark:border-token-border-medium dark:focus-within:border-token-border-xheavy dark:focus-within:ring-0",v),children:[(0,o.jsx)("label",{htmlFor:r,className:"block text-xs font-semibold text-token-text-primary",children:d}),(0,o.jsxs)("div",{className:(0,a.default)(d&&"mt-1","relative"),children:[(0,o.jsx)("input",c({ref:t,type:s,name:r,id:r,list:l,className:(0,a.default)("block w-full border-0 p-0 placeholder-gray-500 shadow-none outline-none focus-within:shadow-none focus-within:outline-none focus-within:ring-0 focus:border-none focus:ring-0 sm:text-sm",null!=h&&"pr-6","neutral"===P||"search"===P?"bg-transparent":"bg-token-main-surface-primary text-token-text-primary"),placeholder:n,onBlur:S,onFocus:f,onChange:T,onKeyDown:E,autoComplete:j,autoFocus:y,disabled:k,maxLength:O},C)),null!=h&&(0,o.jsx)(u,{onClick:x,children:(0,o.jsx)(h,{className:"icon-sm"})})]})]})});let u=s.Z.button`absolute right-0 top-1/2 -translate-y-1/2`},7331:function(e,t,r){r.d(t,{Z:function(){return z}});var n,a=r(98601),i=r(99333),s=r(55963),o=r(2721),l=r(60464),c=r(42420),u=r(56032),d=r(18939),m=r.n(d),f=r(92379),p=r(75172),b=r(62984),g=r(11550),h=r(19841),x=r(68306),v=r(75592),j=r(67526),y=r(30853),w=r(28146),k=r(651);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N(e){return e.split(/[\s,]+/)}function M(e){let{value:t,onChange:r,className:n}=e,a=(0,p.Z)(),{0:i,1:s}=(0,f.useState)(""),o=(0,f.useCallback)(e=>{if(i)switch(e.key){case"Enter":case",":case" ":r([...t,...N(i).map(S)]),s(""),e.preventDefault()}},[i,r,t]);return(0,k.jsx)(v.ZP,{className:(0,h.default)("react-select-container",n),isMulti:!0,onBlur:e=>{i&&(r([...t,...N(i).map(S)]),s(i),e.preventDefault())},classNamePrefix:"react-select",components:T,inputValue:i,isClearable:!0,menuIsOpen:!1,onChange:r,onInputChange:s,onKeyDown:o,placeholder:a.formatMessage(E.placeholder),value:t,"aria-labelledby":"add-emails-label",name:"add-member-emails"})}let S=e=>({label:e,value:e,isValid:l.F.test(e)}),T={DropdownIndicator:()=>null,IndicatorsContainer:()=>null,ClearIndicator:()=>null,MultiValueRemove:()=>null,MultiValue:e=>{let t=(0,p.Z)(),r=(0,k.jsxs)("span",{className:"flex items-center gap-1",children:[(0,k.jsx)("span",{children:e.children}),(0,k.jsx)(w.tPq,{className:"icon-sm"})]}),n=e.data.isValid?r:(0,k.jsx)(y.u,{label:t.formatMessage(E.tooltipInvalidEmail,{email:e.data.value}),side:"top",children:r});return(0,k.jsx)(j.c.MultiValue,P(P({},e),{},{children:(0,k.jsx)("button",{className:(0,h.default)("m-1 cursor-pointer rounded-full border border-transparent py-1 pl-3 pr-2 text-sm text-token-text-primary",e.data.isValid?"bg-token-main-surface-secondary hover:border-token-border-medium hover:bg-token-main-surface-tertiary":"bg-red-200 text-red-500"),onClick:t=>{e.removeProps.onClick?.(t),t.preventDefault()},"aria-label":t.formatMessage(E.removeMember,{member:e.data.value}),children:n})}))}},E=(0,x.vU)({membersAdded:{id:"emailsTextarea.membersAdded",defaultMessage:"+{count} {count, plural, one {member} other {members}}"},removeMember:{id:"emailsTextarea.removeMember",defaultMessage:"Remove {member}"},tooltipInvalidEmail:{id:"emailsTextarea.tooltipInvalidEmail",defaultMessage:'"{email}" may not be a valid email'},clearAllEntries:{id:"emailsTextarea.clearAllEntries",defaultMessage:"Clear all"},placeholder:{id:"emailsTextarea.placeholder",defaultMessage:"Type an email and press enter..."}});var C=r(6440),Z=r(94668),I=r(73062),D=r(36792),A=r(24740),R=r(12310),F=r(44087);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let V=((n={})[n.INITIAL=0]="INITIAL",n[n.CSV_TABLE=1]="CSV_TABLE",n),_=`email,role
user1@company.com,member
admin@company.com,admin
it@company.com,owner`,B=[];function z(e){let{workspace:t,canResendInviteEmails:r,onCancel:n,cancelButtonText:a,onSuccess:d,fullWidthButtons:h=!1}=e,x=t.isOwnerOfAccount(),{0:v,1:j}=(0,f.useState)(!1),{0:y,1:O}=(0,f.useState)(!1),P=(0,f.useRef)(null),N=t.isTeam(),S=(0,p.Z)(),{0:T,1:E}=(0,f.useState)(!0),{0:W,1:z}=(0,f.useState)(!1),{0:K,1:G}=(0,f.useState)(V.INITIAL),{0:$,1:q}=(0,f.useState)([]),{0:Y,1:Q}=(0,f.useState)([]),{mutateAsync:X}=function(e,t){let r=(0,p.Z)(),n=(0,c.NL)();return(0,u.D)({mutationFn:async t=>{let{emails:n,role:a,resendEmails:i}=t,s=[],l=Math.max(5,Math.round(n.length/10));for(let e=0;e<n.length;e+=l)s.push(n.slice(e,e+l));let c=async t=>o.Z.addWorkspaceUsers(e,t,a,i).then(e=>(e.errored_emails.length>0&&A.m.danger(r.formatMessage(H.inviteMessageFailure,{emailsStr:e.errored_emails.map(e=>{let{email_address:t,error:r}=e;return`${t}: ${r}`}).join(", ")})),e.account_invites)).catch(e=>{throw A.m.danger(e.message),e});return(await Promise.all(s.map(e=>c(e)))).flat()},onSuccess:()=>{n.invalidateQueries({queryKey:["workspace","invites",e]}),t?.()}})}(t.id,d),J=(0,R.uo)(),ee=(0,R.VG)()??!0,{0:et,1:er}=(0,f.useState)(B);(0,f.useEffect)(()=>{if(!$?.length||!J?.length||ee){er(B);return}let e=J.map(e=>"@"+e.hostname.toLowerCase());er($.map(e=>{let{email:t}=e;return t.toLowerCase()}).filter(t=>!e.some(e=>t.endsWith(e))))},[J,ee,$]);let en=U(x),ea=async e=>{let t=e.target.files?.[0];if(t){let e=await new Promise(e=>{if(t.size/1048576>25)e({status:"error",reason:"file_too_large"});else if("text/csv"!==t.type)e({status:"error",reason:"invalid_file_type"});else{let r=new FileReader;r.readAsText(t),r.onload=function(t){let r=y,n=(t.target?.result).split("\n"),a=new Set;e({status:"success",newRows:n.reduce((e,t)=>{let[n,i]=t.split(",").map(e=>e.trim());return l.F.test(n)&&!a.has(n)&&(void 0!==en[i]||r||(r=!0),e.push({email:n,role:en[i]??en.member})),a.add(n),e},[]),hasWarning:r})}}});"success"===e.status?(q(e.newRows),G(V.CSV_TABLE),O(e.hasWarning)):"file_too_large"===e.reason?A.m.danger(S.formatMessage(H.fileTooLargeWarning,{maxSize:"25MB"}),{duration:5}):"invalid_file_type"===e.reason&&A.m.danger(S.formatMessage(H.fileIncorrectTypeWarning),{duration:5})}},ei=(e,t,r)=>{let n=[...$];n[e]=L(L({},n[e]),{},{[t]:r}),q(n)},es=e=>{q([...$.slice(0,e),...$.slice(e+1)])},eo=(0,f.useCallback)(()=>{q([]),G(V.INITIAL),z(!1),Q([])},[]),el=async()=>{z(!0);try{$.length>5&&A.m.info(S.formatMessage(H.inviteMessageLoading,{numRows:$.length}),{hasCloseButton:!0});let e=[["admin",i.r3.ADMIN],["owner",i.r3.OWNER],["member",i.r3.STANDARD]],r=(await Promise.all(m()(e.map(e=>{let[t,r]=e,n=$.filter(e=>e.role===t).map(e=>e.email);return n.length>0&&X({emails:n,role:r,resendEmails:T})})))).flat().length;r>0&&A.m.success(S.formatMessage(H.inviteSuccessToast,{numRows:r,userStr:1===r?"user":"users",workspaceName:(0,F.CV)(S,t)})),d?.(),eo()}finally{z(!1)}},ec=(0,k.jsx)(g.z,{color:"primary",size:h?"large":"medium",disabled:W||0===$.length||et.length>0,onClick:el,children:W?S.formatMessage(H.inviteMemberInviteSubmitButtonLoading):S.formatMessage(H.inviteMemberInviteSubmitButton)}),eu=(0,k.jsx)(g.z,{color:"primary",size:h?"large":"medium",disabled:0===Y.length,onClick:()=>{let e=new Set;q(Y.reduce((t,r)=>(e.has(r.value)||t.push(r.value),e.add(r.value),t),[]).map(e=>({email:e,role:en.member}))),G(V.CSV_TABLE)},children:S.formatMessage(H.inviteMemberInviteNextButton)});return(0,k.jsxs)("div",{className:"flex flex-col gap-2",children:[K===V.INITIAL&&(0,k.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,k.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,k.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,k.jsx)("label",{htmlFor:"upload-csv",id:"upload-csv-label",children:(0,k.jsx)(b.Z,L({},H.importCSVLabel))}),(0,k.jsxs)("span",{className:"text-sm text-token-text-tertiary",children:[(0,k.jsx)(b.Z,L(L({},v?H.helperCSVFormatHide:H.helperCSVFormatShow),{},{values:{link:e=>(0,k.jsx)("button",{className:"underline",onClick:()=>{j(!v)},children:e})}})),v&&(0,k.jsx)("pre",{className:"mt-4",children:_})]})]}),(0,k.jsx)("input",{ref:P,type:"file",accept:".csv,text/csv",id:"upload-csv",className:"hidden",onChange:ea}),(0,k.jsx)(g.z,{color:"secondary",onClick:()=>P.current?.click(),children:(0,k.jsx)(b.Z,L({},H.importCSVButton))})]}),(0,k.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,k.jsx)("label",{htmlFor:"add-member-emails",id:"add-emails-label",children:(0,k.jsx)(b.Z,L({},H.addEmailsFieldName))}),(0,k.jsx)(M,{value:Y,onChange:Q})]})]}),K===V.CSV_TABLE&&(0,k.jsxs)(k.Fragment,{children:[y&&(0,k.jsxs)("div",{className:"flex w-full items-center bg-yellow-100 p-4",children:[(0,k.jsx)(w.ETw,{className:"icon-sm mr-2 text-yellow-700"}),(0,k.jsx)("div",{className:"flex-grow text-yellow-700",children:(0,k.jsx)(b.Z,L({},H.unspecifiedRoleDescription))})]}),et.length>0&&(0,k.jsx)("div",{className:"flex w-full items-center bg-red-100 p-4",children:(0,k.jsxs)("div",{className:"flex-grow text-red-700",children:[(0,k.jsx)(b.Z,L({},H.prohibitedExternalEmailDescription)),(0,k.jsx)("pre",{className:"my-1",children:et.join(", ")}),(0,k.jsx)(b.Z,L({},H.prohibitedExternalEmailResolution))]})}),(0,k.jsxs)(D.Z.Root,{size:"normal",children:[(0,k.jsxs)(D.Z.Header,{children:[(0,k.jsx)(D.Z.HeaderCell,{children:(0,k.jsx)(b.Z,L({},H.inviteTableHeaderEmail))}),(0,k.jsx)(D.Z.HeaderCell,{className:"pl-3 dark:bg-gray-900",children:(0,k.jsx)(b.Z,L({},H.inviteTableHeaderRole))}),(0,k.jsx)(D.Z.HeaderCell,{})]}),(0,k.jsx)(D.Z.Body,{children:$.map((e,t)=>(0,k.jsxs)(D.Z.Row,{children:[(0,k.jsx)(D.Z.Cell,{children:(0,k.jsx)(C.Z,{name:"email",type:"email",value:e.email,onChange:e=>ei(t,"email",e.target.value),color:"neutral"})}),(0,k.jsx)(D.Z.Cell,{children:(0,k.jsxs)(I.Z.Root,{value:e.role,onValueChange:e=>ei(t,"role",e),children:[(0,k.jsxs)(I.Z.Trigger,{children:[(0,k.jsx)(I.Z.Value,{}),(0,k.jsx)(I.Z.Icon,{})]}),(0,k.jsx)(I.Z.Portal,{children:(0,k.jsxs)(I.Z.Content,{className:"border border-token-main-surface-secondary",children:[(0,k.jsx)(I.Z.Item,{value:en.member,children:(0,k.jsx)(b.Z,L({},H.inviteRoleMember))}),en.admin&&(0,k.jsx)(I.Z.Item,{value:en.admin,children:(0,k.jsx)(b.Z,L({},H.inviteRoleAdmin))}),en.owner&&(0,k.jsx)(I.Z.Item,{value:en.owner,children:(0,k.jsx)(b.Z,L({},H.inviteRoleOwner))})]})})]})}),(0,k.jsx)(D.Z.Cell,{textAlign:"right",children:(0,k.jsx)(w.XHJ,{onClick:()=>es(t),className:"icon-sm mr-2 cursor-pointer text-token-text-secondary"})})]},t))})]})]}),r&&E&&(0,k.jsx)("div",{className:"mt-2 flex items-center text-left text-token-text-secondary",children:(0,k.jsx)(s.Z,{id:"resend-emails",checked:T,onChange:e=>E(e.currentTarget.checked),label:S.formatMessage(H.resendEmailsFieldName)})}),K===V.INITIAL&&N&&(0,k.jsx)("div",{className:"mb-4",children:(0,k.jsx)(Z.Z,{children:(0,k.jsx)(b.Z,L({},H.teamInviteModalNote))})}),(0,k.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,k.jsx)(g.z,{color:"secondary",size:h?"large":"medium",onClick:()=>{K!==V.INITIAL?G(V.INITIAL):(eo(),n())},children:K===V.INITIAL?a:S.formatMessage(H.inviteMemberInviteBackButton)}),K===V.INITIAL?eu:ec]})]})}let U=e=>{let t={member:"member"};return e&&(t.admin="admin",t.owner="owner"),t},H={importCSVLabel:{id:"adminPage.importCSVLabel",defaultMessage:"Import from CSV",description:"Name of label for import from CSV button"},helperCSVFormatHide:{id:"adminPage.helperCSVFormat",defaultMessage:'The file must include email and an optional role on each line. Roles can be "member", "admin", or "owner". <link>Hide Example</link>',description:"Instructions for formatting the import CSV, with a link to hide the example"},helperCSVFormatShow:{id:"adminPage.helperCSVFormat",defaultMessage:'The file must include email and an optional role on each line. Roles can be "member", "admin", or "owner". <link>Show Example</link>',description:"Instructions for formatting the import CSV, with a link to show an example"},importCSVButton:{id:"adminPage.importCSVButton",defaultMessage:"Upload",description:"Name of upload from CSV button"},addEmailsFieldName:{id:"adminPage.addEmailsFieldName.0",defaultMessage:"Emails",description:"Name of input for adding emails to workspace"},unspecifiedRoleDescription:{id:"adminPage.unspecifiedRoleDescription",defaultMessage:"Roles that were unspecified have been changed to Member.",description:"Description text for defaulting invite roles to member"},prohibitedExternalEmailDescription:{id:"adminPage.prohibitedExternalEmailDescription",defaultMessage:"The following emails are not a part of your organization's verified domains:",description:"Description text for error message"},prohibitedExternalEmailResolution:{id:"adminPage.prohibitedExternalEmailResolution",defaultMessage:'Either remove these emails, enable "Allow External Domain Invites" from your workspace settings, or verify these email domains.',description:"Description text for error message"},inviteTableHeaderEmail:{id:"adminPage.inviteTableHeaderEmail",defaultMessage:"Email",description:"Label for email column of invite table header"},inviteTableHeaderRole:{id:"adminPage.inviteTableHeaderRole",defaultMessage:"Role",description:"Label for role column of invite table header"},inviteRoleMember:{id:"adminPage.inviteRoleMember",defaultMessage:"Member",description:"Member role for workspace invite"},inviteRoleAdmin:{id:"adminPage.inviteRoleAdmin",defaultMessage:"Admin",description:"Admin role for workspace invite"},inviteRoleOwner:{id:"adminPage.inviteRoleOwner",defaultMessage:"Owner",description:"Owner role for workspace invite"},fileTooLargeWarning:{id:"adminPage",defaultMessage:"File is too large. Please upload a CSV file smaller than {maxSize}.",description:"Error when uploading a file that is too large"},fileIncorrectTypeWarning:{id:"adminPage",defaultMessage:"Please upload a CSV file.",description:"Error when uploading a file that is not a CSV"},resendEmailsFieldName:{id:"adminPage.resendEmailsFieldName",defaultMessage:"Resend emails for existing invites",description:"Name of checkbox input for resending emails to workspace"},teamInviteModalNote:{id:"adminPage.teamInviteModalNote",defaultMessage:"Users that accept invites will be included as additional seats on your next invoice.",description:"Note for team plan invites that additional seats will be charged"},inviteMessageLoading:{id:"adminPage.inviteMessageLoading",defaultMessage:"Sending out {numRows} invites, this may take a minute...",description:"Loading message when invites are being sent"},inviteSuccessToast:{id:"adminPage.inviteSuccessToast",defaultMessage:"Invited {numRows} {userStr} to {workspaceName}",description:"Message on successfully sending out invites"},inviteMemberInviteNextButton:{id:"adminPage.inviteMemberInviteNextButton",defaultMessage:"Next",description:"The title of the invite member modal next button"},inviteMemberInviteSubmitButton:{id:"adminPage.inviteMemberInviteSubmitButton",defaultMessage:"Send invites",description:"The title of the invite member modal submit button"},inviteMemberInviteSubmitButtonLoading:{id:"adminPage.inviteMemberInviteSubmitButtonLoading",defaultMessage:"Sending invites...",description:"Button label while inviting members"},inviteMemberInviteBackButton:{id:"adminPage.inviteMemberInviteBackButton",defaultMessage:"Back",description:"The title of the invite member modal back button"},inviteMessageFailure:{id:"adminPage.inviteMessageFailure",defaultMessage:"Unable to invite {emailsStr}",description:"Message that shows which emails were unsuccessful at being invited"}}},12310:function(e,t,r){r.d(t,{Bd:function(){return x},DD:function(){return y},Fc:function(){return j},HH:function(){return h},Ji:function(){return g},OR:function(){return w},VG:function(){return p},f_:function(){return f},sd:function(){return O},uo:function(){return b},z0:function(){return k}});var n=r(99333),a=r(24740),i=r(2721),s=r(31498),o=r(84760),l=r(56032),c=r(42420),u=r(75172),d=r(68306),m=r(15478);function f(e,t){return(0,o.a)({queryKey:["workspace/identity",e],queryFn:async()=>{if(void 0!==e)return await i.Z.getWorkspaceIdentitySettings(e)},enabled:t})}function p(){let e=(0,s.ec)(s.F_.workspaceId),{data:t}=f(e??void 0,null!=e);return t?.allow_external_domain_invites}function b(){let e=(0,s.ec)(s.F_.workspaceId),{data:t}=f(e??void 0,null!=e);return t?.domains&&t?.domains.filter(e=>"verified"==e.status)}function g(e){let t=(0,u.Z)();return(0,l.D)({mutationFn:r=>{let{shouldAutoProvision:n}=r;return i.Z.setWorkspaceShouldAutoProvision(e,n).then(e=>{let r=n?P.autoProvisionEnabledToast:P.autoProvisionDisabledToast;return a.m.success(t.formatMessage(r),{duration:3}),e}).catch(e=>{throw a.m.danger(e.message),e})}})}function h(e){let t=(0,u.Z)();return(0,l.D)({mutationFn:async r=>{let{shouldAllowExternalDomainInvites:n}=r;try{let r=await i.Z.setWorkspaceShouldDisableExternalDomainInvites(e,n),s=n?P.allowExternalDomainInvitesToast:P.disableExternalDomainInvitesToast;return a.m.success(t.formatMessage(s),{duration:3}),r}catch(e){throw a.m.danger(e.message),e}}})}function x(e){let t=(0,c.NL)();return(0,l.D)({mutationFn:t=>{let{domainId:r}=t;return i.Z.removeDomainFromWorkspace(e,r)},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]}),t.refetchQueries({queryKey:["builderProfile"]})}})}function v(e){let t=e;return t.startsWith("-----BEGIN")||(t=`-----BEGIN CERTIFICATE-----
${t}`),t.endsWith("CERTIFICATE-----")||(t=`${t}
-----END CERTIFICATE-----`),t}function j(e){let t=(0,c.NL)();return(0,l.D)({mutationFn:t=>{let{signInEndpoint:r,cert:n}=t;return i.Z.createSAMLConnection(e,r,v(n))},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function y(e){let t=(0,c.NL)();return(0,l.D)({mutationFn:t=>{let{connectionId:r,signInEndpoint:n,cert:a,active:s,enforcedClients:o}=t;return i.Z.updateSAMLConnection(e,r,{signInEndpoint:n,cert:void 0!==a?v(a):void 0,active:s,enforcedClients:o})},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function w(e){let t=(0,c.NL)();return(0,l.D)({mutationFn:t=>{let{connectionId:r}=t;return i.Z.deleteSAMLConnection(e,r)},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}let k=m.Z.div`text-md mb-4 text-token-text-secondary`,O={[n.pT.VERIFIED]:(0,d.Em)({id:"i7FkyS",defaultMessage:"Verified"}),[n.pT.PENDING]:(0,d.Em)({id:"THBv/l",defaultMessage:"Pending"}),[n.pT.EXPIRED]:(0,d.Em)({id:"+sjWGK",defaultMessage:"Expired"})},P=(0,d.vU)({autoProvisionEnabledToast:{id:"workspaceIdentity.autoProvisionEnabledToast",defaultMessage:"Auto provisioning enabled for this workspace"},autoProvisionDisabledToast:{id:"workspaceIdentity.autoProvisionDisabledToast",defaultMessage:"Auto provisioning disabled for this workspace"},allowExternalDomainInvitesToast:{id:"j0jI/4",defaultMessage:"External domain invites are allowed for this workspace"},disableExternalDomainInvitesToast:{id:"67yB97",defaultMessage:"External domain invites are disabled for this workspace"}})},44087:function(e,t,r){r.d(t,{$3:function(){return d},Ap:function(){return l},CV:function(){return m},GA:function(){return u},Gk:function(){return h},bE:function(){return x},cI:function(){return p},eA:function(){return f},my:function(){return g},qH:function(){return c}});var n=r(99333),a=r(93951),i=r(31498),s=r(92379),o=r(75172);function l(){let e=(0,o.Z)(),t=e.formatMessage(v.adminRoleName),r=e.formatMessage(v.ownerRoleName),a=e.formatMessage(v.standardRoleName);return(0,s.useMemo)(()=>({[n.r3.OWNER]:r,[n.r3.ADMIN]:t,[n.r3.STANDARD]:a}),[r,t,a])}function c(e){let t=(0,o.Z)(),r=e?.isTeam(),n=e?.isEnterprise(),a=e?.isEdu();if(e){if(r)return t.formatMessage(v.teamPlanName);if(n)return t.formatMessage(v.enterprisePlanName);if(a)return t.formatMessage(v.eduPlanName)}return t.formatMessage(v.personalPlanName)}function u(e){return m((0,o.Z)(),e)}function d(){let e=(0,a.t)();return m((0,o.Z)(),e)}function m(e,t){return null==t||t.isPersonalAccount()?e.formatMessage(v.personalWorkspaceTitle):t.data.name??e.formatMessage(v.defaultWorkspaceTitle)}function f(){let e=(0,i.aF)();return e?.email??null}function p(){let e=(0,i.aF)();return e?.name??e?.email??null}function b(){return(0,i.ec)(e=>{let{workspaces:t}=e;return t})}function g(){let{data:e}=(0,a.rk)();return e?.accountItems.filter(e=>!e.isDeactivated())??[]}function h(e){let t=b().find(t=>t.id===e);return t?.role===n.r3.OWNER}function x(e){let t=b().find(t=>t.id===e);return t?.role===n.r3.ADMIN}let v=(0,r(68306).vU)({defaultWorkspaceTitle:{id:"useWorkspaces.defaultWorkspaceTitle",defaultMessage:"Untitled Workspace"},personalWorkspaceTitle:{id:"useWorkspaces.personalWorkspaceTitle",defaultMessage:"Personal account"},personalPlanName:{id:"useWorkspaces.personalPlanName",defaultMessage:"Personal"},enterprisePlanName:{id:"useWorkspaces.enterprisePlanName",defaultMessage:"Enterprise"},eduPlanName:{id:"useWorkspaces.eduPlanName",defaultMessage:"Edu"},teamPlanName:{id:"useWorkspaces.teamPlanName",defaultMessage:"Team"},adminRoleName:{id:"useWorkspaces.adminRoleName",defaultMessage:"Admin"},ownerRoleName:{id:"useWorkspaces.ownerRoleName",defaultMessage:"Owner"},standardRoleName:{id:"useWorkspacews.standardRoleName",defaultMessage:"Member"}})},55963:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(19841),a=r(651);function i(e){let{id:t,label:r,checked:i,onChange:s,disabled:o,className:l,labelClassName:c,readOnly:u,labelSide:d="right"}=e,m=r&&(0,a.jsx)("label",{className:(0,n.default)("form-check-label text-token-text-primary",c),htmlFor:t,children:r});return(0,a.jsxs)("div",{className:"form-check flex items-center gap-2",children:["left"===d&&m,(0,a.jsx)("input",{className:(0,n.default)("form-check-input float-left h-4 w-4 appearance-none rounded-sm border border-gray-300 bg-white bg-contain bg-center bg-no-repeat align-top transition duration-200 checked:border-blue-600 checked:bg-blue-600 focus:outline-none",o?"cursor-not-allowed":"cursor-pointer",l),type:"checkbox",disabled:o,onChange:s,checked:i,readOnly:u,id:t}),"right"===d&&m]})}},94668:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(19841),a=r(92379),i=r(15478),s=r(28146),o=r(651);function l(e){let t,{type:r="info",children:i,isDismissible:l=!1,onDismiss:u,className:d,isElevated:m=!1}=e,{0:f,1:p}=(0,a.useState)(!1);return f?null:("none"!==r&&(t=s.szr),(0,o.jsxs)(c,{$type:r,className:(0,n.default)("flex w-full items-start gap-3 rounded-2xl border text-sm","warning"===r||"danger"===r?"bg-opacity-5":"bg-opacity-10",l?"py-2.5 pl-3 pr-2 md:py-3 md:pl-4 md:pr-3":"px-3 py-2.5 md:p-4",m&&"shadow-xxs",d),children:[t&&(0,o.jsx)(t,{className:(0,n.default)("icon-lg shrink-0",l&&"mt-[2px] md:mt-px",("info"===r||"none"===r)&&"text-token-text-secondary")}),(0,o.jsx)("div",{className:(0,n.default)("grow",l?"pt-[4px] md:pt-[3px]":"pt-[2px]",!t&&"pl-1"),children:i}),l&&(0,o.jsx)("button",{onClick:()=>{p(!0),u?.()},className:(0,n.default)("flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-transparent text-token-text-primary",("info"===r||"none"===r)&&"hover:bg-token-main-surface-secondary","danger"===r&&"hover:bg-token-surface-error/10","warning"===r&&"hover:bg-orange-400/10"),children:(0,o.jsx)(s.tPq,{className:"icon-md"})})]}))}let c=i.Z.div`
${e=>{let{$type:t}=e;switch(t){case"danger":return"text-token-text-error border-token-surface-error/15 bg-token-surface-error bg-opacity-0";case"warning":return"text-orange-600 bg-orange-400 bg-opacity-0 border-orange-400/15";case"success":return"text-green-500 border-green-500 bg-green-500 bg-opacity-0";default:return"text-token-text-primary border-token-border-light bg-token-main-surface-primary bg-opacity-0"}}}`},73062:function(e,t,r){r.d(t,{g:function(){return b}});var n=r(98601),a=r(52088),i=r(54198),s=r(19841),o=r(92379),l=r(28146),c=r(50863),u=r(651);let d=["children"],m=["children","className"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e){let{options:t,value:r,onValueChange:n,disabled:a,defaultValue:i,placeholder:s}=e;return(0,u.jsxs)(g.Root,{value:r,onValueChange:n,disabled:a,defaultValue:i,children:[(0,u.jsxs)(g.Trigger,{children:[(0,u.jsx)(g.Value,{placeholder:s}),(0,u.jsx)(g.Icon,{})]}),(0,u.jsx)(g.Portal,{children:(0,u.jsx)(g.Content,{children:t.map(e=>(0,u.jsx)(g.Item,{value:e.value,children:e.label},e.value))})})]})}let g={Root:i.fC,Trigger:function(e){return(0,u.jsx)(c.J7,p({$as:i.xz},e))},Value:i.B4,Icon:function(){return(0,u.jsx)(i.JO,{children:(0,u.jsx)(l.Tg4,{className:"icon-sm"})})},Portal:i.h_,Content:function(e){let{children:t,className:r}=e,n=(0,a.Z)(e,m);return(0,u.jsxs)(c.w5,p(p({$as:i.VY,side:"bottom",sideOffset:4,position:"popper",className:(0,s.default)("min-w-[220px] overflow-auto",r)},n),{},{children:[(0,u.jsx)(i.u_,{className:"flex h-8 cursor-default items-center justify-center text-token-text-primary",children:(0,u.jsx)(l.r0F,{className:"icon-sm"})}),(0,u.jsx)(i.l_,{children:t}),(0,u.jsx)(i.$G,{className:"flex h-8 cursor-default items-center justify-center text-token-text-primary",children:(0,u.jsx)(l.Tg4,{className:"icon-sm"})})]}))},Item:o.forwardRef(function(e,t){let{children:r}=e,n=(0,a.Z)(e,d);return(0,u.jsxs)(c.gG,p(p({$as:i.ck,ref:t,className:"flex justify-between"},n),{},{children:[(0,u.jsx)(i.eT,{children:r}),(0,u.jsx)(i.wU,{className:"",children:(0,u.jsx)(l.kvR,{className:"icon-sm"})})]}))}),ItemText:i.eT,ItemIndicator:i.wU,Separator:function(){return(0,u.jsx)(i.Z0,{className:"mx-5 my-1 h-px bg-token-border-light"})},Label:function(e){let{children:t}=e;return(0,u.jsx)(i.__,{className:"mx-2 my-0 px-2 text-xs font-semibold text-token-text-secondary",children:t})},Group:i.ZA};t.Z=g},36792:function(e,t,r){var n=r(98601),a=r(52088),i=r(19841),s=r(92379),o=r(651);let l=["children"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let d=(0,s.createContext)({rootBordered:!1}),m=(0,s.forwardRef)(function(e,t){let{children:r,disabled:n=!1,onClick:a,className:s}=e;return(0,o.jsx)("tr",u(u({ref:t},n?{"data-disabled":!0}:{}),{},{className:(0,i.default)(n?"pointer-events-none":"",s),onClick:a,children:r}))});t.Z={Root:function(e){let{children:t,fixed:r=!1,className:n,size:a="normal",bordered:l=!1}=e,c=(0,s.useRef)(null),u=(0,s.useRef)(null),{0:m,1:f}=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=c.current,t=u.current;if(e&&t){let r=new ResizeObserver(()=>{f(t.scrollHeight>e.clientHeight)});return r.observe(e),()=>r.disconnect()}},[]),(0,o.jsx)(d.Provider,{value:{rootBordered:l},children:(0,o.jsx)("div",{className:(0,i.default)("overflow-y-auto text-token-text-primary",l&&"rounded-lg border border-token-border-light","normal"===a?"text-base":"text-sm",m&&"pr-1",n),ref:c,children:(0,o.jsx)("table",{className:(0,i.default)("w-full border-separate border-spacing-0",r&&"table-fixed"),ref:u,children:t})})})},Header:function(e){let{children:t}=e;return(0,o.jsx)("thead",{children:(0,o.jsx)("tr",{children:t})})},HeaderCell:function(e){let{textAlign:t="left",children:r,className:n=""}=e,{rootBordered:a}=(0,s.useContext)(d);return(0,o.jsx)("th",{className:(0,i.default)("text-token sticky top-0 z-10 border-b-[0.5px] border-token-border-medium bg-token-main-surface-primary py-2 font-semibold",a?"px-3":"pr-4 last:pr-0","left"===t?"text-left":"right"===t?"text-right":"text-center",n),children:r})},Body:function(e){let{children:t}=e,r=(0,a.Z)(e,l);return(0,o.jsx)("tbody",u(u({},r),{},{children:t}))},Row:m,Cell:function(e){let{textAlign:t="left",children:r,className:n,colSpan:a}=e,{rootBordered:l}=(0,s.useContext)(d);return(0,o.jsx)("td",{className:(0,i.default)("border-b-[0.5px] border-token-border-medium align-top",l?"px-3":"pr-4 last:pr-0 [tr:last-child_&]:border-b-0",t&&"text-"+t,n),colSpan:a,children:(0,o.jsx)("div",{className:(0,i.default)("flex min-h-[40px] items-center [tr[data-disabled=true]_&]:opacity-50","right"===t&&"justify-end","center"===t&&"justify-center"),children:r})})},Actions:function(e){let{children:t}=e;return(0,o.jsx)("div",{className:"text-md flex items-center justify-end gap-2",children:t})}}},30853:function(e,t,r){r.d(t,{E:function(){return d},u:function(){return m}});var n=r(98601),a=r(52088),i=r(59594),s=r(19841);r(92379);var o=r(15478),l=r(651);let c=["disabled"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let d=e=>{let{disabled:t}=e,r=(0,a.Z)(e,c);return t?(0,l.jsx)(l.Fragment,{children:r.children}):(0,l.jsx)(m,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r))},m=e=>{let t,r,{label:n,contentClassName:a,customPaddingClassName:o,theme:c="default",cornerRadius:u="lg",side:d="bottom",sideOffset:m=10,align:b="center",alignOffset:g=0,withArrow:h=!0,wide:x=!1,size:v="small",interactive:j=!1,usePortal:y=!0,className:w,children:k,delayDuration:O=300,closeOnOutsideClick:P=!0,open:N,onOpenChange:M,isLeftArrow:S=!1}=e;if(!n)return(0,l.jsx)("span",{className:w,children:k});switch(c){case"blue":t="",r="bg-blue-selection";break;case"white":t="",r="bg-white";break;case"default":t="border-white/10 dark:border",r="bg-gray-950"}let T=(0,l.jsxs)(i.VY,{collisionPadding:8,onPointerDownOutside:P?void 0:e=>e.preventDefault(),side:d,sideOffset:m,alignOffset:g,align:b,className:(0,s.default)("relative z-50 shadow-xs transition-opacity",o||"px-3 py-2",`rounded-${u}`,t,r,x?"max-w-sm":"max-w-xs",a),children:[(0,l.jsx)("span",{className:(0,s.default)("flex items-center whitespace-pre-wrap text-center font-semibold normal-case text-gray-100",{"text-xs":"xsmall"===v,"text-sm":"small"===v}),children:n}),h&&(0,l.jsx)(i.Eh,{asChild:!0,children:S?(0,l.jsx)(p,{className:r}):(0,l.jsx)(f,{className:r})})]});return(0,l.jsxs)(i.fC,{delayDuration:O,disableHoverableContent:!j,open:N,onOpenChange:M,children:[(0,l.jsx)(i.xz,{asChild:!0,children:(0,l.jsx)("span",{className:w,children:k})}),y?(0,l.jsx)(i.h_,{children:T}):T]})},f=o.Z.div`relative top-[-4px] h-2 w-2 rotate-45 transform shadow-xs dark:border-r dark:border-b border-white/10`,p=o.Z.div`relative top-[-4px] right-[-135px] h-2 w-2 rotate-45 transform shadow-xs dark:border-r dark:border-b border-white/10`},50863:function(e,t,r){r.d(t,{J7:function(){return a},M4:function(){return l},aF:function(){return i},gG:function(){return s},w5:function(){return o}});var n=r(15478);let a=n.Z.button`
text-token-text-primary border border-transparent inline-flex h-9 items-center justify-center gap-1 rounded-lg bg-white px-3 text-sm dark:transparent dark:bg-transparent
leading-none outline-none cursor-pointer
hover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-secondary
focus-visible:bg-token-main-surface-secondary
radix-state-active:text-token-text-secondary
radix-disabled:cursor-auto radix-disabled:bg-transparent radix-disabled:text-token-text-tertiary dark:radix-disabled:bg-transparent
`,i=n.Z.div`flex gap-2 items-center m-1.5 rounded p-2.5 text-sm cursor-pointer focus-visible:outline-0 hover:bg-token-main-surface-secondary focus-visible:bg-token-main-surface-secondary radix-disabled:pointer-events-none radix-disabled:opacity-50 group relative`,s=(0,n.Z)(i)`${e=>e.spoofHovered?"bg-[#f5f5f5]":""}
hover:bg-[#f5f5f5] focus-visible:bg-[#f5f5f5]
radix-state-open:bg-[#f5f5f5]
dark:hover:bg-token-main-surface-secondary
dark:focus-visible:bg-token-main-surface-secondary
rounded-md my-0 px-3 mx-2
dark:radix-state-open:bg-token-main-surface-secondary gap-2.5 py-3`,o=n.Z.div`z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary shadow-lg will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade border border-token-border-light py-2`,l=n.Z.div`popover overflow-auto rounded-xl border border-token-border-light bg-token-main-surface-primary p-2 shadow-xl`},40431:function(e,t,r){r.d(t,{W:function(){return $}});var n,a=r(98601),i=r(11550),s=r(15478),o=r(25162),l=r(651);function c(e){let{children:t}=e;return(0,l.jsxs)("div",{className:"flex min-h-screen w-full flex-col",children:[(0,l.jsx)("div",{className:"m-4 flex gap-3",children:(0,l.jsx)(o.nI,{className:"icon-xl"})}),(0,l.jsx)("div",{className:"m-auto max-w-sm flex-col justify-center",children:t})]})}let u=s.Z.h2`mb-2 text-2xl font-semibold`,d=s.Z.p`mb-10 text-sm`;var m=r(99976),f=r(61619),p=r(11941),b=r.n(p),g=r(34977),h=r(92379),x=r(75172),v=r(62984),j=r(68306),y=r(21389),w=r(88600),k=r(28146);let O={hidden:{opacity:0,translateY:50},show:{opacity:1,translateY:0,transition:{staggerChildren:.5,delayChildren:.2}}},P={hidden:{opacity:0,translateY:50},show:{opacity:1,translateY:0,transition:{type:"spring",damping:14}}};function N(e){let{isTrial:t}=e;return(0,l.jsx)("div",{className:"mb-6 flex items-center justify-center gap-2",children:(0,l.jsx)(y.M,{children:(0,l.jsx)(w.E.div,{variants:O,initial:"hidden",animate:"show",className:"flex",children:(0,l.jsx)(w.E.div,{variants:P,children:t?(0,l.jsx)(k.FwT,{className:"h-8"}):(0,l.jsx)(k.o3E,{className:"h-8"})})})})})}var M=r(99333),S=r(7331),T=r(93951),E=r(82821),C=r(31498),Z=r(42420),I=r(60806);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var R=((n=R||{}).Landing="landing",n.Setup="setup",n.Invite="invite",n.Complete="complete",n);let F=[R.Landing,R.Invite,R.Complete],W={enter:e=>({translateX:e>=0?"50%":"-50%",opacity:0}),center:{translateX:0,opacity:1},exit:e=>({translateX:e<=0?"50%":"-50%",opacity:0})};function L(){let e=(0,Z.NL)(),t=(0,g.useRouter)(),{currentPath:r,currentStep:n}=function(){let e=(0,g.useRouter)().asPath.split("#"),t=e[1];return{currentStep:U(t)?t:R.Landing,currentPath:e[0]}}(),a=(0,T.t)(),i=(0,C.ec)(C.F_.workspaces),s=(0,E.b)(),o=(0,x.Z)(),c=i.find(e=>e.structure===M.CZ.WORKSPACE&&!e.deactivated),{0:u,1:d}=(0,h.useState)(1);(0,h.useEffect)(()=>{function e(){d(-1)}return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[]);let m=()=>{d(1);let e=F.indexOf(n),a=e+1;c||t.push("/"),-1!==e&&a<F.length&&t.push(r+"#"+F[a])};return(0,l.jsx)("div",{className:"max-w-sm pb-6",children:(0,l.jsxs)(y.M,{mode:"wait",custom:u,children:[n===R.Landing&&(0,l.jsx)(V,{initial:!1,custom:u,children:(0,l.jsx)(_,{onNext:m,isLoading:null==a})},"landing"),n===R.Invite&&(0,l.jsx)(V,{custom:u,children:(0,l.jsx)(B,{onNext:()=>{m()}})},"invite"),n===R.Complete&&(0,l.jsx)(V,{custom:u,children:(0,l.jsx)(z,{onNext:()=>{m(),c&&(0,T.nq)(e,c.id,s,o),t.push("/")}})},"complete")]})})}let V=e=>(0,l.jsx)(w.E.div,A({initial:"enter",animate:"center",exit:"exit",variants:W,transition:{translateX:{type:"just"},opacity:{duration:.2}}},e));function _(e){let{onNext:t,isLoading:r=!1}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N,{isTrial:!1}),(0,l.jsx)(u,{children:(0,l.jsx)(v.Z,A({},H.standard))}),(0,l.jsx)(d,{children:(0,l.jsx)(v.Z,A({},H.description))}),(0,l.jsx)(i.z,{onClick:t,size:"large",loading:r,fullWidth:!0,children:(0,l.jsx)(v.Z,A({},H.continue))})]})}function B(e){let{onNext:t}=e,r=(0,T.t)(),n=(0,x.Z)();return null==r?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u,{children:(0,l.jsx)(v.Z,A(A({},H.inviteTitle),{},{values:{workspaceName:r.data.name}}))}),(0,l.jsx)(d,{children:(0,l.jsx)(v.Z,A({},H.completeDescription))}),null!=r&&(0,l.jsx)("div",{className:"text-sm",children:(0,l.jsx)(S.Z,{fullWidthButtons:!0,workspace:r,canResendInviteEmails:!1,onCancel:t,cancelButtonText:n.formatMessage(H.skipAddMembers),onSuccess:t})})]})}function z(e){let{onNext:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u,{children:(0,l.jsx)(v.Z,A({},H.completeTitle))}),(0,l.jsx)(d,{children:(0,l.jsx)(v.Z,A({},H.completeDescription))}),(0,l.jsx)(i.z,{onClick:t,size:"large",fullWidth:!0,children:(0,l.jsx)(v.Z,A({},H.continueToChatgpt))})]})}let U=(0,I.b)(R),H=(0,j.vU)({standard:{id:"UpgradedToTeamSuccess.trial",defaultMessage:"Payment successful"},description:{id:"UpgradedToTeamSuccess.description",defaultMessage:"Your team has been created. You can invite members to join the workspace to start collaborating."},continue:{id:"UpgradedToTeamSuccess.continue",defaultMessage:"Continue"},continueToChatgpt:{id:"UpgradedToTeamSuccess.continueToChatgpt",defaultMessage:"Continue to ChatGPT"},setupTitle:{id:"UpgradedToTeamSuccess.setupTitle",defaultMessage:"Set up a team workspace"},setupSubtitle:{id:"UpgradedToTeamSuccess.setupSubtitle",defaultMessage:"Workspace name"},inviteTitle:{id:"UpgradedToTeamSuccess.inviteTitle",defaultMessage:"Invite members to {workspaceName}"},completeTitle:{id:"UpgradedToTeamSuccess.completeTitle",defaultMessage:"Workspace setup complete"},completeDescription:{id:"UpgradedToTeamSuccess.completeDescription",defaultMessage:"You have now created a team workspace. You can invite members to join the workspace. You can do so at any time from the workspace settings page."},skipAddMembers:{id:"UpgradedToTeamSuccess.skipAddMembers",defaultMessage:"Skip"}});function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $(e){let{isTrial:t,isTeam:r}=e,n=(0,x.Z)(),a=(0,g.useRouter)(),i=(0,h.useCallback)(e=>{e.preventDefault(),m.A.logEvent(f.M.clickAccountPaymentSuccessContinue),a.push("/")},[a]);return(0,l.jsxs)(c,{children:[(0,l.jsx)(b(),{children:(0,l.jsx)("title",{children:n.formatMessage(Y.pageTitle)})}),(0,l.jsx)("div",{className:"flex flex-col",children:r?(0,l.jsx)(L,{}):(0,l.jsx)(q,{isTrial:t,onContinue:i})})]})}function q(e){let{isTrial:t,onContinue:r}=e,n=t?Y.trial:Y.standard;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N,{isTrial:!!t}),(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)(u,{children:(0,l.jsx)(v.Z,G({},n))}),(0,l.jsx)(d,{children:(0,l.jsx)(v.Z,G({},Y.paymentReceived))}),(0,l.jsx)(i.z,{onClick:r,size:"large",fullWidth:!0,children:(0,l.jsx)(v.Z,G({},Y.continueButton))})]})]})}let Y=(0,j.vU)({pageTitle:{id:"PaymentsSuccess.pageTitle",defaultMessage:"Account - Payment success"},paymentReceived:{id:"PaymentsSuccess.paymentSuccessful",defaultMessage:"You've been upgraded to ChatGPT Plus"},continueButton:{id:"PaymentsSuccess.continueButton",defaultMessage:"Continue"},standard:{id:"PaymentsSuccess.standard",defaultMessage:"Payment successful"},trial:{id:"PaymentsSuccess.trial",defaultMessage:"Trial started"}})},82821:function(e,t,r){r.d(t,{A:function(){return p},b:function(){return b}});var n=r(98601),a=r(58695),i=r(4132),s=r(177),o=r(82826),l=r(88667),c=r(45120),u=r(87161),d=r(34977);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){return t?a.Ho.LoginWebAuth0:a.Ho.Auth0}function b(){let e=(0,d.useRouter)(),{value:t}=(0,c.fW)("1198030896"),r=(0,a._0)((0,l.xb)("1977905538").config.value),n=(0,o.L)();return function(){let{authType:o="signup",callbackUrl:l="/",additionalAuthParams:c={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=p(e,t,r.forwardToAuthApi),m=n();return(0,u.signIn)(d,{callbackUrl:l},f(f(f(f({prompt:"login",screen_hint:o},(0,i.gk)((0,s.f3)())),(0,a.zC)(r)),m?{use_email_otp:"true"}:{}),c)),d}}},31498:function(e,t,r){r.d(t,{F_:function(){return g},aF:function(){return f},e2:function(){return x},ec:function(){return b},m0:function(){return h}});var n=r(98601),a=r(49166),i=r(84760),s=r(99333),o=r(2721),l=r(93951);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function d(){let e=await o.Z.getMe();return{id:e.id,email:e.email,name:e.name,picture:e.picture,created:e.created}}let m=(0,a.C)({queryKey:["user"],queryFn:d,staleTime:1/0});function f(){return(0,i.a)(m).data}let p={currentWorkspace:null,subscriptionStatus:null,workspaces:[]};function b(e){let t=(0,i.a)(u(u({},(0,l.KP)()),{},{select:e=>{let t=(0,l.EI)(e);return{currentWorkspace:t?.data??null,subscriptionStatus:t?.data.subscriptionStatus??null,workspaces:e.accountItems.map(e=>e.data)}}})).data??p;return e?e(t):t}let g={hasMultipleWorkspaces:e=>{let{workspaces:t}=e;return t.length>1},isPersonalWorkspace:e=>{let{currentWorkspace:t}=e;return t?.structure===s.CZ.PERSONAL},isBusinessWorkspace:e=>{let{currentWorkspace:t}=e;return null!=t?t.structure===s.CZ.WORKSPACE:void 0},isEnterprisePlan:e=>{let{subscriptionStatus:t}=e;return t?.planType===s.D8.ENTERPRISE},isEduPlan:e=>{let{subscriptionStatus:t}=e;return t?.planType===s.D8.EDU},isEnterpriseyPlan:e=>{let{subscriptionStatus:t}=e;return t?.planType===s.D8.ENTERPRISE||t?.planType===s.D8.EDU},isTeamPlan:e=>{let{subscriptionStatus:t}=e;return t?.planType===s.D8.TEAM},isAdmin:e=>{let{currentWorkspace:t}=e;return null!=t&&t.role===s.r3.ADMIN},isOwner:e=>{let{currentWorkspace:t}=e;return null!=t&&t.role===s.r3.OWNER},workspaceId:e=>{let{currentWorkspace:t}=e;return null!=t?t.id:null},businessWorkspace:e=>{let{currentWorkspace:t}=e;return t?.structure===s.CZ.WORKSPACE?t:void 0},businessWorkspaceId:e=>{let{currentWorkspace:t}=e;return t?.structure===s.CZ.WORKSPACE?t.id:void 0},hasPaidSubscription:e=>{let{subscriptionStatus:t}=e;return null!=t&&t.hasPaidSubscription},wasPaidCustomer:e=>{let{subscriptionStatus:t}=e;return null!=t&&t.wasPaidCustomer},hasCustomerObject:e=>{let{subscriptionStatus:t}=e;return null!=t&&t.hasCustomerObject},hasUnclaimedFreeTrial:e=>{let{currentWorkspace:t}=e;return t?.promoData?.has_claimed_free_trial},lastActiveSubscription:e=>{let{subscriptionStatus:t}=e;return null!=t?t.lastActiveSubscription:null},workspaces:e=>{let{workspaces:t}=e;return t},accountUserId:e=>{let{currentWorkspace:t}=e;return t?.accountUserId}};function h(){let e=(0,l.t)();if(null!=e)return e.hasPlusFeatures()}function x(){return l.t()?.data.subscriptionStatus.lastActiveSubscription}},60464:function(e,t,r){r.d(t,{F:function(){return n}});let n=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/},4132:function(e,t,r){r.d(t,{gk:function(){return a}});var n=r(95947);function a(e){return{"ext-statsig-tier":n.uG,"ext-oai-did":e}}},60806:function(e,t,r){r.d(t,{b:function(){return n}});function n(e){let t=Object.values(e);return e=>t.includes(e)}},82826:function(e,t,r){r.d(t,{L:function(){return a}});var n=r(45120);function a(){let{layer:e}=(0,n.AH)("1346366956");return()=>e.get("use_email_otp",!1)}}}]);
//# sourceMappingURL=431-65c9af147568b976.js.map