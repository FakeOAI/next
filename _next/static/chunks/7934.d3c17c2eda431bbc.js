"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7934],{7934:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var s,a=t(94521),r=t(85734),l=t(75172),o=t(68306),i=t(33423),u=t(44512),g=t(72427),c=t(651);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,s)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach(function(n){(0,a.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var f=((s=f||{}).Planning="planning",s.Running="running",s.Done="done",s.Stopped="stopped",s);function b(e){let n,{messages:t}=e,s=(0,l.Z)(),[a,o]=t,d=function(e,n){var t,s,a;let l;let o=null!==(t=null==n||null===(s=n.message.metadata)||void 0===s||null===(s=s.parallel_browse)||void 0===s?void 0:s.frontend_info.sub_agent_infos)&&void 0!==t?t:null===(a=e.message.metadata)||void 0===a||null===(a=a.parallel_browse)||void 0===a?void 0:a.frontend_info.sub_agent_infos,i=0,u=0;null!=o&&(i=(l=Object.values(Object.values(o).reduce((e,n)=>{let t=n.task_index;return null==e[t]&&(e[t]=[]),e[t].push(n),e},{})).map(e=>p(p({},e[0]),{},{status:function(e){let n=e.map(e=>e.status);for(let e of[r.RF.Starting,r.RF.Running,r.RF.Done,r.RF.Error,r.RF.Timeout,r.RF.Cancelled])if(n.some(n=>n===e))return e;return r.RF.Starting}(e)})).sort((e,n)=>e.task_index-n.task_index)).length,u=l.filter(m).length);let c=f.Planning;return(0,g.We)(e.message)?c=f.Stopped:null!=n&&(c=u===i?f.Done:f.Running),{status:c,subAgentInfos:l,numTotalSubAgents:i,numCompletedSubAgents:u}}(a,o),b=i.X.Running,O=h.creatingPlan;switch(d.status){case f.Running:d.numTotalSubAgents>0&&d.numCompletedSubAgents/d.numTotalSubAgents>=.75?O=h.almostDone:(O=h.running,n={numTasks:d.numTotalSubAgents});break;case f.Done:b=i.X.Finished,O=void 0;break;case f.Stopped:b=i.X.Stopped,O=h.cancelled;case f.Planning:}let v=O?s.formatMessage(O,n):null;return(0,c.jsx)(u.D,{highlightedCommand:v,status:b,showWorkUserSetting:!1})}function m(e){return e.status===r.RF.Done||e.status===r.RF.Timeout||e.status===r.RF.Error||e.status===r.RF.Cancelled}let h=(0,o.vU)({creatingPlan:{id:"parallelBrowsingMessage.creatingPlanV2",defaultMessage:"Making a research plan"},running:{id:"parallelBrowsingMessage.running_2",defaultMessage:"Visiting {numTasks, plural, one {# site} other {# sites}}"},almostDone:{id:"parallelBrowsingMessage.almostDone",defaultMessage:"Almost done"},cancelled:{id:"parallelBrowsingMessage.cancelledV2",defaultMessage:"Stopped doing research"},done:{id:"parallelBrowsingMessage.done",defaultMessage:"Finished research"}})}}]);
//# sourceMappingURL=7934.d3c17c2eda431bbc.js.map