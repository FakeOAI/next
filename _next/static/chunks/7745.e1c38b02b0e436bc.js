"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7745],{27745:function(e,t,s){s.r(t),s.d(t,{default:function(){return B}});var i=s(55371),l=s(94521),o=s(19841),n=s(556),a=s(86078),r=s.n(a),d=s(92379),c=s(98302),x=s(72256),h=s(26123),m=s(25940),u=s(36466),f=s(78496),p=s.n(f),g=s(5443),w=s(62484),j=s(66246),y=s(23855),v=s(52398),b=s(651);function N(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,i)}return s}function k(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?N(Object(s),!0).forEach(function(t){(0,l.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):N(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}let z={padding:20,zIndex:1e3,xOffset:300,yOffset:200,normal:{width:600,height:585},small:{width:600,height:335}},C=r()(()=>Promise.all([s.e(5823),s.e(690)]).then(s.bind(s,70690)),{ssr:!1,loading:()=>(0,b.jsx)("div",{className:"p-3",children:(0,b.jsx)("p",{className:"flex items-center justify-center text-center font-mono text-sm uppercase text-token-text-primary",style:{height:200},children:(0,b.jsx)(x.Z,k({},W.loading))})}),loadableGenerated:{webpack:()=>[70690]}});function O(){let e=(0,d.useRef)(null),[{width:t,height:s},l]=p()(),{targetLatencyData:a}=(0,y.gj)(),r=(0,i.tN)(i.bM.isLatencyDevtoolsVisible);(0,d.useEffect)(()=>{if(e.current){let t=window.innerWidth,s=window.innerHeight;e.current.updatePosition({x:t-(z.normal.width+z.xOffset)-z.padding,y:s-(z.normal.height+z.yOffset)-z.padding}),e.current.updateSize({width:z.normal.width,height:z.normal.height})}},[]);let{0:c,1:h}=(0,d.useState)(!1),m=()=>{c||h(!0)},f=()=>{c&&h(!1)},w=(0,v.AA)(),N=(0,v.JP)(),{0:O,1:P}=(0,d.useState)(!1),B=(0,d.useMemo)(()=>w?(0,v.j7)(w)+1:0,[w]),R=(0,d.useMemo)(()=>w?(0,v.BC)():0,[w]);(0,d.useEffect)(()=>{P(!1)},[w,P]);let S=()=>{r?i.vm.hideLatencyDevTools():i.vm.showLatencyDevTools()};if(!r)return null;let Z=Object.keys(N).length>1;return(0,b.jsx)(n.E.div,{initial:{opacity:0},transition:{delay:1,duration:.2},animate:{opacity:1,transition:{duration:.2,ease:"easeIn"}},exit:{opacity:0,transition:{duration:.2,ease:"easeIn"}},children:(0,b.jsx)(u.s,{disableDragging:c,ref:e,style:{zIndex:z.zIndex,width:z.normal.width,height:z.normal.height},className:(0,o.default)("transition-delay popover group relative flex h-full flex-col overflow-hidden rounded-md border-2 border-gray-500 bg-token-main-surface-primary opacity-80 shadow-md transition-opacity delay-100 hover:opacity-100 hover:delay-0 dark:border-white"),children:w?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"flex flex-row items-center border-b border-gray-700 py-1 dark:border-gray-300",children:(0,b.jsxs)("div",{className:"flex w-full flex-row items-center justify-end",children:[(0,b.jsxs)("div",{className:"flex w-full flex-row items-center justify-between px-3 ",children:[(0,b.jsx)(g.z,{disabled:!Z,className:"whitespace-nowrap",loading:O,color:"secondary",size:"small",onClick:()=>{P(!0),(0,v.WD)((0,v.iZ)(w))},icon:j.DUf}),(0,b.jsxs)("span",{className:"flex flex-row items-center justify-center space-x-2 truncate whitespace-nowrap text-xs font-semibold uppercase text-token-text-secondary",children:[(0,b.jsxs)("span",{className:"inline-flex items-center gap-x-1.5 rounded-full bg-yellow-100 px-1.5 py-0.5 text-xs font-semibold text-yellow-800",children:[(0,b.jsx)("svg",{className:"h-1.5 w-1.5 fill-yellow-500",viewBox:"0 0 6 6","aria-hidden":"true",children:(0,b.jsx)("circle",{cx:3,cy:3,r:3})}),"".concat(B," / ").concat(R)]}),(0,b.jsx)(x.Z,k(k({},W.node),{},{values:{focusedNodeId:w}}))]}),(0,b.jsx)(g.z,{disabled:!Z,className:"whitespace-nowrap",loading:O,color:"secondary",size:"small",onClick:()=>{P(!0),(0,v.WD)((0,v.Q7)(w))},icon:j.ob9})]}),(0,b.jsx)(g.z,{color:"ghost",size:"small",onClick:()=>S(),className:"whitespace-nowrap",icon:j.tPq})]})}),a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{ref:l,className:"h-full w-full min-w-20 space-y-2 overflow-scroll p-1 pb-12",children:(0,b.jsxs)("div",{className:(0,o.default)("col-span-1 grid gap-1"),children:[(0,b.jsx)("div",{onMouseMove:m,onMouseEnter:m,onMouseLeave:f,onMouseOut:f,onMouseUp:f,children:(0,b.jsx)(C,{parentDimensions:{width:t,height:s},targetLatencyData:a})}),(0,b.jsx)(M,{}),(0,b.jsx)(D,{})]})}),(0,b.jsx)(T,{resizableRef:e})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"font-lg flex h-full flex-col items-center justify-center text-lg",children:(0,b.jsx)(x.Z,k({},W.initiateCompletionRequest))}),(0,b.jsx)(T,{resizableRef:e})]})})})}let D=()=>(0,b.jsx)("div",{}),M=()=>{let{stats:e}=(0,y.gj)();return(0,b.jsxs)("div",{className:"space-y-3 overflow-scroll px-3",children:[(0,b.jsx)("div",{className:"border-b pb-3",children:(0,b.jsx)(P,{size:"large",stats:e.filter(e=>"summary"==e.category)})}),(0,b.jsx)(P,{stats:e.filter(e=>"token"==e.category)}),(0,b.jsx)(P,{stats:e.filter(e=>"aggregate"==e.category)})]})},P=e=>{let{stats:t,size:s="normal"}=e;return(0,b.jsx)("div",{className:"flex flex-wrap gap-3",children:t.map(e=>e.stat&&(0,b.jsx)("div",{className:"col-span-1",children:(0,b.jsxs)("div",{className:(0,o.default)("overflow-hidden bg-token-main-surface-primary shadow",{"rounded px-2 py-1 sm:p-2":"normal"==s,"rounded-lg px-2 py-3 sm:p-3":"large"==s}),children:[(0,b.jsx)("dt",{className:(0,o.default)("truncate text-token-text-tertiary",{"text-xs font-semibold":"normal"==s,"text-sm font-semibold":"large"==s}),children:e.name}),(0,b.jsx)("dd",{className:(0,o.default)("mt-1 font-semibold text-token-text-primary",{"text-base tracking-tight":"normal"==s,"text-xl tracking-tight":"large"==s}),children:e.stat})]})},e.name))})},T=e=>{let{resizableRef:t}=e,s=(0,h.Z)(),l=e=>{let s=window.innerWidth,i=window.innerHeight,l={"up-left":{x:0,y:0},"down-right":{x:s-z.normal.width-z.padding,y:i-z.normal.height-z.padding},"down-left":{x:0,y:i-z.normal.height-z.padding},"up-right":{x:s-z.normal.width-z.padding,y:0}};t.current&&(t.current.updatePosition({x:l[e].x,y:l[e].y}),t.current.updateSize({width:z.normal.width,height:z.normal.height}))},o=()=>{i.vm.hideLatencyDevTools()};return(0,b.jsxs)("div",{className:"popover sticky bottom-0 z-50 flex w-full flex-row justify-between border-t border-gray-400 bg-token-main-surface-primary p-2",children:[(0,b.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,b.jsx)(w.u,{label:s.formatMessage(W.dragAndResizeTooltip),className:"item-center flex flex-col justify-center pl-2 pr-1",children:(0,b.jsx)(c.uWH,{className:"icon-sm"})}),(0,b.jsxs)("div",{className:"flex flex-row space-x-1",children:[(0,b.jsx)(g.z,{color:"secondary",size:"small",onClick:()=>l("down-left"),icon:j.ReP}),(0,b.jsx)(g.z,{color:"secondary",size:"small",onClick:()=>l("up-left"),children:(0,b.jsx)(j.w9k,{className:"icon-sm rotate-180"})}),(0,b.jsx)(g.z,{color:"secondary",size:"small",onClick:()=>l("up-right"),children:(0,b.jsx)(j.ReP,{className:"icon-sm rotate-180"})}),(0,b.jsx)(g.z,{color:"secondary",size:"small",onClick:()=>l("down-right"),icon:j.w9k})]}),(0,b.jsxs)("div",{className:"flex flex-row space-x-1",children:[(0,b.jsx)(g.z,{color:"secondary",size:"small",onClick:()=>{var e;null===(e=t.current)||void 0===e||e.updateSize({width:z.small.width,height:z.small.height})},children:(0,b.jsx)(x.Z,k({},W.shrinkButton))}),(0,b.jsx)(g.z,{color:"secondary",size:"small",onClick:()=>{var e;null===(e=t.current)||void 0===e||e.updateSize({width:z.normal.width,height:z.normal.height})},children:(0,b.jsx)(x.Z,k({},W.growButton))})]})]}),(0,b.jsx)("div",{className:"flex flex-row justify-end gap-3",children:(0,b.jsx)(g.z,{color:"ghost",size:"small",onClick:()=>o(),className:"whitespace-nowrap",children:(0,b.jsx)(x.Z,k({},W.closeButton))})})]})},W=(0,m.vU)({loading:{id:"CompletionDevToolsWidget.loading",defaultMessage:"Loading..."},node:{id:"CompletionDevToolsWidget.node",defaultMessage:"Node: {focusedNodeId}"},initiateCompletionRequest:{id:"CompletionDevToolsWidget.initiateCompletionRequest",defaultMessage:"Initiate a completion request to use this feature"},shrinkButton:{id:"CompletionDevToolsWidget.shrinkButton",defaultMessage:"Shrink"},growButton:{id:"CompletionDevToolsWidget.growButton",defaultMessage:"Grow"},closeButton:{id:"CompletionDevToolsWidget.closeButton",defaultMessage:"Close"},dragAndResizeTooltip:{id:"CompletionDevToolsWidget.dragAndResizeTooltip",defaultMessage:"This widget can be dragged and resized"}});var B=()=>(0,i.tN)(i.bM.isLatencyDevtoolsVisible)?(0,b.jsx)(O,{}):null}}]);
//# sourceMappingURL=7745.e1c38b02b0e436bc.js.map