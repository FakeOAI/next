(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2571],{10737:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return en},default:function(){return eo}});var o,r=n(98601),i=n(68986),a=n(99333),s=n(59144),l=n(24434),d=n(82821),c=n(42420),u=n(58695),f=n(88667),p=n(19841);class m extends Error{}m.prototype.name="InvalidTokenError";var g=n(38482),y=n.n(g),h=n(11941),x=n.n(h),b=n(92379),v=n(75325),w=n(49764),j=n(47584),M=n(11550),k=n(16779),I=n(11433),E=n(98095),T=n(36792),C=n(88491),O=n(12310),S=n(651);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P(e){let{onRemoveDomainClick:t,onVerifyDomainClick:n}=e;return(0,S.jsxs)(E.Z.Root,{children:[(0,S.jsx)(E.Z.Trigger,{children:(0,S.jsx)(I.nWS,{className:"icon-sm"})}),(0,S.jsx)(E.Z.Portal,{children:(0,S.jsxs)(E.Z.Content,{children:[(0,S.jsx)(E.Z.Item,{onClick:t,children:(0,S.jsx)(v.Z,_({},L.ssoDropdownRemoveButtonText))}),(0,S.jsx)(E.Z.Item,{onClick:n,children:(0,S.jsx)(v.Z,_({},L.ssoDropdownVerifyButtonText))})]})})]})}function Z(e){let{domains:t,workspaceId:n}=e,o=(0,w.Z)(),{mutateAsync:r}=(0,O.Bd)(n),{0:i,1:a}=(0,b.useState)(!1),{0:s,1:l}=(0,b.useState)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(T.Z.Root,{className:"w-full table-auto",children:[(0,S.jsxs)(T.Z.Header,{children:[(0,S.jsx)(T.Z.HeaderCell,{className:"bg-token-main-surface-primary",children:(0,S.jsx)(v.Z,_({},L.domainTableHeader))}),(0,S.jsx)(T.Z.HeaderCell,{className:"bg-token-main-surface-primary",children:(0,S.jsx)(v.Z,_({},L.statusTableHeader))}),(0,S.jsx)(T.Z.HeaderCell,{className:"bg-token-main-surface-primary"})]}),(0,S.jsx)(T.Z.Body,{children:t.map((e,t)=>(0,S.jsxs)("tr",{onClick:()=>l(e),className:"cursor-pointer",children:[(0,S.jsx)(T.Z.Cell,{children:e.hostname}),(0,S.jsx)(T.Z.Cell,{children:o.formatMessage(O.sd[e.status])}),(0,S.jsx)(T.Z.Cell,{textAlign:"right",children:(0,S.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,S.jsx)(P,{onRemoveDomainClick:()=>{r({domainId:e.id})},onVerifyDomainClick:()=>{l(e)}})})})]},t))})]}),(0,S.jsx)(M.z,{color:"secondary",className:"mt-6",onClick:()=>{a(!0)},icon:I.Vz5,children:(0,S.jsx)(v.Z,_({},L.addDomainButton))}),(0,S.jsx)(C.Z,{isOpen:i||void 0!==s,onClose:()=>{a(!1),l(void 0)},workspaceId:n,currentDomain:i?void 0:s,domains:t},s?.id)]})}let L=(0,j.vU)({ssoDropdownRemoveButtonText:{id:"workspaceIdentity.ssoDropdownRemoveButtonText",defaultMessage:"Remove Domain"},ssoDropdownVerifyButtonText:{id:"workspaceIdentity.ssoDropdownVerifyButtonText",defaultMessage:"Verify"},domainTableHeader:{id:"workspaceIdentity.domainTableHeader",defaultMessage:"Domain"},statusTableHeader:{id:"workspaceIdentity.statusTableHeader",defaultMessage:"Status"},addDomainButton:{id:"workspaceIdentity.addDomainButton.0",defaultMessage:"Add domain"}});var N=n(64216),A=n(6440),F=n(24740),U=n(92319),R=n(8040);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let q=async e=>new Promise((t,n)=>{let o=new FileReader;o.readAsText(e),o.onload=function(e){t(e.target?.result)},o.onerror=n});function G(e){let{acsId:t,hasSSO:n}=e,o=`https://auth0.openai.com/login/callback?connection=${t}`,r=`urn:auth0:openai:${t}`,i=`${location.host}/auth/login?sso=true&connection=${t}`,a=(0,w.Z)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R.Li,{children:(0,S.jsx)(v.Z,z({},X.setupSSOContent))}),(0,S.jsxs)("div",{className:"mb-6 flex flex-col space-y-4",children:[(0,S.jsx)(N.Z,{label:"Assertion Consumer Service (ACS) URL",value:o,onCopied:()=>{F.m.success(a.formatMessage(X.copiedACSToClipboard),{duration:3})}}),(0,S.jsx)(N.Z,{label:"Entity ID",value:r,onCopied:()=>{F.m.success(a.formatMessage(X.copiedEntityToClipboard),{duration:3})}}),n&&(0,S.jsx)(N.Z,{label:a.formatMessage(X.idpSignInURL),value:i,onCopied:()=>{F.m.success(a.formatMessage(X.copiedIDPUrlToClipboard),{duration:3})}})]})]})}var H=((o=H||{})[o.CREATE=1]="CREATE",o[o.EDIT=2]="EDIT",o);function V(e){let{workspaceId:t,data:n,isOpen:o,onClose:r}=e,i=(0,w.Z)(),a=(0,d.b)(),{mutateAsync:c}=(0,O.Fc)(t),{mutateAsync:u}=(0,O.OR)(t),{mutateAsync:f}=(0,O.DD)(t),m=(0,b.useRef)(null),g=n?.connection,{0:y,1:h}=(0,b.useState)(g?.sign_in_endpoint),{0:x,1:j}=(0,b.useState)(!1),{0:k,1:E}=(0,b.useState)(g?.cert),T=null===n?H.CREATE:H.EDIT,C=async(e,t)=>{let n;try{n=await c({signInEndpoint:e,cert:t})}catch(e){if(e instanceof U.gK&&"reauth_required"===e.code){j(!0);return}throw e}await f({connectionId:n.id,active:!0}),r()},D=T===H.CREATE?(0,S.jsx)(s.Z.Button,{title:i.formatMessage(X.doneButton),color:"primary",disabled:void 0===y||void 0===k,onClick:async()=>{void 0!==y&&void 0!==k&&await C(y,k)}}):n&&(0,S.jsx)(s.Z.Button,{title:i.formatMessage(X.doneButton),color:"primary",onClick:async()=>{await f({connectionId:n?.id,cert:k,signInEndpoint:y,active:!0}),r()}}),_=null===n?(0,S.jsx)(s.Z.Button,{title:i.formatMessage(X.cancelButton),color:"secondary",onClick:()=>r()}):(0,S.jsx)(M.z,{as:"link",color:"danger-outline",onClick:async()=>{await u({connectionId:n?.id}),r()},children:i.formatMessage(X.deleteButton)});return(0,S.jsx)(l.Z,{isOpen:o,type:"success",title:i.formatMessage(T===H.CREATE?X.createTitle:X.editTitle),primaryButton:D,secondaryButton:_,onClose:r,children:(0,S.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[(0,S.jsx)(O.z0,{children:(0,S.jsx)(v.Z,z({},X.createInstructionsManual))}),(0,S.jsx)("label",{className:"mb-2 flex items-center text-sm",children:(0,S.jsx)(v.Z,z({},X.signInLabel))}),(0,S.jsx)("div",{className:"mb-4",children:(0,S.jsx)(A.Z,{className:"w-full appearance-none rounded border px-3 py-2",name:"Sign-In URL",type:"text",placeholder:"https://your.idp.here/saml2?idpid=123456",value:y??"",onChange:e=>{h(e.target.value)}})}),(0,S.jsxs)("div",{className:"mb-4",children:[(0,S.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,S.jsx)("label",{className:"text-sm",children:(0,S.jsx)(v.Z,z({},X.certLabel))}),(0,S.jsx)("input",{ref:m,type:"file",accept:".csv,.cer,.pem,text/plain",className:"hidden",onChange:async e=>{e.target.files?.[0]&&E(await q(e.target.files[0]))}}),(0,S.jsx)(M.z,{color:"secondary",onClick:()=>m.current?.click(),icon:I.aAc})]}),(0,S.jsx)("textarea",{rows:10,className:(0,p.default)("w-full resize-none overflow-y-auto rounded border border-gray-300 px-3 py-2","outline-none focus-within:border-green-600 focus-within:ring-1 focus-within:ring-green-600","text-token-text-primary placeholder-gray-500 dark:bg-gray-700"),placeholder:"-----BEGIN CERTIFICATE-----",value:k??"",onChange:e=>{E(e.target.value)}})]}),x&&(0,S.jsx)("label",{className:"text-token-text-error",children:(0,S.jsx)(v.Z,{id:"ZfFabW",defaultMessage:"You need to re-authenticate to access this page. Please <login>log in</login> before continuing.",values:{login:e=>(0,S.jsx)("a",{href:"#",className:"text-token-text-primary underline",onClick:e=>{e.preventDefault(),a({authType:"login",callbackUrl:"/admin/identity"})},children:e})}})})]})})}let X=(0,j.vU)({setupSSOContent:{id:"workspaceIdentity.setupSSOContent",defaultMessage:"Anyone using email addresses with a verified domain can log in via SAML SSO."},createInstructionsXML:{id:"ssoModal.createInstructionsXML",defaultMessage:"If your Identity Provider offers a metadata URL or an XML file, add it here for the quickest setup option."},createInstructionsManual:{id:"ssoModal.createInstructionsManual",defaultMessage:"Copy your Sign-in endpoint (SSO URL) and the public X.509 certificate from your Identity Provider."},createTitle:{id:"ssoModal.createTitle",defaultMessage:"Create SAML SSO Configuration"},editTitle:{id:"ssoModal.editTitle",defaultMessage:"Edit SAML SSO Configuration"},ssoMetadataLabel:{id:"ssoModal.ssoMetadataLabel",defaultMessage:"App Federation Metadata URL"},signInLabel:{id:"ssoModal.signInLabel",defaultMessage:"SSO URL"},certLabel:{id:"ssoModal.certLabel",defaultMessage:"X.509 Signing Certificate"},doneButton:{id:"ssoModal.doneButton",defaultMessage:"Done"},nextButton:{id:"ssoModal.nextButton",defaultMessage:"Next"},deleteButton:{id:"ssoModal.deleteButton",defaultMessage:"Delete configuration"},cancelButton:{id:"ssoModal.cancelButton",defaultMessage:"Cancel"},acsURLLabel:{id:"workspaceIdentity.acsURLLabel",defaultMessage:"Assertion Consumer Service (ACS) URL"},entityIDLabel:{id:"workspaceIdentity.entityIDLabel",defaultMessage:"Entity ID"},idpSignInURL:{id:"workspaceIdentity.idpSignInURL",defaultMessage:"IDP Tile URL"},copiedACSToClipboard:{id:"workspaceIdentity.copiedACSToClipboard",defaultMessage:"Copied ACS URL to clipboard"},copiedEntityToClipboard:{id:"workspaceIdentity.copiedEntityToClipboard",defaultMessage:"Copied entity ID to clipboard"},copiedIDPUrlToClipboard:{id:"workspaceIdentity.copiedIDPUrlToClipboard",defaultMessage:"Copied IDP URL to clipboard"},orDivider:{id:"workspaceIdentity.orDivider",defaultMessage:"or"},certExtractFailed:{id:"workspaceIdentity.certExtractFailed",defaultMessage:"Unable to find X.509 Certificate in provided XML"},ssoUrlExtractFailed:{id:"workspaceIdentity.ssoUrlExtractFailed",defaultMessage:"Unable to find Entity ID (sign-in endpoint) in provided XML"},ssoLearnMoreLink:{id:"workspaceIdentity.ssoLearnMoreLink",defaultMessage:"Learn more"}});function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let Q=y()(()=>n.e(5622).then(n.bind(n,95622)).then(e=>e.DirectorySyncSection),{loadableGenerated:{webpack:()=>[95622]}}),Y=e=>{let{title:t,footer:n,children:o}=e;return(0,S.jsxs)(R.i9,{children:[(0,S.jsx)(R.A4,{children:(0,S.jsx)(v.Z,J({},t))}),(0,S.jsx)("div",{children:o}),(0,S.jsx)(R.Li,{children:n})]})},W=e=>{let{icon:t,title:n,body:o,toggle:r}=e;return(0,S.jsxs)(R.i9,{children:[(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)(t,{className:"icon-sm"}),(0,S.jsx)(R.A4,{children:(0,S.jsx)(v.Z,J({},n))})]}),(0,S.jsx)("div",{children:r})]}),(0,S.jsx)(R.Li,{children:o})]})};function K(e){let{currentWorkspaceId:t}=e,{value:n}=(0,f.sB)("3999712942"),o=(0,w.Z)(),r=(0,c.NL)(),{data:g,isLoading:y}=(0,O.f_)(t),h=(0,d.b)(),{mutateAsync:j}=(0,O.DD)(t),{variables:E,mutateAsync:T}=(0,O.Ji)(t),{variables:C,mutateAsync:D}=(0,O.HH)(t),_=g?.sso_connection!=null,P=g?.domains,L=!!P?.some(e=>e.status===a.pT.VERIFIED),N=_?ee.ssoEditButton:ee.ssoAddButton,{0:A,1:F}=(0,b.useState)(!1),{0:U,1:B}=(0,b.useState)(!1),z=g?.sso_connection?.status==="ACTIVE",q=g?.sso_connection?.connection?.enabled_client_names?.includes("chat")??!1,H=z&&q,X=g?.sso_connection?.id,$=C?.shouldAllowExternalDomainInvites??g?.allow_external_domain_invites??!0,K=g?(0,S.jsxs)(R.$V,{children:[n&&(0,S.jsx)(Q,{workspaceId:t}),(0,S.jsx)(Y,{title:ee.domainSubtitle,footer:(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(v.Z,J({},ee.verifyDomainInfoText))}),children:(0,S.jsx)(Z,{domains:g.domains,workspaceId:t})}),(0,S.jsx)(W,{icon:I.uSF,title:ee.autoProvisionTitle,body:(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(v.Z,J({},ee.autoProvisionBody))}),toggle:(0,S.jsx)(k.Z,{disabled:!L,enabled:E?.shouldAutoProvision??g.should_auto_provision,onChange:e=>{T({shouldAutoProvision:e})},label:o.formatMessage(ee.toggleAutoProvisionLabel)})}),L&&(0,S.jsx)(W,{icon:I.ZyU,title:ee.allowExternalDomainInvitesTitle,body:(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(v.Z,J({},ee.allowExternalDomainInvitesBody))}),toggle:(0,S.jsx)(k.Z,{disabled:!L&&$,enabled:$,onChange:e=>{D({shouldAllowExternalDomainInvites:e})},label:o.formatMessage(ee.toggleDisableExternalDomainInvitesLabel)})}),(0,S.jsxs)(R.i9,{children:[(0,S.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)(I.kaz,{className:(0,p.default)("icon-sm",H?"text-blue-600":"text-token-text-tertiary")}),(0,S.jsx)(R.A4,{children:(0,S.jsx)(v.Z,J({},ee.ssoTitle))})]}),_&&(0,S.jsx)("div",{children:(0,S.jsx)(k.Z,{enabled:H,onChange:()=>{j({connectionId:X,active:!H})},label:o.formatMessage(ee.ssoToggleActive)})})]}),L&&(0,S.jsx)(G,{acsId:g.acs_id,hasSSO:_}),(0,S.jsxs)("div",{children:[(0,S.jsx)(M.z,{as:"button",color:"primary",disabled:!L,onClick:()=>{!function(e){let t=u.y_(e)?.accessToken,n=t?function(e,t){let n;if("string"!=typeof e)throw new m("Invalid token specified: must be a string");t||(t={});let o=!0===t.header?0:1,r=e.split(".")[o];if("string"!=typeof r)throw new m(`Invalid token specified: missing part #${o+1}`);try{n=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var n;return n=t,decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}catch(e){return atob(t)}}(r)}catch(e){throw new m(`Invalid token specified: invalid base64 for part #${o+1} (${e.message})`)}try{return JSON.parse(n)}catch(e){throw new m(`Invalid token specified: invalid json for part #${o+1} (${e.message})`)}}(t):null,o=n?.pwd_auth_time;return null!=o&&Date.now()-o<6e4}(r)?F(!0):B(!0)},children:(0,S.jsx)(v.Z,J({},N))}),(0,S.jsx)(V,{workspaceId:t,data:g.sso_connection,isOpen:U,onClose:()=>{B(!1)}}),(0,S.jsx)(l.Z,{isOpen:A,onClose:()=>F(!1),type:"warning",title:o.formatMessage(ee.reauthRequiredTitle),icon:I.oVl,primaryButton:(0,S.jsx)(s.Z.Button,{onClick:()=>{h({authType:"login",callbackUrl:"/admin/identity"})},color:"primary",children:(0,S.jsx)(v.Z,{id:"qcl4gn",defaultMessage:"Login"})}),secondaryButton:(0,S.jsx)(s.Z.Button,{onClick:()=>F(!1),children:(0,S.jsx)(v.Z,{id:"E1vtdZ",defaultMessage:"Close"})}),children:(0,S.jsx)("label",{className:"mb-2 flex items-center text-sm",children:o.formatMessage(ee.reauthRequiredExplanation)})})]})]}),g.sso_connection&&(0,S.jsx)(W,{icon:I.oVl,title:ee.enforceSSOTitle,body:(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(v.Z,J({},ee.enforceSSOBody))}),toggle:(0,S.jsx)(k.Z,{disabled:!L,enabled:g.sso_connection.auth0_enforced_clients?.includes("chat"),onChange:e=>{j({connectionId:g.sso_connection.id,enforcedClients:e?["chat"]:[]})},label:o.formatMessage(ee.enforceSSOLabel)})})]}):null;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x(),{children:(0,S.jsx)("title",{children:o.formatMessage(ee.title)})}),(0,S.jsx)(i.yG,{title:o.formatMessage(ee.title)}),(0,S.jsx)(i.hb,{showSpinner:y,children:K})]})}let ee=(0,j.vU)({title:{id:"workspaceIdentity.title",defaultMessage:"Identity & Provisioning"},domainSubtitle:{id:"workspaceIdentity.domainSubtitle",defaultMessage:"Domain management"},ssoTitle:{id:"workspaceIdentity.ssoTitle",defaultMessage:"Single Sign On"},ssoToggleActive:{id:"WorkspaceIdentityPage.ssoToggleActive",defaultMessage:"Enable SSO for this workspace"},ssoAddButton:{id:"workspaceIdentity.ssoAddButton",defaultMessage:"Add SAML SSO"},ssoEditButton:{id:"workspaceIdentity.ssoEditButton",defaultMessage:"Edit SAML SSO"},autoProvisionTitle:{id:"workspaceIdentity.autoProvisionSubtitle",defaultMessage:"Automatic account creation"},autoProvisionBody:{id:"workspaceIdentity.autoProvisionBody",defaultMessage:"Automatically create workspace accounts for new users who log in with a verified domain."},toggleAutoProvisionLabel:{id:"workspaceIdentity.toggleAutoProvisionLabel",defaultMessage:"Toggle to enable or disable auto provisioning"},allowExternalDomainInvitesTitle:{id:"RQGwuu",defaultMessage:"Allow External Domain Invites"},allowExternalDomainInvitesBody:{id:"7KRqHk",defaultMessage:"If not checked, future invitations to this workspace will be limited to users from this organization's verified domains"},toggleDisableExternalDomainInvitesLabel:{id:"bQy24Z",defaultMessage:"Toggle to enable or disable external domain invites"},enforceSSOTitle:{id:"workspaceIdentity.enforceSSOTitle",defaultMessage:"Enforce SSO log in"},enforceSSOBody:{id:"workspaceIdentity.enforceSSOBody",defaultMessage:"When SSO is active, users will no longer be able to use social logins and will be redirected to your SSO portal."},enforceSSOLabel:{id:"workspaceIdentity.enforceSSOLabel",defaultMessage:"Toggle to enable or disable SSO enforcement"},verifyDomainInfoText:{id:"workspaceIdentity.verifyDomainInfoText",defaultMessage:"Verify ownership of an email domain to access advanced security features including single sign-on."},learnMoreLink:{id:"workspaceIdentity.learnMoreLink",defaultMessage:"Learn more"},reauthRequiredTitle:{id:"workspaceIdentity.reauthRequiredTitle",defaultMessage:"Please login again"},reauthRequiredExplanation:{id:"workspaceIdentity.reauthRequiredExplanation",defaultMessage:"For security reasons, we need you to reauthenticate before making changes to SSO settings."}});function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var en=!0;function eo(e){return(0,S.jsx)(K,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))}eo.getLayout=function(e){return(0,S.jsx)(i.ZP,{mobilePageTitle:"Identity",requireOwnerPrivileges:!0,children:e})}},64216:function(e,t,n){"use strict";var o=n(79746),r=n(11550),i=n(11433),a=n(651);t.Z=e=>{let{label:t,value:n,onCopied:s}=e,l=()=>{(0,o.v)(n),s()};return(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[void 0!==t&&(0,a.jsx)("label",{className:"font-semibold",children:t}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{onClick:l,className:"w-full cursor-pointer break-all rounded-lg bg-token-main-surface-tertiary px-4 py-2 font-mono text-sm text-token-text-primary",children:n}),(0,a.jsx)(r.z,{color:"ghost",onClick:l,icon:i.TIy})]})]})}},88491:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var o,r=n(98601),i=n(99333),a=n(11550),s=n(64216),l=n(6440),d=n(59144),c=n(36792),u=n(11433),f=n(24434),p=n(24740),m=n(2721),g=n(42420),y=n(56032),h=n(92379),x=n(49764),b=n(75325),v=n(47584),w=n(12310),j=n(651);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var I=((o=I||{})[o.INITIAL=0]="INITIAL",o[o.PENDING=1]="PENDING",o[o.FINAL=2]="FINAL",o);function E(e){let{workspaceId:t,isOpen:n,onClose:o,currentDomain:r,domains:a=[],showUnverifiedDomains:l=!1,onVerifyDomain:c}=e,u=(0,x.Z)(),{mutateAsync:v,isPending:w}=function(e){let t=(0,g.NL)();return(0,y.D)({mutationFn:t=>{let{hostname:n}=t;return m.Z.addDomainToWorkspace(e,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:e=>{p.m.danger(e.message)}})}(t),{mutateAsync:M,isPending:E}=function(e){let t=(0,g.NL)();return(0,y.D)({mutationFn:t=>{let{domainId:n}=t;return m.Z.checkDomainForWorkspace(e,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:e=>{p.m.danger(e.message)}})}(t),{0:T,1:S}=(0,h.useState)(r??void 0),{0:D,1:_}=(0,h.useState)(r?.hostname),{0:P,1:Z}=(0,h.useState)(r?.status===void 0?I.INITIAL:r?.status===i.pT.PENDING?I.PENDING:I.FINAL),L=()=>{r||(S(void 0),Z(I.INITIAL))},N=async()=>{if(void 0===D)return;let e=a.find(e=>e.hostname===D&&e.status===i.pT.PENDING);if(e)S(e),Z(I.PENDING);else{let e=await v({hostname:D});"id"in e&&S(e),Z(I.PENDING)}},A=(0,j.jsx)(d.Z.Button,{title:u.formatMessage(O.check),color:"primary",disabled:T?.id===void 0||E,onClick:async()=>{if(T?.id){let e=await M({domainId:T.id});"error"in e&&p.m.danger(u.formatMessage(O.domainCheckError,{message:e.error.message})),"id"in e&&(c&&c(e),e.status===i.pT.VERIFIED&&Z(I.FINAL))}}}),F=(0,j.jsx)(d.Z.Button,{title:u.formatMessage(O.submit),color:"primary",disabled:void 0===D||w,onClick:N}),U=(0,j.jsx)(d.Z.Button,{title:u.formatMessage(O.done),color:"primary",onClick:()=>{L(),o()}});return(0,j.jsxs)(f.Z,{isOpen:n,onClose:()=>{L(),o()},type:"success",className:"text-token-text-secondary",title:u.formatMessage(P===I.INITIAL?O.newTitle:O.editTitle),primaryButton:P===I.INITIAL?F:P===I.PENDING?A:U,secondaryButton:(0,j.jsx)(d.Z.Button,{title:u.formatMessage(O.cancel),color:"secondary",onClick:()=>{L(),o()}}),children:[P===I.INITIAL&&(0,j.jsx)(C,{hostname:D,onSetHostname:_,onSubmit:N,unverifiedDomains:l?a:[],onVerifyDomain:e=>{Z(I.PENDING),S(e)},workspaceId:t}),P===I.PENDING&&(0,j.jsxs)("div",{className:"flex flex-col gap-3",children:[u.formatMessage(O.verificationTokenMessage,{hostname:T?.hostname}),T?.dns_verification_token_string&&(0,j.jsx)(s.Z,{value:T.dns_verification_token_string,onCopied:()=>{p.m.success(u.formatMessage(O.copiedTXTRecordToClipboard),{duration:3})}}),(0,j.jsx)(b.Z,k({},O.verificationTokenFooter))]}),P===I.FINAL&&(0,j.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,j.jsx)(b.Z,k(k({},O.successfulVerification),{},{values:{hostname:T?.hostname}})),T?.dns_verification_token_string&&(0,j.jsx)(s.Z,{value:T.dns_verification_token_string,onCopied:()=>{p.m.success(u.formatMessage(O.copiedTXTRecordToClipboard),{duration:3})}})]})]})}function T(e){let{unverifiedDomains:t,onVerifyDomain:n,workspaceId:o}=e,{mutateAsync:r}=(0,w.Bd)(o);return(0,j.jsxs)(c.Z.Root,{fixed:!0,size:"compact",className:"mb-6 border-b border-token-border-light",children:[(0,j.jsxs)(c.Z.Header,{children:[(0,j.jsx)(c.Z.HeaderCell,{children:(0,j.jsx)(b.Z,k({},O.unverifiedDomainsTableHeader))}),(0,j.jsx)(c.Z.HeaderCell,{textAlign:"right"})]}),t.map(e=>(0,j.jsxs)(c.Z.Row,{children:[(0,j.jsx)(c.Z.Cell,{children:e.hostname}),(0,j.jsx)(c.Z.Cell,{textAlign:"right",children:(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsx)(a.z,{color:"secondary",size:"small",onClick:()=>n(e),children:(0,j.jsx)(b.Z,k({},O.verifyDomainButton))}),(0,j.jsx)(a.z,{color:"secondary",size:"small",onClick:()=>r({domainId:e.id}),icon:u.XHJ})]})})]},e.id))]})}function C(e){let{hostname:t,onSetHostname:n,onSubmit:o,unverifiedDomains:r,onVerifyDomain:i,workspaceId:a}=e,s=(0,x.Z)();return(0,j.jsxs)(j.Fragment,{children:[r&&r.length>0&&(0,j.jsx)(T,{workspaceId:a,unverifiedDomains:r,onVerifyDomain:i}),(0,j.jsx)("form",{onSubmit:e=>{e.preventDefault(),o()},children:(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)("label",{className:"mb-2 flex items-center text-sm font-semibold",children:(0,j.jsx)(b.Z,k({},O.domainInput))}),(0,j.jsx)(l.Z,{name:"hostname",placeholder:s.formatMessage(O.placeholder),value:t??"",onChange:e=>{n(e.target.value)}})]})})]})}let O=(0,v.vU)({newTitle:{id:"domainModal.newTitle.0",defaultMessage:"Verify a new domain"},editTitle:{id:"domainModal.editTitle",defaultMessage:"Manage Domain"},submit:{id:"domainModal.submit",defaultMessage:"Submit"},check:{id:"domainModal.check",defaultMessage:"Check"},done:{id:"domainModal.done",defaultMessage:"Done"},cancel:{id:"domainModal.cancel",defaultMessage:"Cancel"},domainInput:{id:"domainModal.domainInput.0",defaultMessage:"Add a new domain"},placeholder:{id:"domainModal.placeholder",defaultMessage:"openai.com"},domainCheckError:{id:"domainModal.domainCheckError",defaultMessage:"Your domain could not be verified: {message}"},verificationTokenMessage:{id:"domainModal.verificationTokenMessage",defaultMessage:"To verify ownership of {hostname}, navigate to your DNS provider and add a TXT record with this value:"},verificationTokenFooter:{id:"domainModal.verificationTokenFooter",defaultMessage:"Then, check the record to complete the verification."},successfulVerification:{id:"domainModal.successfulVerification.0",defaultMessage:'Your domain, "{hostname}" has been successfully verified'},copiedTXTRecordToClipboard:{id:"domainModal.copiedTXTRecordToClipboard",defaultMessage:"Copied DNS TXT record to clipboard"},verifyDomainButton:{id:"domainModal.verifyDomainButton",defaultMessage:"Verify"},unverifiedDomainsTableHeader:{id:"domainModal.unverifiedDomainsTableHeader",defaultMessage:"Your unverified domains"}})},8040:function(e,t,n){"use strict";n.d(t,{$V:function(){return r},A4:function(){return i},Li:function(){return d},W8:function(){return u},i$:function(){return a},i9:function(){return l},qQ:function(){return s},vi:function(){return c}});var o=n(15478);let r=o.Z.div`text-base text-token-text-primary flex flex-col gap-10 my-10`,i=o.Z.div`text-xl font-semibold`,a=o.Z.div`text-base font-semibold`,s=o.Z.div`flex flex-col divide-y divide-token-border-light border-y border-token-border-light`,l=o.Z.div`flex flex-col gap-3 w-full m-auto md:m-0`,d=o.Z.div`text-sm`,c=o.Z.div`flex justify-between py-4 gap-4`,u=o.Z.hr`max-w-xl border-token-border-light`},42606:function(e,t,n){"use strict";n.d(t,{I:function(){return i},o:function(){return a}});let o=["xlsx","pptx","docx"],r={"application/vnd.google-apps.spreadsheet":"xlsx","application/vnd.google-apps.presentation":"pptx","application/vnd.google-apps.document":"docx"};function i(e){return e?r[e.split(";")[0]]??null:null}function a(e){return e&&o.includes(e)?e:null}},84082:function(e,t,n){"use strict";n.d(t,{$e:function(){return i},EZ:function(){return a},Ql:function(){return r},dO:function(){return o},xC:function(){return s}});let o=10,r=4,i={duration:20,hasCloseButton:!0},a=512,s=536870912},93866:function(e,t,n){"use strict";n.d(t,{AJ:function(){return a},XX:function(){return l},xA:function(){return s}});var o,r,i=n(42606);let a=((o={})[o.None=0]="None",o[o.Multimodal=1]="Multimodal",o[o.Interpreter=2]="Interpreter",o[o.Retrieval=3]="Retrieval",o[o.ContextConnector=4]="ContextConnector",o[o.ProfilePicture=5]="ProfilePicture",o);function s(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:(0,i.o)(e.synthetic_extension),type:e.type}}let l=((r={}).Uploading="uploading",r.Ready="ready",r)},98628:function(e,t,n){"use strict";n.d(t,{E1:function(){return w},Sj:function(){return M},W7:function(){return h},cT:function(){return b},lU:function(){return v},po:function(){return x},sY:function(){return k}});var o=n(98601),r=n(99333),i=n(2721),a=n(92319),s=n(99976),l=n(61619),d=n(88667),c=n(47584),u=n(88815),f=n(24740),p=n(66114);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let y={duration:20,hasCloseButton:!0};function h(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function x(e){return new Promise((t,n)=>{let o=new FileReader,r=new Image;o.onload=()=>{r.onload=()=>t(r),r.onerror=e=>n(e),r.src=o.result},o.readAsDataURL(e)})}async function b(e,t,n,o,c,p){let m={ENTRY_CREATED:10,FILE_UPLOADED:60,FILE_PROCESSED:100},h=r.EG.Initial;s.A.logEvent(l.M.uploadFileInitiated,{client:"web",useCase:o.kind,uploadEntry:"local"});let x=p.usesRetrievalIndex??!1,b=x?performance.now():void 0,v=u.N.getState().resetRateLimits;try{let{file_id:a,upload_url:u}=await i.Z.createFile(t.name,t.size,o,!!v);c.onFileCreated(e,a,u),h=r.EG.FileCreated,c.onFileUploadProgress(e,m.ENTRY_CREATED);let M=o.kind===r.Ei.Gizmo?o.gizmoId:void 0,I={client:"web",useCase:o.kind,uploadEntry:"local",fileId:a,fileSize:t.size};s.A.logEvent(l.M.blobStoreUploadStarted,I);let E=await i.Z.uploadFileToAzureStorage(t,u,t=>{c.onFileUploadProgress(e,m.ENTRY_CREATED+(m.FILE_UPLOADED-m.ENTRY_CREATED)*t)});c.onFileUploadProgress(e,m.FILE_UPLOADED),201!==E.status&&(s.A.logEvent(l.M.blobStoreUploadError,g(g({},I),{},{error_type_name:`HTTPStatus${E.status}`,error_msg:`HTTP status ${E.status}: ${E.statusText}`,error_stack:""})),j(E,a,x)),s.A.logEvent(l.M.blobStoreUploadCompleted,I),h=r.EG.FileUploaded;let T=d.m9.checkGate("1371760254"),C=d.m9.checkGate("2451420520");if(M?C:T){let n={file_id:a,use_case:o.kind,gizmo_id:M,index_for_retrieval:x,file_name:t.name},s=await i.Z.processFileUploadStream(n,t=>{c.onFileUploadProgress(e,m.FILE_UPLOADED+(m.FILE_PROCESSED-m.FILE_UPLOADED)*t/100)});h=r.EG.FileProcessed,c.onFileUploaded(e,a,p.imageDimensions,s),x&&(h=r.EG.RetrievalIndexCreated)}else if(await i.Z.processFileUpload(a,{gizmoId:M}),h=r.EG.FileProcessed,x){let t=await w(a,M);t?.status===r.Xf.Skipped&&f.m.danger(n.formatMessage(k.retrievalSkippedFile,{fileName:t.name}),y),c.onFileUploaded(e,a,void 0,{fileTokenSize:t.file_size_tokens}),h=r.EG.RetrievalIndexCreated}else c.onFileUploaded(e,a,p.imageDimensions);null!=b&&i.Z.postRetrievalTiming({e2eLatencyMs:performance.now()-b,type:"file"})}catch(i){M(n,t.name,i);let r="NotInstanceOfError";i instanceof a.gK?r=i.name:i instanceof a.Q0?r=`FatalServerError_type_${i.type??"undefined"}`:i instanceof Error?r=i.name:i instanceof a.vq&&(r=i.name),c.onError(e,"error",r,o,h)}}async function v(e,t,n,o,r){let{width:i,height:a}=await x(t);return b(e,t,n,{kind:o},r,{imageDimensions:{width:i,height:a}})}async function w(e,t){let n=Date.now()+6e4,o=e=>new Promise(t=>setTimeout(t,e)),s=0;for(;Date.now()<n;){let n=await i.Z.getRetrievalStatus(e,t);if(n.status===r.Xf.Success||n.status===r.Xf.Skipped)return n;if(n.status===r.Xf.Failed)throw new a.vq("Context extraction failed",n.error_code);s++,await o(Math.min(1e3,100*s))}throw new a.vq("Retrieval indexing timed out")}async function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="Unknown error";try{o=await e.data}catch(e){}throw n&&i.Z.markFileUploadFailed(t,{error:o}),new a.vq("File upload to blobstore failed","failed_upload_to_blobstore")}function M(e,t,n){let o=(0,p.kr)(e,"default_upload_error",{fileName:t});n instanceof a.vq&&null!=n.code&&(o=(0,p.kr)(e,n.code)),f.m.danger(o,y)}let k=(0,c.vU)({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'}})},66114:function(e,t,n){"use strict";n.d(t,{$H:function(){return y},$p:function(){return O},Ad:function(){return N},B:function(){return L},BV:function(){return _},CO:function(){return S},Iy:function(){return m},KL:function(){return T},L8:function(){return g},O6:function(){return b},Tu:function(){return P},VF:function(){return x},Vm:function(){return D},WI:function(){return Z},YN:function(){return w},Z8:function(){return C},Zp:function(){return I},_0:function(){return k},kr:function(){return h},p0:function(){return E},s1:function(){return j},ww:function(){return v},xs:function(){return M}});var o=n(99333),r=n(16757),i=n(2721),a=n(86025),s=n(58695),l=n(52455),d=n(92379),c=n(49764),u=n(47584),f=n(24740),p=n(93866);function m(e){return e.replace("file-service://","")}function g(e){return"file-service://"+e}function y(e){return e.startsWith("file-service://")}function h(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage(A.fileZeroBytes,n);case"file_too_large":return e.formatMessage(A.fileTooLarge,n);case"over_user_quota":return e.formatMessage(A.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage(A.fileNotFound,n);case"file_timed_out":return e.formatMessage(A.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage(A.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage(A.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage(A.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage(A.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage(A.fileEmpty,n);case"too_many_tokens":return e.formatMessage(A.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage(A.fileEncrypted,n);case"file_corrupted":return e.formatMessage(A.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage(A.failedUploadToBlobStore,n);default:return e.formatMessage(A.unknownError)}}function x(){let e=(0,c.Z)();return(0,d.useCallback)((t,n)=>h(e,t,n),[e])}function b(){let{session:e}=(0,s.kP)(),{isUnauthenticated:t}=(0,a.u)(),n=(0,c.Z)();return async(r,a)=>{if(!t&&null==e)return f.m.danger(n.formatMessage(A.fileDownloadFailed)),!1;try{let e=await i.Z.getFileDownloadLink(r,void 0,t);if(e.status!==o.KF.Success)throw Error("File is not ready to download: "+JSON.stringify(e));let n=e.download_url,s=document.createElement("a");s.href=n,s.download=a,s.click(),window.open(n,"_blank")}catch(e){return f.m.danger(n.formatMessage(A.fileDownloadFailed)),!1}return!0}}function v(e,t){return t?.kind===r.OL.GizmoInteraction||t?.kind===r.OL.GizmoTest?t.gizmo?.product_features:e?.product_features}function w(e,t){let n=v(e,t);return n?.attachments?.type===o.Cd.CodeInterpreter?p.AJ.Interpreter:n?.attachments?.type===o.Cd.Multimodal?p.AJ.Multimodal:n?.attachments?.type===o.Cd.Retrieval?p.AJ.Retrieval:n?.attachments?.type===o.Cd.ContextConnector?p.AJ.ContextConnector:p.AJ.None}function j(e){return({md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp"})[e.split(".").pop()?.toLowerCase()??""]||""}function M(e,t,n,o,r){if(null==r)return e;let i=j(t);i&&(n=i),o&&(n=function(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}(n));let{accepted_mime_types:a,can_accept_all_mime_types:s}=r;return null!=a&&0!==a.length&&s?a.includes(n)?e:p.AJ.Interpreter:e}function k(e,t,n){let r=""!==t?t:j(n),i=e?.product_features?.attachments;return null==i?void 0:i.accepted_mime_types?.includes(r)?i.type:i.image_mime_types?.includes(r)?o.Cd.Multimodal:o.Cd.CodeInterpreter}function I(e,t){let n=v(e,t);return n?.attachments?.can_accept_all_mime_types?void 0:n?.attachments?.accepted_mime_types}function E(e,t){let{attachments:n}=v(e,t)??{};return n?.image_mime_types?n.image_mime_types:n?.type==="multimodal"?n.accepted_mime_types??T:[]}let T=["image/png","image/jpeg","image/gif","image/webp"];function C(e){return(0,d.useMemo)(()=>{if(void 0===e)return{};let t={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]};return{accept:e.reduce((e,n)=>(n in t?e[n]=t[n]:n.includes("/")&&(e[n]=[`.${n.split("/")[1]}`]),e),{})}},[e])}function O(e){return e.split(".").pop()?.toLowerCase()}function S(e){let t=O(e);return null!=t&&["jpg","jpeg","png","gif","webp"].includes(t)}function D(e){let t=O(e);return null!=t&&["xls","xlsx","csv"].includes(t)}function _(e){let t=O(e);return null!=t&&["xls","xlsx"].includes(t)}function P(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fit";return new Promise((o,r)=>{let i=new FileReader;i.onerror=e=>{l.U.addError(Error("File reading has failed:",{cause:e})),r(Error("Failed to read the file."))},i.onload=i=>{let a=new Image;a.onerror=e=>{l.U.addError(Error("Image loading has failed:",{cause:e})),r(Error("Failed to load the image."))},a.onload=()=>{let i=document.createElement("canvas"),s,d=0,c=0;switch(n){case"fill":case"square":s=t/Math.min(a.width,a.height);break;case"fit":s=t/Math.max(a.width,a.height)}let u=a.width*s,f=a.height*s;"square"===n?(i.width=t,i.height=t,d=(t-u)/2,c=(t-f)/2):(i.width=u,i.height=f);let p=i.getContext("2d");if(null==p){l.U.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),r(Error("Failed to create canvas context."));return}p.drawImage(a,d,c,u,f);let m=e.type||"image/png";i.toBlob(t=>{t?o(new File([t],e.name,{type:m})):(l.U.addError("Blob creation failed. Blob is null."),r(Error("Failed to create blob from image data.")))},m)},null==i.target?(l.U.addError("Event target is null. Failed to load image."),r("Failed to load image.")):a.src=i.target.result},i.readAsDataURL(e)})}function Z(e,t){return P(e,t,"square")}function L(e){let t=e.name.split("/")??[];return(t[t.length-1]??"").replace(/[-_]/g," ").split(".")[0]}function N(e,t){return t?e.slice(0,-t.length-1):e}let A=(0,u.vU)({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}})},88815:function(e,t,n){"use strict";n.d(t,{J:function(){return r},N:function(){return i}});var o=n(68810);let r={label:"Auto",value:""},i=(0,o.Ue)(()=>({forceParagen:!1,forceParagenModel:r,forceNulligen:!1,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:"The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",forceRateLimit:!1,resetRateLimits:!1,showDebugConversationTurns:!1,rebaseSystemMessageContent:null,forceUseSearch:null}))},83369:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/identity",function(){return n(10737)}])}},function(e){e.O(0,[4160,4198,5239,4089,9504,5592,3722,1612,2349,4335,2745,2804,4993,9725,8712,1550,3127,8986,2888,9774,179],function(){return e(e.s=83369)}),_N_E=e.O()}]);
//# sourceMappingURL=identity-677fba6e7cee63dc.js.map