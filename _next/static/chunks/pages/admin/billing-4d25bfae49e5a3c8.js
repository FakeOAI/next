(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3224],{29237:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return eL},default:function(){return eD}});var a,i,s,l,r,o,c,d,u=n(68986),f=n(98601),m=n(93465),g=n(59144),p=n(24434),x=n(50454),v=n(24740),h=n(43991),j=n(60806),y=n(92379),b=n(75172),w=n(62984),M=n(68306),N=n(651);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){(0,f.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let Z=((a={}).FLEXIBLE="month",a.ANNUAL="year",a),_=(0,j.b)(Z);function O(e){let{isOpen:t,onClose:n,initialTeamBillingType:a,renewalDate:i,accountId:s}=e,{0:l,1:r}=(0,y.useState)(a),{0:o,1:c}=(0,y.useState)(!1),{0:d,1:u}=(0,y.useState)(!1),f=T[l],g=(0,b.Z)(),x=(0,m.bm)(s),h=async()=>{u(!0);try{await x.mutateAsync({accountId:s,updatedPriceInterval:l===Z.FLEXIBLE?"month":"year",updatedSeats:void 0}),u(!1),v.m.success(g.formatMessage({id:"teamBilling.successfullyUpdatedSubscription",defaultMessage:"Your subscription was updated successfully"}),{hasCloseButton:!0}),c(!1),n()}catch(e){v.m.warning(g.formatMessage({id:"teamBilling.errorUpdatingSubscription",defaultMessage:"There was a problem updating your subscription"}),{hasCloseButton:!0})}finally{u(!1)}};return(0,N.jsx)(p.Z,{type:"success",isOpen:t,onClose:()=>{c(!1),r(a),n()},size:"custom",className:"max-w-xl",noPadding:!0,title:o?g.formatMessage({id:"teamBilling.changeBillingScheduleConfirmTitle",defaultMessage:"Confirm changes"}):g.formatMessage({id:"teamBilling.changeBillingScheduleTitle",defaultMessage:"Change billing schedule"}),showCloseButton:!0,children:o?(0,N.jsx)(C,{selectedPlan:l,initialTeamBillingType:a,renewalDate:i,selectedPlanData:f,handleUpdate:h,isUpdating:d}):(0,N.jsx)(S,{setSelectedPlan:r,selectedPlan:l,initialTeamBillingType:a,toggleConfirmPage:function(){c(!o)},renewalDate:i})})}function S(e){let{selectedPlan:t,setSelectedPlan:n,initialTeamBillingType:a,toggleConfirmPage:i,renewalDate:s}=e,l=(0,b.Z)();return(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"grid grid-flow-row grid-cols-2",children:(0,N.jsxs)(h.fC,{className:"col-span-2 grid md:col-span-2 md:grid-cols-2",defaultValue:t,onValueChange:e=>{_(e)&&n(e)},children:[(0,N.jsx)(x.IW,E({billingType:Z.FLEXIBLE},x.c0)),(0,N.jsx)(x.IW,E({billingType:Z.ANNUAL},x.sr))]})}),(0,N.jsx)("hr",{}),(0,N.jsxs)("div",{className:"m-4 flex items-center justify-between",children:[(0,N.jsx)("span",{className:"text-sm text-token-text-secondary",children:(0,N.jsx)(w.Z,E(E({},x.sY.changeEffectDate),{},{values:{date:(0,N.jsx)(M.Ji,{value:s,year:"numeric",month:"long",day:"numeric"})}}))}),(0,N.jsx)(g.m,{title:l.formatMessage(x.sY.continueToPricePreview),disabled:t===a,color:"primary",onClick:()=>{i()}})]})]})}function C(e){let{initialTeamBillingType:t,selectedPlan:n,renewalDate:a,selectedPlanData:i,handleUpdate:s,isUpdating:l}=e,r=(0,b.Z)();return(0,N.jsxs)("div",{className:"p-4",children:[(0,N.jsx)("span",{className:"text-sm",children:(0,N.jsx)(w.Z,E(E({},x.sY.confirmPageChangeEffectDate),{},{values:{current_plan:t===Z.FLEXIBLE?"Flexible (monthly)":"Annual",new_plan:n===Z.FLEXIBLE?"Flexible (monthly)":"Annual",date:(0,N.jsx)(M.Ji,{value:a,year:"numeric",month:"long",day:"numeric"})}}))}),(0,N.jsxs)("div",{className:"mt-4 flex flex-col bg-token-main-surface-secondary p-4",children:[(0,N.jsx)("span",{className:"font-semibold",children:(0,N.jsx)(w.Z,E({},i.name))}),(0,N.jsx)("span",{className:"text-sm",children:(0,N.jsx)(w.Z,E(E({},i.cost),{},{values:{s:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,N.jsx)(x.Re,{children:t})}}}))}),(0,N.jsx)("span",{className:"text-sm text-token-text-secondary",children:(0,N.jsx)(w.Z,E({},i.structure))})]}),(0,N.jsx)("div",{className:"mt-4 flex justify-end",children:(0,N.jsx)(g.m,{title:r.formatMessage(x.sY.confirmChange),color:"primary",onClick:s,loading:l})})]})}let T={[Z.FLEXIBLE]:{name:x.sY.flexiblePlanName,cost:x.sY.flexiblePlanCost,structure:x.sY.teamsCostStructure},[Z.ANNUAL]:{name:x.sY.annualPlanName,cost:x.sY.annualPlanCost,structure:x.sY.teamsCostStructure}};var I=n(2721),B=n(93951),k=n(31498),L=n(88667),D=n(19841),U=n(34977),F=n(11550),A=n(92609),z=n(97537),Y=n(98095),R=n(94668),X=n(77748),q=n(59725),H=n(6440);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){(0,f.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $(e){let{isOpen:t,onClose:n}=e,a=(0,b.Z)(),{data:i,isLoading:s}=(0,m.ZP)(),l=(0,B.t)(),r=(0,m.St)(null==l?void 0:l.id),o=(0,k.aF)(),{0:c,1:d}=(0,y.useState)(""),{0:u,1:f}=(0,y.useState)(!1),x=(null==o?void 0:o.email)&&c.toLowerCase()==o.email.toLowerCase(),{0:h,1:j}=(0,y.useState)(i&&!i.will_renew);if(s||!l||!i)return null;let M=async()=>{f(!0);try{await r.mutateAsync(l.id),j(!0)}catch(e){v.m.warning(a.formatMessage(G.errorCancellingSubscription),{hasCloseButton:!0})}finally{f(!1)}};return(0,N.jsx)(p.Z,{type:"success",onClose:n,showCloseButton:!0,isOpen:t,className:"",title:(0,N.jsx)("span",{className:"text-lg",children:(0,N.jsx)(w.Z,W({},G.cancelPlan))}),children:h?(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"mb-2 text-base font-semibold text-token-text-primary",children:(0,N.jsx)(w.Z,W({},G.successfullyCanceled))}),null!=i.active_until&&(0,N.jsx)("p",{className:"text-sm text-token-text-primary",children:(0,N.jsx)(w.Z,W(W({},G.retainUntil),{},{values:{expiryDate:new Date(i.active_until)}}))}),(0,N.jsx)("div",{className:"mt-6 flex w-full flex-row justify-end",children:(0,N.jsx)(g.m,{title:a.formatMessage(G.doneButton),color:"primary",onClick:n,disabled:u})})]}):(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,N.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,N.jsx)(q.B0,{src:l.data.profilePictureUrl,size:"large"}),(0,N.jsxs)("div",{className:"flex-col",children:[(0,N.jsx)("p",{className:"font-semibold",children:l.data.name}),(0,N.jsx)("p",{className:"text-sm text-token-text-secondary",children:(0,N.jsx)(w.Z,W(W({},G.membersCount),{},{values:{count:i.seats_entitled}}))})]})]}),(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)("h3",{className:"mb-2 text-base font-semibold text-token-text-primary",children:(0,N.jsx)(w.Z,W({},G.areYouSure))}),(0,N.jsxs)("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[(0,N.jsx)("li",{className:"my-2",children:(0,N.jsx)(w.Z,W({},G.dataUnavailable))}),null!=i.active_until&&(0,N.jsx)("li",{className:"my-2",children:(0,N.jsx)(w.Z,W(W({},G.retainUntil),{},{values:{expiryDate:new Date(i.active_until)}}))}),(0,N.jsx)("li",{className:"my-2",children:(0,N.jsx)(w.Z,W({},G.retainEmailAccess))})]})]}),(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)("h3",{className:"mb-2 text-base font-semibold text-token-text-primary",children:(0,N.jsx)(w.Z,W({},G.enterEmailToConfirm))}),(0,N.jsx)(H.Z,{type:"text",name:"user-email",placeholder:"abcd@acme.com",onChange:e=>{d(e.target.value)}})]})]}),(0,N.jsxs)("div",{className:"mt-6 flex w-full flex-row justify-end",children:[(0,N.jsx)(g.m,{title:a.formatMessage(G.keepSubscriptionButton),onClick:n,disabled:u}),(0,N.jsx)(g.m,{title:a.formatMessage(G.cancelSubscriptionButton),onClick:M,disabled:!x,loading:u,color:"danger",className:"ml-2"})]})]})})}let G=(0,M.vU)({dataUnavailable:{id:"cancelTeamPlanModal.dataUnavailable",defaultMessage:"All workspace data including chat history and settings will not be available."},cancelPlan:{id:"cancelTeamPlanModal.cancelPlan",defaultMessage:"Cancel subscription"},retainUntil:{id:"cancelTeamPlanModal.retainUntil",defaultMessage:"You will retain access to the workspace until the end of your billing cycle on {expiryDate, date, long}."},retainEmailAccess:{id:"cancelTeamPlanModal.retainEmailAccess",defaultMessage:"You will still be able to use ChatGPT with the other workspaces associated with this email address."},errorCancellingSubscription:{id:"cancelTeamPlanModal.errorCancellingSubscription",defaultMessage:"There was a problem cancelling your subscription."},areYouSure:{id:"cancelTeamPlanModal.areYouSure",defaultMessage:"Are you sure?"},enterEmailToConfirm:{id:"cancelTeamPlanModal.enterEmailToConfirm",defaultMessage:"Enter your Email address to confirm"},emailPlaceholder:{id:"cancelTeamPlanModal.emailPlaceholder",defaultMessage:"abcd@acme.com"},doneButton:{id:"cancelTeamPlanModal.doneButton",defaultMessage:"Done"},keepSubscriptionButton:{id:"cancelTeamPlanModal.keepSubscriptionButton",defaultMessage:"Keep subscription"},cancelSubscriptionButton:{id:"cancelTeamPlanModal.cancelSubscriptionButton",defaultMessage:"Cancel subscription"},successfullyCanceled:{id:"cancelTeamPlanModal.successfullyCanceled",defaultMessage:"You have successfully canceled your subscription."},membersCount:{id:"yourComponent.membersCount",defaultMessage:"{count, plural, one {# member} other {# members}}"}});var Q=n(2346),V=n(32378),K=n(55356),ee=n(15478);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach(function(t){(0,f.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ea=((i=ea||{}).FLEXIBLE="month",i.ANNUAL="year",i);let ei=ee.Z.p(s||(s=(0,Q.Z)(["text-base font-semibold mb-3 mt-3"])));function es(e){let{isOpen:t,onClose:n,initialTeamBillingType:a,initialSeats:i,accountId:s,renewalDate:l}=e,r=(0,b.Z)(),{0:o,1:c}=(0,y.useState)(i),{0:d,1:u}=(0,y.useState)(!1),{0:f,1:g}=(0,y.useState)(!1),h=eo[a],j=a===ea.FLEXIBLE?x.c0:x.sr,w=(0,m.bm)(s),M=async()=>{g(!0);try{await w.mutateAsync({accountId:s,updatedPriceInterval:void 0,updatedSeats:o}),g(!1),v.m.success(r.formatMessage({id:"teamBilling.successfullyUpdatedSubscription",defaultMessage:"Your subscription was updated successfully"}),{hasCloseButton:!0}),u(!1),n()}catch(e){v.m.warning(r.formatMessage({id:"teamBilling.errorUpdatingSubscription",defaultMessage:"There was a problem updating your subscription"}))}finally{g(!1)}};return(0,N.jsx)(p.Z,{type:"success",isOpen:t,onClose:()=>{u(!1),c(i),n()},size:"custom",noPadding:!0,className:"max-w-xl",showCloseButton:!0,title:d?r.formatMessage({id:"teamsManageSeatsModal.title",defaultMessage:"Manage seats"}):r.formatMessage({id:"teamsManageSeatsModalConfirmPage.title",defaultMessage:"Review"}),children:d?(0,N.jsx)(er,{numSeats:o,initialSeats:i,handleUpdate:M,isUpdating:f,renewalDate:l,accountId:s}):(0,N.jsx)(el,{initialTeamBillingType:a,selectedPlanBillingInfo:j,numSeats:o,initialSeats:i,setNumSeats:c,selectedPlanData:h,toggleConfirmPage:function(){u(!d)}})})}function el(e){let{initialTeamBillingType:t,selectedPlanBillingInfo:n,numSeats:a,initialSeats:i,setNumSeats:s,selectedPlanData:l,toggleConfirmPage:r}=e,o=(0,b.Z)();return(0,N.jsxs)("div",{className:"grid grid-flow-row grid-cols-2",children:[(0,N.jsx)(h.fC,{className:"col-span-2 grid md:col-span-1 md:grid-cols-1",defaultValue:t,children:(0,N.jsx)(x.IW,en({billingType:t},n))}),(0,N.jsxs)("div",{className:"col-span-3 overflow-hidden border-l border-token-main-surface-tertiary bg-token-main-surface-secondary p-6 md:col-span-1",children:[(0,N.jsx)("label",{className:"mb-3 block text-base font-semibold",htmlFor:"seats",children:(0,N.jsx)(w.Z,en({},x.sY.seatsTitle))}),(0,N.jsx)(x.ZY,{numSeats:a,minSeats:i,setNumSeats:s}),(0,N.jsx)(V.b,{}),(0,N.jsx)(ei,{children:(0,N.jsx)(w.Z,en({},x.sY.summaryTitle))}),(0,N.jsxs)("div",{className:"text-sm",children:[(0,N.jsx)("p",{className:"mb-2",children:(0,N.jsx)(w.Z,en({},l.name))}),(0,N.jsxs)(K.QI,{children:[(0,N.jsx)(K.HC,{children:(0,N.jsx)(w.Z,en({},l.billed))}),(0,N.jsx)(K.HC,{children:(0,N.jsx)("b",{children:(0,N.jsx)(w.Z,en(en({},l.total),{},{values:{totalCost:(a||0)*(t===ea.ANNUAL?300:30)}}))})})]})]})]}),(0,N.jsx)("hr",{}),(0,N.jsx)("div",{className:"m-4 flex justify-end",children:(0,N.jsx)(g.m,{title:o.formatMessage({id:"teamsManageSeatsModal.continue",defaultMessage:"Continue"}),disabled:a===i,onClick:()=>{r()},color:"primary"})})]})}function er(e){let{numSeats:t,initialSeats:n,renewalDate:a,handleUpdate:i,isUpdating:s,accountId:l}=e,r=(0,b.Z)(),{data:o,isError:c,isLoading:d}=(0,m.zu)(l,t);return d?(0,N.jsx)("div",{className:"flex items-center justify-center p-6",children:(0,N.jsx)(z.Z,{})}):!c&&o?(0,N.jsxs)("div",{className:"p-6",children:[(0,N.jsxs)("div",{className:"flex justify-between",children:[(0,N.jsx)("span",{className:"font-semibold",children:(0,N.jsx)(w.Z,{id:"teamsManageSeatsModal.additionalSeats",defaultMessage:"{additionalSeats} additional seats",values:{additionalSeats:t-n}})}),(0,N.jsx)("span",{className:"font-semibold",children:(0,N.jsx)(w.Z,{id:"teamsManageSeatsModal.additionalSeatsTotal",defaultMessage:"${totalCost}",values:{totalCost:(o.total_amount/100).toFixed(2)}})})]}),(0,N.jsx)("span",{className:"text-sm text-token-text-secondary",children:(0,N.jsx)(w.Z,{id:"teamsManageSeatsModal.proratedAmountMessage",defaultMessage:"Prorated amount until next billing cycle"})}),(0,N.jsx)("span",{className:"mt-4 flex flex-col bg-token-main-surface-secondary p-4 text-sm text-token-text-secondary",children:(0,N.jsx)(w.Z,{id:"teamsManageSeatsModal.chargeMessage",defaultMessage:"You will be charged for {numSeats} total seats at your next renewal on {date}",values:{numSeats:t,date:(0,N.jsx)(M.Ji,{value:a,year:"numeric",month:"long",day:"numeric"})}})}),(0,N.jsx)("hr",{className:"mt-4"}),(0,N.jsxs)("div",{className:"mt-4 flex justify-between",children:[(0,N.jsx)("span",{className:"font-semibold",children:(0,N.jsx)(w.Z,{id:"teamsManageSeatsModal.subTotal",defaultMessage:"Subtotal"})}),(0,N.jsx)("span",{children:(0,N.jsx)(w.Z,{id:"teamsManageSeatsModal.subtotalPrice",defaultMessage:"${totalCost}",values:{totalCost:(o.amount_excluding_tax/100).toFixed(2)}})})]}),(0,N.jsxs)("div",{className:"mt-2 flex justify-between",children:[(0,N.jsx)("span",{className:"font-semibold",children:(0,N.jsx)(w.Z,{id:"teamsManageSeatsModal.tax",defaultMessage:"Tax"})}),(0,N.jsx)("span",{children:(0,N.jsx)(w.Z,{id:"teamsManageSeatsModal.taxAmount",defaultMessage:"${tax}",values:{tax:(o.tax_amount/100).toFixed(2)}})})]}),(0,N.jsxs)("div",{className:"mt-2 flex justify-between",children:[(0,N.jsx)("span",{className:"font-semibold",children:(0,N.jsx)(w.Z,{id:"teamsManageSeatsModal.totalDueToday",defaultMessage:"Total due today"})}),(0,N.jsx)("span",{className:"font-semibold",children:(0,N.jsx)(w.Z,{id:"teamsManageSeatsModal.totalDueTodayAmount",defaultMessage:"${totalCost}",values:{totalCost:(o.total_amount/100).toFixed(2)}})})]}),(0,N.jsx)("hr",{className:"mt-4"}),(0,N.jsx)("div",{className:"mt-6 flex justify-end",children:(0,N.jsx)(g.m,{title:r.formatMessage({id:"teamsManageSeatsModal.payNow",defaultMessage:"Pay now"}),color:"primary",onClick:i,loading:s})})]}):void 0}let eo={[ea.FLEXIBLE]:{name:x.sY.flexiblePlanSelected,billed:{id:"teamManageSeatsModal.flexiblePlanBilled",defaultMessage:"Price billed monthly",description:"Summary billing of selected plan"},total:x.sY.flexiblePlanTotal},[ea.ANNUAL]:{name:x.sY.annualPlanSelected,billed:{id:"teamManageSeatsModal.flexiblePlanBilled",defaultMessage:"Price billed annually",description:"Summary billing of selected plan"},total:x.sY.annualPlanTotal}};var ec=n(30853);function ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(n),!0).forEach(function(t){(0,f.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ed(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ef(e){var t;let{numInUse:n,numAllocated:a,isTeam:i,subscriptionWillRenew:s,subscriptionBillingPeriod:l,accountId:r,subscriptionRenewalDate:o}=e,c=Math.max(a,n),d=null===(t=(0,L.sB)("3954884439"))||void 0===t?void 0:t.value,{0:u,1:f}=(0,y.useState)(!1),m=function(){f(!u)},g="monthly"===l?Z.FLEXIBLE:Z.ANNUAL;return(0,N.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,N.jsxs)("div",{className:"flex justify-between",children:[(0,N.jsx)("span",{className:"mt-1 text-left text-sm",children:(0,N.jsx)(w.Z,eu(eu({},eb.description),{},{values:{num:"".concat(n,"/").concat(a)}}))}),i&&s&&d&&(0,N.jsx)(F.z,{color:"secondary",className:"text-right",onClick:m,children:(0,N.jsx)(w.Z,{id:"components.business.NumSeats.manageSeats",defaultMessage:"Manage seats"})}),(0,N.jsx)(es,{isOpen:u,onClose:m,initialTeamBillingType:g,initialSeats:a,accountId:r,renewalDate:o})]}),(0,N.jsx)(c>10?em:ey,{numInUse:n,numAllocated:a})]})}function em(e){let{numAllocated:t,numInUse:n}=e,a=(0,b.Z)(),i=n>t,s=i?100:n/t*100,l=i?t/n*100:100;return(0,N.jsx)("div",{className:(0,D.default)("relative w-full rounded-full",i?"bg-orange-500":"bg-token-main-surface-primary"),children:(0,N.jsxs)("div",{className:"relative h-4",style:{width:"".concat(l,"%")},children:[(0,N.jsx)("div",{className:(0,D.default)("h-4 overflow-hidden rounded-l-full bg-green-600",n===t&&"rounded-r-full"),style:{width:"".concat(s,"%")}}),n!==t&&i&&(0,N.jsx)("div",{className:"absolute right-0 top-[-3px] bg-token-main-surface-primary",children:(0,N.jsx)(ec.u,{label:a.formatMessage(eb.dividerTooltip,{count:t}),children:(0,N.jsx)(eg,{className:"px-1 py-0.5"})})})]})})}let eg=e=>{let{className:t}=e;return(0,N.jsxs)("div",{className:(0,D.default)("flex flex-col gap-0.5",t),children:[(0,N.jsx)(ej,{}),(0,N.jsx)(ej,{}),(0,N.jsx)(ej,{}),(0,N.jsx)(ej,{})]})},ep=ee.Z.div(l||(l=(0,Q.Z)(["h-4 w-4 rounded-full"]))),ex=(0,ee.Z)(ep)(r||(r=(0,Q.Z)(["bg-green-600"]))),ev=(0,ee.Z)(ep)(o||(o=(0,Q.Z)(["bg-token-main-surface-tertiary"]))),eh=(0,ee.Z)(ep)(c||(c=(0,Q.Z)(["bg-orange-500"]))),ej=ee.Z.span(d||(d=(0,Q.Z)(["w-[3px] h-[3px] bg-gray-400 dark:bg-gray-500 rounded-full"])));function ey(e){let{numAllocated:t,numInUse:n}=e,a=(0,b.Z)(),i=n>t,s=(0,y.useMemo)(()=>Array.from(Array(i?n:t).keys()),[i,t,n]);return(0,N.jsx)("div",{className:"flex items-center gap-2",children:s.map(e=>{let s=eh,l=null;return e<n&&!i?s=ex:e<t&&!i&&(s=ev),e===t-1&&(l=(0,N.jsx)(ec.u,{label:a.formatMessage(eb.dividerTooltip,{count:t}),children:(0,N.jsx)(eg,{})})),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(s,{},e),l]})})})}let eb=(0,M.vU)({dividerTooltip:{defaultMessage:"Your team has {count, plural, =0 {no seats} one {# seat} other {# seats}} purchased",id:"components.business.NumSeats.dividerTooltip"},description:{defaultMessage:"{num} seats in use",id:"components.business.NumSeats.description"}});var ew=n(8040),eM=n(84760);function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function eP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(t){(0,f.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let eE=(0,M.vU)({invoicesLoadError:{id:"organizationBillingInfo.invoicesLoadError.0",defaultMessage:"Failed to load invoices. Contact support@openai.com if error persists."}});function eZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function e_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eZ(Object(n),!0).forEach(function(t){(0,f.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eO(){var e;let{data:t,isLoading:n,isError:a}=(0,m.ZP)(),i=(0,B.t)(),{0:s,1:l}=(0,y.useState)(!1);if(n)return(0,N.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,N.jsx)(z.Z,{})});if(a||!t||!i)return null;let r=null!=t.active_until,o=(null==t?void 0:t.seats_in_use)>(null==t?void 0:t.seats_entitled);return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(ew.i9,{children:[(0,N.jsx)(ew.A4,{children:(0,N.jsx)(w.Z,e_({},ek.planTitle))}),(0,N.jsx)("hr",{}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)(ew.i$,{children:null!=i&&i.isEnterprise()?r?(0,N.jsx)(w.Z,e_({},ek.activeEnterpriseLicense)):null!=i&&i.isResellerHosted()?(0,N.jsx)(w.Z,e_({},ek.resellerHostedEnterpriseLicense)):(0,N.jsx)(w.Z,e_({},ek.pendingEnterpriseLicense)):null!=i&&i.isEdu()?r?(0,N.jsx)(w.Z,e_({},ek.activeEduLicense)):null!=i&&i.isResellerHosted()?(0,N.jsx)(w.Z,e_({},ek.resellerHostedEduLicense)):(0,N.jsx)(w.Z,e_({},ek.pendingEduLicense)):r?t.non_profit_org_discount_applied?(0,N.jsx)(w.Z,e_({},ek.activeTeamLicenseNonProfitOrg)):(0,N.jsx)(w.Z,e_({},ek.activeTeamLicense)):(0,N.jsx)(w.Z,e_({},ek.pendingTeamLicense))}),null!=t.active_until&&(0,N.jsx)(ew.Li,{className:"mt-1",children:null!=i&&i.isEnterprisey()?(0,N.jsx)(w.Z,e_(e_({},ek.licenseExpiry),{},{values:{expiryDate:new Date(t.active_until)}})):t.will_renew?(0,N.jsx)(w.Z,e_(e_({},ek.renewalDate),{},{values:{expiryDate:new Date(t.active_until)}})):(0,N.jsx)(w.Z,e_(e_({},ek.deactivateDate),{},{values:{expiryDate:new Date(t.active_until)}}))})]}),(0,N.jsx)(eS,{isOpen:s,onDropdownOpen:function(){l(!s)}})]}),(0,N.jsx)("hr",{}),r&&(0,N.jsxs)("div",{children:[(0,N.jsx)(ew.i$,{children:(0,N.jsx)(w.Z,e_({},ek.seatsTitle))}),(0,N.jsx)(eI,{isTeam:null!==(e=null==i?void 0:i.isTeam())&&void 0!==e&&e,accountId:i.id}),(null==i?void 0:i.isTeam())&&o&&(0,N.jsxs)("span",{className:"text-sm text-token-text-secondary",children:[(0,N.jsx)(w.Z,e_({},ek.teamsAutochargeMessage)),(0,N.jsx)(A.Z,{className:"pl-1",openNewTab:!0,href:"https://help.openai.com/en/articles/8792536-manage-billing-on-the-chatgpt-team-subscription-plan",children:(0,N.jsx)(w.Z,e_({},ek.billingLearnMore))})]})]}),(0,N.jsx)("hr",{})]})})}function eS(e){var t;let{isOpen:n,onDropdownOpen:a}=e,{0:i,1:s}=(0,y.useState)(!1),l=(0,U.useRouter)(),r=(0,b.Z)(),o=(0,B.t)(),{data:c}=(0,m.ZP)(),{0:d,1:u}=(0,y.useState)(!1),f=function(){u(!d)},{0:g,1:p}=(0,y.useState)(!1),x=function(){p(!g)},h=null===(t=(0,L.sB)("1318146997"))||void 0===t?void 0:t.value;if(!o||!o.isTeam()||!c)return;let j=async()=>{s(!0);try{let e=await I.Z.fetchCustomerPortalUrl(null==o?void 0:o.getWorkspaceId());l.push(e.url)}catch(e){v.m.warning(r.formatMessage(ek.stripeErrorWarning),{hasCloseButton:!0})}finally{s(!1)}},M=(null==c?void 0:c.billing_period)==="monthly"?Z.FLEXIBLE:Z.ANNUAL;return(0,N.jsxs)(Y.d,{open:n,size:"default",triggerButton:(0,N.jsx)(F.z,{color:"secondary",onClick:a,icon:X.Tg4,children:(0,N.jsx)(w.Z,e_({},ek.manageLicenseBtn))}),children:[(0,N.jsx)(Y.Z.Item,{icon:X.ciH,onClick:j,children:(0,N.jsx)(w.Z,e_({},ek.managePaymentMethod))}),c.will_renew&&h&&(0,N.jsx)(Y.Z.Item,{icon:X.lDw,onClick:()=>{x()},children:(0,N.jsx)(w.Z,e_({},ek.manageBillingSchedule))}),null!=c.active_until&&(0,N.jsx)(O,{isOpen:g,onClose:x,initialTeamBillingType:M,renewalDate:new Date(c.active_until),accountId:o.id}),(null==c?void 0:c.will_renew)&&(0,N.jsx)(Y.Z.Separator,{}),(null==c?void 0:c.will_renew)&&(0,N.jsx)(Y.Z.Item,{icon:X.oOx,color:"danger",onClick:()=>{f()},children:(0,N.jsx)(w.Z,e_({},ek.cancelSubscriptionBtn))}),(0,N.jsx)($,{isOpen:d,onClose:f})]})}function eC(e){let{invoice:t}=e,n=(null==t?void 0:t.status_transitions.paid_at)!=null&&new Date(1e3*t.status_transitions.paid_at),a=t&&new Date(1e3*t.due_date),i=t&&new Date(1e3*t.created);return(0,N.jsxs)(ew.vi,{className:"items-center",children:[(0,N.jsxs)("div",{className:"flex grow flex-col gap-1",children:[(0,N.jsx)("span",{children:i?(0,N.jsx)(w.Z,e_(e_({},ek.invoiceName),{},{values:{createdDate:i}})):(0,N.jsx)(w.Z,e_({},ek.defaultInvoiceName))}),null!=t&&t.paid&&null!=n?(0,N.jsx)("div",{className:"text-xs text-token-text-secondary",children:(0,N.jsx)(w.Z,e_(e_({},ek.paidInvoice),{},{values:{invoiceDate:n}}))}):t&&(0,N.jsx)("div",{className:"text-xs text-green-600",children:(0,N.jsx)(w.Z,e_(e_({},ek.upcomingInvoice),{},{values:{invoiceDate:a}}))})]}),(0,N.jsx)("a",{href:null==t?void 0:t.hosted_invoice_url,className:(0,D.default)("mx-auto",(null==t?void 0:t.hosted_invoice_url)==void 0&&"cursor-not-allowed opacity-20"),target:"_blank",rel:"noreferrer",children:(0,N.jsx)(X.Pfi,{className:"icon-sm text-green-600"})})]})}function eT(){let{0:e,1:t}=(0,y.useState)({limit:5}),{data:n,isError:a}=function(e){var t;let n=(0,B.t)(),a=null==n?void 0:n.id,i=null!==(t=null==n?void 0:n.data.organizationId)&&void 0!==t?t:void 0;return function(e,t){let n=(0,b.Z)();return(0,eM.a)({queryKey:["organization-invoices",eP(eP({},e),{},{options:t})],queryFn:async()=>await I.Z.getInvoices(e,t).catch(e=>{throw v.m.danger(n.formatMessage(eE.invoicesLoadError,{error:e.message})),e}),enabled:"account_id"in e||"organization_id"in e})}((null==n?void 0:n.isEnterprisey())?{organization_id:i}:{account_id:a},e)}(e),i=null!=e.startingAfter||null!=e.endingBefore&&(null==n?void 0:n.has_more),s=null!=e.endingBefore||(null==n?void 0:n.has_more)&&null==e.endingBefore;return a||null==n?(0,N.jsxs)(ew.i9,{children:[(0,N.jsx)(ew.A4,{children:(0,N.jsx)(w.Z,e_({},ek.invoicesTitle))}),(0,N.jsx)(R.Z,{children:(0,N.jsx)(w.Z,e_({},ek.noInvoices))})]}):(0,N.jsxs)(ew.i9,{children:[(0,N.jsx)(ew.A4,{children:(0,N.jsx)(w.Z,e_({},ek.invoicesTitle))}),(0,N.jsx)(ew.qQ,{children:n.data.map(e=>(0,N.jsx)(eC,{invoice:e},e.id))}),(0,N.jsxs)("div",{className:"flex",children:[i&&(0,N.jsx)("button",{onClick:()=>{n&&t(e=>e_(e_({},e),{},{endingBefore:n.data[0].id,startingAfter:void 0}))},children:(0,N.jsx)(X.DUf,{className:"icon-sm"})}),(0,N.jsx)("div",{className:"flex-grow"}),s&&(0,N.jsx)("button",{onClick:()=>{n&&t(e=>e_(e_({},e),{},{startingAfter:n.data[n.data.length-1].id,endingBefore:void 0}))},children:(0,N.jsx)(X.ob9,{className:"icon-sm"})})]})]})}function eI(e){let{isTeam:t,accountId:n}=e,{data:a,isLoading:i,isError:s}=(0,m.ZP)();return!s&&a&&!i&&a.billing_period&&a.active_until?(0,N.jsx)(ef,{numInUse:a.seats_in_use,numAllocated:a.seats_entitled,isTeam:t,subscriptionWillRenew:a.will_renew,subscriptionBillingPeriod:a.billing_period,subscriptionRenewalDate:new Date(a.active_until),accountId:n}):null}function eB(){let e=(0,k.ec)(e=>e.currentWorkspace),t=null==e?void 0:e.organizationId,n=(0,b.Z)();return void 0===t?null:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(u.yG,{title:n.formatMessage(ek.title),subtitle:n.formatMessage(ek.subtitle)}),(0,N.jsx)(u.hb,{children:(0,N.jsxs)(ew.$V,{children:[(0,N.jsx)(eO,{}),(0,N.jsx)(eT,{})]})})]})}let ek=(0,M.vU)({title:{id:"organizationBillingInfo.title.1",defaultMessage:"Billing"},subtitle:{id:"organizationBillingInfo.subtitle",defaultMessage:"Only workspace owners can view and change these settings"},planTitle:{id:"organizationBillingInfo.planTitle",defaultMessage:"Plan"},activeEnterpriseLicense:{id:"organizationBillingInfo.activeEnterpriseLicense",defaultMessage:"Enterprise License"},pendingEnterpriseLicense:{id:"organizationBillingInfo.pendingEnterpriseLicense",defaultMessage:"Enterprise License (pending activation)"},resellerHostedEnterpriseLicense:{id:"organizationBillingInfo.resellerHostedEnterpriseLicense",defaultMessage:"Enterprise License"},activeEduLicense:{id:"organizationBillingInfo.activeEduLicense",defaultMessage:"Edu License"},pendingEduLicense:{id:"organizationBillingInfo.pendingEduLicense",defaultMessage:"Edu License (pending activation)"},resellerHostedEduLicense:{id:"organizationBillingInfo.resellerHostedEduLicense",defaultMessage:"Edu License"},activeTeamLicense:{id:"organizationBillingInfo.activeTeamLicense",defaultMessage:"Team License"},activeTeamLicenseNonProfitOrg:{id:"organizationBillingInfo.activeTeamLicenseNonProfitOrg",defaultMessage:"Team License (Non Profit Discount)"},pendingTeamLicense:{id:"organizationBillingInfo.pendingTeamLicense",defaultMessage:"Team License (pending activation)"},licenseExpiry:{id:"organizationBillingInfo.licenseExpiry",defaultMessage:"Active until {expiryDate, date, long}"},renewalDate:{id:"organizationBillingInfo.renewalDate",defaultMessage:"Renews on {expiryDate, date, long}"},deactivateDate:{id:"organizationBillingInfo.deactivateDate",defaultMessage:"Deactivates on {expiryDate, date, long}"},seatsTitle:{id:"organizationBillingInfo.seatsTitle",defaultMessage:"Seats"},seatsInUse:{id:"organizationBillingInfo.seatsInUse",defaultMessage:"{numSeats} in use ({numSeatsPct})"},invoicesTitle:{id:"organizationBillingInfo.invoicesTitle",defaultMessage:"Invoices"},invoiceName:{id:"organizationBillingInfo.invoiceName",defaultMessage:"Invoice: {createdDate, date, long}"},defaultInvoiceName:{id:"organizationBillingInfo.defaultInvoiceName",defaultMessage:"Invoice"},paidInvoice:{id:"organizationBillingInfo.paidInvoice",defaultMessage:"Paid: {invoiceDate, date, long}"},upcomingInvoice:{id:"organizationBillingInfo.upcomingInvoice",defaultMessage:"Due: {invoiceDate, date, long}"},noInvoices:{id:"organizationBillingInfo.noInvoices",defaultMessage:"No invoices found"},manageSubscription:{id:"organizationBillingInfo.manageSubscription",defaultMessage:"Manage subscription"},cancelSubscriptionBtn:{id:"organizationBillingInfo.cancelSubscriptionBtn",defaultMessage:"Cancel subscription"},manageLicenseBtn:{id:"organizationBillingInfo.manageLicenseBtn",defaultMessage:"Manage license"},managePaymentMethod:{id:"organizationBillingInfo.managePaymentMethod",defaultMessage:"Payment method"},manageBillingSchedule:{id:"organizationBillingInfo.manageSchedule",defaultMessage:"Billing schedule"},stripeErrorWarning:{id:"organizationBillingInfo.stripeErrorWarning",defaultMessage:"Error loading account information"},teamsAutochargeMessage:{id:"organizationBillingInfo.teamsAutochargeMessage",defaultMessage:"Your additional seats will be included on your next invoice."},billingLearnMore:{id:"organizationBillingInfo.billingLearnMore",defaultMessage:"Learn more"}});var eL=!0;function eD(){return(0,N.jsx)(eB,{})}eD.getLayout=function(e){return(0,N.jsx)(u.ZP,{mobilePageTitle:"Billing",requireOwnerPrivileges:!0,children:e})}},32378:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var a=n(651);function i(){return(0,a.jsx)("hr",{className:"w-full border-token-border-xheavy"})}},8040:function(e,t,n){"use strict";n.d(t,{$V:function(){return m},A4:function(){return g},Li:function(){return h},W8:function(){return y},i$:function(){return p},i9:function(){return v},qQ:function(){return x},vi:function(){return j}});var a,i,s,l,r,o,c,d,u=n(2346),f=n(15478);let m=f.Z.div(a||(a=(0,u.Z)(["text-base text-token-text-primary flex flex-col gap-10 my-10"]))),g=f.Z.div(i||(i=(0,u.Z)(["text-xl font-semibold"]))),p=f.Z.div(s||(s=(0,u.Z)(["text-base font-semibold"]))),x=f.Z.div(l||(l=(0,u.Z)(["flex flex-col divide-y divide-token-border-light border-y border-token-border-light"]))),v=f.Z.div(r||(r=(0,u.Z)(["flex flex-col gap-3 w-full m-auto md:m-0"]))),h=f.Z.div(o||(o=(0,u.Z)(["text-sm"]))),j=f.Z.div(c||(c=(0,u.Z)(["flex justify-between py-4 gap-4"]))),y=f.Z.hr(d||(d=(0,u.Z)(["max-w-xl border-token-border-light"])))},42606:function(e,t,n){"use strict";n.d(t,{I:function(){return s},o:function(){return l}});let a=["xlsx","pptx","docx"],i={"application/vnd.google-apps.spreadsheet":"xlsx","application/vnd.google-apps.presentation":"pptx","application/vnd.google-apps.document":"docx"};function s(e){var t;return e&&null!==(t=i[e.split(";")[0]])&&void 0!==t?t:null}function l(e){return e&&a.includes(e)?e:null}},84082:function(e,t,n){"use strict";n.d(t,{$e:function(){return s},EZ:function(){return l},Ql:function(){return i},dO:function(){return a},xC:function(){return r}});let a=10,i=4,s={duration:20,hasCloseButton:!0},l=512,r=536870912},93866:function(e,t,n){"use strict";n.d(t,{AJ:function(){return l},XX:function(){return o},xA:function(){return r}});var a,i,s=n(42606);let l=((a={})[a.None=0]="None",a[a.Multimodal=1]="Multimodal",a[a.Interpreter=2]="Interpreter",a[a.Retrieval=3]="Retrieval",a[a.ContextConnector=4]="ContextConnector",a[a.ProfilePicture=5]="ProfilePicture",a);function r(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:(0,s.o)(e.synthetic_extension),type:e.type}}let o=((i={}).Uploading="uploading",i.Ready="ready",i)},98628:function(e,t,n){"use strict";n.d(t,{E1:function(){return v},Sj:function(){return j},W7:function(){return m},cT:function(){return p},lU:function(){return x},po:function(){return g},sY:function(){return y}});var a=n(99333),i=n(2721),s=n(92319),l=n(99976),r=n(61619),o=n(68306),c=n(88815),d=n(24740),u=n(66114);let f={duration:20,hasCloseButton:!0};function m(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function g(e){return new Promise((t,n)=>{let a=new FileReader,i=new Image;a.onload=()=>{i.onload=()=>t(i),i.onerror=e=>n(e),i.src=a.result},a.readAsDataURL(e)})}async function p(e,t,n,o,u,m){var g,p,x;let b=c.N.getState().resetRateLimits,w=a.EG.Initial;l.A.logEvent(r.M.uploadFileInitiated,{client:"web",useCase:o.kind,uploadEntry:"local"});let M=m.usesRetrievalIndex?performance.now():void 0;try{let{file_id:s,upload_url:l}=await i.Z.createFile(t.name,t.size,o,!!b);u.onFileCreated(e,s,l),w=a.EG.FileCreated;let r=o.kind===a.Ei.Gizmo?o.gizmoId:void 0,c=null!==(g=m.shouldUpdateProgress)&&void 0!==g&&g,x=null!==(p=m.usesRetrievalIndex)&&void 0!==p&&p,j=await i.Z.uploadFileToAzureStorage(t,l,t=>{c&&u.onFileUploadProgress(e,10+80*t)});if(u.onFileUploadProgress(e,90),201!==j.status&&h(j,s,x),w=a.EG.FileUploaded,await i.Z.processFileUpload(s,{gizmoId:r}),w=a.EG.FileProcessed,m.usesRetrievalIndex){let t=await v(s,r);(null==t?void 0:t.status)===a.Xf.Skipped&&d.m.danger(n.formatMessage(y.retrievalSkippedFile,{fileName:t.name}),f),u.onFileUploaded(e,s,void 0,{fileTokenSize:t.file_size_tokens}),w=a.EG.RetrievalIndexCreated}else u.onFileUploaded(e,s,m.imageDimensions);null!=M&&i.Z.postRetrievalTiming({e2eLatencyMs:performance.now()-M,type:"file"})}catch(i){j(n,t.name,i);let a="NotInstanceOfError";i instanceof s.gK?a=i.name:i instanceof s.Q0?a="FatalServerError_type_".concat(null!==(x=i.type)&&void 0!==x?x:"undefined"):i instanceof Error?a=i.name:i instanceof s.vq&&(a=i.name),u.onError(e,"error",a,o,w)}}async function x(e,t,n,a,i){let{width:s,height:l}=await g(t);return p(e,t,n,{kind:a},i,{imageDimensions:{width:s,height:l}})}async function v(e,t){let n=Date.now()+6e4,l=e=>new Promise(t=>setTimeout(t,e)),r=0;for(;Date.now()<n;){let n=await i.Z.getRetrievalStatus(e,t);if(n.status===a.Xf.Success||n.status===a.Xf.Skipped)return n;if(n.status===a.Xf.Failed)throw new s.vq("Context extraction failed",n.error_code);r++,await l(Math.min(1e3,100*r))}throw new s.vq("Retrieval indexing timed out")}async function h(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a="Unknown error";try{a=await e.data}catch(e){}throw n&&i.Z.markFileUploadFailed(t,{error:a}),new s.vq("File upload to blobstore failed","failed_upload_to_blobstore")}function j(e,t,n){let a=(0,u.kr)(e,"default_upload_error",{fileName:t});n instanceof s.vq&&null!=n.code&&(a=(0,u.kr)(e,n.code)),d.m.danger(a,f)}let y=(0,o.vU)({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'}})},66114:function(e,t,n){"use strict";n.d(t,{$H:function(){return x},$p:function(){return O},Ad:function(){return L},B:function(){return k},BV:function(){return T},CO:function(){return S},Iy:function(){return g},KL:function(){return Z},L8:function(){return p},O6:function(){return j},Tu:function(){return I},VF:function(){return h},Vm:function(){return C},WI:function(){return B},YN:function(){return b},Z8:function(){return _},Zp:function(){return P},_0:function(){return N},kr:function(){return v},p0:function(){return E},s1:function(){return w},ww:function(){return y},xs:function(){return M}});var a=n(99333),i=n(16757),s=n(2721),l=n(86025),r=n(58695),o=n(82363),c=n(92379),d=n(75172),u=n(68306),f=n(24740),m=n(93866);function g(e){return e.replace("file-service://","")}function p(e){return"file-service://"+e}function x(e){return e.startsWith("file-service://")}function v(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage(D.fileZeroBytes,n);case"file_too_large":return e.formatMessage(D.fileTooLarge,n);case"over_user_quota":return e.formatMessage(D.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage(D.fileNotFound,n);case"file_timed_out":return e.formatMessage(D.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage(D.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage(D.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage(D.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage(D.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage(D.fileEmpty,n);case"too_many_tokens":return e.formatMessage(D.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage(D.fileEncrypted,n);case"file_corrupted":return e.formatMessage(D.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage(D.failedUploadToBlobStore,n);default:return e.formatMessage(D.unknownError)}}function h(){let e=(0,d.Z)();return(0,c.useCallback)((t,n)=>v(e,t,n),[e])}function j(){let{session:e}=(0,r.kP)(),{isUnauthenticated:t}=(0,l.u)(),n=(0,d.Z)();return async(i,l)=>{if(!t&&null==e)return f.m.danger(n.formatMessage(D.fileDownloadFailed)),!1;try{let e=await s.Z.getFileDownloadLink(i,void 0,t);if(e.status!==a.KF.Success)throw Error("File is not ready to download: "+JSON.stringify(e));let n=e.download_url,r=document.createElement("a");r.href=n,r.download=l,r.click(),window.open(n,"_blank")}catch(e){return f.m.danger(n.formatMessage(D.fileDownloadFailed)),!1}return!0}}function y(e,t){if((null==t?void 0:t.kind)===i.OL.GizmoInteraction||(null==t?void 0:t.kind)===i.OL.GizmoTest){var n;return null===(n=t.gizmo)||void 0===n?void 0:n.product_features}return null==e?void 0:e.product_features}function b(e,t){var n,i,s,l;let r=y(e,t);return(null==r||null===(n=r.attachments)||void 0===n?void 0:n.type)===a.Cd.CodeInterpreter?m.AJ.Interpreter:(null==r||null===(i=r.attachments)||void 0===i?void 0:i.type)===a.Cd.Multimodal?m.AJ.Multimodal:(null==r||null===(s=r.attachments)||void 0===s?void 0:s.type)===a.Cd.Retrieval?m.AJ.Retrieval:(null==r||null===(l=r.attachments)||void 0===l?void 0:l.type)===a.Cd.ContextConnector?m.AJ.ContextConnector:m.AJ.None}function w(e){var t;let n=null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase();return({md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp"})[null!=n?n:""]||""}function M(e,t,n,a,i){if(null==i)return e;let s=w(t);s&&(n=s),a&&(n=function(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}(n));let{accepted_mime_types:l,can_accept_all_mime_types:r}=i;return null!=l&&0!==l.length&&r?l.includes(n)?e:m.AJ.Interpreter:e}function N(e,t,n){var i,s,l;let r=""!==t?t:w(n),o=null==e||null===(i=e.product_features)||void 0===i?void 0:i.attachments;return null==o?void 0:null!==(s=o.accepted_mime_types)&&void 0!==s&&s.includes(r)?o.type:null!==(l=o.image_mime_types)&&void 0!==l&&l.includes(r)?a.Cd.Multimodal:a.Cd.CodeInterpreter}function P(e,t){var n,a;let i=y(e,t);return null!=i&&null!==(n=i.attachments)&&void 0!==n&&n.can_accept_all_mime_types?void 0:null==i||null===(a=i.attachments)||void 0===a?void 0:a.accepted_mime_types}function E(e,t){let n=y(e,t),{attachments:a}=null!=n?n:{};if(null!=a&&a.image_mime_types)return a.image_mime_types;if((null==a?void 0:a.type)==="multimodal"){var i;return null!==(i=a.accepted_mime_types)&&void 0!==i?i:Z}return[]}let Z=["image/png","image/jpeg","image/gif","image/webp"];function _(e){return(0,c.useMemo)(()=>{if(void 0===e)return{};let t={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]};return{accept:e.reduce((e,n)=>(n in t?e[n]=t[n]:n.includes("/")&&(e[n]=[".".concat(n.split("/")[1])]),e),{})}},[e])}function O(e){var t;return null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()}function S(e){let t=O(e);return null!=t&&["jpg","jpeg","png","gif","webp"].includes(t)}function C(e){let t=O(e);return null!=t&&["xls","xlsx","csv"].includes(t)}function T(e){let t=O(e);return null!=t&&["xls","xlsx"].includes(t)}function I(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fit";return new Promise((a,i)=>{let s=new FileReader;s.onerror=e=>{o.U.addError(Error("File reading has failed:",{cause:e})),i(Error("Failed to read the file."))},s.onload=s=>{let l=new Image;l.onerror=e=>{o.U.addError(Error("Image loading has failed:",{cause:e})),i(Error("Failed to load the image."))},l.onload=()=>{let s=document.createElement("canvas"),r,c=0,d=0;switch(n){case"fill":case"square":r=t/Math.min(l.width,l.height);break;case"fit":r=t/Math.max(l.width,l.height)}let u=l.width*r,f=l.height*r;"square"===n?(s.width=t,s.height=t,c=(t-u)/2,d=(t-f)/2):(s.width=u,s.height=f);let m=s.getContext("2d");if(null==m){o.U.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),i(Error("Failed to create canvas context."));return}m.drawImage(l,c,d,u,f);let g=e.type||"image/png";s.toBlob(t=>{t?a(new File([t],e.name,{type:g})):(o.U.addError("Blob creation failed. Blob is null."),i(Error("Failed to create blob from image data.")))},g)},null==s.target?(o.U.addError("Event target is null. Failed to load image."),i("Failed to load image.")):l.src=s.target.result},s.readAsDataURL(e)})}function B(e,t){return I(e,t,"square")}function k(e){var t,n;let a=null!==(t=e.name.split("/"))&&void 0!==t?t:[];return(null!==(n=a[a.length-1])&&void 0!==n?n:"").replace(/[-_]/g," ").split(".")[0]}function L(e,t){return t?e.slice(0,-t.length-1):e}let D=(0,u.vU)({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}})},88815:function(e,t,n){"use strict";n.d(t,{J:function(){return i},N:function(){return s}});var a=n(68810);let i={label:"Auto",value:""},s=(0,a.Ue)(()=>({forceParagen:!1,forceParagenModel:i,forceNulligen:!1,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:"The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",forceRateLimit:!1,resetRateLimits:!1,showDebugConversationTurns:!1,rebaseSystemMessageContent:null}))},60806:function(e,t,n){"use strict";function a(e){let t=Object.values(e);return e=>t.includes(e)}n.d(t,{b:function(){return a}})},51270:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/billing",function(){return n(29237)}])}},function(e){e.O(0,[2205,4198,5158,4089,1133,3718,3088,5696,1612,2349,5162,6013,9113,9725,8442,7261,2989,2879,3662,2888,9774,179],function(){return e(e.s=51270)}),_N_E=e.O()}]);
//# sourceMappingURL=billing-4d25bfae49e5a3c8.js.map