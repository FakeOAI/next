(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7705],{90980:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return V},default:function(){return $}});var r=s(94521),a=s(70657),n=s(94982),o=s(93223),i=s(4702),l=s(35226),c=s(14816),u=s(52134),d=s(96053),p=s(19841),m=s(71126),g=s.n(m),x=s(92379),f=s(26123),h=s(72256),j=s(25940),y=s(31094),b=s(5443),w=s(65530),Z=s(11823),k=s(44230),v=s(651);function N(e){let{className:t,inputClassName:s,value:r,onChange:a,placeholder:n}=e;return(0,v.jsxs)("div",{className:(0,p.default)("relative",t),children:[(0,v.jsx)(k.W1M,{className:"icon-sm absolute left-2 top-1/2 -translate-y-1/2 transform text-token-text-tertiary"}),(0,v.jsx)("input",{type:"text",value:r,onChange:a,placeholder:n,className:(0,p.default)("rounded-lg border border-gray-200 pl-8 placeholder:text-gray-500 dark:border-gray-600 dark:bg-gray-700",s),autoComplete:"off"})]})}var O=s(50684),M=s(67165),S=s(69482),C=s(49217),P=s(62484),D=s(59031),E=s(61888),G=s(24768),A=s(3671),W=s(41854);function _(e){let{group:t,isOpen:s,onClose:r}=e,a=(0,f.Z)(),l=a.formatMessage({id:"workspaceSettings.groups.addMember",defaultMessage:"Add members to the {groupName} group"},{groupName:t.name}),c=(0,i.t)(),{0:u,1:d}=(0,x.useState)([]),{0:p,1:m}=(0,x.useState)(!1);async function g(){let e=null==c?void 0:c.getWorkspaceId();if(!e)throw Error("No workspace ID found");m(!0);let s=await o.Z.bulkAddWorkspaceGroupUsers(e,t.id,u);n.m.success(a.formatMessage({id:"yU4Zf0",defaultMessage:"Added {numUsers} users to the group"},{numUsers:s.added_group_users.length})),null==r||r(),m(!1)}return(0,v.jsxs)(C.Z,{isOpen:s,onClose:null!=r?r:E.noop,title:l,type:"success",showCloseButton:!0,primaryButton:(0,v.jsx)(b.z,{onClick:g,disabled:0===u.length||u.length>1e3,loading:p,children:(0,v.jsx)(h.Z,{id:"EpbOzA",defaultMessage:"Add users to group"})}),children:[(0,v.jsx)(q,{onChange:d}),u.length>1e3&&(0,v.jsx)("div",{className:"mt-2 text-sm text-token-text-error",children:(0,v.jsx)(h.Z,{id:"9lp0Tc",defaultMessage:"Email list is limited to {maxEmails} users at once",values:{maxEmails:1e3}})})]})}function q(e){let{onChange:t}=e,{0:s,1:r}=(0,x.useState)("");return(0,v.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,v.jsxs)("label",{htmlFor:"group-email-paste",children:[(0,v.jsx)(h.Z,{id:"qvGcSC",defaultMessage:"Emails"}),(0,v.jsx)("br",{}),(0,v.jsx)("span",{className:"text-sm text-token-text-tertiary",children:(0,v.jsx)(h.Z,{id:"Fhd+5h",defaultMessage:"Paste email addresses here, one per line:"})})]}),(0,v.jsx)(W.Z,{id:"group-email-paste",className:"h-[250px] text-sm",value:s,onChange:e=>{r(e.target.value),t(e.target.value.split("\n").map(e=>e.trim()).filter(e=>e.length>0).filter(e=>A.F.test(e)))},placeholder:"jean@example.com\njoohyun@example.com\nmuhammed@example.com\nsusan@example.com"})]})}function Q(e){let{group:t,isOpen:s,onClose:r}=e,a=(0,f.Z)().formatMessage({id:"workspaceSettings.groups.addMember",defaultMessage:"Add members to the {groupName} group"},{groupName:t.name}),n=(0,i.t)(),o=null==n?void 0:n.getWorkspaceId(),{0:l,1:c}=(0,x.useState)(""),{0:d,1:p}=(0,x.useState)(0),{data:m}=(0,G.Z)(o,d*G.I,l,G.I,u.Wk),{0:g,1:j}=(0,x.useState)([]),{0:y,1:w}=(0,x.useState)([]),{0:O,1:M}=(0,x.useState)("interactive"),P=m?Math.ceil(m.total/G.I):0;async function A(e){w(t=>[...t,e]);try{await T(o,t.id,e),j(t=>[...t,e])}catch(e){D.U.addError(e)}finally{w(t=>t.filter(t=>t!==e))}}return"batch"===O?(0,v.jsx)(_,{group:t,isOpen:s,onClose:r}):(0,v.jsx)(C.Z,{type:"warning",isOpen:s,onClose:null!=r?r:E.noop,title:a,size:"custom",className:"max-w-screen-md",showCloseButton:!0,primaryButton:(0,v.jsx)(b.z,{onClick:r,children:(0,v.jsx)(h.Z,{id:"0NAzDq",defaultMessage:"Done"})}),children:(0,v.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,v.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,v.jsx)("p",{children:a}),(0,v.jsx)(b.z,{onClick:()=>{M("batch")},color:"secondary",children:(0,v.jsx)(h.Z,{id:"5GPldp",defaultMessage:"Bulk add users"})})]}),(0,v.jsx)(N,{value:l,inputClassName:"w-full",onChange:e=>{c(e.target.value)}}),(0,v.jsxs)(S.Z.Root,{className:"min-w-full",children:[(0,v.jsxs)(S.Z.Header,{children:[(0,v.jsx)(S.Z.HeaderCell,{children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.addMember.name",defaultMessage:"Name"})}),(0,v.jsx)(S.Z.HeaderCell,{children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.addMember.email",defaultMessage:"Email"})}),(0,v.jsx)(S.Z.HeaderCell,{})]}),(0,v.jsx)(S.Z.Body,{children:null==m?void 0:m.items.map(e=>(0,v.jsxs)(S.Z.Row,{children:[(0,v.jsx)(S.Z.Cell,{children:e.name}),(0,v.jsx)(S.Z.Cell,{children:e.email}),(0,v.jsx)(S.Z.Cell,{textAlign:"right",className:"pr-1",children:(0,v.jsx)(b.z,{size:"small",color:"secondary",disabled:y.includes(e.id),onClick:()=>{g.includes(e.id)||A(e.id)},icon:g.includes(e.id)?k.$As:k.Vz5,children:g.includes(e.id)?(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.addMember.addButton",defaultMessage:"Added"}):(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.addMember.addedButton",defaultMessage:"Add"})})})]},e.id))})]}),(0,v.jsx)("div",{className:"flex flex-row justify-center",children:(0,v.jsx)(Z.t,{currentPage:d,onChangeIndex:e=>{p(e)},length:P})})]})})}async function T(e,t,s){await o.Z.addWorkspaceGroupUser(e,t,s)}function z(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function I(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?z(Object(s),!0).forEach(function(t){(0,r.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):z(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function B(e){let{workspaceId:t,group:s,readOnly:r}=e,a=(0,f.Z)(),{0:n,1:i}=(0,x.useState)(!1),{0:m,1:g}=(0,x.useState)(""),{0:j,1:y}=(0,x.useState)(0),{data:w,isLoading:N,isPlaceholderData:C}=(0,c.a)({queryKey:[t,"groups",s.id,m,"members-page-".concat(j)],queryFn:()=>o.Z.listWorkspaceGroupMembers(t,s.id,m,10*j),placeholderData:u.Wk}),{0:D,1:E}=(0,x.useState)(!1),G=(0,x.useRef)(null),A=(0,l.NL)();(0,x.useEffect)(()=>{n&&G.current&&G.current.focus()},[n]);let{mutateAsync:W}=(0,d.D)({mutationFn:async e=>await o.Z.removeWorkspaceGroupMember(t,s.id,e),onMutate:e=>(A.cancelQueries({queryKey:[t,"groups",s.id]}),A.setQueryData([t,"groups",s.id,m,"members-page-".concat(j)],t=>t?I(I({},t),{},{items:t.items.filter(t=>t.id!==e),total:t.total-1}):{limit:10,offset:0,items:[],total:0}),{previousData:w}),onError:(e,r,a)=>{A.setQueryData([t,"groups",s.id,"members-page-".concat(j)],null==a?void 0:a.previousData),A.invalidateQueries({queryKey:[t,"groups",s.id]})},onSettled:async()=>{await new Promise(e=>setTimeout(e,1e3)),A.invalidateQueries({queryKey:[t,"groups"]})}});return(0,v.jsxs)("div",{className:"flex w-full flex-col",children:[(0,v.jsxs)("div",{className:"flex flex-row items-center ",children:[(0,v.jsx)("div",{className:"border-token-border-dark mt-3 inline-block h-8 grow-0 border-b-2 text-sm font-semibold",children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.membersTableTitle",defaultMessage:"Group members"})}),(0,v.jsx)("div",{className:"grow"}),(0,v.jsx)(P.u,{label:a.formatMessage({id:"workspaceSettings.groups.searchButtonTooltip",defaultMessage:"Search members"}),children:(0,v.jsx)("div",{className:"cursor-pointer p-2",onClick:()=>{i(!0)},children:(0,v.jsx)(k.W1M,{className:"icon-sm"})})}),(0,v.jsx)("input",{type:"text",ref:G,placeholder:a.formatMessage({id:"workspaceSettings.groups.searchMembers",defaultMessage:"Filter by name or email..."}),className:(0,p.default)("bg-token-surface-primary dark:bg-token-surface-secondary border-none px-0 transition-width duration-300 ease-in-out focus:ring-0",n?"w-64":"w-0"),value:m,onChange:()=>{var e,t;y(0),g(null!==(e=null===(t=G.current)||void 0===t?void 0:t.value)&&void 0!==e?e:"")}})]}),(0,v.jsxs)(S.Z.Root,{className:"min-w-full",children:[(0,v.jsxs)(S.Z.Header,{children:[(0,v.jsx)(S.Z.HeaderCell,{children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.memberName",defaultMessage:"Name"})}),(0,v.jsx)(S.Z.HeaderCell,{children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.email",defaultMessage:"Email"})}),(0,v.jsx)(S.Z.HeaderCell,{})]}),(0,v.jsx)(S.Z.Body,{className:N||C?"opacity-50":void 0,children:null==w?(0,v.jsx)(S.Z.Row,{children:(0,v.jsx)(S.Z.Cell,{colSpan:3,children:(0,v.jsx)(O.Z,{})})}):0===w.items.length?(0,v.jsx)(S.Z.Row,{children:(0,v.jsx)(S.Z.Cell,{colSpan:3,children:""===m?(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.noMembers",defaultMessage:"No members"}):(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.noMembersForSearch",defaultMessage:"No members matched the filter"})})}):w.items.map(e=>(0,v.jsxs)(S.Z.Row,{children:[(0,v.jsx)(S.Z.Cell,{children:(0,v.jsx)("span",{className:"ml-3",children:e.name})}),(0,v.jsx)(S.Z.Cell,{children:e.email}),(0,v.jsx)(S.Z.Cell,{textAlign:"right",children:!r&&(0,v.jsxs)(M.Z.Root,{children:[(0,v.jsx)(M.Z.Trigger,{className:"-my-2",children:(0,v.jsx)(k.nWS,{className:"icon-sm"})}),(0,v.jsx)(M.Z.Portal,{children:(0,v.jsx)(M.Z.Content,{children:(0,v.jsx)(M.Z.Item,{onClick:()=>W(e.id),children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.removeMember",defaultMessage:"Remove member"})})})})]})})]},e.id))})]}),(0,v.jsxs)("div",{className:"my-2 flex flex-row justify-center",children:[!r&&(0,v.jsx)(b.z,{color:"secondary",onClick:()=>E(!0),children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.addMemberButton",defaultMessage:"Add member"})}),(0,v.jsx)("div",{className:"grow"}),w&&w.items.length>0&&(0,v.jsx)(Z.t,{currentPage:j,onChangeIndex:e=>{y(e)},length:Math.ceil(w.total/10)})]}),D&&(0,v.jsx)(Q,{isOpen:!0,onClose:()=>{A.invalidateQueries({queryKey:[t,"groups"]}),E(!1)},group:s})]})}function F(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function R(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?F(Object(s),!0).forEach(function(t){(0,r.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):F(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function H(e){let{workspaceId:t}=e,s=(0,f.Z)(),r=(0,i.t)(),a=!(null!=r&&r.isAdminOfAccount()||null!=r&&r.isOwnerOfAccount()),m=(0,l.NL)(),{0:g,1:j}=(0,x.useState)(""),{0:y,1:w}=(0,x.useState)(0),{data:k,isLoading:M,isPlaceholderData:C}=(0,c.a)({queryKey:""===g?[t,"groups","page-".concat(y)]:[t,"groups","filtered",g,"page-".concat(y)],queryFn:()=>o.Z.getWorkspaceGroups(t,{query:g,offset:10*y}),placeholderData:u.Wk}),{0:P,1:D}=(0,x.useState)(!1),E=e=>{e&&(w(0),j("")),D(e)},{mutateAsync:G}=(0,d.D)({mutationFn:async e=>{let{workspaceId:t,name:s}=e;return await o.Z.createWorkspaceGroup(t,s)},onMutate:e=>{let{workspaceId:t,name:s}=e;return m.cancelQueries({queryKey:[t,"groups"]}),m.setQueryData([t,"groups","page-0"],e=>(e||(e={limit:10,offset:0,items:[],total:0}),R(R({},e),{},{items:[{id:"new",name:s,num_members:0,created_time:""},...e.items.slice(0,9)]}))),{previousGroups:k}},onError:(e,r,a)=>{m.setQueryData([t,"groups","page-0"],null==a?void 0:a.previousGroups),m.invalidateQueries({queryKey:[t,"groups"]}),"Group with this name already exists."===e.message&&n.m.warning(s.formatMessage({id:"workspaceSettings.groups.duplicateName",defaultMessage:"Group with this name already exists"}),{duration:2})},onSettled:async()=>{await new Promise(e=>setTimeout(e,1e3)),m.invalidateQueries({queryKey:[t,"groups"]})}}),{mutateAsync:A}=(0,d.D)({mutationFn:async e=>await o.Z.deleteWorkspaceGroup(t,e),onMutate:e=>(m.cancelQueries({queryKey:[t,"groups","page-0"]}),m.setQueryData([t,"groups","page-0"],t=>(t||(t={items:[]}),R(R({},t),{},{items:t.items.filter(t=>t.id!==e)}))),{previousGroups:k}),onError:(e,s,r)=>{m.setQueryData([t,"groups","page-0"],null==r?void 0:r.previousGroups),m.invalidateQueries({queryKey:[t,"groups"]})},onSettled:async()=>{await new Promise(e=>setTimeout(e,1e3)),m.invalidateQueries({queryKey:[t,"groups"]})}}),{mutateAsync:W}=(0,d.D)({mutationFn:async e=>{let{workspaceId:t,groupID:s,name:r}=e;return await o.Z.updateWorkspaceGroup(t,s,r)},onMutate:e=>{let{workspaceId:t,groupID:s,name:r}=e,a=m.getQueryData([t,"groups","page-".concat(y)]);return m.setQueryData([t,"groups","page-".concat(y)],e=>(e||(e={items:[]}),R(R({},e),{},{items:e.items.map(e=>e.id===s?R(R({},e),{},{name:r}):e)}))),{previousGroups:a}},onError:(e,t,r)=>{m.setQueryData([t,"groups","page-".concat(y)],null==r?void 0:r.previousGroups),"Group with this name already exists."===e.message&&n.m.warning(s.formatMessage({id:"workspaceSettings.groups.duplicateName",defaultMessage:"Group with this name already exists"}),{duration:2})},onSettled:async()=>{await new Promise(e=>setTimeout(e,1e3)),m.invalidateQueries({queryKey:[t,"groups"]})}});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"mb-3 mt-6 flex flex-row justify-between gap-2",children:[(0,v.jsx)(N,{inputClassName:"w-[250px]",value:g,onChange:e=>{j(e.target.value),w(0)},placeholder:s.formatMessage({id:"workspaceSettings.groups.search",defaultMessage:"Search group name"})}),!a&&(0,v.jsx)(b.z,{onClick:()=>E(!0),children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.create",defaultMessage:"Create group"})})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)(S.Z.Root,{className:"min-w-full",children:[(0,v.jsxs)(S.Z.Header,{children:[(0,v.jsx)(S.Z.HeaderCell,{}),(0,v.jsx)(S.Z.HeaderCell,{children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.groupName",defaultMessage:"Group name"})}),(0,v.jsx)(S.Z.HeaderCell,{children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.members",defaultMessage:"Members"})}),(0,v.jsx)(S.Z.HeaderCell,{children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.created",defaultMessage:"Created"})}),(0,v.jsx)(S.Z.HeaderCell,{})]}),(0,v.jsxs)(S.Z.Body,{className:(0,p.default)((M||C)&&"opacity-50"),children:[P&&(0,v.jsx)(U,{group:"new",workspaceId:t,onChangeName:async e=>{""!==e.trim()&&(G({workspaceId:t,name:e}),E(!1))},onDelete:()=>null,readOnly:a}),null==k?(0,v.jsx)(S.Z.Row,{children:(0,v.jsx)(S.Z.Cell,{colSpan:5,textAlign:"center",children:(0,v.jsx)(O.Z,{})})}):0===k.items.length?(0,v.jsx)(S.Z.Row,{children:(0,v.jsx)(S.Z.Cell,{colSpan:5,textAlign:"center",children:""===g?(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.noGroups",defaultMessage:"No groups found."}):(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.noGroupsWithFIlter",defaultMessage:"No groups found. Try changing the search query."})})}):k.items.map(e=>(0,v.jsx)(U,{group:e,workspaceId:t,onDelete:A,onChangeName:async s=>{W({workspaceId:t,groupID:e.id,name:s})},readOnly:a},e.id))]})]}),k&&(0,v.jsx)("div",{className:"text-center",children:(0,v.jsx)(Z.t,{length:Math.ceil(k.total/10),currentPage:Math.min(y,Math.ceil(k.total/10)),onChangeIndex:e=>w(e)})})]})]})}function K(e){let{currentWorkspaceId:t}=e,s=(0,f.Z)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(g(),{children:(0,v.jsx)("title",{children:s.formatMessage(X.title)})}),(0,v.jsx)(a.yG,{title:s.formatMessage(X.title),subtitle:(0,v.jsx)(h.Z,{id:"NDDzzF",defaultMessage:"Only workspace admins can edit these settings."})}),(0,v.jsx)(a.hb,{showSpinner:!1,children:(0,v.jsx)(H,{workspaceId:t})})]})}function U(e){let{group:t,workspaceId:s,onChangeName:r,onDelete:a,readOnly:n}=e,o=(0,f.Z)(),{0:i,1:l}=(0,x.useState)(!1),{0:c,1:u}=(0,x.useState)("new"===t?"":t.name),{0:d,1:p}=(0,x.useState)(!1),{0:m,1:g}=(0,x.useState)("new"===t),{0:b,1:Z}=(0,x.useState)(null),N=(0,x.useRef)(null);(0,x.useEffect)(()=>{if("new"===t||m){var e;null===(e=N.current)||void 0===e||e.focus()}},[t,m]);let O=async()=>{if(""===c.trim()){u("new"===t?"":t.name),g(!1),p(!1);return}r&&(p(!0),await r(c)),p(!1),g(!1)};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(S.Z.Row,{onClick:()=>l(e=>!e),className:"hover:bg-token-surface-secondary cursor-pointer",children:[(0,v.jsx)(S.Z.Cell,{children:(0,v.jsx)(y.Z,{checked:i})}),(0,v.jsx)(S.Z.Cell,{children:"new"===t||m?(0,v.jsx)(w.Z,{ref:N,name:"newGroupName",value:c,disabled:d,placeholder:o.formatMessage({id:"workspaceSettings.groups.groupNamePlaceholder",defaultMessage:"New group name..."}),onChange:e=>u(e.target.value),onBlur:()=>{c!==("new"===t?"":t.name)&&O()},onPressEnter:O}):t.name}),(0,v.jsx)(S.Z.Cell,{children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.memberCount",defaultMessage:"{count} members",values:{count:"new"===t?"0":t.num_members}})}),(0,v.jsx)(S.Z.Cell,{children:"new"!==t&&t.created_time?(0,v.jsx)(j.Ji,{value:t.created_time,year:"numeric",month:"long",day:"numeric"}):""}),(0,v.jsx)(S.Z.Cell,{textAlign:"right",children:"new"!==t&&!n&&(0,v.jsxs)(M.Z.Root,{children:[(0,v.jsx)(M.Z.Trigger,{className:"-my-2",children:(0,v.jsx)(k.nWS,{className:"icon-sm"})}),(0,v.jsx)(M.Z.Portal,{children:(0,v.jsxs)(M.Z.Content,{children:[(0,v.jsx)(M.Z.Item,{onClick:e=>{g(!0),setTimeout(()=>{var e;null===(e=N.current)||void 0===e||e.focus()},120),e.stopPropagation()},children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.changeName",defaultMessage:"Edit name"})}),(0,v.jsx)(M.Z.Item,{onClick:e=>{Z(t),e.stopPropagation()},children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.edit",defaultMessage:"Delete group"})})]})})]})})]}),i&&"new"!==t&&(0,v.jsx)(S.Z.Row,{children:(0,v.jsx)(S.Z.Cell,{colSpan:5,className:"pl-8",children:(0,v.jsx)(B,{group:t,workspaceId:s,readOnly:n})})}),b&&(0,v.jsx)(L,{group:b,onDelete:a,onClose:()=>Z(null)})]})}function L(e){let{group:t,onDelete:s,onClose:r}=e,a=(0,f.Z)().formatMessage({id:"workspaceSettings.groups.deleteGroupTitle",defaultMessage:"Delete group {groupName}?"},{groupName:t.name});return(0,v.jsx)(C.Z,{type:"warning",isOpen:!0,onClose:r,title:a,showCloseButton:!0,primaryButton:(0,v.jsx)(b.z,{color:"danger",onClick:async()=>{s(t.id),r()},children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.confirmDelete",defaultMessage:"Delete"})}),secondaryButton:(0,v.jsx)(b.z,{onClick:r,color:"secondary",children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.cancelDelete",defaultMessage:"Cancel"})}),children:(0,v.jsx)("p",{children:(0,v.jsx)(h.Z,{id:"workspaceSettings.groups.deleteGroupWarning",defaultMessage:'Are you sure you want to delete the "{groupName}" group? This action cannot be undone.',values:{groupName:t.name}})})})}let X=(0,j.vU)({title:{id:"admin.groupsSettings.title",defaultMessage:"Groups"}});function J(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}var V=!0;function $(e){return(0,v.jsx)(K,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?J(Object(s),!0).forEach(function(t){(0,r.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):J(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({},e))}$.getLayout=function(e){return(0,v.jsx)(a.ZP,{mobilePageTitle:"Groups",children:e})}},31094:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var r=s(19841),a=s(44230),n=s(651);function o(e){let{className:t,checked:s}=e;return(0,n.jsx)(a.Tg4,{className:(0,r.default)("icon-sm transform transition-transform duration-200",t,s?"rotate-0":"ltr:-rotate-90 rtl:rotate-90")})}},11823:function(e,t,s){"use strict";s.d(t,{h:function(){return j},t:function(){return Z}});var r,a,n,o,i,l,c=s(41141),u=s(19841),d=s(95182),p=s.n(d),m=s(74091),g=s(44230),x=s(40616),f=s(73746),h=s(651);function j(e){let{currentPage:t,onChangeIndex:s,length:r,className:a,showInline:n=!1}=e,o=(0,f.Q)(),i=e=>{s(p()(t+e,0,r-1))};return o?(0,h.jsxs)("div",{className:(0,u.default)("flex items-center justify-center rounded-lg text-token-text-secondary",!n&&x.W.MessageAction),children:[(0,h.jsx)("button",{onClick:()=>i(-1),disabled:0===t,className:"flex h-[30px] w-[30px] items-center justify-center rounded-md hover:bg-token-main-surface-secondary disabled:opacity-50 disabled:hover:bg-transparent",children:(0,h.jsx)(g.DUf,{className:"icon-md-heavy"})}),(0,h.jsx)("div",{className:"px-0.5 text-sm font-semibold tabular-nums",children:"".concat(t+1,"/").concat(r)}),(0,h.jsx)("button",{onClick:()=>i(1),disabled:t===r-1,className:"flex h-[30px] w-[30px] items-center justify-center rounded-md hover:bg-token-main-surface-secondary disabled:opacity-50 disabled:hover:bg-transparent",children:(0,h.jsx)(g.ob9,{className:"icon-md-heavy"})})]}):(0,h.jsxs)(y,{className:a,children:[(0,h.jsx)(b,{onClick:()=>i(-1),disabled:0===t,children:(0,h.jsx)(g.DUf,{className:"icon-xs"})}),(0,h.jsx)(w,{children:"".concat(t+1," / ").concat(r)}),(0,h.jsx)(b,{onClick:()=>i(1),disabled:t===r-1,children:(0,h.jsx)(g.ob9,{className:"icon-xs"})})]})}let y=m.Z.div(r||(r=(0,c.Z)(["text-xs flex items-center justify-center gap-1"]))),b=m.Z.button(a||(a=(0,c.Z)(["dark:text-white disabled:text-gray-300 dark:disabled:text-gray-400"]))),w=m.Z.span(n||(n=(0,c.Z)(["flex-grow flex-shrink-0 tabular-nums"])));function Z(e){let{currentPage:t,onChangeIndex:s,length:r,className:a}=e,n=e=>{s(p()(t+e,0,r-1))};return 0===r?null:(0,h.jsxs)(k,{className:a,children:[(0,h.jsx)(v,{onClick:()=>n(-1),disabled:0===t,children:(0,h.jsx)(g.DUf,{className:"icon-sm"})}),(0,h.jsx)(N,{children:"".concat(t+1,"/").concat(r)}),(0,h.jsx)(v,{onClick:()=>n(1),disabled:t===r-1,children:(0,h.jsx)(g.ob9,{className:"icon-sm"})})]})}let k=m.Z.div(o||(o=(0,c.Z)(["text-xs inline-flex bg-token-main-surface-secondary h-8 border rounded border-token-border-medium"]))),v=m.Z.button(i||(i=(0,c.Z)(["text-token-text-secondary disabled:text-token-border-medium w-8 flex items-center justify-center hover:bg-token-main-surface-tertiary"]))),N=m.Z.span(l||(l=(0,c.Z)(["text-token-text-tertiary px-2 flex items-center font-mono tracking-widest"])))},41854:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var r=s(94521),a=s(17379),n=s(19841),o=s(651);let i=["className"];function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function c(e){let{className:t}=e,s=(0,a.Z)(e,i);return(0,o.jsx)("textarea",function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach(function(t){(0,r.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({className:(0,n.default)("form-textarea w-full rounded-lg border border-token-border-light bg-token-main-surface-secondary text-sm text-token-text-primary focus:border-token-text-primary focus:shadow-none focus:outline-none focus:ring-token-text-primary",t)},s))}},24768:function(e,t,s){"use strict";s.d(t,{I:function(){return n},Z:function(){return o}});var r=s(93223),a=s(14816);let n=25;function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return(0,a.a)({queryKey:["workspace",e,t,s],queryFn:async()=>await r.Z.getWorkspaceUsers(e,t,o,s),placeholderData:i,enabled:!!e})}},40616:function(e,t,s){"use strict";s.d(t,{W:function(){return r}});let r={MessageAction:"z-10",ScrollToBottom:"z-10",PromptTextareaHeader:"z-20",TagGpt:"z-20"}},53408:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/groups",function(){return s(90980)}])}},function(e){e.O(0,[7349,6271,3718,4368,2349,1353,7126,0,5165,657,2888,9774,179],function(){return e(e.s=53408)}),_N_E=e.O()}]);
//# sourceMappingURL=groups-410c9c355ed1b6d1.js.map