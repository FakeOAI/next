(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3224],{29237:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return eS},default:function(){return eZ}});var a,i,s=n(68986),r=n(98601),l=n(93465),o=n(59144),c=n(24434),d=n(50454),u=n(24740),f=n(43991),m=n(60806),p=n(92379),g=n(49764),x=n(75325),h=n(47584),j=n(651);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let v=((a={}).FLEXIBLE="month",a.ANNUAL="year",a),w=(0,m.b)(v);function M(e){let{isOpen:t,onClose:n,initialTeamBillingType:a,renewalDate:i,accountId:s}=e,{0:r,1:o}=(0,p.useState)(a),{0:d,1:f}=(0,p.useState)(!1),{0:m,1:x}=(0,p.useState)(!1),h=E[r],b=(0,g.Z)(),y=(0,l.bm)(s),w=async()=>{x(!0);try{await y.mutateAsync({accountId:s,updatedPriceInterval:r===v.FLEXIBLE?"month":"year",updatedSeats:void 0}),x(!1),u.m.success(b.formatMessage({id:"teamBilling.successfullyUpdatedSubscription",defaultMessage:"Your subscription was updated successfully"}),{hasCloseButton:!0}),f(!1),n()}catch(e){u.m.warning(b.formatMessage({id:"teamBilling.errorUpdatingSubscription",defaultMessage:"There was a problem updating your subscription"}),{hasCloseButton:!0})}finally{x(!1)}};return(0,j.jsx)(c.Z,{type:"success",isOpen:t,onClose:()=>{f(!1),o(a),n()},size:"custom",className:"max-w-xl",noPadding:!0,title:d?b.formatMessage({id:"teamBilling.changeBillingScheduleConfirmTitle",defaultMessage:"Confirm changes"}):b.formatMessage({id:"teamBilling.changeBillingScheduleTitle",defaultMessage:"Change billing schedule"}),showCloseButton:!0,children:d?(0,j.jsx)(O,{selectedPlan:r,initialTeamBillingType:a,renewalDate:i,selectedPlanData:h,handleUpdate:w,isUpdating:m}):(0,j.jsx)(P,{setSelectedPlan:o,selectedPlan:r,initialTeamBillingType:a,toggleConfirmPage:function(){f(!d)},renewalDate:i})})}function P(e){let{selectedPlan:t,setSelectedPlan:n,initialTeamBillingType:a,toggleConfirmPage:i,renewalDate:s}=e,r=(0,g.Z)();return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"grid grid-flow-row grid-cols-2",children:(0,j.jsxs)(f.fC,{className:"col-span-2 grid md:col-span-2 md:grid-cols-2",defaultValue:t,onValueChange:e=>{w(e)&&n(e)},children:[(0,j.jsx)(d.IW,y({billingType:v.FLEXIBLE},d.c0)),(0,j.jsx)(d.IW,y({billingType:v.ANNUAL},d.sr))]})}),(0,j.jsx)("hr",{}),(0,j.jsxs)("div",{className:"m-4 flex items-center justify-between",children:[(0,j.jsx)("span",{className:"text-sm text-token-text-secondary",children:(0,j.jsx)(x.Z,y(y({},d.sY.changeEffectDate),{},{values:{date:(0,j.jsx)(h.Ji,{value:s,year:"numeric",month:"long",day:"numeric"})}}))}),(0,j.jsx)(o.m,{title:r.formatMessage(d.sY.continueToPricePreview),disabled:t===a,color:"primary",onClick:()=>{i()}})]})]})}function O(e){let{initialTeamBillingType:t,selectedPlan:n,renewalDate:a,selectedPlanData:i,handleUpdate:s,isUpdating:r}=e,l=(0,g.Z)();return(0,j.jsxs)("div",{className:"p-4",children:[(0,j.jsx)("span",{className:"text-sm",children:(0,j.jsx)(x.Z,y(y({},d.sY.confirmPageChangeEffectDate),{},{values:{current_plan:t===v.FLEXIBLE?"Flexible (monthly)":"Annual",new_plan:n===v.FLEXIBLE?"Flexible (monthly)":"Annual",date:(0,j.jsx)(h.Ji,{value:a,year:"numeric",month:"long",day:"numeric"})}}))}),(0,j.jsxs)("div",{className:"mt-4 flex flex-col bg-token-main-surface-secondary p-4",children:[(0,j.jsx)("span",{className:"font-semibold",children:(0,j.jsx)(x.Z,y({},i.name))}),(0,j.jsx)("span",{className:"text-sm",children:(0,j.jsx)(x.Z,y(y({},i.cost),{},{values:{s:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,j.jsx)(d.Re,{children:t})}}}))}),(0,j.jsx)("span",{className:"text-sm text-token-text-secondary",children:(0,j.jsx)(x.Z,y({},i.structure))})]}),(0,j.jsx)("div",{className:"mt-4 flex justify-end",children:(0,j.jsx)(o.m,{title:l.formatMessage(d.sY.confirmChange),color:"primary",onClick:s,loading:r})})]})}let E={[v.FLEXIBLE]:{name:d.sY.flexiblePlanName,cost:d.sY.flexiblePlanCost,structure:d.sY.teamsCostStructure},[v.ANNUAL]:{name:d.sY.annualPlanName,cost:d.sY.annualPlanCost,structure:d.sY.teamsCostStructure}};var N=n(2721),_=n(93951),S=n(31498),Z=n(88667),C=n(19841),T=n(34977),I=n(11550),B=n(92609),k=n(97537),L=n(98095),D=n(94668),U=n(40743),F=n(59725),A=n(6440);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function R(e){let{isOpen:t,onClose:n}=e,a=(0,g.Z)(),{data:i,isLoading:s}=(0,l.ZP)(),r=(0,_.t)(),d=(0,l.St)(r?.id),f=(0,S.aF)(),{0:m,1:h}=(0,p.useState)(""),{0:b,1:y}=(0,p.useState)(!1),v=f?.email&&m.toLowerCase()==f.email.toLowerCase(),{0:w,1:M}=(0,p.useState)(i&&!i.will_renew);if(s||!r||!i)return null;let P=async()=>{y(!0);try{await d.mutateAsync(r.id),M(!0)}catch(e){u.m.warning(a.formatMessage($.errorCancellingSubscription),{hasCloseButton:!0})}finally{y(!1)}};return(0,j.jsx)(c.Z,{type:"success",onClose:n,showCloseButton:!0,isOpen:t,className:"",title:(0,j.jsx)("span",{className:"text-lg",children:(0,j.jsx)(x.Z,Y({},$.cancelPlan))}),children:w?(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"mb-2 text-base font-semibold text-token-text-primary",children:(0,j.jsx)(x.Z,Y({},$.successfullyCanceled))}),null!=i.active_until&&(0,j.jsx)("p",{className:"text-sm text-token-text-primary",children:(0,j.jsx)(x.Z,Y(Y({},$.retainUntil),{},{values:{expiryDate:new Date(i.active_until)}}))}),(0,j.jsx)("div",{className:"mt-6 flex w-full flex-row justify-end",children:(0,j.jsx)(o.m,{title:a.formatMessage($.doneButton),color:"primary",onClick:n,disabled:b})})]}):(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,j.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,j.jsx)(F.B0,{src:r.data.profilePictureUrl,size:"large"}),(0,j.jsxs)("div",{className:"flex-col",children:[(0,j.jsx)("p",{className:"font-semibold",children:r.data.name}),(0,j.jsx)("p",{className:"text-sm text-token-text-secondary",children:(0,j.jsx)(x.Z,Y(Y({},$.membersCount),{},{values:{count:i.seats_entitled}}))})]})]}),(0,j.jsxs)("div",{className:"w-full",children:[(0,j.jsx)("h3",{className:"mb-2 text-base font-semibold text-token-text-primary",children:(0,j.jsx)(x.Z,Y({},$.areYouSure))}),(0,j.jsxs)("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[(0,j.jsx)("li",{className:"my-2",children:(0,j.jsx)(x.Z,Y({},$.dataUnavailable))}),null!=i.active_until&&(0,j.jsx)("li",{className:"my-2",children:(0,j.jsx)(x.Z,Y(Y({},$.retainUntil),{},{values:{expiryDate:new Date(i.active_until)}}))}),(0,j.jsx)("li",{className:"my-2",children:(0,j.jsx)(x.Z,Y({},$.retainEmailAccess))})]})]}),(0,j.jsxs)("div",{className:"w-full",children:[(0,j.jsx)("h3",{className:"mb-2 text-base font-semibold text-token-text-primary",children:(0,j.jsx)(x.Z,Y({},$.enterEmailToConfirm))}),(0,j.jsx)(A.Z,{type:"text",name:"user-email",placeholder:"abcd@acme.com",onChange:e=>{h(e.target.value)}})]})]}),(0,j.jsxs)("div",{className:"mt-6 flex w-full flex-row justify-end",children:[(0,j.jsx)(o.m,{title:a.formatMessage($.keepSubscriptionButton),onClick:n,disabled:b}),(0,j.jsx)(o.m,{title:a.formatMessage($.cancelSubscriptionButton),onClick:P,disabled:!v,loading:b,color:"danger",className:"ml-2"})]})]})})}let $=(0,h.vU)({dataUnavailable:{id:"cancelTeamPlanModal.dataUnavailable",defaultMessage:"All workspace data including chat history and settings will not be available."},cancelPlan:{id:"cancelTeamPlanModal.cancelPlan",defaultMessage:"Cancel subscription"},retainUntil:{id:"cancelTeamPlanModal.retainUntil",defaultMessage:"You will retain access to the workspace until the end of your billing cycle on {expiryDate, date, long}."},retainEmailAccess:{id:"cancelTeamPlanModal.retainEmailAccess",defaultMessage:"You will still be able to use ChatGPT with the other workspaces associated with this email address."},errorCancellingSubscription:{id:"cancelTeamPlanModal.errorCancellingSubscription",defaultMessage:"There was a problem cancelling your subscription."},areYouSure:{id:"cancelTeamPlanModal.areYouSure",defaultMessage:"Are you sure?"},enterEmailToConfirm:{id:"cancelTeamPlanModal.enterEmailToConfirm",defaultMessage:"Enter your Email address to confirm"},emailPlaceholder:{id:"cancelTeamPlanModal.emailPlaceholder",defaultMessage:"abcd@acme.com"},doneButton:{id:"cancelTeamPlanModal.doneButton",defaultMessage:"Done"},keepSubscriptionButton:{id:"cancelTeamPlanModal.keepSubscriptionButton",defaultMessage:"Keep subscription"},cancelSubscriptionButton:{id:"cancelTeamPlanModal.cancelSubscriptionButton",defaultMessage:"Cancel subscription"},successfullyCanceled:{id:"cancelTeamPlanModal.successfullyCanceled",defaultMessage:"You have successfully canceled your subscription."},membersCount:{id:"yourComponent.membersCount",defaultMessage:"{count, plural, one {# member} other {# members}}"}});var X=n(32378),q=n(55356),H=n(15478);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var G=((i=G||{}).FLEXIBLE="month",i.ANNUAL="year",i);let Q=H.Z.p`text-base font-semibold mb-3 mt-3`;function V(e){let{isOpen:t,onClose:n,initialTeamBillingType:a,initialSeats:i,accountId:s,renewalDate:r}=e,o=(0,g.Z)(),{0:f,1:m}=(0,p.useState)(i),{0:x,1:h}=(0,p.useState)(!1),{0:b,1:y}=(0,p.useState)(!1),v=et[a],w=a===G.FLEXIBLE?d.c0:d.sr,M=(0,l.bm)(s),P=async()=>{y(!0);try{await M.mutateAsync({accountId:s,updatedPriceInterval:void 0,updatedSeats:f}),y(!1),u.m.success(o.formatMessage({id:"teamBilling.successfullyUpdatedSubscription",defaultMessage:"Your subscription was updated successfully"}),{hasCloseButton:!0}),h(!1),n()}catch(e){u.m.warning(o.formatMessage({id:"teamBilling.errorUpdatingSubscription",defaultMessage:"There was a problem updating your subscription"}))}finally{y(!1)}};return(0,j.jsx)(c.Z,{type:"success",isOpen:t,onClose:()=>{h(!1),m(i),n()},size:"custom",noPadding:!0,className:"max-w-xl",showCloseButton:!0,title:x?o.formatMessage({id:"teamsManageSeatsModal.title",defaultMessage:"Manage seats"}):o.formatMessage({id:"teamsManageSeatsModalConfirmPage.title",defaultMessage:"Review"}),children:x?(0,j.jsx)(ee,{numSeats:f,initialSeats:i,handleUpdate:P,isUpdating:b,renewalDate:r,accountId:s}):(0,j.jsx)(K,{initialTeamBillingType:a,selectedPlanBillingInfo:w,numSeats:f,initialSeats:i,setNumSeats:m,selectedPlanData:v,toggleConfirmPage:function(){h(!x)}})})}function K(e){let{initialTeamBillingType:t,selectedPlanBillingInfo:n,numSeats:a,initialSeats:i,setNumSeats:s,selectedPlanData:r,toggleConfirmPage:l}=e,c=(0,g.Z)();return(0,j.jsxs)("div",{className:"grid grid-flow-row grid-cols-2",children:[(0,j.jsx)(f.fC,{className:"col-span-2 grid md:col-span-1 md:grid-cols-1",defaultValue:t,children:(0,j.jsx)(d.IW,W({billingType:t},n))}),(0,j.jsxs)("div",{className:"col-span-3 overflow-hidden border-l border-token-main-surface-tertiary bg-token-main-surface-secondary p-6 md:col-span-1",children:[(0,j.jsx)("label",{className:"mb-3 block text-base font-semibold",htmlFor:"seats",children:(0,j.jsx)(x.Z,W({},d.sY.seatsTitle))}),(0,j.jsx)(d.ZY,{numSeats:a,minSeats:i,setNumSeats:s}),(0,j.jsx)(X.b,{}),(0,j.jsx)(Q,{children:(0,j.jsx)(x.Z,W({},d.sY.summaryTitle))}),(0,j.jsxs)("div",{className:"text-sm",children:[(0,j.jsx)("p",{className:"mb-2",children:(0,j.jsx)(x.Z,W({},r.name))}),(0,j.jsxs)(q.QI,{children:[(0,j.jsx)(q.HC,{children:(0,j.jsx)(x.Z,W({},r.billed))}),(0,j.jsx)(q.HC,{children:(0,j.jsx)("b",{children:(0,j.jsx)(x.Z,W(W({},r.total),{},{values:{totalCost:(a||0)*(t===G.ANNUAL?300:30)}}))})})]})]})]}),(0,j.jsx)("hr",{}),(0,j.jsx)("div",{className:"m-4 flex justify-end",children:(0,j.jsx)(o.m,{title:c.formatMessage({id:"teamsManageSeatsModal.continue",defaultMessage:"Continue"}),disabled:a===i,onClick:()=>{l()},color:"primary"})})]})}function ee(e){let{numSeats:t,initialSeats:n,renewalDate:a,handleUpdate:i,isUpdating:s,accountId:r}=e,c=(0,g.Z)(),{data:d,isError:u,isLoading:f}=(0,l.zu)(r,t);return f?(0,j.jsx)("div",{className:"flex items-center justify-center p-6",children:(0,j.jsx)(k.Z,{})}):!u&&d?(0,j.jsxs)("div",{className:"p-6",children:[(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"font-semibold",children:(0,j.jsx)(x.Z,{id:"teamsManageSeatsModal.additionalSeats",defaultMessage:"{additionalSeats} additional seats",values:{additionalSeats:t-n}})}),(0,j.jsx)("span",{className:"font-semibold",children:(0,j.jsx)(x.Z,{id:"teamsManageSeatsModal.additionalSeatsTotal",defaultMessage:"${totalCost}",values:{totalCost:(d.total_amount/100).toFixed(2)}})})]}),(0,j.jsx)("span",{className:"text-sm text-token-text-secondary",children:(0,j.jsx)(x.Z,{id:"teamsManageSeatsModal.proratedAmountMessage",defaultMessage:"Prorated amount until next billing cycle"})}),(0,j.jsx)("span",{className:"mt-4 flex flex-col bg-token-main-surface-secondary p-4 text-sm text-token-text-secondary",children:(0,j.jsx)(x.Z,{id:"teamsManageSeatsModal.chargeMessage",defaultMessage:"You will be charged for {numSeats} total seats at your next renewal on {date}",values:{numSeats:t,date:(0,j.jsx)(h.Ji,{value:a,year:"numeric",month:"long",day:"numeric"})}})}),(0,j.jsx)("hr",{className:"mt-4"}),(0,j.jsxs)("div",{className:"mt-4 flex justify-between",children:[(0,j.jsx)("span",{className:"font-semibold",children:(0,j.jsx)(x.Z,{id:"teamsManageSeatsModal.subTotal",defaultMessage:"Subtotal"})}),(0,j.jsx)("span",{children:(0,j.jsx)(x.Z,{id:"teamsManageSeatsModal.subtotalPrice",defaultMessage:"${totalCost}",values:{totalCost:(d.amount_excluding_tax/100).toFixed(2)}})})]}),(0,j.jsxs)("div",{className:"mt-2 flex justify-between",children:[(0,j.jsx)("span",{className:"font-semibold",children:(0,j.jsx)(x.Z,{id:"teamsManageSeatsModal.tax",defaultMessage:"Tax"})}),(0,j.jsx)("span",{children:(0,j.jsx)(x.Z,{id:"teamsManageSeatsModal.taxAmount",defaultMessage:"${tax}",values:{tax:(d.tax_amount/100).toFixed(2)}})})]}),(0,j.jsxs)("div",{className:"mt-2 flex justify-between",children:[(0,j.jsx)("span",{className:"font-semibold",children:(0,j.jsx)(x.Z,{id:"teamsManageSeatsModal.totalDueToday",defaultMessage:"Total due today"})}),(0,j.jsx)("span",{className:"font-semibold",children:(0,j.jsx)(x.Z,{id:"teamsManageSeatsModal.totalDueTodayAmount",defaultMessage:"${totalCost}",values:{totalCost:(d.total_amount/100).toFixed(2)}})})]}),(0,j.jsx)("hr",{className:"mt-4"}),(0,j.jsx)("div",{className:"mt-6 flex justify-end",children:(0,j.jsx)(o.m,{title:c.formatMessage({id:"teamsManageSeatsModal.payNow",defaultMessage:"Pay now"}),color:"primary",onClick:i,loading:s})})]}):void 0}let et={[G.FLEXIBLE]:{name:d.sY.flexiblePlanSelected,billed:{id:"teamManageSeatsModal.flexiblePlanBilled",defaultMessage:"Price billed monthly",description:"Summary billing of selected plan"},total:d.sY.flexiblePlanTotal},[G.ANNUAL]:{name:d.sY.annualPlanSelected,billed:{id:"teamManageSeatsModal.flexiblePlanBilled",defaultMessage:"Price billed annually",description:"Summary billing of selected plan"},total:d.sY.annualPlanTotal}};var en=n(30853);function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function es(e){let{numInUse:t,numAllocated:n,isTeam:a,subscriptionWillRenew:i,subscriptionBillingPeriod:s,accountId:r,subscriptionRenewalDate:l}=e,o=Math.max(n,t),c=Z.sB("3954884439")?.value,{0:d,1:u}=(0,p.useState)(!1),f=function(){u(!d)},m="monthly"===s?v.FLEXIBLE:v.ANNUAL;return(0,j.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"mt-1 text-left text-sm",children:(0,j.jsx)(x.Z,ei(ei({},ep.description),{},{values:{num:`${t}/${n}`}}))}),a&&i&&c&&(0,j.jsx)(I.z,{color:"secondary",className:"text-right",onClick:f,children:(0,j.jsx)(x.Z,{id:"components.business.NumSeats.manageSeats",defaultMessage:"Manage seats"})}),(0,j.jsx)(V,{isOpen:d,onClose:f,initialTeamBillingType:m,initialSeats:n,accountId:r,renewalDate:l})]}),(0,j.jsx)(o>10?er:em,{numInUse:t,numAllocated:n})]})}function er(e){let{numAllocated:t,numInUse:n}=e,a=(0,g.Z)(),i=n>t,s=i?100:n/t*100,r=i?t/n*100:100;return(0,j.jsx)("div",{className:(0,C.default)("relative w-full rounded-full",i?"bg-orange-500":"bg-token-main-surface-primary"),children:(0,j.jsxs)("div",{className:"relative h-4",style:{width:`${r}%`},children:[(0,j.jsx)("div",{className:(0,C.default)("h-4 overflow-hidden rounded-l-full bg-green-600",n===t&&"rounded-r-full"),style:{width:`${s}%`}}),n!==t&&i&&(0,j.jsx)("div",{className:"absolute right-0 top-[-3px] bg-token-main-surface-primary",children:(0,j.jsx)(en.u,{label:a.formatMessage(ep.dividerTooltip,{count:t}),children:(0,j.jsx)(el,{className:"px-1 py-0.5"})})})]})})}let el=e=>{let{className:t}=e;return(0,j.jsxs)("div",{className:(0,C.default)("flex flex-col gap-0.5",t),children:[(0,j.jsx)(ef,{}),(0,j.jsx)(ef,{}),(0,j.jsx)(ef,{}),(0,j.jsx)(ef,{})]})},eo=H.Z.div`h-4 w-4 rounded-full`,ec=(0,H.Z)(eo)`bg-green-600`,ed=(0,H.Z)(eo)`bg-token-main-surface-tertiary`,eu=(0,H.Z)(eo)`bg-orange-500`,ef=H.Z.span`w-[3px] h-[3px] bg-gray-400 dark:bg-gray-500 rounded-full`;function em(e){let{numAllocated:t,numInUse:n}=e,a=(0,g.Z)(),i=n>t,s=(0,p.useMemo)(()=>Array.from(Array(i?n:t).keys()),[i,t,n]);return(0,j.jsx)("div",{className:"flex items-center gap-2",children:s.map(e=>{let s=eu,r=null;return e<n&&!i?s=ec:e<t&&!i&&(s=ed),e===t-1&&(r=(0,j.jsx)(en.u,{label:a.formatMessage(ep.dividerTooltip,{count:t}),children:(0,j.jsx)(el,{})})),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(s,{},e),r]})})})}let ep=(0,h.vU)({dividerTooltip:{defaultMessage:"Your team has {count, plural, =0 {no seats} one {# seat} other {# seats}} purchased",id:"components.business.NumSeats.dividerTooltip"},description:{defaultMessage:"{num} seats in use",id:"components.business.NumSeats.description"}});var eg=n(8040),ex=n(84760);function eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ej(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let eb=(0,h.vU)({invoicesLoadError:{id:"organizationBillingInfo.invoicesLoadError.0",defaultMessage:"Failed to load invoices. Contact support@openai.com if error persists."}});function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ey(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ew(){let{data:e,isLoading:t,isError:n}=(0,l.ZP)(),a=(0,_.t)(),{0:i,1:s}=(0,p.useState)(!1);if(t)return(0,j.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,j.jsx)(k.Z,{})});if(n||!e||!a)return null;let r=null!=e.active_until,o=e?.seats_in_use>e?.seats_entitled;return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(eg.i9,{children:[(0,j.jsx)(eg.A4,{children:(0,j.jsx)(x.Z,ev({},e_.planTitle))}),(0,j.jsx)("hr",{}),(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(eg.i$,{children:a?.isEnterprise()?r?(0,j.jsx)(x.Z,ev({},e_.activeEnterpriseLicense)):a?.isResellerHosted()?(0,j.jsx)(x.Z,ev({},e_.resellerHostedEnterpriseLicense)):(0,j.jsx)(x.Z,ev({},e_.pendingEnterpriseLicense)):a?.isEdu()?r?(0,j.jsx)(x.Z,ev({},e_.activeEduLicense)):a?.isResellerHosted()?(0,j.jsx)(x.Z,ev({},e_.resellerHostedEduLicense)):(0,j.jsx)(x.Z,ev({},e_.pendingEduLicense)):r?e.non_profit_org_discount_applied?(0,j.jsx)(x.Z,ev({},e_.activeTeamLicenseNonProfitOrg)):(0,j.jsx)(x.Z,ev({},e_.activeTeamLicense)):(0,j.jsx)(x.Z,ev({},e_.pendingTeamLicense))}),null!=e.active_until&&(0,j.jsx)(eg.Li,{className:"mt-1",children:a?.isEnterprisey()?(0,j.jsx)(x.Z,ev(ev({},e_.licenseExpiry),{},{values:{expiryDate:new Date(e.active_until)}})):e.will_renew?(0,j.jsx)(x.Z,ev(ev({},e_.renewalDate),{},{values:{expiryDate:new Date(e.active_until)}})):(0,j.jsx)(x.Z,ev(ev({},e_.deactivateDate),{},{values:{expiryDate:new Date(e.active_until)}}))})]}),(0,j.jsx)(eM,{isOpen:i,onDropdownOpen:function(){s(!i)}})]}),(0,j.jsx)("hr",{}),r&&(0,j.jsxs)("div",{children:[(0,j.jsx)(eg.i$,{children:(0,j.jsx)(x.Z,ev({},e_.seatsTitle))}),(0,j.jsx)(eE,{isTeam:a?.isTeam()??!1,accountId:a.id}),a?.isTeam()&&o&&(0,j.jsxs)("span",{className:"text-sm text-token-text-secondary",children:[(0,j.jsx)(x.Z,ev({},e_.teamsAutochargeMessage)),(0,j.jsx)(B.Z,{className:"pl-1",openNewTab:!0,href:"https://help.openai.com/en/articles/8792536-manage-billing-on-the-chatgpt-team-subscription-plan",children:(0,j.jsx)(x.Z,ev({},e_.billingLearnMore))})]})]}),(0,j.jsx)("hr",{})]})})}function eM(e){let{isOpen:t,onDropdownOpen:n}=e,{0:a,1:i}=(0,p.useState)(!1),s=(0,T.useRouter)(),r=(0,g.Z)(),o=(0,_.t)(),{data:c}=(0,l.ZP)(),{0:d,1:f}=(0,p.useState)(!1),m=function(){f(!d)},{0:h,1:b}=(0,p.useState)(!1),y=function(){b(!h)},w=Z.sB("1318146997")?.value;if(!o||!o.isTeam()||!c)return;let P=async()=>{i(!0);try{let e=await N.Z.fetchCustomerPortalUrl(o?.getWorkspaceId());s.push(e.url)}catch(e){u.m.warning(r.formatMessage(e_.stripeErrorWarning),{hasCloseButton:!0})}finally{i(!1)}},O=c?.billing_period==="monthly"?v.FLEXIBLE:v.ANNUAL;return(0,j.jsxs)(L.d,{open:t,size:"default",triggerButton:(0,j.jsx)(I.z,{color:"secondary",onClick:n,icon:U.Tg4,children:(0,j.jsx)(x.Z,ev({},e_.manageLicenseBtn))}),children:[(0,j.jsx)(L.Z.Item,{icon:U.ciH,onClick:P,children:(0,j.jsx)(x.Z,ev({},e_.managePaymentMethod))}),c.will_renew&&w&&(0,j.jsx)(L.Z.Item,{icon:U.lDw,onClick:()=>{y()},children:(0,j.jsx)(x.Z,ev({},e_.manageBillingSchedule))}),null!=c.active_until&&(0,j.jsx)(M,{isOpen:h,onClose:y,initialTeamBillingType:O,renewalDate:new Date(c.active_until),accountId:o.id}),c?.will_renew&&(0,j.jsx)(L.Z.Separator,{}),c?.will_renew&&(0,j.jsx)(L.Z.Item,{icon:U.oOx,color:"danger",onClick:()=>{m()},children:(0,j.jsx)(x.Z,ev({},e_.cancelSubscriptionBtn))}),(0,j.jsx)(R,{isOpen:d,onClose:m})]})}function eP(e){let{invoice:t}=e,n=t?.status_transitions.paid_at!=null&&new Date(1e3*t.status_transitions.paid_at),a=t&&new Date(1e3*t.due_date),i=t&&new Date(1e3*t.created);return(0,j.jsxs)(eg.vi,{className:"items-center",children:[(0,j.jsxs)("div",{className:"flex grow flex-col gap-1",children:[(0,j.jsx)("span",{children:i?(0,j.jsx)(x.Z,ev(ev({},e_.invoiceName),{},{values:{createdDate:i}})):(0,j.jsx)(x.Z,ev({},e_.defaultInvoiceName))}),t?.paid&&null!=n?(0,j.jsx)("div",{className:"text-xs text-token-text-secondary",children:(0,j.jsx)(x.Z,ev(ev({},e_.paidInvoice),{},{values:{invoiceDate:n}}))}):t&&(0,j.jsx)("div",{className:"text-xs text-green-600",children:(0,j.jsx)(x.Z,ev(ev({},e_.upcomingInvoice),{},{values:{invoiceDate:a}}))})]}),(0,j.jsx)("a",{href:t?.hosted_invoice_url,className:(0,C.default)("mx-auto",t?.hosted_invoice_url==void 0&&"cursor-not-allowed opacity-20"),target:"_blank",rel:"noreferrer",children:(0,j.jsx)(U.Pfi,{className:"icon-sm text-green-600"})})]})}function eO(){let{0:e,1:t}=(0,p.useState)({limit:5}),{data:n,isError:a}=function(e){let t=(0,_.t)(),n=t?.id,a=t?.data.organizationId??void 0;return function(e,t){let n=(0,g.Z)();return(0,ex.a)({queryKey:["organization-invoices",ej(ej({},e),{},{options:t})],queryFn:async()=>await N.Z.getInvoices(e,t).catch(e=>{throw u.m.danger(n.formatMessage(eb.invoicesLoadError,{error:e.message})),e}),enabled:"account_id"in e||"organization_id"in e})}(t?.isEnterprisey()?{organization_id:a}:{account_id:n},e)}(e),i=null!=e.startingAfter||null!=e.endingBefore&&n?.has_more,s=null!=e.endingBefore||n?.has_more&&null==e.endingBefore;return a||null==n?(0,j.jsxs)(eg.i9,{children:[(0,j.jsx)(eg.A4,{children:(0,j.jsx)(x.Z,ev({},e_.invoicesTitle))}),(0,j.jsx)(D.Z,{children:(0,j.jsx)(x.Z,ev({},e_.noInvoices))})]}):(0,j.jsxs)(eg.i9,{children:[(0,j.jsx)(eg.A4,{children:(0,j.jsx)(x.Z,ev({},e_.invoicesTitle))}),(0,j.jsx)(eg.qQ,{children:n.data.map(e=>(0,j.jsx)(eP,{invoice:e},e.id))}),(0,j.jsxs)("div",{className:"flex",children:[i&&(0,j.jsx)("button",{onClick:()=>{n&&t(e=>ev(ev({},e),{},{endingBefore:n.data[0].id,startingAfter:void 0}))},children:(0,j.jsx)(U.DUf,{className:"icon-sm"})}),(0,j.jsx)("div",{className:"flex-grow"}),s&&(0,j.jsx)("button",{onClick:()=>{n&&t(e=>ev(ev({},e),{},{startingAfter:n.data[n.data.length-1].id,endingBefore:void 0}))},children:(0,j.jsx)(U.ob9,{className:"icon-sm"})})]})]})}function eE(e){let{isTeam:t,accountId:n}=e,{data:a,isLoading:i,isError:s}=(0,l.ZP)();return!s&&a&&!i&&a.billing_period&&a.active_until?(0,j.jsx)(es,{numInUse:a.seats_in_use,numAllocated:a.seats_entitled,isTeam:t,subscriptionWillRenew:a.will_renew,subscriptionBillingPeriod:a.billing_period,subscriptionRenewalDate:new Date(a.active_until),accountId:n}):null}function eN(){let e=(0,S.ec)(e=>e.currentWorkspace),t=e?.organizationId,n=(0,g.Z)();return void 0===t?null:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(s.yG,{title:n.formatMessage(e_.title),subtitle:n.formatMessage(e_.subtitle)}),(0,j.jsx)(s.hb,{children:(0,j.jsxs)(eg.$V,{children:[(0,j.jsx)(ew,{}),(0,j.jsx)(eO,{})]})})]})}let e_=(0,h.vU)({title:{id:"organizationBillingInfo.title.1",defaultMessage:"Billing"},subtitle:{id:"organizationBillingInfo.subtitle",defaultMessage:"Only workspace owners can view and change these settings"},planTitle:{id:"organizationBillingInfo.planTitle",defaultMessage:"Plan"},activeEnterpriseLicense:{id:"organizationBillingInfo.activeEnterpriseLicense",defaultMessage:"Enterprise License"},pendingEnterpriseLicense:{id:"organizationBillingInfo.pendingEnterpriseLicense",defaultMessage:"Enterprise License (pending activation)"},resellerHostedEnterpriseLicense:{id:"organizationBillingInfo.resellerHostedEnterpriseLicense",defaultMessage:"Enterprise License"},activeEduLicense:{id:"organizationBillingInfo.activeEduLicense",defaultMessage:"Edu License"},pendingEduLicense:{id:"organizationBillingInfo.pendingEduLicense",defaultMessage:"Edu License (pending activation)"},resellerHostedEduLicense:{id:"organizationBillingInfo.resellerHostedEduLicense",defaultMessage:"Edu License"},activeTeamLicense:{id:"organizationBillingInfo.activeTeamLicense",defaultMessage:"Team License"},activeTeamLicenseNonProfitOrg:{id:"organizationBillingInfo.activeTeamLicenseNonProfitOrg",defaultMessage:"Team License (Non Profit Discount)"},pendingTeamLicense:{id:"organizationBillingInfo.pendingTeamLicense",defaultMessage:"Team License (pending activation)"},licenseExpiry:{id:"organizationBillingInfo.licenseExpiry",defaultMessage:"Active until {expiryDate, date, long}"},renewalDate:{id:"organizationBillingInfo.renewalDate",defaultMessage:"Renews on {expiryDate, date, long}"},deactivateDate:{id:"organizationBillingInfo.deactivateDate",defaultMessage:"Deactivates on {expiryDate, date, long}"},seatsTitle:{id:"organizationBillingInfo.seatsTitle",defaultMessage:"Seats"},seatsInUse:{id:"organizationBillingInfo.seatsInUse",defaultMessage:"{numSeats} in use ({numSeatsPct})"},invoicesTitle:{id:"organizationBillingInfo.invoicesTitle",defaultMessage:"Invoices"},invoiceName:{id:"organizationBillingInfo.invoiceName",defaultMessage:"Invoice: {createdDate, date, long}"},defaultInvoiceName:{id:"organizationBillingInfo.defaultInvoiceName",defaultMessage:"Invoice"},paidInvoice:{id:"organizationBillingInfo.paidInvoice",defaultMessage:"Paid: {invoiceDate, date, long}"},upcomingInvoice:{id:"organizationBillingInfo.upcomingInvoice",defaultMessage:"Due: {invoiceDate, date, long}"},noInvoices:{id:"organizationBillingInfo.noInvoices",defaultMessage:"No invoices found"},manageSubscription:{id:"organizationBillingInfo.manageSubscription",defaultMessage:"Manage subscription"},cancelSubscriptionBtn:{id:"organizationBillingInfo.cancelSubscriptionBtn",defaultMessage:"Cancel subscription"},manageLicenseBtn:{id:"organizationBillingInfo.manageLicenseBtn",defaultMessage:"Manage license"},managePaymentMethod:{id:"organizationBillingInfo.managePaymentMethod",defaultMessage:"Payment method"},manageBillingSchedule:{id:"organizationBillingInfo.manageSchedule",defaultMessage:"Billing schedule"},stripeErrorWarning:{id:"organizationBillingInfo.stripeErrorWarning",defaultMessage:"Error loading account information"},teamsAutochargeMessage:{id:"organizationBillingInfo.teamsAutochargeMessage",defaultMessage:"Your additional seats will be included on your next invoice."},billingLearnMore:{id:"organizationBillingInfo.billingLearnMore",defaultMessage:"Learn more"}});var eS=!0;function eZ(){return(0,j.jsx)(eN,{})}eZ.getLayout=function(e){return(0,j.jsx)(s.ZP,{mobilePageTitle:"Billing",requireOwnerPrivileges:!0,children:e})}},32378:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var a=n(651);function i(){return(0,a.jsx)("hr",{className:"w-full border-token-border-xheavy"})}},8040:function(e,t,n){"use strict";n.d(t,{$V:function(){return i},A4:function(){return s},Li:function(){return c},W8:function(){return u},i$:function(){return r},i9:function(){return o},qQ:function(){return l},vi:function(){return d}});var a=n(15478);let i=a.Z.div`text-base text-token-text-primary flex flex-col gap-10 my-10`,s=a.Z.div`text-xl font-semibold`,r=a.Z.div`text-base font-semibold`,l=a.Z.div`flex flex-col divide-y divide-token-border-light border-y border-token-border-light`,o=a.Z.div`flex flex-col gap-3 w-full m-auto md:m-0`,c=a.Z.div`text-sm`,d=a.Z.div`flex justify-between py-4 gap-4`,u=a.Z.hr`max-w-xl border-token-border-light`},42606:function(e,t,n){"use strict";n.d(t,{I:function(){return s},o:function(){return r}});let a=["xlsx","pptx","docx"],i={"application/vnd.google-apps.spreadsheet":"xlsx","application/vnd.google-apps.presentation":"pptx","application/vnd.google-apps.document":"docx"};function s(e){return e?i[e.split(";")[0]]??null:null}function r(e){return e&&a.includes(e)?e:null}},84082:function(e,t,n){"use strict";n.d(t,{$e:function(){return s},EZ:function(){return r},Ql:function(){return i},dO:function(){return a},xC:function(){return l}});let a=10,i=4,s={duration:20,hasCloseButton:!0},r=512,l=536870912},93866:function(e,t,n){"use strict";n.d(t,{AJ:function(){return r},XX:function(){return o},xA:function(){return l}});var a,i,s=n(42606);let r=((a={})[a.None=0]="None",a[a.Multimodal=1]="Multimodal",a[a.Interpreter=2]="Interpreter",a[a.Retrieval=3]="Retrieval",a[a.ContextConnector=4]="ContextConnector",a[a.ProfilePicture=5]="ProfilePicture",a);function l(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:(0,s.o)(e.synthetic_extension),type:e.type}}let o=((i={}).Uploading="uploading",i.Ready="ready",i)},98628:function(e,t,n){"use strict";n.d(t,{E1:function(){return y},Sj:function(){return w},W7:function(){return x},cT:function(){return j},lU:function(){return b},po:function(){return h},sY:function(){return M}});var a=n(98601),i=n(99333),s=n(2721),r=n(92319),l=n(99976),o=n(61619),c=n(47584),d=n(88815),u=n(24740),f=n(66114);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let g={duration:20,hasCloseButton:!0};function x(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function h(e){return new Promise((t,n)=>{let a=new FileReader,i=new Image;a.onload=()=>{i.onload=()=>t(i),i.onerror=e=>n(e),i.src=a.result},a.readAsDataURL(e)})}async function j(e,t,n,a,c,f){let m=d.N.getState().resetRateLimits,x=i.EG.Initial;l.A.logEvent(o.M.uploadFileInitiated,{client:"web",useCase:a.kind,uploadEntry:"local"});let h=f.usesRetrievalIndex?performance.now():void 0;try{let{file_id:r,upload_url:d}=await s.Z.createFile(t.name,t.size,a,!!m);c.onFileCreated(e,r,d),x=i.EG.FileCreated;let j=a.kind===i.Ei.Gizmo?a.gizmoId:void 0,b=f.shouldUpdateProgress??!1,w=f.usesRetrievalIndex??!1,P={client:"web",useCase:a.kind,uploadEntry:"local",fileId:r,fileSize:t.size};l.A.logEvent(o.M.blobStoreUploadStarted,P);let O=await s.Z.uploadFileToAzureStorage(t,d,t=>{b&&c.onFileUploadProgress(e,10+80*t)});if(c.onFileUploadProgress(e,90),201!==O.status&&(l.A.logEvent(o.M.blobStoreUploadError,p(p({},P),{},{error_type_name:`HTTPStatus${O.status}`,error_msg:`HTTP status ${O.status}: ${O.statusText}`,error_stack:""})),v(O,r,w)),l.A.logEvent(o.M.blobStoreUploadCompleted,P),x=i.EG.FileUploaded,await s.Z.processFileUpload(r,{gizmoId:j}),x=i.EG.FileProcessed,f.usesRetrievalIndex){let t=await y(r,j);t?.status===i.Xf.Skipped&&u.m.danger(n.formatMessage(M.retrievalSkippedFile,{fileName:t.name}),g),c.onFileUploaded(e,r,void 0,{fileTokenSize:t.file_size_tokens}),x=i.EG.RetrievalIndexCreated}else c.onFileUploaded(e,r,f.imageDimensions);null!=h&&s.Z.postRetrievalTiming({e2eLatencyMs:performance.now()-h,type:"file"})}catch(s){w(n,t.name,s);let i="NotInstanceOfError";s instanceof r.gK?i=s.name:s instanceof r.Q0?i=`FatalServerError_type_${s.type??"undefined"}`:s instanceof Error?i=s.name:s instanceof r.vq&&(i=s.name),c.onError(e,"error",i,a,x)}}async function b(e,t,n,a,i){let{width:s,height:r}=await h(t);return j(e,t,n,{kind:a},i,{imageDimensions:{width:s,height:r}})}async function y(e,t){let n=Date.now()+6e4,a=e=>new Promise(t=>setTimeout(t,e)),l=0;for(;Date.now()<n;){let n=await s.Z.getRetrievalStatus(e,t);if(n.status===i.Xf.Success||n.status===i.Xf.Skipped)return n;if(n.status===i.Xf.Failed)throw new r.vq("Context extraction failed",n.error_code);l++,await a(Math.min(1e3,100*l))}throw new r.vq("Retrieval indexing timed out")}async function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a="Unknown error";try{a=await e.data}catch(e){}throw n&&s.Z.markFileUploadFailed(t,{error:a}),new r.vq("File upload to blobstore failed","failed_upload_to_blobstore")}function w(e,t,n){let a=(0,f.kr)(e,"default_upload_error",{fileName:t});n instanceof r.vq&&null!=n.code&&(a=(0,f.kr)(e,n.code)),u.m.danger(a,g)}let M=(0,c.vU)({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'}})},66114:function(e,t,n){"use strict";n.d(t,{$H:function(){return x},$p:function(){return S},Ad:function(){return L},B:function(){return k},BV:function(){return T},CO:function(){return Z},Iy:function(){return p},KL:function(){return N},L8:function(){return g},O6:function(){return b},Tu:function(){return I},VF:function(){return j},Vm:function(){return C},WI:function(){return B},YN:function(){return v},Z8:function(){return _},Zp:function(){return O},_0:function(){return P},kr:function(){return h},p0:function(){return E},s1:function(){return w},ww:function(){return y},xs:function(){return M}});var a=n(99333),i=n(16757),s=n(2721),r=n(86025),l=n(58695),o=n(82363),c=n(92379),d=n(49764),u=n(47584),f=n(24740),m=n(93866);function p(e){return e.replace("file-service://","")}function g(e){return"file-service://"+e}function x(e){return e.startsWith("file-service://")}function h(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage(D.fileZeroBytes,n);case"file_too_large":return e.formatMessage(D.fileTooLarge,n);case"over_user_quota":return e.formatMessage(D.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage(D.fileNotFound,n);case"file_timed_out":return e.formatMessage(D.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage(D.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage(D.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage(D.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage(D.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage(D.fileEmpty,n);case"too_many_tokens":return e.formatMessage(D.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage(D.fileEncrypted,n);case"file_corrupted":return e.formatMessage(D.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage(D.failedUploadToBlobStore,n);default:return e.formatMessage(D.unknownError)}}function j(){let e=(0,d.Z)();return(0,c.useCallback)((t,n)=>h(e,t,n),[e])}function b(){let{session:e}=(0,l.kP)(),{isUnauthenticated:t}=(0,r.u)(),n=(0,d.Z)();return async(i,r)=>{if(!t&&null==e)return f.m.danger(n.formatMessage(D.fileDownloadFailed)),!1;try{let e=await s.Z.getFileDownloadLink(i,void 0,t);if(e.status!==a.KF.Success)throw Error("File is not ready to download: "+JSON.stringify(e));let n=e.download_url,l=document.createElement("a");l.href=n,l.download=r,l.click(),window.open(n,"_blank")}catch(e){return f.m.danger(n.formatMessage(D.fileDownloadFailed)),!1}return!0}}function y(e,t){return t?.kind===i.OL.GizmoInteraction||t?.kind===i.OL.GizmoTest?t.gizmo?.product_features:e?.product_features}function v(e,t){let n=y(e,t);return n?.attachments?.type===a.Cd.CodeInterpreter?m.AJ.Interpreter:n?.attachments?.type===a.Cd.Multimodal?m.AJ.Multimodal:n?.attachments?.type===a.Cd.Retrieval?m.AJ.Retrieval:n?.attachments?.type===a.Cd.ContextConnector?m.AJ.ContextConnector:m.AJ.None}function w(e){return({md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp"})[e.split(".").pop()?.toLowerCase()??""]||""}function M(e,t,n,a,i){if(null==i)return e;let s=w(t);s&&(n=s),a&&(n=function(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}(n));let{accepted_mime_types:r,can_accept_all_mime_types:l}=i;return null!=r&&0!==r.length&&l?r.includes(n)?e:m.AJ.Interpreter:e}function P(e,t,n){let i=""!==t?t:w(n),s=e?.product_features?.attachments;return null==s?void 0:s.accepted_mime_types?.includes(i)?s.type:s.image_mime_types?.includes(i)?a.Cd.Multimodal:a.Cd.CodeInterpreter}function O(e,t){let n=y(e,t);return n?.attachments?.can_accept_all_mime_types?void 0:n?.attachments?.accepted_mime_types}function E(e,t){let{attachments:n}=y(e,t)??{};return n?.image_mime_types?n.image_mime_types:n?.type==="multimodal"?n.accepted_mime_types??N:[]}let N=["image/png","image/jpeg","image/gif","image/webp"];function _(e){return(0,c.useMemo)(()=>{if(void 0===e)return{};let t={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]};return{accept:e.reduce((e,n)=>(n in t?e[n]=t[n]:n.includes("/")&&(e[n]=[`.${n.split("/")[1]}`]),e),{})}},[e])}function S(e){return e.split(".").pop()?.toLowerCase()}function Z(e){let t=S(e);return null!=t&&["jpg","jpeg","png","gif","webp"].includes(t)}function C(e){let t=S(e);return null!=t&&["xls","xlsx","csv"].includes(t)}function T(e){let t=S(e);return null!=t&&["xls","xlsx"].includes(t)}function I(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fit";return new Promise((a,i)=>{let s=new FileReader;s.onerror=e=>{o.U.addError(Error("File reading has failed:",{cause:e})),i(Error("Failed to read the file."))},s.onload=s=>{let r=new Image;r.onerror=e=>{o.U.addError(Error("Image loading has failed:",{cause:e})),i(Error("Failed to load the image."))},r.onload=()=>{let s=document.createElement("canvas"),l,c=0,d=0;switch(n){case"fill":case"square":l=t/Math.min(r.width,r.height);break;case"fit":l=t/Math.max(r.width,r.height)}let u=r.width*l,f=r.height*l;"square"===n?(s.width=t,s.height=t,c=(t-u)/2,d=(t-f)/2):(s.width=u,s.height=f);let m=s.getContext("2d");if(null==m){o.U.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),i(Error("Failed to create canvas context."));return}m.drawImage(r,c,d,u,f);let p=e.type||"image/png";s.toBlob(t=>{t?a(new File([t],e.name,{type:p})):(o.U.addError("Blob creation failed. Blob is null."),i(Error("Failed to create blob from image data.")))},p)},null==s.target?(o.U.addError("Event target is null. Failed to load image."),i("Failed to load image.")):r.src=s.target.result},s.readAsDataURL(e)})}function B(e,t){return I(e,t,"square")}function k(e){let t=e.name.split("/")??[];return(t[t.length-1]??"").replace(/[-_]/g," ").split(".")[0]}function L(e,t){return t?e.slice(0,-t.length-1):e}let D=(0,u.vU)({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}})},88815:function(e,t,n){"use strict";n.d(t,{J:function(){return i},N:function(){return s}});var a=n(68810);let i={label:"Auto",value:""},s=(0,a.Ue)(()=>({forceParagen:!1,forceParagenModel:i,forceNulligen:!1,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:"The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",forceRateLimit:!1,resetRateLimits:!1,showDebugConversationTurns:!1,rebaseSystemMessageContent:null,forceUseSearch:null}))},60806:function(e,t,n){"use strict";function a(e){let t=Object.values(e);return e=>t.includes(e)}n.d(t,{b:function(){return a}})},51270:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/billing",function(){return n(29237)}])}},function(e){e.O(0,[4160,4198,5239,4089,6030,5592,3991,5113,4398,2349,4335,2745,2804,4993,4315,7005,3809,3127,8986,2888,9774,179],function(){return e(e.s=51270)}),_N_E=e.O()}]);
//# sourceMappingURL=billing-ed7121dd9a4a9bfe.js.map