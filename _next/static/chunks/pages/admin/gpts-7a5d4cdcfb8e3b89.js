(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8298,657],{78655:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return D},default:function(){return C}});var s=r(94521),a=r(70657),i=r(21904),n=r(62484),l=r(2377),o=r(93223),c=r(4702),d=r(35226),p=r(96053),u=r(19841),g=r(71126),f=r.n(g),m=r(72256),x=r(26123),b=r(25940),h=r(8735),j=r(94982),w=r(49868),y=r(24351),O=r(93322),v=r(651);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function S(e){let{title:t,description:r,children:s,upsellEnterprise:a=!1,className:i=""}=e;return(0,v.jsx)(n.E,{label:(0,v.jsx)(m.Z,P({},A.enterpriseRequiredMessage)),side:"top",sideOffset:4,disabled:!a,className:"max-w-5xl",children:(0,v.jsxs)(O.i9,{className:(0,u.default)(a&&"text-token-text-tertiary","max-w-4xl",i),children:[(0,v.jsxs)(O.A4,{className:"flex items-center gap-3",children:[(0,v.jsx)(m.Z,P({},t)),a&&(0,v.jsx)("span",{className:"rounded-xl bg-token-main-surface-tertiary px-2 pb-0.5 text-sm",children:(0,v.jsx)(m.Z,P({},A.enterpriseUpsellPill))})]}),r&&(0,v.jsx)(O.Li,{className:"py-2 text-token-text-secondary",children:(0,v.jsx)(m.Z,P({},r))}),s]})})}function N(e){var t;let{workspaceId:r,label:s,setting:a,defaultValue:i,values:n,disabled:l=!1}=e,c=(0,x.Z)(),u=(0,d.NL)(),{variables:g,mutate:f}=(0,p.D)({mutationFn:e=>{let{setting:t,value:s}=e;return o.Z.setWorkspaceShareSetting(r,t,s)},onSettled:()=>{u.invalidateQueries({queryKey:["workspace-settings"]}),u.invalidateQueries({queryKey:["workspace"]})},onError:()=>{j.m.danger(c.formatMessage(A.featureSettingsUpdateFailed))}});return(0,v.jsxs)(O.vi,{children:[(0,v.jsx)("p",{className:"text-md inline-flex items-center",children:(0,v.jsx)(m.Z,P({},s))}),(0,v.jsxs)(h.Z.Root,{defaultValue:null!==(t=null==g?void 0:g.value)&&void 0!==t?t:i,onValueChange:e=>{f({setting:a,value:e})},disabled:l,children:[(0,v.jsxs)(h.Z.Trigger,{className:"text-md focus-visible:border-none",children:[(0,v.jsx)(h.Z.Value,{}),(0,v.jsx)(h.Z.Icon,{})]}),(0,v.jsx)(h.Z.Portal,{children:(0,v.jsx)(h.Z.Content,{children:n.map((e,t)=>(0,v.jsx)(h.Z.Item,{className:"text-md",value:e.value,children:(0,v.jsx)(m.Z,P({},e.display))},t))})})]})]})}function M(e){var t;let{workspaceId:r,value:s,upsellEnterprise:a=!1}=e,n=(0,x.Z)(),l=(0,d.NL)(),{variables:c,mutate:u}=(0,p.D)({mutationFn:e=>{let{value:t}=e;return o.Z.setWorkspaceThirdPartyGPTSetting(r,t)},onSettled:()=>{l.invalidateQueries({queryKey:["workspace-settings"]})},onError:()=>{j.m.danger(n.formatMessage(A.featureSettingsUpdateFailed))}});return(0,v.jsxs)(h.Z.Root,{defaultValue:null!==(t=null==c?void 0:c.value)&&void 0!==t?t:s,onValueChange:e=>{u({value:e})},children:[(0,v.jsxs)(h.Z.Trigger,{className:"border border-token-border-light text-base focus-visible:border-token-border-light",children:[(0,v.jsx)(h.Z.Value,{}),(0,v.jsx)(h.Z.Icon,{})]}),(0,v.jsx)(h.Z.Portal,{children:(0,v.jsxs)(h.Z.Content,{children:[(0,v.jsx)(h.Z.Item,{className:"text-base",value:i.NN.ALLOW_ALL,children:(0,v.jsx)(m.Z,P({},A.allowAllOption))}),!a&&(0,v.jsx)(h.Z.Item,{className:"text-base",value:i.NN.ALLOW_SPECIFIC,children:(0,v.jsx)(m.Z,P({},A.ownerApprovedOnlyOption))}),(0,v.jsx)(h.Z.Item,{className:"text-base",value:i.NN.ALLOW_NONE,children:(0,v.jsx)(m.Z,P({},A.dontAllowOption))})]})})]})}function T(e){let{workspaceId:t,data:r}=e,s=(0,c.t)();if(null==s)return null;let a=s.isTeam(),n=(0,v.jsx)(S,{title:A.thirdPartyGPTsTitle,description:A.thirdPartyGPTsDescription,className:"border-b border-token-border-light pb-4",children:(0,v.jsx)("div",{children:(0,v.jsx)(M,{workspaceId:t,value:r.allow_third_party_gpts,upsellEnterprise:a})})}),l=(0,v.jsx)(S,{title:A.sidebarTitle,children:(0,v.jsx)(y.Z,{account:s,showThirdParty:!a&&r.allow_third_party_gpts===i.NN.ALLOW_SPECIFIC})});return(0,v.jsxs)(O.$V,{className:"max-w-5xl",children:[a&&n,a&&s.isOwnerOfAccount()&&l,a&&(0,v.jsx)(O.W8,{}),(0,v.jsx)(S,{title:A.sharingSettingsTitle,upsellEnterprise:a,children:(0,v.jsx)(O.qQ,{children:(0,v.jsx)(N,{workspaceId:t,label:A.gptSharingTitle,disabled:a,setting:i.bb.GPT_SHARE_SETTINGS,defaultValue:r.share_settings.gpt_share_setting,values:[{display:A.anyOneSelect,value:i.Gz.ANYONE},{display:A.workspaceMembersOnlySelect,value:i.Gz.WORKSPACE_ONLY},{display:A.inviteOnlySelect,value:i.Gz.NO_ONE}]})})}),(0,v.jsx)(S,{title:A.workspaceGPTsTitle,description:A.workspaceGPTsDescription,upsellEnterprise:a,children:(0,v.jsxs)(O.qQ,{children:[(0,v.jsx)(w.K,{label:A.browseOptionTitle,feature:i.Nh.BROWSING,value:r.beta_settings.browsing,workspaceId:t,tooltip:A.browseTooltip,disabled:a}),(0,v.jsx)(w.K,{label:A.customActionsOptionTitle,feature:i.Nh.WORKSPACE_GPT_CUSTOM_ACTIONS,value:r.beta_settings.workspace_gpt_custom_actions,workspaceId:t,tooltip:A.customActionsTooltip,disabled:a})]})}),!a&&n,!a&&s.isOwnerOfAccount()&&l]})}function Z(e){let{currentWorkspaceId:t}=e,{data:r,isLoading:s}=(0,l.C)(t),i=(0,x.Z)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f(),{children:(0,v.jsx)("title",{children:i.formatMessage(A.sidebarTitle)})}),(0,v.jsx)(a.yG,{title:i.formatMessage(A.sidebarTitle)}),(0,v.jsx)(a.hb,{showSpinner:s,children:void 0===r?null:(0,v.jsx)(T,{workspaceId:t,data:r})})]})}let A=(0,b.vU)({sidebarTitle:{id:"workspaceSettingsOld.sidebarTitle",defaultMessage:"GPTs"},allowAllOption:{id:"workspaceSettingsOld.allowAllOption",defaultMessage:"Allow all"},ownerApprovedOnlyOption:{id:"workspaceSettingsOld.ownerApprovedOnlyOption",defaultMessage:"Owner-approved only"},dontAllowOption:{id:"workspaceSettingsOld.dontAllowOption",defaultMessage:"Don't allow"},retentionPolicyTitle:{id:"workspaceSettingsOld.retentionPolicyTitle",defaultMessage:"Retention policy"},thirdPartyGPTsTitle:{id:"workspaceSettingsOld.thirdPartyGPTsTitle",defaultMessage:"Third-party"},thirdPartyGPTsDescription:{id:"workspaceSettingsOld.thirdPartyGPTsDescription",defaultMessage:"Manage whether members can use GPTs created outside your workspace."},customActionsTooltip:{id:"workspaceSettingsOld.customActionsTooltip",defaultMessage:"Allow GPTs to use third-party services for tasks such as finding flights. Actions are defined by GPT builders."},browseTooltip:{id:"workspaceSettingsOld.browseTooltip",defaultMessage:"Allow ChatGPT and GPTs to browse the internet to answer questions about recent topics and events."},customActionsOptionTitle:{id:"workspaceSettingsOld.pluginsOptionTitle.0",defaultMessage:"Custom actions"},browseOptionTitle:{id:"workspaceSettingsOld.browseOptionTitle",defaultMessage:"Browsing with Bing"},workspaceGPTsTitle:{id:"workspaceSettingsOld.workspaceGPTsTitle",defaultMessage:"Workspace"},appearanceTitle:{id:"workspaceSettingsOld.appearanceTitle",defaultMessage:"Appearance"},sharingSettingsTitle:{id:"workspaceSettingsOld.sharingSettingsTitle",defaultMessage:"Sharing"},gptSharingTitle:{id:"workspaceSettingsOld.gptSharingTitle",defaultMessage:"GPTs can be shared with..."},chatSharingTitle:{id:"workspaceSettingsOld.chatSharingTitle",defaultMessage:"Chats can be shared with..."},workspaceMembersOnlySelect:{id:"workspaceSettingsOld.workspaceMembersOnlySelect",defaultMessage:"Workspace members only"},anyOneSelect:{id:"workspaceSettingsOld.anyOneSelect",defaultMessage:"Anyone"},noOneSelect:{id:"workspaceSettingsOld.noOneSelect",defaultMessage:"No one"},inviteOnlySelect:{id:"workspaceSettingsOld.inviteOnlySelect",defaultMessage:"Invite only"},featureSettingsUpdateFailed:{id:"workspaceSettingsOld.featureSettingsUpdateFailed",defaultMessage:"Failed to update feature setting"},conversationRetention:{id:"workspaceSettingsOld.conversationRetention",defaultMessage:"Chat retention"},retentionInfinite:{id:"workspaceSettingsOld.retentionInfinite",defaultMessage:"Infinite"},retentionNinetyDays:{id:"workspaceSettingsOld.retentionNinetyDays",defaultMessage:"90 days"},retentionOneYear:{id:"workspaceSettingsOld.retentionOneYear",defaultMessage:"1 year"},retentionCustomDays:{id:"workspaceSettingsOld.retentionCustomDays",defaultMessage:"{num} days"},retentionChange:{id:"workspaceSettingsOld.retentionChange",defaultMessage:"Contact your account manager to change this setting."},workspaceGPTsDescription:{id:"workspaceSettingsOld.workspaceGPTsDescription",defaultMessage:"Manage which capabilities are available for GPTs built in your workspace or by ChatGPT. This does not apply to third-party GPTs."},enterpriseUpsellPill:{id:"workspaceSettingsOld.enterpriseUpsellPill",defaultMessage:"Enterprise"},retentionSettingTooltip:{id:"workspaceSettingsOld.retentionSettingTooltip",defaultMessage:"Contact your account manager to change this setting"},enterpriseRequiredMessage:{id:"workspaceSettingsOld.enterpriseRequiredMessage",defaultMessage:"Only workspaces with the Enterprise plan can change these settings"},shareRecipientTitlePrivate:{id:"workspaceSettingsOld.shareRecipientTitlePrivate",defaultMessage:"Private"},shareRecipientTitleLink:{id:"workspaceSettingsOld.shareRecipientTitleLink",defaultMessage:"Link"},shareRecipientTitlePublic:{id:"workspaceSettingsOld.shareRecipientTitlePublic",defaultMessage:"Public"}});function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}var D=!0;function C(e){return(0,v.jsx)(Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e))}C.getLayout=function(e){return(0,v.jsx)(a.ZP,{mobilePageTitle:"GPTs",requireOwnerPrivileges:!0,children:e})}},70657:function(e,t,r){"use strict";r.d(t,{hb:function(){return eb},yG:function(){return em},ZP:function(){return ep}});var s,a,i,n,l,o=r(41141),c=r(94521),d=r(21904),p=r(27084),u=r(50684),g=r(1e4),f=r(51022),m=r(81354),x=r(65530),b=r(18532),h=r(58543),j=r(92379),w=r(72349),y=r(26123),O=r(25940),v=r(33481),k=r(651);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N(e){let{onFileChange:t,className:r,message:s,mimeTypes:a}=e,i=(0,y.Z)(),n=null!=s?s:i.formatMessage(M.helpText),{open:l,getRootProps:o,getInputProps:c,isDragActive:d}=(0,w.uI)(S({disabled:!1,noClick:!0,onDropAccepted:e=>{if(e.length>0){let r=e[0];a&&a.includes(r.type)&&t(r)}},onDropRejected:()=>null,multiple:!1,maxSize:b.xC},(0,h.Z8)(a)));return(0,k.jsxs)("div",S(S({className:"flex flex-col content-center justify-center gap-3 rounded border border-dashed px-6 py-16 text-center"+(d?" border-green-600 bg-green-600 bg-opacity-10":"border-token-border-medium")+" "+(null!=r?r:"")},o()),{},{children:[(0,k.jsx)("input",S({},c())),(0,k.jsx)("div",{className:"text-center dark:text-white",children:(0,k.jsx)("div",{className:"inline-block",children:(0,k.jsx)(v.tCl,{})})}),(0,k.jsx)("div",{className:"text-center text-sm",children:n}),(0,k.jsx)("div",{className:"cursor-pointer text-center text-sm font-bold text-green-600",onClick:()=>{l()},children:i.formatMessage(M.openFilePicker)})]}))}let M=(0,O.vU)({helpText:{id:"FileUploadBox.helpText",defaultMessage:"Drop file here to upload"},openFilePicker:{id:"FileUploadBox.openFilePicker",defaultMessage:"Browse files"}});var T=r(8649),Z=r(23041),A=r(49217),E=r(61457),D=r(37234),C=r(94982),_=r(93223),F=r(55371),I=r(35226),G=r(96053),U=r(72256);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function B(e){var t,r;let{workspace:s}=e,{0:a,1:i}=(0,j.useState)(null!==(t=null==s?void 0:s.name)&&void 0!==t?t:""),{0:n,1:l}=(0,j.useState)(!1);!n&&s&&(l(!0),""==a&&i(null!==(r=null==s?void 0:s.name)&&void 0!==r?r:""));let{0:o,1:c}=(0,j.useState)(s.profilePictureUrl),{0:u,1:g}=(0,j.useState)(s.profilePictureId),f=(0,F.EV)(F.B.WorkspaceAppearance),b=(0,y.Z)(),{0:w,1:O}=(0,j.useState)(void 0);async function v(e){let t=await (0,h.WI)(e,2*p.EF.workspaceAvatarPreview),r=(0,D.W7)(t);O({tempId:r,file:t,status:E.XX.Uploading,progress:1,fileId:null,cdnUrl:null}),(0,D.lU)(r,t,b,d.Ei.ProfilePicture,{onFileCreated(e,t,r){O(s=>"initial"!==s&&(null==s?void 0:s.tempId)===e&&s.status===E.XX.Uploading?W(W({},s),{},{progress:10,fileId:t,cdnUrl:r}):s)},onFileUploadProgress(e,t){O(r=>"initial"!==r&&(null==r?void 0:r.tempId)===e&&r.status===E.XX.Uploading?W(W({},r),{},{progress:t}):r)},onFileUploaded(e,t,r){O(t=>"initial"!==t&&t&&t.cdnUrl&&t.tempId===e?(_.Z.getFileDownloadLink(t.fileId).then(e=>{e.status===d.KF.Success&&(g(t.fileId),c(e.download_url))}),W(W({},t),{},{status:E.XX.Ready,progress:100,fileSpec:W({name:t.file.name,id:t.fileId,size:t.file.size},null!=r?r:{})})):t)},onError(e){O(t=>{if("initial"!==t&&(null==t?void 0:t.tempId)===e){g(void 0),c(void 0),B(null);return}return t})}})}let P=function(e){let t=(0,I.NL)(),r=(0,y.Z)();return(0,G.D)({mutationFn:t=>{let{name:s,profilePictureId:a,profilePictureUrl:i}=t;return _.Z.patchWorkspace({workspaceId:e,name:s,profile_picture_id:a,profile_picture_url:i}).catch(e=>{C.m.danger(r.formatMessage(z.saveError,{error:e.message}))})},onSuccess:()=>{t.invalidateQueries({queryKey:["account-status"]})}})}(s.id),S=(0,k.jsx)(T.ZP.Button,{color:"primary",disabled:"initial"!==w&&void 0!==w&&w.status!==E.XX.Ready||"initial"!==w&&void 0!==w&&w.status===E.XX.Ready&&!o||P.isPending||0===a.trim().length,onClick:async()=>{P.mutate({name:a,profilePictureId:u,profilePictureUrl:o}),F.vm.closeModal(F.B.WorkspaceAppearance)},title:b.formatMessage(z.modalSubmit)}),M=(0,k.jsx)(T.ZP.Button,{onClick:()=>{O(void 0),g(s.profilePictureId),c(s.profilePictureUrl),F.vm.closeModal(F.B.WorkspaceAppearance)},title:b.formatMessage(z.modalCancel)}),{0:R,1:B}=(0,j.useState)(null);return(0,j.useEffect)(()=>{if("initial"!==w&&void 0!=w&&null==R){let e=new FileReader;e.addEventListener("load",()=>{let t=e.result;"string"==typeof t&&B(t)}),e.readAsDataURL(w.file)}},[w,R]),(0,k.jsxs)(A.Z,{isOpen:f,onClose:()=>F.vm.closeModal(F.B.WorkspaceAppearance),showCloseButton:!0,primaryButton:S,secondaryButton:M,type:"danger",title:b.formatMessage(z.modalTitle),children:[(0,k.jsxs)("div",{className:"mb-4 flex-wrap",children:[(0,k.jsx)("label",{htmlFor:"workspace-name",className:"block pb-1 font-semibold text-token-text-primary",children:(0,k.jsx)(U.Z,W({},z.workspaceName))}),(0,k.jsx)("p",{className:"font-base text-sm text-token-text-secondary",children:(0,k.jsx)(U.Z,W({},z.workspaceNameDescription))})]}),(0,k.jsx)("div",{className:"mb-4",children:(0,k.jsx)(x.Z,{type:"text",name:"workspace-name",value:a,onChange:e=>i(e.target.value),maxLength:64})}),(0,k.jsxs)("div",{className:"mb-4 flex-wrap",children:[(0,k.jsx)("label",{htmlFor:"workspace-avatar",className:"block pb-1 font-semibold text-token-text-primary",children:(0,k.jsx)(U.Z,W({},z.workspaceAvatar))}),(0,k.jsx)("p",{className:"font-base text-sm text-token-text-secondary",children:b.formatMessage(z.workspaceAvatarDescription,{size:2*p.EF.workspaceAvatarPreview})})]}),(0,k.jsxs)("div",{className:"mb-4 flex-wrap text-center",children:[o?(0,k.jsxs)("div",{className:"relative mb-3 inline-flex",children:[(0,k.jsx)(p.B0,{src:o,size:"workspaceAvatarPreview"}),(0,k.jsx)("div",{className:"absolute -right-1 -top-1",children:(0,k.jsx)(L,{onClick:()=>{g(null),c(null),O(void 0),B(null)}})})]}):void 0!=w&&"initial"!==w&&R?(0,k.jsx)("div",{className:"flex flex-col justify-center text-center",children:(0,k.jsxs)("div",{className:"relative mb-3 text-center",children:[(0,k.jsx)(p.B0,{src:URL.createObjectURL(w.file),size:"workspaceAvatarPreview"}),(0,k.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:(0,k.jsx)(m.Z,{percentage:w.progress,className:"h-6 w-6"})})]})}):(0,k.jsx)(N,{onFileChange:e=>{v(e)},mimeTypes:h.KL}),(0,k.jsx)(Z.Z,{children:b.formatMessage(z.propagationWarning)})]})]})}function L(e){let{onClick:t}=e;return(0,k.jsx)("div",{className:" flex h-6 w-6 cursor-pointer flex-row flex-wrap content-center justify-center rounded-full border-2 border-white bg-black text-white",onClick:t,children:(0,k.jsx)(v.tPq,{className:"h-3 w-3"})})}let z=(0,O.vU)({modalTitle:{id:"workspaceAppearanceModal.title",defaultMessage:"Workspace appearance"},modalSubmit:{id:"workspaceAppearanceModal.submit",defaultMessage:"Save"},modalCancel:{id:"workspaceAppearanceModal.cancel",defaultMessage:"Cancel"},workspaceName:{id:"workspaceAppearanceModal.workspaceName",defaultMessage:"Workspace name"},workspaceNameDescription:{id:"workspaceAppearanceModal.workspaceNameDescription",defaultMessage:"Update the name of the workspace."},workspaceAvatar:{id:"workspaceAppearanceModal.workspaceAvatar",defaultMessage:"Workspace image"},workspaceAvatarDescription:{id:"workspaceAppearanceModal.workspaceAvatarDescription",defaultMessage:"Upload a JPEG or PNG workspace image for your team. (Minimum {size}\xd7{size}px recommended.)"},propagationWarning:{id:"workspaceAppearanceModal.propagationWarning",defaultMessage:"Changes to the workspace name and image may take some time to take effect."},saveError:{id:"workspaceAppearanceModal.saveError",defaultMessage:"Failed to save workspace appearance"}});var X=r(62484),q=r(92187),K=r(4702),V=r(24040),Q=r(19841),Y=r(43128),$=r(74091),H=r(14910),J=r(55257),ee=r(5443),et=r(35746),er=r(55775);function es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?es(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):es(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ei(e){let{accountId:t,subscription:r}=e,s=(0,y.Z)(),a=(0,et.wK)(t),{0:i,1:n}=(0,j.useState)(!1),l=(0,er.Gk)(t),o=async()=>{n(!0);try{await a.mutateAsync(t)}catch(e){C.m.warning(s.formatMessage(en.errorRenewingSubscription),{hasCloseButton:!0})}finally{n(!1)}};return(0,k.jsx)("div",{className:"bg-token-main-surface-secondary",children:(0,k.jsxs)("div",{className:"mx-auto flex w-full max-w-5xl items-center justify-between px-2 py-4 md:px-6 lg:px-10 lg:py-6",children:[(0,k.jsxs)("div",{className:"mx-2 flex-grow md:mx-4",children:[(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)(J.FE,{className:"mr-4 hidden text-orange-500 md:block"}),(0,k.jsx)("p",{className:"text-lg font-semibold",children:(0,k.jsx)(U.Z,ea({},en.workspaceWillBeDeactivated))})]}),null!=r.active_until&&(0,k.jsx)("p",{className:"md:ml-8",children:(0,k.jsx)(U.Z,ea(ea({},en.retainAccessUntil),{},{values:{expiryDate:new Date(r.active_until)}}))})]}),l&&(0,k.jsx)(ee.z,{color:"primary",onClick:o,loading:i,children:(0,k.jsx)(U.Z,ea({},en.reactivateBtn))})]})})}let en=(0,O.vU)({retainAccessUntil:{id:"adminPage.retainAccessUntil",defaultMessage:"You will retain access to the workspace until the end of your billing cycle on {expiryDate, date, long}."},workspaceWillBeDeactivated:{id:"adminPage.workspaceWillBeDeactivated",defaultMessage:"This workspace will be deactivated."},reactivateBtn:{id:"adminPage.reactivateBtn",defaultMessage:"Reactivate"},errorRenewingSubscription:{id:"adminPage.errorRenewingSubscription",defaultMessage:"There was an error reactivating your subscription."}});function el(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?el(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ec(e){let{route:t,icon:r,name:s,upsellEnterprise:a=!1}=e,i=(0,Y.useRouter)();return a?(0,k.jsx)(X.u,{label:(0,k.jsx)(U.Z,eo({},eh.availableForEnterprise)),side:"right",children:(0,k.jsxs)(q.ZB,{$as:"button",className:(0,Q.default)("w-full rounded text-left","hover:bg-token-sidebar-surface-secondary"),children:[(0,k.jsx)(v.oVl,{className:"icon-sm shrink-0 text-token-text-secondary"}),(0,k.jsx)("span",{className:"text-token-text-secondary",children:(0,k.jsx)(U.Z,eo({},s))})]})}):(0,k.jsxs)(q.ZB,{$as:"button",className:(0,Q.default)("w-full rounded text-left hover:bg-token-sidebar-surface-secondary",i.route===t&&"bg-token-sidebar-surface-secondary"),onClick:e=>{i.push(t),e.stopPropagation()},children:[r,(0,k.jsx)(U.Z,eo({},s))]})}function ed(e){let{workspace:t,hasAdminPrivileges:r,hasOwnerPrivileges:s}=e,a=(0,Y.useRouter)(),i=(0,j.useCallback)(()=>{a.push("/")},[a]),n=(0,V.ec)(V.F_.isEnterprisePlan);return(0,k.jsxs)("nav",{className:"p-2",children:[(0,k.jsx)("div",{className:"mb-1 flex flex-row gap-2",children:(0,k.jsxs)(f.MP,{onClick:i,children:[(0,k.jsx)(H.Rp,{className:"icon-sm"}),(0,k.jsx)(U.Z,eo({},eh.backToChat))]})}),(0,k.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[(0,k.jsxs)("div",{className:"flex flex-col gap-2 rounded px-2 py-2 ".concat(s?"cursor-pointer hover:bg-token-main-surface-secondary":""),onClick:()=>{s&&F.vm.openModal(F.B.WorkspaceAppearance)},children:[(0,k.jsx)(p.B0,{size:"large",src:null==t?void 0:t.profilePictureUrl}),(0,k.jsxs)("div",{className:"align-center flex flex-row",children:[(0,k.jsx)("h2",{className:"flex-1 text-lg text-token-text-primary dark:text-white",children:null==t?void 0:t.name}),s?(0,k.jsx)("div",{className:"my-auto h-4 flex-initial align-middle dark:text-white",children:(0,k.jsx)(v.vdY,{className:"icon-sm opacity-70 hover:opacity-100"})}):null]})]}),(0,k.jsx)(ec,{route:"/admin",icon:(0,k.jsx)(v.yjj,{className:"icon-sm"}),name:eh.membersPageTitle}),n&&(0,k.jsx)(ec,{route:"/admin/groups",icon:(0,k.jsx)(v.wws,{className:"icon-sm"}),upsellEnterprise:!n,name:(0,O.Em)({id:"aecR1i",defaultMessage:"Groups"})}),s&&(0,k.jsx)(ec,{route:"/admin/billing",icon:(0,k.jsx)(v.ciH,{className:"icon-sm"}),name:eh.billing}),s&&(0,k.jsx)(ec,{route:"/admin/gpts",icon:(0,k.jsx)(v.frp,{className:"icon-sm"}),name:eh.gpts}),s&&(0,k.jsx)(ec,{route:"/admin/settings",icon:(0,k.jsx)(v.SWE,{className:"icon-sm"}),name:eh.settings}),!n&&(0,k.jsx)("span",{className:"mx-3 border-t border-y-token-border-medium"}),!n&&(0,k.jsx)(ec,{route:"/admin/groups",icon:(0,k.jsx)(v.wws,{className:"icon-sm"}),upsellEnterprise:!n,name:(0,O.Em)({id:"aecR1i",defaultMessage:"Groups"})}),r&&(0,k.jsx)(ec,{route:"/admin/analytics",icon:(0,k.jsx)(v.IeX,{className:"icon-sm"}),name:eh.analytics,upsellEnterprise:!n}),s&&(0,k.jsx)(ec,{route:"/admin/identity",upsellEnterprise:!n,icon:(0,k.jsx)(v.kaz,{className:"icon-sm"}),name:eh.identity})]})]})}function ep(e){var t;let{mobilePageTitle:r,requireAdminPrivileges:s=!1,requireOwnerPrivileges:a=!1,children:i}=e,n=(0,V.ec)(e=>e.currentWorkspace),l=(0,Y.useRouter)(),o=null!=n?(t=n.role)===d.r3.ADMIN||t===d.r3.OWNER:void 0,c=null!=n?n.role===d.r3.OWNER:void 0;return((0,j.useEffect)(()=>{s&&!1===o&&l.push("/admin"),a&&!1===c&&l.push("/admin")},[s,o,l,a,c]),null==(0,K.t)())?null:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(g.Z,{mobileHeaderContent:r,forceOpenDesktopSidebar:!0,sidebar:(0,k.jsx)(ed,{workspace:null!=n?n:void 0,hasAdminPrivileges:o,hasOwnerPrivileges:c}),children:i}),null==n?null:(0,k.jsx)(B,{workspace:n})]})}let eu=$.Z.div(s||(s=(0,o.Z)(["border-b border-token-main-surface-tertiary hidden md:block py-6 lg:py-10"]))),eg=$.Z.h2(a||(a=(0,o.Z)(["mx-auto w-full max-w-4xl px-2 md:px-6 lg:px-10"]))),ef=(0,$.Z)(eg)(i||(i=(0,o.Z)(["font-normal text-base text-token-text-secondary"])));function em(e){let{title:t,subtitle:r}=e,{data:s}=(0,et.ZP)(),a=(0,K.t)(),i=a&&s&&s.plan_type===d.D8.TEAM&&!s.will_renew;return(0,k.jsxs)(k.Fragment,{children:[i&&(0,k.jsx)(ei,{accountId:a.id,subscription:s}),(0,k.jsxs)(eu,{children:[(0,k.jsx)(eg,{children:t}),r&&(0,k.jsx)(ef,{children:r})]})]})}$.Z.p(n||(n=(0,o.Z)(["text-sm text-token-text-tertiary"])));let ex=$.Z.div(l||(l=(0,o.Z)(["max-w-4xl mx-auto w-full px-2 md:px-6 lg:px-10"])));function eb(e){let{children:t,showSpinner:r}=e,s=(0,K.t)(),a=(0,V.ec)(e=>e.currentWorkspace),i=!s||r;return(0,k.jsxs)(ex,{children:[i&&(0,k.jsx)("div",{className:"flex min-h-[80vh] items-center justify-center",children:(0,k.jsx)(u.Z,{})}),!i&&!a&&(0,k.jsx)("div",{className:"flex min-h-[80vh] items-center justify-center",children:(0,k.jsx)(U.Z,eo({},eh.workspaceNotFound))}),!i&&a&&t]})}let eh=(0,O.vU)({workspaceNotFound:{id:"adminPage.workspaceNotFound",defaultMessage:"Workspace not found"},backToChat:{id:"adminPage.backToChat",defaultMessage:"Back to chat"},membersPageTitle:{id:"adminPage.membersPageTitle",defaultMessage:"Members"},analytics:{id:"adminPage.analytics",defaultMessage:"Analytics"},billing:{id:"adminPage.billing.1",defaultMessage:"Billing"},gpts:{id:"adminPage.gpts",defaultMessage:"GPTs"},settings:{id:"adminPage.Settings",defaultMessage:"Settings"},identity:{id:"adminPage.identity.0",defaultMessage:"Identity & provisioning"},availableForEnterprise:{id:"adminPage.availableForEnterprise",defaultMessage:"Available for Enterprise plan"}})},49868:function(e,t,r){"use strict";r.d(t,{K:function(){return j}});var s=r(94521),a=r(62484),i=r(93223),n=r(35226),l=r(96053),o=r(26123),c=r(72256),d=r(25940),p=r(33481),u=r(65321),g=r(94982),f=r(93322),m=r(651);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(){return(0,m.jsx)(p.szr,{className:"icon-sm ml-1 text-token-text-tertiary"})}function j(e){var t;let{workspaceId:r,Icon:s,label:d,feature:p,value:x,tooltip:j,disabled:y=!1}=e,O=(0,o.Z)(),v=(0,n.NL)(),{variables:k,mutate:P}=(0,l.D)({mutationFn:e=>{let{feature:t,enabled:s}=e;return i.Z.setWorkspaceBetaFeature(r,t,s)},onSettled:()=>{v.invalidateQueries({queryKey:["workspace-settings"]})},onError:()=>{g.m.danger(O.formatMessage(w.featureSettingsUpdateFailed))}});return(0,m.jsxs)(f.vi,{className:"justify-start py-6",children:[(0,m.jsx)(u.wy,{label:"",disabled:y,enabled:null!==(t=null==k?void 0:k.enabled)&&void 0!==t?t:x,onChange:e=>{P({feature:p,enabled:e})}}),(0,m.jsxs)("p",{className:"text-md inline-flex items-center",children:[s&&(0,m.jsx)(s,{className:"icon-md mr-2"}),(0,m.jsx)(c.Z,b({},d)),j&&(0,m.jsx)(a.u,{sideOffset:4,interactive:!0,delayDuration:0,label:(0,m.jsx)(c.Z,b({},j)),side:"top",children:(0,m.jsx)(h,{})})]})]})}let w=(0,d.vU)({featureSettingsUpdateFailed:{id:"workspaceSettingsOld.featureSettingsUpdateFailed",defaultMessage:"Failed to update feature setting"}})},93322:function(e,t,r){"use strict";r.d(t,{$V:function(){return g},A4:function(){return f},Li:function(){return h},W8:function(){return w},i$:function(){return m},i9:function(){return b},qQ:function(){return x},vi:function(){return j}});var s,a,i,n,l,o,c,d,p=r(41141),u=r(74091);let g=u.Z.div(s||(s=(0,p.Z)(["text-base text-token-text-primary flex flex-col gap-10 my-10"]))),f=u.Z.div(a||(a=(0,p.Z)(["text-xl font-semibold"]))),m=u.Z.div(i||(i=(0,p.Z)(["text-base font-semibold"]))),x=u.Z.div(n||(n=(0,p.Z)(["flex flex-col divide-y divide-token-border-light border-y border-token-border-light"]))),b=u.Z.div(l||(l=(0,p.Z)(["flex flex-col gap-3 w-full m-auto md:m-0"]))),h=u.Z.div(o||(o=(0,p.Z)(["text-sm"]))),j=u.Z.div(c||(c=(0,p.Z)(["flex justify-between py-4 gap-4"]))),w=u.Z.hr(d||(d=(0,p.Z)(["max-w-xl border-token-border-light"])))},15888:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/gpts",function(){return r(78655)}])}},function(e){e.O(0,[6617,3656,6271,7349,3718,4368,317,2349,5582,6331,4984,8852,6463,210,4834,7126,8890,9511,0,5165,3969,6992,4099,6385,765,601,6229,766,9987,5720,2481,2888,9774,179],function(){return e(e.s=15888)}),_N_E=e.O()}]);
//# sourceMappingURL=gpts-7a5d4cdcfb8e3b89.js.map