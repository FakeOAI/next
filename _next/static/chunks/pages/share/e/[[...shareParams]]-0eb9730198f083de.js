(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6737],{58902:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return _},default:function(){return b}});var r=n(72438),i=n(23911),a=n(54025),o=n(59311),s=n(40806),c=n(71727),u=n(69677),l=n(20824),d=n(61236),f=n(82473);async function h(e){let{ids:t}=e,n=[];for(let e of t)n.push(["ids",e]);let r=new URLSearchParams(n),i=await fetch("".concat("https://chatgpt.com/backend-api","/public/plugins/by-id?").concat(r),{method:"GET",headers:{"Content-Type":"application/json"}});if(200===i.status)return i.json();throw Error("Failed to get plugins by id: "+i.status)}n(55466),n(83117),n(89932);var p=n(70079),y=n(35250);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=!0;function b(e){let t=e.sharedConversationId,{data:n,isError:r}=(0,d.a)({queryKey:["shared-conversation/".concat(t)],queryFn:()=>c.Z.getAuthedSharedConversation(t)}),{0:g}=(0,p.useState)(()=>(0,u.OX)()),{0:_,1:b}=(0,p.useState)(!1),v=(0,f.NL)();return(0,p.useEffect)(()=>{r&&(window.location.href=(0,s.M5)(s.LT.SHARE_NOT_FOUND))},[r]),(0,p.useEffect)(()=>{(async function(){if(n&&g){var e;let r=null!==(e=n.plugin_ids)&&void 0!==e?e:[];if(r.length>0){let e=await h({ids:r});v.setQueryData(e.items.map(e=>e.id),e)}u.tQ.initThreadFromServerData(g,n,!0,t),b(!0)}})()},[n,t,g,v]),_?e.continueMode?(0,y.jsx)(i.ZP,O(O({},e.chatPageProps),{},{clientThreadId:g})):(0,y.jsx)(l.gB.Provider,{value:{serverSharedThreadId:t,isIndexable:!1},children:(0,y.jsx)(a.Z,{clientThreadId:g,setClientThreadId:()=>{},initiallyHighlightedMessageId:null==n?void 0:n.highlighted_message_id,continueConversationUrl:null==n?void 0:n.continue_conversation_url})}):(0,y.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,y.jsx)(o.Z,{className:"text-token-text-tertiary"})})}},20711:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/share/e/[[...shareParams]]",function(){return n(58902)}])}},function(e){e.O(0,[5960,1741,6786,6753,3656,4736,4848,1378,9598,1978,2707,62,3445,2888,9774,179],function(){return e(e.s=20711)}),_N_E=e.O()}]);
//# sourceMappingURL=[[...shareParams]]-0eb9730198f083de.js.map