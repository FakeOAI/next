(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6964],{51516:function(e,t,r){"use strict";function n(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}r.d(t,{Z:function(){return n}})},17224:function(e,t,r){"use strict";function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}r.d(t,{Z:function(){return n}})},50327:function(e,t,r){"use strict";r.d(t,{qk:function(){return i},vh:function(){return s},yJ:function(){return n}});var n=6e4,s=36e5,i=1e3},70933:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(50327),s=r(51516),i=r(17224);function a(e,t){(0,s.Z)(1,arguments);var r,a,p,v=(0,i.Z)(null!==(r=null==t?void 0:t.additionalDigits)&&void 0!==r?r:2);if(2!==v&&1!==v&&0!==v)throw RangeError("additionalDigits must be 0, 1 or 2");if(!("string"==typeof e||"[object String]"===Object.prototype.toString.call(e)))return new Date(NaN);var h=function(e){var t,r={},n=e.split(o.dateTimeDelimiter);if(n.length>2)return r;if(/:/.test(n[0])?t=n[0]:(r.date=n[0],t=n[1],o.timeZoneDelimiter.test(r.date)&&(r.date=e.split(o.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length))),t){var s=o.timezone.exec(t);s?(r.time=t.replace(s[1],""),r.timezone=s[1]):r.time=t}return r}(e);if(h.date){var j=function(e,t){var r=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:null===i?s:100*i,restDateString:e.slice((n[1]||n[2]).length)}}(h.date,v);a=function(e,t){if(null===t)return new Date(NaN);var r,n,s=e.match(l);if(!s)return new Date(NaN);var i=!!s[4],a=d(s[1]),o=d(s[2])-1,c=d(s[3]),u=d(s[4]),m=d(s[5])-1;if(i)return u>=1&&u<=53&&m>=0&&m<=6?((r=new Date(0)).setUTCFullYear(t,0,4),n=r.getUTCDay()||7,r.setUTCDate(r.getUTCDate()+((u-1)*7+m+1-n)),r):new Date(NaN);var p=new Date(0);return o>=0&&o<=11&&c>=1&&c<=(f[o]||(g(t)?29:28))&&a>=1&&a<=(g(t)?366:365)?(p.setUTCFullYear(t,o,Math.max(a,c)),p):new Date(NaN)}(j.restDateString,j.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var b=a.getTime(),y=0;if(h.time&&isNaN(y=function(e){var t=e.match(c);if(!t)return NaN;var r=m(t[1]),s=m(t[2]),i=m(t[3]);return(24===r?0===s&&0===i:i>=0&&i<60&&s>=0&&s<60&&r>=0&&r<25)?r*n.vh+s*n.yJ+1e3*i:NaN}(h.time)))return new Date(NaN);if(h.timezone){if(isNaN(p=function(e){if("Z"===e)return 0;var t=e.match(u);if(!t)return 0;var r="+"===t[1]?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return i>=0&&i<=59?r*(s*n.vh+i*n.yJ):NaN}(h.timezone)))return new Date(NaN)}else{var x=new Date(b+y),w=new Date(0);return w.setFullYear(x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()),w.setHours(x.getUTCHours(),x.getUTCMinutes(),x.getUTCSeconds(),x.getUTCMilliseconds()),w}return new Date(b+y+p)}var o={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){return e?parseInt(e):1}function m(e){return e&&parseFloat(e.replace(",","."))||0}var f=[31,null,31,30,31,30,31,31,30,31,30,31];function g(e){return e%400==0||e%4==0&&e%100!=0}},13500:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return eo},default:function(){return el}});var n,s,i=r(94521),a=r(70657),o=r(41141),l=r(67165),c=r(4702),u=r(55371),d=r(37031),m=r(19841),f=r(61888),g=r(71126),p=r.n(g),v=r(43128),h=r(92379),j=r(72256),b=r(26123),y=r(25940),x=r(74091),w=r(5443),k=r(66246),M=r(99373),I=r(69482),Z=r(11823),P=r(93223),N=r(14816),O=r(35226),D=r(96053),C=r(94982);function E(e){let t=(0,b.Z)(),r=(0,O.NL)();return(0,D.D)({mutationFn:r=>{let{inviteId:n,role:s,acceptRequest:i}=r;return P.Z.patchWorkspaceInvite(e,n,{role:s,acceptRequest:i}).catch(e=>{C.m.danger(t.formatMessage(T.updateInviteError,{error:e.message}))})},onSuccess:()=>{r.invalidateQueries({queryKey:["workspace",e,"invites"]}),r.invalidateQueries({queryKey:["workspace",e,"invites","requests"]}),r.invalidateQueries({queryKey:["workspace",e]})}})}function R(e){let t=(0,b.Z)(),r=(0,O.NL)();return(0,D.D)({mutationFn:r=>{let{email:n}=r;return P.Z.deleteWorkspaceInvite(e,n).catch(e=>{C.m.danger(t.formatMessage(T.deleteInviteError,{email:n,error:e.message}))})},onSuccess:()=>{r.invalidateQueries({queryKey:["workspace",e,"invites"]}),r.invalidateQueries({queryKey:["workspace",e,"invites","requests"]})}})}let T=(0,y.vU)({updateInviteError:{id:"WorkspaceInvites.updateInviteError",defaultMessage:"Unable to update invite from workspace: {error}"},deleteInviteError:{id:"WorkspaceInvites.deleteInviteError",defaultMessage:"Unable to remove user ({email}) from workspace: {error}"},resendInviteSuccess:{id:"WorkspaceInvites.resendInviteSuccess",defaultMessage:"Sent a new invite to {email}"},resendInviteError:{id:"WorkspaceInvites.resendInviteError",defaultMessage:"Unable to resend invite to ({email}) from workspace: {error}"}});var q=r(98890),S=r(55775),U=r(651);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _(e){var t;let{workspaceId:r,filterInputValue:n}=e,{0:s,1:i}=(0,h.useState)(0),a=(0,S.Gk)(r),o=(0,S.bE)(r),l=a||o,{data:c}=(t=25*s,(0,N.a)({queryKey:["workspace",r,"invites",t,n],queryFn:async()=>await P.Z.getWorkspaceInvites(r,t,25,n)}));if(void 0===c)return(0,U.jsx)(q.bq,{});let u=c.items,d=Math.ceil(c.total/25);return s>=d&&0!==d&&i(Math.max(d-1,0)),(0,U.jsxs)("div",{children:[(0,U.jsxs)(I.Z.Root,{fixed:!0,size:"normal",children:[(0,U.jsxs)(I.Z.Header,{children:[(0,U.jsx)(I.Z.HeaderCell,{className:"bg-token-main-surface-primary",children:(0,U.jsx)(j.Z,W({},B.email))}),(0,U.jsx)(I.Z.HeaderCell,{className:"w-28 bg-token-main-surface-primary",children:(0,U.jsx)("span",{className:l?"pl-3":"",children:(0,U.jsx)(j.Z,W({},B.role))})}),l&&(0,U.jsx)(I.Z.HeaderCell,{className:"w-16 bg-token-main-surface-primary"})]}),(0,U.jsxs)(I.Z.Body,{children:[u.map(e=>(0,U.jsx)(A,{workspaceId:r,invite:e,isCurrentUserOwner:a,currentUserHasAdminRights:l},e.id)),0===u.length&&(0,U.jsx)(I.Z.Row,{children:(0,U.jsx)(I.Z.Cell,{children:(0,U.jsx)("div",{className:"text-token-text-tertiary",children:(0,U.jsx)(j.Z,W({},B.noResults))})})})]})]}),d>1&&(0,U.jsx)("div",{className:"mt-2 flex justify-center",children:(0,U.jsx)(Z.t,{currentPage:s,onChangeIndex:i,length:d})})]})}function A(e){let{workspaceId:t,invite:r,isCurrentUserOwner:n,currentUserHasAdminRights:s}=e,i=(0,S.Ap)(),a=E(t),o=R(t),l=function(e){let t=(0,b.Z)(),r=(0,O.NL)();return(0,D.D)({mutationFn:r=>{let{role:n,email:s}=r;return P.Z.addWorkspaceUsers(e,[s],n,!0).then(e=>{let{account_invites:r,errored_emails:n}=e;if(n.length>0)throw Error(n[0].error);r.length>0&&C.m.success(t.formatMessage(T.resendInviteSuccess,{email:s}))}).catch(e=>{C.m.danger(t.formatMessage(T.resendInviteError,{email:s,error:e.message}))})},onSuccess:()=>{r.invalidateQueries({queryKey:["workspace",e,"invites"]}),r.invalidateQueries({queryKey:["workspace",e,"invites","requests"]})}})}(t);return(0,U.jsxs)(I.Z.Row,{disabled:a.isPending||o.isPending||o.isSuccess||l.isPending,children:[(0,U.jsx)(I.Z.Cell,{children:r.email_address}),(0,U.jsx)(I.Z.Cell,{children:n?(0,U.jsx)(q.mJ,{currentRole:r.role,onUpdateUserRole:e=>{a.mutate({inviteId:r.id,role:e})}}):i[r.role]}),s&&(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(I.Z.Cell,{children:(0,U.jsx)(K,{onDeleteUser:()=>{o.mutate({email:r.email_address})},onResendInvite:()=>{l.mutate({email:r.email_address,role:r.role})}})})})]})}function K(e){let{onDeleteUser:t,onResendInvite:r}=e;return(0,U.jsxs)(l.Z.Root,{children:[(0,U.jsx)(l.Z.Trigger,{children:(0,U.jsx)(k.nWS,{className:"icon-sm"})}),(0,U.jsx)(l.Z.Portal,{children:(0,U.jsxs)(l.Z.Content,{children:[(0,U.jsx)(l.Z.Item,{onClick:r,children:(0,U.jsx)(j.Z,W({},B.resendInvite))}),(0,U.jsx)(l.Z.Item,{onClick:t,children:(0,U.jsx)(j.Z,W({},B.revokeInvite))})]})})]})}let B=(0,y.vU)({email:{id:"InviteManager.email",defaultMessage:"Email"},role:{id:"InviteManager.role",defaultMessage:"Role"},resendInvite:{id:"InviteManager.resendInvite",defaultMessage:"Resend invite"},revokeInvite:{id:"InviteManager.revokeInvite",defaultMessage:"Revoke invite"},noResults:{id:"InviteManager.noResults",defaultMessage:"No results"}});function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L(e){var t;let{workspaceId:r,filterInputValue:n}=e,{0:s,1:i}=(0,h.useState)(0),{data:a}=(t=25*s,(0,N.a)({queryKey:["workspace",r,"invites","requests",t,n],queryFn:async()=>await P.Z.getWorkspaceInviteRequests(r,t,25,n)})),o=(0,S.Gk)(r),l=(0,S.bE)(r),c=(0,b.Z)(),u=o||l;if(void 0===a)return(0,U.jsx)(q.bq,{});let d=a.items,m=Math.ceil(a.total/25);return s>=m&&0!==m&&i(Math.max(m-1,0)),(0,U.jsxs)("div",{children:[(0,U.jsxs)(I.Z.Root,{fixed:!0,size:"normal",children:[(0,U.jsxs)(I.Z.Header,{children:[(0,U.jsx)(I.Z.HeaderCell,{className:"bg-token-main-surface-primary",children:(0,U.jsx)(j.Z,H({},G.email))}),(0,U.jsx)(I.Z.HeaderCell,{className:"w-28 bg-token-main-surface-primary",children:(0,U.jsx)("span",{className:u?"pl-3":"",children:(0,U.jsx)(j.Z,H({},G.role))})}),u&&(0,U.jsx)(I.Z.HeaderCell,{className:"w-40 bg-token-main-surface-primary",children:c.formatMessage(G.actions)})]}),(0,U.jsxs)(I.Z.Body,{children:[d.map(e=>(0,U.jsx)(Q,{workspaceId:r,invite:e,isCurrentUserOwner:o,currentUserHasAdminRights:u},e.id)),0===d.length&&(0,U.jsx)(I.Z.Row,{children:(0,U.jsx)(I.Z.Cell,{children:(0,U.jsx)("div",{className:"text-token-text-tertiary",children:(0,U.jsx)(j.Z,H({},G.noResults))})})})]})]}),m>1&&(0,U.jsx)("div",{className:"mt-2 flex justify-center",children:(0,U.jsx)(Z.t,{currentPage:s,onChangeIndex:i,length:m})})]})}function Q(e){let{workspaceId:t,invite:r,isCurrentUserOwner:n,currentUserHasAdminRights:s}=e,i=(0,S.Ap)(),a=E(t),o=R(t),l=(0,b.Z)();return(0,U.jsxs)(I.Z.Row,{disabled:a.isPending||o.isPending||o.isPending,children:[(0,U.jsx)(I.Z.Cell,{children:r.email_address}),(0,U.jsx)(I.Z.Cell,{children:n?(0,U.jsx)(q.mJ,{currentRole:r.role,onUpdateUserRole:e=>{a.mutate({inviteId:r.id,role:e})}}):i[r.role]}),s&&(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(I.Z.Cell,{children:(0,U.jsxs)("div",{className:"flex gap-2",children:[(0,U.jsx)(w.z,{onClick:()=>a.mutate({inviteId:r.id,acceptRequest:!0}),children:l.formatMessage(G.accept)}),(0,U.jsx)(w.z,{color:"secondary",onClick:()=>o.mutate({email:r.email_address}),children:l.formatMessage(G.reject)})]})})})]})}let G=(0,y.vU)({email:{id:"RequestInviteManager.email",defaultMessage:"Email"},role:{id:"RequestInviteManager.role",defaultMessage:"Role"},actions:{id:"RequestInviteManager.actions",defaultMessage:"Actions"},accept:{id:"RequestInviteManager.accept",defaultMessage:"Accept"},reject:{id:"RequestInviteManager.reject",defaultMessage:"Reject"},noResults:{id:"RequestInviteManager.noResults",defaultMessage:"No results"}});var V=r(46129);function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Y=((n=Y||{}).Members="members",n.Invites="invites",n.Requests="requests",n);function X(e){let{tab:t}=e;switch(t){case Y.Members:return(0,U.jsx)(j.Z,$({},ei.allMembers));case Y.Invites:return(0,U.jsx)(j.Z,$({},ei.pendingInvites));case Y.Requests:return(0,U.jsx)(j.Z,$({},ei.pendingRequests))}}function ee(e){let{tab:t,filterInputValue:r,workspaceId:n}=e;switch(t){case Y.Members:return(0,U.jsx)(q.ZP,{workspaceId:n,filterInputValue:r});case Y.Invites:return(0,U.jsx)(_,{workspaceId:n,filterInputValue:r});case Y.Requests:return(0,U.jsx)(L,{workspaceId:n,filterInputValue:r})}}let et=(0,d.b)(Y);function er(e){var t;let{currentWorkspaceId:r}=e,n=(0,b.Z)(),s=(0,c.t)(),i=null!==(t=(0,q.p5)(r))&&void 0!==t?t:"?",o=(0,S.qH)(s),d=null==s?void 0:s.isTeam(),m=(0,v.useRouter)(),g="string"==typeof m.query.tab&&et(m.query.tab)?m.query.tab:Y.Members,{0:y,1:x}=(0,h.useState)(""),{0:I,1:Z}=(0,h.useState)("");(0,h.useEffect)(()=>{Z("")},[g]);let P=(0,h.useCallback)((0,f.debounce)(e=>{Z(e)},250),[]),N=(0,V.Wv)();if(!s)return null;let O=s.isAdminOfAccount(),D=s.isOwnerOfAccount(),C=d||!N?[Y.Members,Y.Invites]:[Y.Members,Y.Invites,Y.Requests];return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(p(),{children:(0,U.jsx)("title",{children:n.formatMessage(ei.adminBrowserPageTitle)})}),(0,U.jsx)(a.yG,{title:n.formatMessage(ei.adminPageTitle),subtitle:(0,U.jsx)(j.Z,$({values:{totalMembers:i,planName:o}},ei.totalMembers))}),(0,U.jsxs)(a.hb,{children:[(0,U.jsxs)(es,{children:[(0,U.jsx)("div",{className:"mb-6 flex gap-2",children:C.map(e=>(0,U.jsx)(en,{onClick:()=>{m.push(null!=e?"/admin?tab=".concat(e):"/admin")},isSelected:g===e,children:(0,U.jsx)(X,{tab:e})},e))}),(0,U.jsxs)("div",{className:"flex gap-2",children:[(0,U.jsxs)("div",{className:"relative",children:[(0,U.jsx)(k.W1M,{className:"icon-sm absolute left-2 top-1/2 -translate-y-1/2 transform text-token-text-tertiary"}),(0,U.jsx)("input",{type:"text",value:y,onChange:e=>{x(e.target.value),P(e.target.value)},placeholder:n.formatMessage(ei.search),className:"w-48 rounded-lg border border-token-border-light bg-token-main-surface-primary pl-8 placeholder:text-token-text-tertiary"})]}),(O||D||d)&&(0,U.jsx)(w.z,{onClick:()=>{u.vm.openModal(u.B.InviteUsersToWorkspace)},icon:k.Vz5,children:(0,U.jsx)(j.Z,$({},ei.inviteMemberButton))}),d?(0,U.jsx)(l.d,{triggerButton:(0,U.jsx)(w.z,{color:"secondary",icon:k.nWS}),children:(0,U.jsx)(l.Z.Item,{onClick:()=>{s&&u.vm.setLeaveWorkspaceData(s)},children:(0,U.jsx)(j.Z,$({},ei.leaveWorkspace))})}):null]})]}),(0,U.jsx)(ee,{workspaceId:r,tab:g,filterInputValue:I})]}),null!=s?(0,U.jsx)(M.Z,{workspace:s}):null]})}function en(e){let{children:t,isSelected:r,onClick:n}=e;return(0,U.jsx)(w.z,{color:"ghost",className:(0,m.default)(r?"bg-token-main-surface-tertiary":"hover:bg-token-main-surface-tertiary"),onClick:n,children:t})}let es=x.Z.div(s||(s=(0,o.Z)(["mb-4 py-6 flex flex-col gap-4 lg:flex-row md:items-start lg:justify-between"]))),ei=(0,y.vU)({adminBrowserPageTitle:{id:"adminPage.adminBrowserPageTitle",defaultMessage:"ChatGPT - Member admin"},adminPageTitle:{id:"adminPage.adminPageTitle.0",defaultMessage:"Members"},workspaceNotFound:{id:"adminPage.workspaceNotFound",defaultMessage:"Workspace not found"},totalMembers:{id:"adminPage.totalMembers",defaultMessage:"{planName} \xb7 {totalMembers} {totalMembers, plural, one {member} other {members}}"},backToChat:{id:"adminPage.backToChat",defaultMessage:"Back to chat"},allMembers:{id:"adminPage.allMembers",defaultMessage:"All members"},pendingInvites:{id:"adminPage.pendingInvites",defaultMessage:"Pending invites"},pendingRequests:{id:"adminPage.pendingRequests",defaultMessage:"Pending requests"},analytics:{id:"adminPage.analytics",defaultMessage:"Analytics"},inviteMemberButton:{id:"adminPage.inviteMemberButton",defaultMessage:"Invite member"},leaveWorkspace:{id:"adminPage.leaveWorkspace",defaultMessage:"Leave workspace"},search:{id:"adminPage.search",defaultMessage:"Search"}});function ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var eo=!0;function el(e){return(0,U.jsx)(er,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ea(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e))}el.getLayout=function(e){return(0,U.jsx)(a.ZP,{mobilePageTitle:"Members",children:e})}},46129:function(e,t,r){"use strict";r.d(t,{Bd:function(){return h},DD:function(){return y},Fc:function(){return b},Ji:function(){return v},OR:function(){return x},Wv:function(){return p},f_:function(){return g},sd:function(){return k},z0:function(){return w}});var n,s=r(41141),i=r(21904),a=r(94982),o=r(93223),l=r(24040),c=r(14816),u=r(96053),d=r(35226),m=r(26123),f=r(25940);function g(e,t){return(0,c.a)({queryKey:["workspace/identity",e],queryFn:async()=>{if(void 0!==e)return await o.Z.getWorkspaceIdentitySettings(e)},enabled:t})}function p(){let e=(0,l.ec)(l.F_.workspaceId),{data:t}=g(null!=e?e:void 0,null!=e);return(null==t?void 0:t.domains)&&(null==t?void 0:t.domains.filter(e=>"verified"==e.status))}function v(e){let t=(0,m.Z)();return(0,u.D)({mutationFn:r=>{let{shouldAutoProvision:n}=r;return o.Z.setWorkspaceShouldAutoProvision(e,n).then(e=>{let r=n?M.autoProvisionEnabledToast:M.autoProvisionDisabledToast;return a.m.success(t.formatMessage(r),{duration:3}),e}).catch(e=>{throw a.m.danger(e.message),e})}})}function h(e){let t=(0,d.NL)();return(0,u.D)({mutationFn:t=>{let{domainId:r}=t;return o.Z.removeDomainFromWorkspace(e,r)},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]}),t.refetchQueries({queryKey:["builderProfile"]})}})}function j(e){let t=e;return t.startsWith("-----BEGIN")||(t="-----BEGIN CERTIFICATE-----\n".concat(t)),t.endsWith("CERTIFICATE-----")||(t="".concat(t,"\n-----END CERTIFICATE-----")),t}function b(e){let t=(0,d.NL)();return(0,u.D)({mutationFn:t=>{let{signInEndpoint:r,cert:n}=t;return o.Z.createSAMLConnection(e,r,j(n))},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function y(e){let t=(0,d.NL)();return(0,u.D)({mutationFn:t=>{let{connectionId:r,signInEndpoint:n,cert:s,active:i,enforcedClients:a}=t;return o.Z.updateSAMLConnection(e,r,{signInEndpoint:n,cert:void 0!==s?j(s):void 0,active:i,enforcedClients:a})},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function x(e){let t=(0,d.NL)();return(0,u.D)({mutationFn:t=>{let{connectionId:r}=t;return o.Z.deleteSAMLConnection(e,r)},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}let w=r(74091).Z.div(n||(n=(0,s.Z)(["text-md mb-4 text-token-text-secondary"]))),k={[i.pT.VERIFIED]:(0,f.Em)({id:"i7FkyS",defaultMessage:"Verified"}),[i.pT.PENDING]:(0,f.Em)({id:"THBv/l",defaultMessage:"Pending"}),[i.pT.EXPIRED]:(0,f.Em)({id:"+sjWGK",defaultMessage:"Expired"})},M=(0,f.vU)({autoProvisionEnabledToast:{id:"workspaceIdentity.autoProvisionEnabledToast",defaultMessage:"Auto provisioning enabled for this workspace"},autoProvisionDisabledToast:{id:"workspaceIdentity.autoProvisionDisabledToast",defaultMessage:"Auto provisioning disabled for this workspace"}})},42506:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return r(13500)}])}},function(e){e.O(0,[7349,6271,3718,4368,2349,1353,7126,0,5165,8890,657,2888,9774,179],function(){return e(e.s=42506)}),_N_E=e.O()}]);
//# sourceMappingURL=admin-824a1c044d27e452.js.map