(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6161],{37162:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var a=r(98601),s=r(9901),n=r(59144),c=r(50454),i=r(24740),o=r(16351),l=r(2721),d=r(93951),u=r(31438),p=r(31498),f=r(69769),x=r(91530),m=r.n(x),b=r(34977),h=r(92379),j=r(75172),v=r(62984),g=r(68306),k=r(59725),w=r(32378),y=r(24434),O=r(60211),N=r(651);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function W(){var e;let t=(0,p.aF)(),r=(0,d.t)(),{data:a}=(0,d.rk)(),{0:x,1:g}=(0,h.useState)(!1),P=(0,b.useRouter)(),W=null==a?void 0:a.accountItems,M=(0,O.p5)(null!==(e=null==r?void 0:r.id)&&void 0!==e?e:""),C=null==r?void 0:r.id,D=null==W?void 0:W.find(e=>e.id===C),A=(null==r?void 0:r.isOwnerOfAccount())&&r.isTeam()&&!r.hasPaidSubscription(),T=(null==r?void 0:r.isOwnerOfAccount())&&r.isTeam()&&r.hasPaidSubscription(),_=null==W?void 0:W.filter(e=>!e.isDeactivated()),E=(0,j.Z)(),R=(0,h.useCallback)(()=>{g(!0),u.vm.setPurchaseWorkspaceData({minimumSeats:Math.max(M,c.Y6),existingAccount:D}),g(!1)},[M,D]),B=async()=>{g(!0);try{let e=await l.Z.fetchCustomerPortalUrl();P.push(e.url),g(!1)}catch(e){g(!1),i.m.warning(E.formatMessage(Z.unableToOpenStripeDashboard),{hasCloseButton:!0})}};return null!=r&&D&&_?(0,N.jsx)(y.Z,{type:"success",onClose:m(),isOpen:null!=r||null!=a,title:(0,N.jsx)("span",{className:"text-lg",children:(0,N.jsx)(v.Z,S({},Z.workspaceDeactivated))}),children:(0,N.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,N.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,N.jsx)(k.B0,{src:D.data.profilePictureUrl,size:"large"}),(0,N.jsx)("div",{className:"font-semibold",children:D.data.name})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"mb-2 text-base font-bold",children:(0,N.jsx)(v.Z,S({},Z.workspaceDeactivated))}),(0,N.jsxs)("ul",{className:"list-disc pl-5",children:[(0,N.jsx)("li",{className:"mb-1",children:(0,N.jsx)(v.Z,S({},Z.chatHistoryUnavailable))}),(0,N.jsx)("li",{children:(0,N.jsx)(v.Z,S({},Z.otherWorkspacesAvailable))})]})]}),A&&(0,N.jsxs)("div",{className:"flex w-full flex-col",children:[(0,N.jsx)("p",{children:(0,N.jsx)(v.Z,S({},Z.purchaseNewSubscription))}),(0,N.jsx)(n.m,{className:"m-auto mt-2 w-full",loading:x,onClick:R,children:(0,N.jsx)(v.Z,S({},Z.purchaseNewSubscriptionButton))})]}),T&&(0,N.jsxs)("div",{className:"flex w-full flex-col",children:[(0,N.jsx)("p",{children:(0,N.jsx)(v.Z,S({},Z.resolveOutstandingInvoice))}),(0,N.jsx)(n.m,{className:"m-auto mt-2 w-full",loading:x,onClick:B,children:(0,N.jsx)(v.Z,S({},Z.manageSubscriptionButton))})]}),(0,N.jsx)(w.b,{}),(0,N.jsx)("div",{className:"w-full justify-center",children:_.length>0?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h3",{className:"mb-2 text-base font-bold",children:(0,N.jsx)(v.Z,S({},Z.selectWorkspace))}),(0,N.jsx)(s.b,{data:_})]}):(0,N.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,N.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,N.jsx)("h3",{className:"text-base font-bold",children:(0,N.jsx)(v.Z,S({},Z.createPersonalWorkspace))}),(0,N.jsx)(v.Z,S({},Z.deactivatedWorkspaceReason))]}),(0,N.jsxs)("div",{className:"flex w-full items-center gap-4",children:[t&&t.picture&&(0,N.jsx)("img",{alt:"Profile",src:t.picture,width:k.EF.workspaceMedium,height:k.EF.workspaceMedium,className:"flex items-center justify-center rounded-sm"}),(0,N.jsx)("span",{className:"font-semibold",children:t&&(0,N.jsx)("span",{children:t.name})})]}),(0,N.jsx)("div",{className:"ml-auto",children:(0,N.jsx)(n.m,{title:E.formatMessage(Z.createPersonalWorkspaceButton),loading:x,onClick:async()=>{g(!0),await l.Z.upsertPersonalWorkspace(),(0,d.eV)(o.bC),(0,f.M)()},color:"primary",className:"ml-4"})})]})})]})}):(0,N.jsx)(N.Fragment,{})}let Z=(0,g.vU)({workspaceDeactivated:{id:"deactivatedWorkspaceModal.workspaceDeactivated",defaultMessage:"Your workspace has been deactivated"},workspaceDeactivatedDesc:{id:"deactivatedWorkspaceModal.workspaceDeactivatedDesc",defaultMessage:"Your workspace has been deactivated."},chatHistoryUnavailable:{id:"deactivatedWorkspaceModal.chatHistoryUnavailable",defaultMessage:"Your chat history and settings will not be available."},otherWorkspacesAvailable:{id:"deactivatedWorkspaceModal.otherWorkspacesAvailable",defaultMessage:"You will still be able to use ChatGPT with the other workspaces associated with this email address."},selectWorkspace:{id:"deactivatedWorkspaceModal.selectWorkspace",defaultMessage:"Select a workspace to continue"},createPersonalWorkspace:{id:"deactivatedWorkspaceModal.createPersonalWorkspace",defaultMessage:"Create a personal workspace to continue"},deactivatedWorkspaceReason:{id:"deactivatedWorkspaceModal.deactivatedWorkspaceReason",defaultMessage:"Because your workspace has been deactivated, you need to create a personal workspace to continue using ChatGPT."},profileAlt:{id:"deactivatedWorkspaceModal.profileAlt",defaultMessage:"Profile"},createPersonalWorkspaceButton:{id:"deactivatedWorkspaceModal.createPersonalWorkspaceButton",defaultMessage:"Create a personal workspace"},unableToOpenStripeDashboard:{id:"deactivatedWorkspaceModal.unableToOpenStripeDashboard",defaultMessage:"Unable to open Stripe dashboard"},purchaseNewSubscription:{id:"deactivatedWorkspaceModal.purchaseNewSubscription",defaultMessage:"You can reactivate your workspace by purchasing a new subscription."},purchaseNewSubscriptionButton:{id:"deactivatedWorkspaceModal.purchaseNewSubscriptionButton",defaultMessage:"Purchase subscription"},resolveOutstandingInvoice:{id:"deactivatedWorkspaceModal.resolveOutstandingInvoice",defaultMessage:"You can reactivate your workspace by resolving an outstanding invoice on your subscription."},manageSubscriptionButton:{id:"deactivatedWorkspaceModal.manageSubscriptionButton",defaultMessage:"Manage subscription"}});function M(){let e=(0,p.ec)(p.F_.workspaces),t=(0,d.t)(),r=(0,p.ec)(p.F_.workspaceId),a=e.find(e=>e.id===r),s=(0,b.useRouter)();return((0,h.useEffect)(()=>{null==t||!t.data||a&&a.deactivated||s.push("/")},[t,a,s]),null==t||!t.data||a&&a.deactivated)?(0,N.jsx)(W,{}):(0,N.jsx)("div",{})}},32378:function(e,t,r){"use strict";r.d(t,{b:function(){return s}});var a=r(651);function s(){return(0,a.jsx)("hr",{className:"w-full border-token-border-xheavy"})}},9901:function(e,t,r){"use strict";r.d(t,{Z:function(){return W},b:function(){return S}});var a=r(98601),s=r(99333),n=r(93951),c=r(82821),i=r(31498),o=r(69769),l=r(42420),d=r(19841),u=r(91530),p=r.n(u),f=r(92379),x=r(75172),m=r(62984),b=r(68306),h=r(59725),j=r(30478),v=r(97537),g=r(77748),k=r(24434),w=r(44087),y=r(651);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function P(e){let{workspace:t}=e,r=(0,l.NL)(),a=(0,i.aF)(),u=(0,n.t)(),b=(null==u?void 0:u.id)===t.id,{0:k,1:O}=(0,f.useState)(!1),P=(0,c.b)(),S=(0,x.Z)(),W=(0,f.useCallback)(async()=>{O(!0);let{willRedirect:e}=(0,n.nq)(r,t.id,P,S);j._P.enableHistory(),e||(0,o.M)()},[r,t.id,P,S]),M=(0,w.GA)(t),C=(0,y.jsx)("div",{className:"flex items-center justify-center",children:(0,y.jsx)(h.B0,{src:t.data.profilePictureUrl,size:"medium"})});if(t.structure===s.CZ.PERSONAL){if(!a)return null;C=(0,y.jsx)("div",{className:"flex items-center justify-center",children:(0,y.jsx)(h.Yt,{user:a,customStyle:!0,size:h.EF.workspaceMedium,className:"h-9 w-9 overflow-hidden rounded-full"})})}return(0,y.jsxs)(b?"div":"button",{onClick:b?p():W,className:(0,d.default)({"flex w-full items-center gap-2 rounded-lg border border-token-border-medium bg-token-main-surface-primary p-4 hover:bg-token-main-surface-secondary":!0,"bg-token-sidebar-surface-secondary":b,"opacity-50":!t.canAccessWithCurrentSession}),children:[(0,y.jsxs)("div",{className:"flex w-full items-center gap-4",children:[C,(0,y.jsxs)("div",{className:"inline text-left align-top font-semibold",children:[(0,y.jsx)("p",{children:M}),!t.canAccessWithCurrentSession&&(0,y.jsx)("p",{className:"leading-4",children:(0,y.jsx)("small",{className:"text-token-text-secondary",children:(0,y.jsx)(m.Z,N({},t.ssoConnectionName?Z.authenticateWithSSOToAccessWorkspace:Z.authenticateWithoutSSOToAccessWorkspace))})})]})]}),(0,y.jsx)("div",{className:"flex h-full items-center p-1",children:k?(0,y.jsx)(v.Z,{}):b?(0,y.jsx)(g.rE2,{className:"icon-lg"}):(0,y.jsx)(g.ob9,{className:"icon-lg my-auto"})})]})}function S(e){let{data:t}=e,r=t.map(e=>(0,y.jsx)(P,{workspace:e},e.id));return(0,y.jsx)("div",{className:"flex w-full flex-col gap-2",children:r})}function W(){var e;let t=(0,w.my)(),r=(0,i.aF)(),a=null!==(e=null==r?void 0:r.email)&&void 0!==e?e:"";if(!t||0===t.length)return null;let n=t.filter(e=>e.structure===s.CZ.WORKSPACE);return(0,y.jsx)(k.Z,{isOpen:!0,onClose:p(),type:"success",size:"normal",title:(0,y.jsxs)("div",{className:"flex flex-col",children:[(0,y.jsx)(m.Z,N({},Z.workspaceSwitcherTitle)),(0,y.jsx)("span",{className:"mt-0.5 text-sm text-token-text-secondary",children:a})]}),children:(0,y.jsxs)("div",{className:"flex w-full flex-col items-center justify-between",children:[(0,y.jsx)(S,{data:t}),(0,y.jsx)("span",{className:"mt-4 text-sm text-token-text-secondary",children:(0,y.jsx)(m.Z,N(N({},Z.workspaceSwitcherDisclaimer),{},{values:{workspaces:(0,y.jsx)("span",{className:"contents font-bold",children:(0,y.jsx)(b.yX,{value:n.map(e=>e.data.name)})}),numWorkspaces:n.length}}))})]})})}let Z=(0,b.vU)({workspaceSwitcherTitle:{id:"workspaceSwitcher.title",defaultMessage:"Select a workspace"},workspaceSwitcherDisclaimer:{id:"workspaceSwitcher.disclaimer",defaultMessage:"You've been added to the {workspaces} {numWorkspaces, plural, one {workspace} other {workspaces}}. You can switch between workspaces at any time."},authenticateWithSSOToAccessWorkspace:{id:"CV7pdM",defaultMessage:"Authenticate with SSO to access this workspace"},authenticateWithoutSSOToAccessWorkspace:{id:"zfCWFh",defaultMessage:"Authenticate without SSO to access this workspace"}})},73062:function(e,t,r){"use strict";r.d(t,{g:function(){return m}});var a=r(98601),s=r(52088),n=r(54198),c=r(19841),i=r(92379),o=r(77748),l=r(50863),d=r(651);let u=["children"],p=["children","className"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e){let{options:t,value:r,onValueChange:a,disabled:s,defaultValue:n,placeholder:c}=e;return(0,d.jsxs)(b.Root,{value:r,onValueChange:a,disabled:s,defaultValue:n,children:[(0,d.jsxs)(b.Trigger,{children:[(0,d.jsx)(b.Value,{placeholder:c}),(0,d.jsx)(b.Icon,{})]}),(0,d.jsx)(b.Portal,{children:(0,d.jsx)(b.Content,{children:t.map(e=>(0,d.jsx)(b.Item,{value:e.value,children:e.label},e.value))})})]})}let b={Root:n.fC,Trigger:function(e){return(0,d.jsx)(l.J7,x({$as:n.xz},e))},Value:n.B4,Icon:function(){return(0,d.jsx)(n.JO,{children:(0,d.jsx)(o.Tg4,{className:"icon-sm"})})},Portal:n.h_,Content:function(e){let{children:t,className:r}=e,a=(0,s.Z)(e,p);return(0,d.jsxs)(l.w5,x(x({$as:n.VY,side:"bottom",sideOffset:4,position:"popper",className:(0,c.default)("min-w-[220px] overflow-auto",r)},a),{},{children:[(0,d.jsx)(n.u_,{className:"flex h-8 cursor-default items-center justify-center text-token-text-primary",children:(0,d.jsx)(o.r0F,{className:"icon-sm"})}),(0,d.jsx)(n.l_,{children:t}),(0,d.jsx)(n.$G,{className:"flex h-8 cursor-default items-center justify-center text-token-text-primary",children:(0,d.jsx)(o.Tg4,{className:"icon-sm"})})]}))},Item:i.forwardRef(function(e,t){let{children:r}=e,a=(0,s.Z)(e,u);return(0,d.jsxs)(l.gG,x(x({$as:n.ck,ref:t,className:"flex justify-between"},a),{},{children:[(0,d.jsx)(n.eT,{children:r}),(0,d.jsx)(n.wU,{className:"",children:(0,d.jsx)(o.kvR,{className:"icon-sm"})})]}))}),ItemText:n.eT,ItemIndicator:n.wU,Separator:function(){return(0,d.jsx)(n.Z0,{className:"mx-5 my-1 h-px bg-token-border-light"})},Label:function(e){let{children:t}=e;return(0,d.jsx)(n.__,{className:"mx-2 my-0 px-2 text-xs font-semibold text-token-text-secondary",children:t})},Group:n.ZA};t.Z=b},36792:function(e,t,r){"use strict";var a=r(98601),s=r(52088),n=r(19841),c=r(92379),i=r(651);let o=["children"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let u=(0,c.createContext)({rootBordered:!1}),p=(0,c.forwardRef)(function(e,t){let{children:r,disabled:a=!1,onClick:s,className:c}=e;return(0,i.jsx)("tr",d(d({ref:t},a?{"data-disabled":!0}:{}),{},{className:(0,n.default)(a?"pointer-events-none":"",c),onClick:s,children:r}))});t.Z={Root:function(e){let{children:t,fixed:r=!1,className:a,size:s="normal",bordered:o=!1}=e,l=(0,c.useRef)(null),d=(0,c.useRef)(null),{0:p,1:f}=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let e=l.current,t=d.current;if(e&&t){let r=new ResizeObserver(()=>{f(t.scrollHeight>e.clientHeight)});return r.observe(e),()=>r.disconnect()}},[]),(0,i.jsx)(u.Provider,{value:{rootBordered:o},children:(0,i.jsx)("div",{className:(0,n.default)("overflow-y-auto text-token-text-primary",o&&"rounded-lg border border-token-border-light","normal"===s?"text-base":"text-sm",p&&"pr-1",a),ref:l,children:(0,i.jsx)("table",{className:(0,n.default)("w-full border-separate border-spacing-0",r&&"table-fixed"),ref:d,children:t})})})},Header:function(e){let{children:t}=e;return(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:t})})},HeaderCell:function(e){let{textAlign:t="left",children:r,className:a=""}=e,{rootBordered:s}=(0,c.useContext)(u);return(0,i.jsx)("th",{className:(0,n.default)("text-token sticky top-0 z-10 border-b-[0.5px] border-token-border-medium bg-token-main-surface-primary py-2 font-semibold",s?"px-3":"pr-4 last:pr-0","left"===t?"text-left":"right"===t?"text-right":"text-center",a),children:r})},Body:function(e){let{children:t}=e,r=(0,s.Z)(e,o);return(0,i.jsx)("tbody",d(d({},r),{},{children:t}))},Row:p,Cell:function(e){let{textAlign:t="left",children:r,className:a,colSpan:s}=e,{rootBordered:o}=(0,c.useContext)(u);return(0,i.jsx)("td",{className:(0,n.default)("border-b-[0.5px] border-token-border-medium align-top",o?"px-3":"pr-4 last:pr-0 [tr:last-child_&]:border-b-0",t&&"text-"+t,a),colSpan:s,children:(0,i.jsx)("div",{className:(0,n.default)("flex min-h-[40px] items-center [tr[data-disabled=true]_&]:opacity-50","right"===t&&"justify-end","center"===t&&"justify-center"),children:r})})},Actions:function(e){let{children:t}=e;return(0,i.jsx)("div",{className:"text-md flex items-center justify-end gap-2",children:t})}}},50863:function(e,t,r){"use strict";r.d(t,{J7:function(){return d},M4:function(){return x},aF:function(){return u},gG:function(){return p},w5:function(){return f}});var a,s,n,c,i,o=r(2346),l=r(15478);let d=l.Z.button(a||(a=(0,o.Z)(["\ntext-token-text-primary border border-transparent inline-flex h-9 items-center justify-center gap-1 rounded-lg bg-white px-3 text-sm dark:transparent dark:bg-transparent\nleading-none outline-none cursor-pointer\nhover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-secondary\nfocus-visible:bg-token-main-surface-secondary\nradix-state-active:text-token-text-secondary\nradix-disabled:cursor-auto radix-disabled:bg-transparent radix-disabled:text-token-text-tertiary dark:radix-disabled:bg-transparent\n"]))),u=l.Z.div(s||(s=(0,o.Z)(["flex gap-2 items-center m-1.5 rounded p-2.5 text-sm cursor-pointer focus-visible:outline-0 hover:bg-token-main-surface-secondary focus-visible:bg-token-main-surface-secondary radix-disabled:pointer-events-none radix-disabled:opacity-50 group relative"]))),p=(0,l.Z)(u)(n||(n=(0,o.Z)(["","\nhover:bg-[#f5f5f5] focus-visible:bg-[#f5f5f5]\nradix-state-open:bg-[#f5f5f5]\ndark:hover:bg-token-main-surface-secondary\ndark:focus-visible:bg-token-main-surface-secondary\nrounded-md my-0 px-3 mx-2\ndark:radix-state-open:bg-token-main-surface-secondary gap-2.5 py-3"])),e=>e.spoofHovered?"bg-[#f5f5f5]":""),f=l.Z.div(c||(c=(0,o.Z)(["max-w-xs rounded-2xl popover bg-token-main-surface-primary shadow-lg will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade border border-token-border-light py-2"]))),x=l.Z.div(i||(i=(0,o.Z)(["popover overflow-auto rounded-xl border border-token-border-light bg-token-main-surface-primary p-2 shadow-xl"])))},29985:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workspace/deactivated",function(){return r(37162)}])}},function(e){e.O(0,[2205,4198,5158,4089,1133,3223,5162,6013,9113,9725,7261,2888,9774,179],function(){return e(e.s=29985)}),_N_E=e.O()}]);
//# sourceMappingURL=deactivated-11e8fc65ef1c5190.js.map