(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9457],{82920:function(e,t){"use strict";t.ZP=function(e,t){if(t)return e;throw Error("Unhandled discriminated union member: "+JSON.stringify(e))}},52051:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return U},default:function(){return I}});var n=r(99333),s=r(16757),i=r(11550),o=r(24434),a=r(45027),l=r(12128),c=r(39004),d=r(17711),u=r(99555),f=r(71090),m=r(84760),p=r(88667),x=r(34977),h=r(92379),g=r(68306),j=r(62984),b=r(98095),y=r(28146),w=r(651);let v=e=>{let{gizmoId:t,limit:r,cursor:n}=e;return(0,m.a)({queryFn:async()=>u.U.listVersions({gizmoId:t}),queryKey:["gizmo","versions",{gizmoId:t,limit:r,cursor:n}]})},k=(0,h.memo)(function(e){let{gizmoId:t,onSelectVersion:r}=e,{value:n}=(0,p.sB)("3645668434");return t&&n?(0,w.jsx)(C,{gizmoId:t,onSelectVersion:r}):null});function C(e){let{gizmoId:t,onSelectVersion:r}=e,n=(0,x.useRouter)(),{data:s}=v({gizmoId:t}),i=s?s.items.reduce((e,t)=>{let r=new Date(t.updated_at),n=`${r.getFullYear()}-${r.getMonth()+1}-${r.getDate()}`;return e[n]||(e[n]=[]),e[n].push(t),e},{}):null,o=e=>{n.push(`/g/${t}/view?version=${e}`)};return i?(0,w.jsx)("div",{className:"relative h-full w-screen max-w-2xs",children:(0,w.jsx)("div",{className:"flex h-full max-w-2xs flex-col overflow-y-scroll bg-token-sidebar-surface-primary py-6 shadow-xl",children:(0,w.jsx)("div",{className:"relative flex-1 px-4 sm:px-6",children:Object.keys(i).map((e,t)=>{let n=i[e];return(0,w.jsx)(N,{date:e,entries:n,onSelectVersion:r,onRestoreVersion:o},t)})})})}):null}function N(e){let{date:t,entries:r,onSelectVersion:n,onRestoreVersion:s}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"border-b border-token-border-medium py-2 font-semibold uppercase text-token-text-secondary",children:(0,w.jsx)(g.Ji,{value:t,dateStyle:"medium"})}),(0,w.jsx)("div",{className:"flex flex-col space-y-2",children:r.map((e,t)=>(0,w.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-token-border-medium",onClick:()=>n(e.version),children:[(0,w.jsx)("span",{className:"grow p-2 hover:cursor-pointer hover:bg-token-sidebar-surface-tertiary",children:(0,w.jsx)(g.Ji,{value:e.updated_at,timeStyle:"short"})}),(0,w.jsx)(M,{onRestoreVersion:()=>{s(e.version)}})]},t))})]})}function M(e){let{onRestoreVersion:t}=e;return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(b.d,{sideOffset:8,triggerButton:(0,w.jsx)("button",{color:"secondary",className:"rounded-lg px-3 py-2 text-token-text-primary duration-100 ease-in hover:bg-token-sidebar-surface-tertiary active:scale-[0.9]",children:(0,w.jsx)(y.nWS,{className:"icon-md"})}),children:(0,w.jsxs)(b.Z.Item,{className:"items-center",disabled:!1,onClick:t,children:[(0,w.jsx)(y.Ezi,{className:"icon-md"}),(0,w.jsx)(j.Z,{id:"gizmoVersionHistory.restoreVersionLabel",defaultMessage:"Restore this version"})]})})})}var O=r(3551),L=r(91530),_=r.n(L),P=r(88301);let E=e=>{let{gizmoId:t,version:r}=e;return(0,m.a)({queryFn:async()=>u.U.getVersion({gizmoId:t,version:r}),queryKey:["gizmo","version",{gizmoId:t,version:r}]})},F=(e,t)=>`/gpts/editor/${e}?version=${t}`;function Z(e){let{gizmoId:t}=e,{0:r,1:i}=(0,h.useState)(null),o=(0,x.useRouter)(),{data:a}=(0,c.b9)(t),l=a?.gizmo.current_user_permission?.can_write,d=(0,c.YR)(),{0:u,1:m}=(0,h.useState)(!1),p=()=>{r?o.push(F(t,r)):o.push((0,O.AA)(t))};return(0,w.jsxs)("div",{className:"flex h-screen w-full flex-col items-center",children:[(0,w.jsx)("div",{className:"relative flex h-16 w-full items-center justify-between gap-2 border-b border-token-border-medium px-3",children:a&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"flex cursor-pointer items-center gap-2",onClick:()=>o.back(),children:[(0,w.jsx)(y.Y1T,{className:"icon-lg"}),(0,w.jsx)("div",{className:"font-semibold",children:l?(0,w.jsx)(j.Z,{id:"gizmoReadOnly.versionHistoryTitle",defaultMessage:"Version History"}):(0,w.jsx)(j.Z,{id:"gizmoReadOnly.configurationTitle",defaultMessage:"Configuration"})})]}),(0,w.jsx)("div",{className:"mr-4 flex items-center gap-2",children:l?(0,w.jsx)(f.cY,{color:"secondary",onClick:()=>{r&&r!==a.gizmo.live_version&&a.tools.find(e=>e.type===n.qK.JIT_PLUGIN&&e.metadata.auth?.type!==s.Jv.None)?m(!0):p()},children:(0,w.jsx)(j.Z,{id:"gizmo.readonly.restoreVersion",defaultMessage:"Restore this version"})}):(0,w.jsx)(f.cY,{color:"secondary",loading:d.isPending,onClick:async()=>{let e=await d.mutateAsync({gizmoId:t});e.gizmo.id&&o.push(`/gpts/editor/${e.gizmo.id}`)},children:(0,w.jsx)(j.Z,{id:"gizmo.readonly.duplicate",defaultMessage:"Duplicate"})})})]})}),(0,w.jsxs)("div",{className:"flex h-full w-full items-center",children:[l&&(0,w.jsx)(k,{gizmoId:t,onSelectVersion:e=>{i(e)}}),(0,w.jsx)(S,{gizmoId:t,version:r})]}),u&&(0,w.jsx)(D,{onClose:()=>{m(!1)},onContinue:p})]})}function D(e){let{onClose:t,onContinue:r}=e,{0:n,1:s}=(0,h.useState)(!1);return(0,w.jsx)(o.Z,{isOpen:!0,onClose:t,type:"warning",showCloseButton:!0,title:(0,w.jsx)(j.Z,{id:"gizmoReadOnly.authModalWarningTitle",defaultMessage:"Reset Authentication for Custom Actions"}),primaryButton:(0,w.jsx)(i.z,{onClick:()=>{s(!0),r()},loading:n,color:"secondary",children:(0,w.jsx)(j.Z,{id:"gizmoReadOnly.authModalContinueButton",defaultMessage:"Continue"})}),secondaryButton:(0,w.jsx)(i.z,{onClick:t,color:"secondary",children:(0,w.jsx)(j.Z,{id:"gizmoReadOnly.authModalCancelButton",defaultMessage:"Cancel"})}),size:"normal",children:(0,w.jsx)(j.Z,{id:"gizmoReadOnly.authModalWarningBody",defaultMessage:"Restoring this version will reset authentication of your custom actions. You may need to reconfigure each custom action afterwards."})})}function S(e){let{gizmoId:t,version:r}=e,{data:s}=E({gizmoId:t,version:r}),{0:i,1:o}=(0,h.useState)(null);if(!s)return null;let c=s.tools.filter(e=>e.type===n.qK.JIT_PLUGIN);return(0,w.jsx)("div",{className:"flex max-h-[80vh] flex-grow justify-center overflow-y-auto",children:(0,w.jsxs)("div",{className:"flex w-full max-w-2xl flex-col text-sm",children:[(0,w.jsx)(P.hj,{className:"self-center",children:(0,w.jsx)(l.Z,{src:s.gizmo.display.profile_picture_url,isFirstParty:!1,className:"h-12 w-12"})}),(0,w.jsxs)(P.hj,{children:[(0,w.jsx)(P.lX,{label:(0,w.jsx)(j.Z,{id:"gizmo.readonly.nameLabel",defaultMessage:"Name"})}),(0,w.jsx)(P.yt,{type:"text",value:s.gizmo.display.name??"",disabled:!0,className:"bg-token-main-surface-secondary"})]}),(0,w.jsxs)(P.hj,{children:[(0,w.jsx)(P.lX,{label:(0,w.jsx)(j.Z,{id:"gizmo.readonly.descriptionLabel",defaultMessage:"Description"})}),(0,w.jsx)(P.yt,{type:"text",value:s.gizmo.display.description??"",disabled:!0,className:"bg-token-main-surface-secondary"})]}),(0,w.jsxs)(P.hj,{children:[(0,w.jsx)(P.lX,{label:(0,w.jsx)(j.Z,{id:"gizmo.readonly.instructionsLabel",defaultMessage:"Instructions"})}),(0,w.jsx)(P.B1,{className:"resize-none bg-token-main-surface-secondary",rows:8,value:s.gizmo.instructions??"",disabled:!0})]}),s.gizmo.display.prompt_starters&&s.gizmo.display.prompt_starters.length>0&&(0,w.jsxs)(P.hj,{children:[(0,w.jsx)(P.lX,{label:(0,w.jsx)(j.Z,{id:"gizmo.readonly.conversationStartersLabel",defaultMessage:"Conversation starters"})}),s.gizmo.display.prompt_starters.map((e,t)=>(0,w.jsx)(P.yt,{type:"text",value:e,disabled:!0,className:"resize-none bg-token-main-surface-secondary"},t))]}),s.files&&s.files.length>0&&(0,w.jsxs)(P.hj,{children:[(0,w.jsx)(P.lX,{label:(0,w.jsx)(j.Z,{id:"gizmo.readonly.knowledgeLabel",defaultMessage:"Knowledge"})}),s.files.map((e,t)=>(0,w.jsx)(a.Z,{file:e.name,fileId:e.id},t))]}),(0,w.jsxs)(P.hj,{children:[(0,w.jsx)(P.lX,{label:(0,w.jsx)(j.Z,{id:"gizmo.readonly.capabilitiesLabel",defaultMessage:"Capabilities"})}),(0,w.jsx)(d.W,{enabledTools:s.tools,onEnabledToolsChange:_()})]}),c&&c.length>0&&(0,w.jsxs)(P.hj,{children:[(0,w.jsx)(P.lX,{label:(0,w.jsx)(j.Z,{id:"gizmo.readonly.actionsLabel",defaultMessage:"Actions"})}),c.map((e,t)=>(0,w.jsx)(P.r,{isDisabled:!1,actionTool:e,onShowActionsEditor:()=>{i?.metadata.action_id===e.metadata.action_id?o(null):o(e)}},t)),i&&(0,w.jsx)("textarea",{readOnly:!0,value:i.metadata.raw_spec??"",className:"mb-16 block h-96 w-full border-t-0 border-token-main-surface-tertiary bg-transparent p-2 font-mono text-xs text-token-text-primary"})]})]})})}var T=r(6530),z=r(93951),U=!0;function I(){let e=(0,z.t)(),t=(0,x.useRouter)(),r=t.query?.gizmoId??"",n=(0,T.CR)(r),{value:s}=(0,p.sB)("3645668434");return(0,h.useEffect)(()=>{null!=e&&e.isFree()&&t.push("/")},[e,t]),s?(0,w.jsx)(Z,{gizmoId:n}):null}},98303:function(e,t,r){"use strict";r.d(t,{C:function(){return s}});var n=r(93951);function s(e){let t=(0,n.hz)();return!n.t()?.isWorkspaceAccount()||(t?.includes(e)??!1)}},55393:function(e,t,r){"use strict";r.d(t,{J:function(){return o},f:function(){return a}});var n=r(99333),s=r(28146),i=r(651);let o=e=>{let{className:t,contextConnector:r,extension:n}=e,s=a(r,n);return(0,i.jsx)("div",{className:`${t} flex items-center justify-center rounded-md border border-gray-100 bg-gray-50 dark:border-white/10 dark:bg-token-main-surface-secondary`,children:(0,i.jsx)(s,{className:"w-[20px]"})})};function a(e,t){switch(e){case n.PO.GDRIVE:switch(t){case"doc":case"docx":return s.UkS;case"xls":case"xlsx":return s.UWy;case"ppt":case"pptx":return s.rJj;default:return s.Gle}case n.PO.O365_BUSINESS:case n.PO.O365_PERSONAL:case n.PO.O365:switch(t){case"doc":case"docx":return s.TLO;case"xls":case"xlsx":return s.$7;case"ppt":case"pptx":return s.Y5F;default:return s.Vpj}}}},5691:function(e,t,r){"use strict";r.d(t,{AJ:function(){return a},JQ:function(){return u},L_:function(){return c},Ul:function(){return d},e6:function(){return l},i5:function(){return f}});var n=r(99333),s=r(82920),i=r(68306),o=r(651);let a=(0,i.Em)({defaultMessage:"Microsoft OneDrive (personal)",id:"ContextConnector.OneDrivePersonal.name"}),l=(0,i.Em)({defaultMessage:"Microsoft OneDrive (work/school)",id:"ContextConnector.OneDriveBusiness.name"}),c=(0,i.vU)({includesSharePoint:{id:"ContextConnectorPicker.o365BusinessIncludesSharePoint",defaultMessage:"Includes SharePoint"}});function d(e,t){switch(e){case n.PO.GDRIVE:return"Google Drive";case n.PO.O365:return"Microsoft OneDrive";case n.PO.O365_PERSONAL:return t?.formatMessage(a)??"Microsoft OneDrive (personal)";case n.PO.O365_BUSINESS:return t?.formatMessage(l)??"Microsoft OneDrive (work/school)"}}function u(e,t){switch(e){case n.PO.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case n.PO.O365:case n.PO.O365_PERSONAL:case n.PO.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}}(0,s.ZP)(e)}function f(e){let{contextConnector:t,extension:r}=e;return(0,o.jsx)(o.Fragment,{children:u(t,r)})}},44395:function(e,t,r){"use strict";r.d(t,{O:function(){return o},Z:function(){return i}});var n=r(19841),s=r(651);function i(e){let{percentage:t,thickness:r=1/12,className:i,sizeOverride:o,backgroundStrokeClassName:a="stroke-gray-400",transitionDuration:l,transitionTimingFunction:c,onTransitionEnd:d}=e,u=o??120,f=u*r,m=(u-f)/2,p=2*Math.PI*m;return(0,s.jsxs)("svg",{width:u,height:u,viewBox:`0 0 ${u} ${u}`,className:i,children:[(0,s.jsx)("circle",{className:(0,n.default)("origin-[50%_50%] -rotate-90",a),strokeWidth:f,fill:"transparent",r:m,cx:u/2,cy:u/2}),(0,s.jsx)("circle",{className:"origin-[50%_50%] -rotate-90 transition-[stroke-dashoffset]",stroke:"currentColor",strokeWidth:f,strokeDashoffset:p-t/100*p,strokeDasharray:`${p} ${p}`,fill:"transparent",r:m,cx:u/2,cy:u/2,style:{transitionDuration:l,transitionTimingFunction:c},onTransitionEnd:d})]})}let o=e=>{let{size:t=40,className:r="text-blue-selection"}=e;return(0,s.jsx)("div",{className:(0,n.default)("relative",r),style:{width:t,height:t},children:(0,s.jsxs)("svg",{className:"absolute h-full w-full animate-spin",viewBox:"0 0 50 50",children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"spinner-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,s.jsx)("stop",{offset:"0%",style:{stopColor:"currentColor",stopOpacity:1}}),(0,s.jsx)("stop",{offset:"100%",style:{stopColor:"currentColor",stopOpacity:0}})]})}),(0,s.jsx)("circle",{cx:"25",cy:"25",r:"20",stroke:"url(#spinner-gradient)",strokeWidth:"8",strokeLinecap:"round",fill:"none",strokeDasharray:"75,150",strokeDashoffset:"0"})]})})}},98095:function(e,t,r){"use strict";r.d(t,{d:function(){return w}});var n=r(98601),s=r(52088),i=r(54089),o=r(19841),a=r(92379),l=r(38838),c=r(28146),d=r(50863),u=r(651);let f=["className","size","align"],m=["onSelect","icon","className","color","size"],p=["className"],x=["onSelect","children"],h=["className"],g=["icon","children"];function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let y=a.forwardRef(function(e,t){let{className:r,size:n="default",align:a}=e,l=(0,s.Z)(e,f);return(0,u.jsx)(d.w5,b({ref:t,$as:i.VY,sideOffset:4,align:a??"start",collisionPadding:10,className:(0,o.default)({"min-w-[280px]":"default"===n,"min-w-[340px]":"large"===n,"min-w-[125px]":"small"===n,"overflow-hidden":!0},r)},l))});function w(e){let{triggerButton:t,children:r,size:n="default",open:s,onOpenChange:o,contentAlign:a,side:l,sideOffset:c=0,alignOffset:d=0,contentClassName:f}=e;return(0,u.jsxs)(i.fC,{modal:!1,open:s,onOpenChange:o,children:[(0,u.jsx)(i.xz,{asChild:!0,children:t}),(0,u.jsx)(i.Uv,{children:(0,u.jsx)(y,{size:n,align:a,alignOffset:d,side:l,sideOffset:c,className:f,children:r})})]})}let v={Root:i.fC,Trigger:function(e){return(0,u.jsx)(d.J7,b(b({$as:i.xz},e),{},{onFocusCapture:t=>{t.stopPropagation(),e.onFocusCapture?.(t)}}))},Portal:i.Uv,Content:y,Item:a.forwardRef(function(e,t){let{onSelect:r,icon:n,className:l,color:c,size:f="default"}=e,p=(0,s.Z)(e,m);return n?(0,u.jsxs)(d.gG,b(b({$as:i.ck,ref:t,onSelect:r,className:(0,o.default)("danger"===c&&"text-token-text-error","large"===f&&"gap-3",l)},p),{},{children:[(0,u.jsx)("div",{className:(0,o.default)("flex items-center justify-center","danger"===c&&"text-token-text-error","danger"!==c&&"text-token-text-secondary","default"===f&&"h-5 w-5","large"===f&&"h-5 w-7"),children:(0,a.isValidElement)(n)?n:(0,u.jsx)(n,{className:"h-5 w-5 shrink-0"})}),p.children]})):(0,u.jsx)(d.gG,b({$as:i.ck,ref:t,onSelect:r,className:(0,o.default)("danger"===c&&"text-token-text-error",l)},p))}),Separator:function(e){let{className:t}=e,r=(0,s.Z)(e,p);return(0,u.jsx)(i.Z0,b({className:(0,o.default)("mx-5 my-1 h-px bg-token-border-light",t)},r))},RadioGroup:i.Ee,RadioItem:function(e){let{onSelect:t,children:r}=e,n=(0,s.Z)(e,x);return(0,u.jsxs)(d.aF,b(b({$as:i.Rk,onSelect:t},n),{},{children:[(0,u.jsx)(i.wU,{className:"absolute",children:(0,u.jsx)(c.$As,{className:"icon-sm"})}),(0,u.jsx)("span",{className:"ml-6",children:r})]}))},Sub:i.Tr,SubContent:function(e){let{className:t}=e,r=(0,s.Z)(e,h);return(0,u.jsx)(d.w5,b({$as:i.tu,className:(0,o.default)("mt-2 max-h-[calc(100vh-300px)] min-w-[100px] overflow-auto",t),sideOffset:8,alignOffset:-16,collisionPadding:20},r))},SubMenuTrigger:function(e){let{icon:t,children:r}=e,n=(0,s.Z)(e,g);return(0,u.jsxs)(d.gG,b(b({$as:i.fF},n),{},{children:[t&&(0,u.jsx)("div",{className:"flex h-5 w-5 items-center justify-center text-token-text-secondary",children:(0,u.jsx)(t,{className:"h-5 w-5 flex-shrink-0"})}),r,(0,u.jsx)("div",{className:"ml-auto flex items-center text-token-text-tertiary group-data-[disabled]:opacity-50",children:(0,u.jsx)(l.Yf,{className:"icon-md"})})]}))},Label:function(e){let{children:t}=e;return(0,u.jsx)(i.__,{className:"mx-2 my-0 px-2 text-xs font-semibold text-token-text-secondary",children:t})}};t.Z=v},81751:function(e,t,r){"use strict";r.d(t,{l:function(){return m}});var n=r(52088),s=r(30853),i=r(66583);r(82363);var o=r(19841),a=r(92379),l=r(75172),c=r(68306),d=r(28146),u=r(651);let f=["contextConnectorSourceUrl"];function m(e){let{contextConnectorSourceUrl:t}=e,r=(0,n.Z)(e,f),c=(0,l.Z)(),{0:m,1:x}=(0,a.useState)({width:0,height:0}),h=m.width/m.height,g=m.width>0&&m.height>0,j=(0,a.useMemo)(()=>{if(void 0!==t){let e=new URL(t);return"https:"!==e.protocol&&(e=void 0),e?.toString()}},[t]);return(0,a.useEffect)(()=>{if(!r.src)throw Error("ExpandableImage requires a src");let e=new Image;e.onload=()=>{x({width:e.naturalWidth,height:e.naturalHeight})},e.onerror=()=>{},e.src=r.src},[r.src]),(0,u.jsxs)(i.fC,{children:[(0,u.jsx)(i.xz,{className:r.className,disabled:!g,children:r.children}),(0,u.jsx)(i.h_,{children:(0,u.jsxs)(i.aV,{className:"fixed inset-0 flex items-center justify-center overflow-hidden bg-black/90 radix-state-open:animate-show dark:bg-black/80",children:[(0,u.jsx)(i.x8,{asChild:!0,children:(0,u.jsx)("button",{className:"absolute right-4 top-4",children:(0,u.jsx)(d.tPq,{className:"h-5 w-5 text-gray-100"})})}),(0,u.jsxs)(i.VY,{className:"shadow-xl focus:outline-none radix-state-open:animate-contentShow",children:[(0,u.jsx)("div",{className:(0,o.default)("relative max-h-[85vh] max-w-[90vw]"),style:{aspectRatio:h},children:(0,u.jsx)("img",{src:r.src,alt:r.alt,className:"h-full w-full object-contain"})}),j&&(0,u.jsx)("div",{className:"absolute right-14 top-4",children:(0,u.jsx)(s.u,{label:c.formatMessage(p.openOriginal),children:(0,u.jsx)("a",{href:j,target:"_blank",children:(0,u.jsx)(d.ReP,{className:"h-5 w-5 rotate-180 text-gray-100"})})})})]})]})})]})}let p=(0,c.vU)({openOriginal:{id:"ExpandableImage.openOriginal",defaultMessage:"Open original image"}})},50863:function(e,t,r){"use strict";r.d(t,{J7:function(){return s},M4:function(){return l},aF:function(){return i},gG:function(){return o},w5:function(){return a}});var n=r(15478);let s=n.Z.button`
text-token-text-primary border border-transparent inline-flex h-9 items-center justify-center gap-1 rounded-lg bg-white px-3 text-sm dark:transparent dark:bg-transparent
leading-none outline-none cursor-pointer
hover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-secondary
focus-visible:bg-token-main-surface-secondary
radix-state-active:text-token-text-secondary
radix-disabled:cursor-auto radix-disabled:bg-transparent radix-disabled:text-token-text-tertiary dark:radix-disabled:bg-transparent
`,i=n.Z.div`flex gap-2 items-center m-1.5 rounded p-2.5 text-sm cursor-pointer focus-visible:outline-0 hover:bg-token-main-surface-secondary focus-visible:bg-token-main-surface-secondary radix-disabled:pointer-events-none radix-disabled:opacity-50 group relative`,o=(0,n.Z)(i)`${e=>e.spoofHovered?"bg-[#f5f5f5]":""}
hover:bg-[#f5f5f5] focus-visible:bg-[#f5f5f5]
radix-state-open:bg-[#f5f5f5]
dark:hover:bg-token-main-surface-secondary
dark:focus-visible:bg-token-main-surface-secondary
rounded-md my-0 px-3 mx-2
dark:radix-state-open:bg-token-main-surface-secondary gap-2.5 py-3`,a=n.Z.div`z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary shadow-lg will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade border border-token-border-light py-2`,l=n.Z.div`popover overflow-auto rounded-xl border border-token-border-light bg-token-main-surface-primary p-2 shadow-xl`},42606:function(e,t,r){"use strict";r.d(t,{I:function(){return i},o:function(){return o}});let n=["xlsx","pptx","docx"],s={"application/vnd.google-apps.spreadsheet":"xlsx","application/vnd.google-apps.presentation":"pptx","application/vnd.google-apps.document":"docx"};function i(e){return e?s[e.split(";")[0]]??null:null}function o(e){return e&&n.includes(e)?e:null}},97060:function(e,t,r){"use strict";r.d(t,{Fk:function(){return i},LO:function(){return c},N:function(){return l},OD:function(){return o},pC:function(){return d},tf:function(){return a},yc:function(){return u}});var n=r(25162),s=r(651);let i=e=>{let{className:t}=e;return(0,s.jsxs)(n.A0,{width:"132",height:"108",viewBox:"0 0 132 108",fill:"none",className:t,children:[(0,s.jsx)("g",{clipPath:"url(#clip0_3605_64419)",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.2025 29.3514C10.778 33.2165 8.51524 37.1357 11.8281 49.4995L13.4846 55.6814C16.7975 68.0453 20.7166 70.308 35.1411 66.443L43.3837 64.2344C57.8082 60.3694 60.0709 56.4502 56.758 44.0864L55.1016 37.9044C51.7887 25.5406 47.8695 23.2778 33.445 27.1428L29.3237 28.2471L25.2025 29.3514ZM18.1944 42.7244C18.8572 41.5764 20.325 41.1831 21.4729 41.8459L27.3517 45.24C28.4996 45.9027 28.8929 47.3706 28.2301 48.5185L24.836 54.3972C24.1733 55.5451 22.7054 55.9384 21.5575 55.2757C20.4096 54.613 20.0163 53.1451 20.6791 51.9972L22.8732 48.1969L19.0729 46.0028C17.925 45.3401 17.5317 43.8723 18.1944 42.7244ZM29.4091 56.3843C29.066 55.104 29.8258 53.7879 31.1062 53.4449L40.3791 50.9602C41.6594 50.6172 42.9754 51.377 43.3184 52.6573C43.6615 53.9376 42.9017 55.2536 41.6214 55.5967L32.3485 58.0813C31.0682 58.4244 29.7522 57.6646 29.4091 56.3843Z",fill:"#AFC1FF"})}),(0,s.jsx)("g",{clipPath:"url(#clip1_3605_64419)",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86.8124 13.4036C81.0973 11.8722 78.5673 13.2649 77.0144 19.0603L68.7322 49.97C67.1793 55.7656 68.5935 58.2151 74.4696 59.7895L97.4908 65.958C103.367 67.5326 105.816 66.1184 107.406 60.1848L115.393 30.379C115.536 29.8456 115.217 29.2959 114.681 29.16C113.478 28.8544 112.435 28.6195 111.542 28.4183C106.243 27.2253 106.22 27.2201 109.449 20.7159C109.73 20.1507 109.426 19.4638 108.816 19.3004L86.8124 13.4036ZM87.2582 28.4311C86.234 28.1567 85.1812 28.7645 84.9067 29.7888C84.6323 30.813 85.2401 31.8658 86.2644 32.1403L101.101 36.1158C102.125 36.3902 103.178 35.7824 103.453 34.7581C103.727 33.7339 103.119 32.681 102.095 32.4066L87.2582 28.4311ZM82.9189 37.2074C83.1934 36.1831 84.2462 35.5753 85.2704 35.8497L100.107 39.8252C101.131 40.0996 101.739 41.1524 101.465 42.1767C101.19 43.201 100.137 43.8088 99.1132 43.5343L84.2766 39.5589C83.2523 39.2844 82.6445 38.2316 82.9189 37.2074ZM83.2826 43.2683C82.2584 42.9939 81.2056 43.6017 80.9311 44.626C80.6567 45.6502 81.2645 46.703 82.2888 46.9775L89.7071 48.9652C90.7313 49.2396 91.7841 48.6318 92.0586 47.6076C92.333 46.5833 91.7252 45.5305 90.7009 45.256L83.2826 43.2683Z",fill:"#7989FF"})}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.4004 71.8426C40.4004 57.2141 44.0575 53.5569 61.1242 53.5569H66.0004H70.8766C87.9432 53.5569 91.6004 57.2141 91.6004 71.8426V79.1569C91.6004 93.7855 87.9432 97.4426 70.8766 97.4426H61.1242C44.0575 97.4426 40.4004 93.7855 40.4004 79.1569V71.8426ZM78.8002 67.4995C78.8002 70.1504 76.6512 72.2995 74.0002 72.2995C71.3492 72.2995 69.2002 70.1504 69.2002 67.4995C69.2002 64.8485 71.3492 62.6995 74.0002 62.6995C76.6512 62.6995 78.8002 64.8485 78.8002 67.4995ZM60.7204 70.8597C60.2672 70.2553 59.5559 69.8997 58.8004 69.8997C58.045 69.8997 57.3337 70.2553 56.8804 70.8597L47.2804 83.6597C46.4851 84.72 46.7 86.2244 47.7604 87.0197C48.8208 87.8149 50.3251 87.6 51.1204 86.5397L58.8004 76.2997L66.4804 86.5397C66.8979 87.0962 67.5363 87.4443 68.2303 87.4936C68.9243 87.5429 69.6055 87.2887 70.0975 86.7967L74.8004 82.0938L79.5034 86.7967C80.4406 87.734 81.9602 87.734 82.8975 86.7967C83.8347 85.8595 83.8347 84.3399 82.8975 83.4026L76.4975 77.0026C75.5602 76.0653 74.0406 76.0653 73.1034 77.0026L68.6601 81.4459L60.7204 70.8597Z",fill:"#3C46FF"}),(0,s.jsxs)("defs",{children:[(0,s.jsx)("clipPath",{id:"clip0_3605_64419",children:(0,s.jsx)("rect",{width:"56",height:"56",fill:"white",transform:"translate(0 26.9939) rotate(-15)"})}),(0,s.jsx)("clipPath",{id:"clip1_3605_64419",children:(0,s.jsx)("rect",{width:"64",height:"64",fill:"white",transform:"translate(69.5645 0.5) rotate(15)"})})]})]})},o=e=>{let{className:t}=e;return(0,s.jsxs)(n.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,s.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#10A37F"}),(0,s.jsx)("path",{d:"M15.5 10.5H12.1667C11.2462 10.5 10.5 11.2462 10.5 12.1667V13.5V18M15.5 10.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V18M15.5 10.5V25.5M15.5 25.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V18M15.5 25.5H12.1667C11.2462 25.5 10.5 24.7538 10.5 23.8333V18M10.5 18H25.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},a=e=>{let{className:t}=e;return(0,s.jsxs)(n.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,s.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#FF5588"}),(0,s.jsx)("path",{d:"M19.6663 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V14.6666L19.6663 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M19.667 9.66663V14.6666H24.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M21.3337 18.8334H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M21.3337 22.1666H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M16.3337 15.5H15.5003H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},l=e=>{let{className:t}=e;return(0,s.jsxs)(n.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,s.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#F8CA27"}),(0,s.jsx)("path",{d:"M10.5 14V13.5V12.1667C10.5 11.2462 11.2462 10.5 12.1667 10.5H15.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V14M10.5 14V23.8333C10.5 24.7538 11.2462 25.5 12.1667 25.5H15.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V14M10.5 14H25.5M14 21.5L16.5 19L19 20.5L22 17.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},c=e=>{let{className:t}=e;return(0,s.jsxs)(n.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,s.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#B161FD"}),(0,s.jsx)("path",{d:"M26.3337 23.8333C26.3337 24.2754 26.1581 24.6993 25.8455 25.0118C25.5329 25.3244 25.109 25.5 24.667 25.5H11.3337C10.8916 25.5 10.4677 25.3244 10.1551 25.0118C9.84259 24.6993 9.66699 24.2754 9.66699 23.8333V12.1667C9.66699 11.7246 9.84259 11.3007 10.1551 10.9882C10.4677 10.6756 10.8916 10.5 11.3337 10.5H15.5003L17.167 13H24.667C25.109 13 25.5329 13.1756 25.8455 13.4882C26.1581 13.8007 26.3337 14.2246 26.3337 14.6667V23.8333Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},d=e=>{let{className:t}=e;return(0,s.jsxs)(n.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,s.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#0000FF"}),(0,s.jsx)("path",{d:"M18.833 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V15.5L18.833 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M18.833 9.66663V15.5H24.6663",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},u=e=>{let{className:t}=e;return(0,s.jsxs)(n.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,s.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#FF6E3C"}),(0,s.jsx)("path",{d:"M21.333 23L26.333 18L21.333 13",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M14.667 13L9.66699 18L14.667 23",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})}},45027:function(e,t,r){"use strict";r.d(t,{l:function(){return F},Z:function(){return _}});var n=r(99333),s=r(2721),i=r(15913),o=r(82363),a=r(19841),l=r(92379),c=r(75172),d=r(68306),u=r(15478),f=r(44395),m=r(81751),p=r(30853),x=r(28146),h=r(97537),g=r(55393),j=r(5691),b=r(97060),y=r(66114),w=r(651);function v(e){let{fileName:t,icon:r,loadingPercentage:n,contextConnectorInfo:s}=e,i=(0,c.Z)(),o=void 0!==n&&n<100,l=(0,y.$p)(t),d=s?.syntheticExtension??null,u=s?.contextConnector?(0,w.jsx)(j.i5,{contextConnector:s.contextConnector,extension:d??l??null}):function(e){if((0,y.CO)(e))return i.formatMessage(M.fileDescImage);switch(l){case"py":return"Python";case"js":case"jsx":return"JavaScript";case"ts":case"tsx":return"TypeScript";case"pdf":return"PDF";case"doc":case"docx":case"txt":return i.formatMessage(M.fileDescDocument);case"zip":return i.formatMessage(M.fileDescZip);case"xls":case"xlsx":case"csv":return i.formatMessage(M.fileDescSpreadsheet);case"ppt":case"pptx":case"key":return i.formatMessage(M.fileDescPresentation);default:return i.formatMessage(M.fileDescFile)}}(t);return(0,w.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[null!=r&&!1!==r?(0,w.jsxs)("div",{className:"relative h-10 w-10 overflow-hidden rounded-md border border-token-border-heavy",children:[r,o&&(0,w.jsx)(k,{percentage:n,blurBackground:!0})]}):(0,w.jsx)("div",{className:"relative h-10 w-10 shrink-0 overflow-hidden rounded-md",children:o?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:(0,a.default)("inset-0",C,function(e,t){if(t)return"bg-gray-50 dark:bg-token-main-surface-secondary border rounded-md border-gray-100 dark:border-white/10";switch((0,y.$p)(e)){case"py":case"js":case"jsx":case"ts":case"tsx":return"bg-[#FF6E3C]";case"doc":case"docx":case"txt":case"pdf":return"bg-[#FF5588]";case"zip":return"bg-[#B161FD]";case"ppt":case"pptx":case"key":return"bg-[#F8CA27]";case"xls":case"xlsx":case"csv":return"bg-[#10A37F]";default:return"bg-blue"}}(t,s?.contextConnector))}),(0,w.jsx)(k,{percentage:s?null:n})]}):(0,w.jsx)(N,{filename:t,contextConnectorInfo:s})}),(0,w.jsxs)("div",{className:"overflow-hidden",children:[(0,w.jsx)("div",{className:"truncate font-semibold",children:(0,y.Ad)(t,d)}),(0,w.jsx)("div",{className:"truncate text-token-text-tertiary",children:u})]})]})}function k(e){let{percentage:t,blurBackground:r=!1}=e;return(0,w.jsx)("div",{className:(0,a.default)("absolute inset-0 flex items-center justify-center text-white",r&&"bg-black/5 backdrop-blur-sm"),children:t?(0,w.jsx)(f.Z,{percentage:t,className:"h-6 w-6"}):(0,w.jsx)(h.Z,{className:"h-6 w-6 text-token-text-secondary"})})}let C="h-10 w-10 flex-shrink-0";function N(e){let{filename:t,contextConnectorInfo:r}=e;if(r)return(0,w.jsx)(g.J,{contextConnector:r.contextConnector,extension:r.syntheticExtension??(0,y.$p)(t)??null,className:C});switch((0,y.$p)(t)){case"py":case"js":case"jsx":case"ts":case"tsx":return(0,w.jsx)(b.yc,{className:C});case"doc":case"docx":case"txt":case"pdf":return(0,w.jsx)(b.tf,{className:C});case"zip":return(0,w.jsx)(b.LO,{className:C});case"ppt":case"pptx":case"key":return(0,w.jsx)(b.N,{className:C});case"xls":case"xlsx":case"csv":return(0,w.jsx)(b.OD,{className:C});default:return(0,w.jsx)(b.pC,{className:C})}}let M=(0,d.vU)({fileDescDocument:{id:"FileDataView.fileDescDocument",defaultMessage:"Document"},fileDescZip:{id:"FileDataView.fileDescZip",defaultMessage:"Zip Archive"},fileDescSpreadsheet:{id:"FileDataView.fileDescSpreadsheet",defaultMessage:"Spreadsheet"},fileDescPresentation:{id:"FileDataView.fileDescPresentation",defaultMessage:"Presentation"},fileDescImage:{id:"FileDataView.fileDescImage",defaultMessage:"Image"},fileDescFile:{id:"FileDataView.fileDescFile",defaultMessage:"File"}});function O(e){return e instanceof File}function L(e){let{downloadLink:t}=e,r=(0,l.useCallback)(()=>{let e=document.createElement("a");e.href=t,e.setAttribute("download",t.split("/").pop()??"downloaded_file"),document.body.appendChild(e),e.click(),document.body.removeChild(e)},[t]);return(0,w.jsx)("button",{onClick:r,children:(0,w.jsx)(x._8t,{className:"icon-sm m-1.5"})})}function _(e){let{onRemoveFileClick:t,file:r,fileId:n,gizmoId:s,loadingPercentage:i,contextConnectorInfo:o,width:l="normal",alwaysShowData:d=!1,showDownloadButton:u=!1,downloadLink:m=""}=e,h=(0,c.Z)(),g=void 0!==i&&i<100,j=O(r)?r.name:r,b=O(r)&&r?.type.startsWith("image/")||(0,y.CO)(j)&&null!=n,k=b&&(0,w.jsx)(F,{file:r,fileId:n,gizmoId:s,contextConnectorInfo:o}),C=b?void 0:o?.sourceUrl;return(0,w.jsxs)("div",{className:"group relative inline-block text-sm text-token-text-primary",children:[(0,w.jsx)(D,{showTooltip:!t,sourceUrl:C,className:"relative overflow-hidden rounded-xl border border-token-border-light bg-token-main-surface-primary",children:b&&!d?(0,w.jsxs)("div",{className:"h-14 w-14",children:[k,g&&(0,w.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5 text-white",children:(0,w.jsx)(f.Z,{percentage:i,className:"h-6 w-6"})})]}):(0,w.jsxs)("div",{className:(0,a.default)("p-2","wide"===l?"w-80":"w-60"),children:[(0,w.jsx)(v,{fileName:j,icon:k,loadingPercentage:i,contextConnectorInfo:o}),u&&""!==m&&(0,w.jsx)("div",{className:"absolute right-1 top-1",children:(0,w.jsx)(L,{downloadLink:m})})]})}),null!=t&&(0,w.jsx)("button",{onClick:t,className:"absolute right-1 top-1 -translate-y-1/2 translate-x-1/2 rounded-full border border-token-border-heavy bg-token-main-surface-secondary p-0.5 text-token-text-primary transition-colors hover:opacity-100 group-hover:opacity-100 md:opacity-0",children:(0,w.jsx)(p.u,{label:h.formatMessage(Z.removeFile),side:"top",sideOffset:4,children:(0,w.jsx)(x.tPq,{className:"icon-sm"})})})]})}let P=u.Z.span`flex items-center h-full w-full justify-center bg-gray-500 dark:bg-gray-700 bg-cover bg-center text-white`;function E(){return(0,w.jsx)(P,{})}function F(e){let{file:t,fileId:r,gizmoId:i,contextConnectorInfo:a}=e,d=(0,c.Z)(),u=O(t)?t.name:t,f=function(e,t,r,i,a){let{0:c,1:d}=(0,l.useState)(void 0);return(0,l.useEffect)(()=>{async function l(e){try{let t=await s.Z.getFileDownloadLink(e,i);t.status===n.KF.Success?d(t.download_url):o.U.addError(`Error fetching URL for file ${e}: ${t.status}`)}catch(t){o.U.addError(Error(`Error fetching URL for file ${e})`,{cause:t}))}}if(a)r&&l(r);else if(e?.type.startsWith("image/")&&!a){let t=new FileReader;t.addEventListener("load",()=>{let e=t.result;d("string"==typeof e?e:void 0)}),t.readAsDataURL(e)}else(0,y.CO)(t)&&null!=r?l(r):d(void 0)},[e,t,r,i,a]),c}(O(t)?t:null,u,r,i,a);return null==f?(0,w.jsx)(E,{}):(0,w.jsx)(m.l,{src:f,alt:d.formatMessage(Z.userUploadedImage),contextConnectorSourceUrl:a?.sourceUrl,className:"h-full w-full",children:(0,w.jsx)(P,{style:{backgroundImage:`url(${f})`}})})}let Z=(0,d.vU)({removeFile:{id:"FileTile.removeFile",defaultMessage:"Remove file"},userUploadedImage:{id:"FileTile.userUploadedImage",defaultMessage:"User uploaded image"}});function D(e){let{showTooltip:t,sourceUrl:r,children:n,className:s}=e,o=(0,i.yA)();if(!r)return(0,w.jsx)("div",{className:s,children:n});let a=(0,w.jsx)("a",{href:r,target:"_blank",children:(0,w.jsx)("div",{className:s,children:n})});return t&&o?(0,w.jsx)(p.u,{wide:!0,interactive:!0,sideOffset:0,label:(0,w.jsxs)("a",{href:r,target:"_blank",className:"flex w-full items-center gap-2",children:[(0,w.jsx)("p",{className:"line-clamp-1 flex-1 text-ellipsis",children:r.split("").join("​")}),(0,w.jsx)(x.Pfi,{className:"icon-sm"})]}),side:"top",children:a}):a}},93866:function(e,t,r){"use strict";r.d(t,{AJ:function(){return o},XX:function(){return l},xA:function(){return a}});var n,s,i=r(42606);let o=((n={})[n.None=0]="None",n[n.Multimodal=1]="Multimodal",n[n.Interpreter=2]="Interpreter",n[n.Retrieval=3]="Retrieval",n[n.ContextConnector=4]="ContextConnector",n[n.ProfilePicture=5]="ProfilePicture",n);function a(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:(0,i.o)(e.synthetic_extension),type:e.type}}let l=((s={}).Uploading="uploading",s.Ready="ready",s)},66114:function(e,t,r){"use strict";r.d(t,{$H:function(){return h},$p:function(){return _},Ad:function(){return T},B:function(){return S},BV:function(){return F},CO:function(){return P},Iy:function(){return p},KL:function(){return O},L8:function(){return x},O6:function(){return b},Tu:function(){return Z},VF:function(){return j},Vm:function(){return E},WI:function(){return D},YN:function(){return w},Z8:function(){return L},Zp:function(){return N},_0:function(){return C},kr:function(){return g},p0:function(){return M},s1:function(){return v},ww:function(){return y},xs:function(){return k}});var n=r(99333),s=r(16757),i=r(2721),o=r(86025),a=r(58695),l=r(82363),c=r(92379),d=r(75172),u=r(68306),f=r(24740),m=r(93866);function p(e){return e.replace("file-service://","")}function x(e){return"file-service://"+e}function h(e){return e.startsWith("file-service://")}function g(e,t,r){switch(t){case"file_zero_bytes":return e.formatMessage(z.fileZeroBytes,r);case"file_too_large":return e.formatMessage(z.fileTooLarge,r);case"over_user_quota":return e.formatMessage(z.overUserQuota,r);case"file_not_found":case"file_expired":return e.formatMessage(z.fileNotFound,r);case"file_timed_out":return e.formatMessage(z.fileTimedOut,r);case"ace_pod_expired":return e.formatMessage(z.codeInterpreterSessionTimeout,r);case"permission_error":return e.formatMessage(z.permissionError,r);case"default_upload_error":case"file_rejected":return e.formatMessage(z.defaultCreateEntryError,r);case"default_download_link_error":return e.formatMessage(z.defaultDownloadLinkError,r);case"file_empty":return e.formatMessage(z.fileEmpty,r);case"too_many_tokens":return e.formatMessage(z.fileTooManyTokens,r);case"file_encrypted":return e.formatMessage(z.fileEncrypted,r);case"file_corrupted":return e.formatMessage(z.fileCorrupted,r);case"failed_upload_to_blobstore":return e.formatMessage(z.failedUploadToBlobStore,r);default:return e.formatMessage(z.unknownError)}}function j(){let e=(0,d.Z)();return(0,c.useCallback)((t,r)=>g(e,t,r),[e])}function b(){let{session:e}=(0,a.kP)(),{isUnauthenticated:t}=(0,o.u)(),r=(0,d.Z)();return async(s,o)=>{if(!t&&null==e)return f.m.danger(r.formatMessage(z.fileDownloadFailed)),!1;try{let e=await i.Z.getFileDownloadLink(s,void 0,t);if(e.status!==n.KF.Success)throw Error("File is not ready to download: "+JSON.stringify(e));let r=e.download_url,a=document.createElement("a");a.href=r,a.download=o,a.click(),window.open(r,"_blank")}catch(e){return f.m.danger(r.formatMessage(z.fileDownloadFailed)),!1}return!0}}function y(e,t){return t?.kind===s.OL.GizmoInteraction||t?.kind===s.OL.GizmoTest?t.gizmo?.product_features:e?.product_features}function w(e,t){let r=y(e,t);return r?.attachments?.type===n.Cd.CodeInterpreter?m.AJ.Interpreter:r?.attachments?.type===n.Cd.Multimodal?m.AJ.Multimodal:r?.attachments?.type===n.Cd.Retrieval?m.AJ.Retrieval:r?.attachments?.type===n.Cd.ContextConnector?m.AJ.ContextConnector:m.AJ.None}function v(e){return({md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp"})[e.split(".").pop()?.toLowerCase()??""]||""}function k(e,t,r,n,s){if(null==s)return e;let i=v(t);i&&(r=i),n&&(r=function(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}(r));let{accepted_mime_types:o,can_accept_all_mime_types:a}=s;return null!=o&&0!==o.length&&a?o.includes(r)?e:m.AJ.Interpreter:e}function C(e,t,r){let s=""!==t?t:v(r),i=e?.product_features?.attachments;return null==i?void 0:i.accepted_mime_types?.includes(s)?i.type:i.image_mime_types?.includes(s)?n.Cd.Multimodal:n.Cd.CodeInterpreter}function N(e,t){let r=y(e,t);return r?.attachments?.can_accept_all_mime_types?void 0:r?.attachments?.accepted_mime_types}function M(e,t){let{attachments:r}=y(e,t)??{};return r?.image_mime_types?r.image_mime_types:r?.type==="multimodal"?r.accepted_mime_types??O:[]}let O=["image/png","image/jpeg","image/gif","image/webp"];function L(e){return(0,c.useMemo)(()=>{if(void 0===e)return{};let t={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]};return{accept:e.reduce((e,r)=>(r in t?e[r]=t[r]:r.includes("/")&&(e[r]=[`.${r.split("/")[1]}`]),e),{})}},[e])}function _(e){return e.split(".").pop()?.toLowerCase()}function P(e){let t=_(e);return null!=t&&["jpg","jpeg","png","gif","webp"].includes(t)}function E(e){let t=_(e);return null!=t&&["xls","xlsx","csv"].includes(t)}function F(e){let t=_(e);return null!=t&&["xls","xlsx"].includes(t)}function Z(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fit";return new Promise((n,s)=>{let i=new FileReader;i.onerror=e=>{l.U.addError(Error("File reading has failed:",{cause:e})),s(Error("Failed to read the file."))},i.onload=i=>{let o=new Image;o.onerror=e=>{l.U.addError(Error("Image loading has failed:",{cause:e})),s(Error("Failed to load the image."))},o.onload=()=>{let i=document.createElement("canvas"),a,c=0,d=0;switch(r){case"fill":case"square":a=t/Math.min(o.width,o.height);break;case"fit":a=t/Math.max(o.width,o.height)}let u=o.width*a,f=o.height*a;"square"===r?(i.width=t,i.height=t,c=(t-u)/2,d=(t-f)/2):(i.width=u,i.height=f);let m=i.getContext("2d");if(null==m){l.U.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),s(Error("Failed to create canvas context."));return}m.drawImage(o,c,d,u,f);let p=e.type||"image/png";i.toBlob(t=>{t?n(new File([t],e.name,{type:p})):(l.U.addError("Blob creation failed. Blob is null."),s(Error("Failed to create blob from image data.")))},p)},null==i.target?(l.U.addError("Event target is null. Failed to load image."),s("Failed to load image.")):o.src=i.target.result},i.readAsDataURL(e)})}function D(e,t){return Z(e,t,"square")}function S(e){let t=e.name.split("/")??[];return(t[t.length-1]??"").replace(/[-_]/g," ").split(".")[0]}function T(e,t){return t?e.slice(0,-t.length-1):e}let z=(0,u.vU)({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}})},12128:function(e,t,r){"use strict";r.d(t,{M:function(){return c},Z:function(){return l}});var n=r(25162),s=r(28146),i=r(39004),o=r(10080),a=r(651);function l(e){let{isFirstParty:t,src:r,alt:i,className:o}=e;return(0,a.jsx)("div",{className:o,children:null!=r?(0,a.jsx)("div",{className:"gizmo-shadow-stroke overflow-hidden rounded-full",children:(0,a.jsx)("img",{src:r,className:"h-full w-full bg-token-main-surface-secondary",alt:i??"GPT",width:80,height:80})}):(0,a.jsx)("div",{className:"gizmo-shadow-stroke relative flex h-full items-center justify-center rounded-full bg-token-main-surface-primary text-token-text-primary",children:t?(0,a.jsx)(n.nI,{className:"h-2/3 w-2/3"}):(0,a.jsx)(s.uy2,{className:"h-2/3 w-2/3 text-gray-400"})})})}function c(e){let{gizmoId:t,className:r}=e,{data:n}=(0,i.b9)(t);return(0,a.jsx)(l,{src:n?.gizmo.display.profile_picture_url,isFirstParty:n?.gizmo.tags?.includes(o.U9.FirstParty)??!1,className:r})}},88301:function(e,t,r){"use strict";r.d(t,{B1:function(){return c},hj:function(){return d},lX:function(){return f},r:function(){return m},yt:function(){return u}});var n=r(28146),s=r(30853),i=r(19841),o=r(62984),a=r(15478),l=r(651);let c=a.Z.textarea`w-full text-sm overflow-y-auto rounded-lg border px-3 py-2 focus:ring-2 focus:ring-blue-400 border-token-border-medium bg-token-main-surface-primary h-32`,d=a.Z.div`mb-6`,u=a.Z.input`w-full resize-none overflow-y-auto rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 border focus:ring-blue-400 border-token-border-medium h-9 bg-token-main-surface-primary`;function f(e){let{label:t,description:r,collapsed:i,onClick:o}=e,a=(0,l.jsx)("label",{className:"block font-semibold text-token-text-primary",children:t});return(0,l.jsxs)("div",{className:"mb-1.5 flex items-center",onClick:o,children:[void 0!==i&&(i?(0,l.jsx)(n.r0F,{className:"icon-sm"}):(0,l.jsx)(n.Tg4,{className:"icon-sm"})),r?(0,l.jsx)(s.u,{label:r,sideOffset:4,side:"top",delayDuration:0,children:a}):(0,l.jsx)(l.Fragment,{children:a})]})}function m(e){let{actionTool:t,onShowActionsEditor:r,isDisabled:s}=e,a="metadata"in t?t.metadata?.domain:void 0;return(0,l.jsxs)("div",{className:(0,i.default)("flex rounded-lg border border-token-border-medium text-sm hover:cursor-pointer",s?"bg-token-main-surface-secondary":""),onClick:r,children:[(0,l.jsx)("div",{className:"h-9 grow px-3 py-2",children:a??(0,l.jsx)("span",{className:"text-red-500",children:(0,l.jsx)(o.Z,{id:"TJYXrY",defaultMessage:"Invalid action"})})}),(0,l.jsx)("div",{className:"w-px bg-token-border-medium"}),(0,l.jsx)("button",{disabled:s,className:"flex h-9 w-9 items-center justify-center rounded-lg rounded-l-none",children:(0,l.jsx)(n.SWE,{className:"icon-sm"})})]})}},17711:function(e,t,r){"use strict";r.d(t,{W:function(){return g}});var n=r(98601),s=r(99333),i=r(98303),o=r(30853),a=r(71090),l=r(41987);r(92379);var c=r(75172),d=r(62984),u=r(68306),f=r(651);function m(){return(0,f.jsx)("div",{className:"ml-2 flex h-3.5 w-3.5 cursor-default items-center justify-center rounded-full border border-token-border-medium text-[0.5rem] font-semibold leading-none text-token-text-tertiary",children:"?"})}function p(e){let{description:t}=e;return(0,f.jsx)(o.u,{wide:!0,label:t,delayDuration:0,children:(0,f.jsx)(m,{})})}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){let{label:t,toolType:r,enabledTools:n,onEnabledToolsChange:s,disabled:i,disabledTooltip:l}=e,c=e=>n.some(t=>t.type===e),d=(0,f.jsx)(a.f8,{labelClassName:"w-full cursor-pointer",id:r,label:t,checked:!i&&c(r),disabled:i,onChange:()=>{c(r)?s(n.filter(e=>e.type!==r)):s([...n,{type:r}])}});return null!=l?(0,f.jsx)("div",{className:"opacity-70",children:(0,f.jsx)(o.u,{side:"top",label:l,children:d})}):d}function g(e){let{enabledTools:t,onEnabledToolsChange:r}=e,o=(0,i.C)(l.L0.BrowsingAvailable),a=(0,c.Z)();return(0,f.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,f.jsx)(h,{label:(0,f.jsx)(d.Z,{id:"tNlef1",defaultMessage:"Web Browsing"}),toolType:s.qK.BROWSER,enabledTools:t,onEnabledToolsChange:r,disabled:!o,disabledTooltip:o?void 0:(0,f.jsx)(d.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},j.disabledBrowsingToolTip))}),(0,f.jsx)(h,{label:(0,f.jsx)(d.Z,{id:"uSmS/p",defaultMessage:"DALL\xb7E Image Generation"}),toolType:s.qK.DALLE,enabledTools:t,onEnabledToolsChange:r}),(0,f.jsx)(h,{label:(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)(d.Z,{id:"8Lv1lK",defaultMessage:"Code Interpreter & Data Analysis"}),(0,f.jsx)(p,{description:a.formatMessage(j.codeInterpreterTooltip)})]}),toolType:s.qK.PYTHON,enabledTools:t,onEnabledToolsChange:r})]})}let j=(0,u.vU)({disabledBrowsingToolTip:{defaultMessage:"Web browsing is disabled for your workspace. Contact your admin to enable it.",id:"GizmoEditorModelPicker.disabledBrowsingToolTip"},codeInterpreterTooltip:{id:"GizmoEditorModelPicker.codeInterpreterTooltip",defaultMessage:"Allow this GPT to run code. When enabled, this GPT can analyze data, work with files you’ve uploaded, do math, and more."},memoryTooltip:{id:"GizmoEditorModelPicker.memoryTooltip",defaultMessage:"Allow this GPT to pick up on users details and preferences to tailor its responses to them. When enabled, users will need to have memory on to use this GPT."}})},71090:function(e,t,r){"use strict";r.d(t,{A7:function(){return h},QT:function(){return g},Xb:function(){return b},cY:function(){return j},f8:function(){return y}});var n=r(98601),s=r(52088),i=r(55963),o=r(43991),a=r(19841),l=r(92379),c=r(15478),d=r(11550),u=r(30853),f=r(651);let m=["tooltip","className"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let h=56,g=c.Z.div`sticky top-0 p-3 mb-1.5 flex items-center justify-between z-10 h-14 font-semibold bg-token-main-surface-primary`,j=(0,l.forwardRef)(function(e,t){let{tooltip:r,className:n}=e,i=(0,s.Z)(e,m),o=(0,f.jsx)(d.z,x(x({color:e.color??"secondary",size:"medium"},i),{},{className:n,ref:t}));return null!=r?(0,f.jsx)(u.u,{label:r,children:o}):o});function b(e){let{label:t,disabled:r=!1,tooltipText:n,value:s}=e,i=(0,l.useId)();return(0,f.jsx)("div",{className:(0,a.default)("flex items-center gap-2",r?"opacity-50":""),children:(0,f.jsx)(u.E,{disabled:null==n,label:n,side:"right",children:(0,f.jsxs)("label",{htmlFor:i,className:"flex cursor-pointer items-center gap-1",children:[(0,f.jsx)(o.ck,{id:i,value:s,disabled:r,className:"mr-1 flex h-5 w-5 shrink-0 items-center justify-center rounded-full border border-gray-500 bg-white dark:border-gray-600 dark:bg-gray-700",children:(0,f.jsx)(o.z$,{className:"h-2 w-2 rounded-full bg-gray-950 dark:bg-white"})}),t]})})})}function y(e){return(0,f.jsx)(i.Z,x(x({},e),{},{className:(0,a.default)("!rounded border-gray-950 checked:!bg-black dark:border-gray-600 dark:bg-gray-700",e.className)}))}},3551:function(e,t,r){"use strict";r.d(t,{AA:function(){return a},FH:function(){return d},J8:function(){return c},L7:function(){return o},SX:function(){return u},ZV:function(){return s},cy:function(){return i},xj:function(){return l}});var n=r(39004);function s(e,t){return t?`/g/${(0,n.kX)(t)}/c/${e}`:`/c/${e}`}function i(){return"/gpts"}function o(){return"/gpts/mine"}function a(e){return e?`/gpts/editor/${e}`:"/gpts/editor"}function l(e){let t=a(void 0);return null==e?t:a(e)}function c(e){return a(e)}function d(e){try{let t=new URL(e);return t.hostname=t.hostname.replace(/^(www\.|web\.|mbasic\.|mobile\.)(secure\.)?/,""),t.pathname="",[...t.searchParams.keys()].forEach(e=>t.searchParams.delete(e)),t.toString()}catch(t){return e}}function u(e){let t=function(e){if(!e)return null;try{return new URL(e).hostname}catch(e){return null}}(e);return t?t.replace(/^www\./,""):e}},71026:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/g/[gizmoId]/view",function(){return r(52051)}])},26671:function(e,t,r){"use strict";r.d(t,{B:function(){return a}});var n=r(92379),s=r(31541),i=r(59246),o=r(7186);function a(e){let t=e+"CollectionProvider",[r,a]=(0,s.b)(t),[l,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),d=e+"CollectionSlot",u=n.forwardRef((e,t)=>{let{scope:r,children:s}=e,a=c(d,r),l=(0,i.e)(t,a.collectionRef);return n.createElement(o.g7,{ref:l},s)}),f=e+"CollectionItemSlot",m="data-radix-collection-item";return[{Provider:e=>{let{scope:t,children:r}=e,s=n.useRef(null),i=n.useRef(new Map).current;return n.createElement(l,{scope:t,itemMap:i,collectionRef:s},r)},Slot:u,ItemSlot:n.forwardRef((e,t)=>{let{scope:r,children:s,...a}=e,l=n.useRef(null),d=(0,i.e)(t,l),u=c(f,r);return n.useEffect(()=>(u.itemMap.set(l,{ref:l,...a}),()=>void u.itemMap.delete(l))),n.createElement(o.g7,{[m]:"",ref:d},s)})},function(t){let r=c(e+"CollectionConsumer",t);return n.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${m}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},a]}}},function(e){e.O(0,[9237,2342,4089,3794,2745,5162,9113,2888,9774,179],function(){return e(e.s=71026)}),_N_E=e.O()}]);
//# sourceMappingURL=view-5a7f269e4a09cde8.js.map