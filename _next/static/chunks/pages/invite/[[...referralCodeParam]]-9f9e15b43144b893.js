(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2493],{72519:function(e,r,a){"use strict";a.r(r),a.d(r,{__N_SSP:function(){return Q},default:function(){return ee}});var t,l=a(41141),i=a(94521),n=a(93223),s=a(4702),o=a(24040),d=a(14816),c=a(96053),u=a(53985),f=a(93747),x=a(15236),m=a(27033),h=a(59031),g=a(58328),p=a(47858),v=a(48580),j=a(556),y=a(83263),_=a(64331),b=a(40319),w=a.n(b),I=a(43128),N=a(92379),k=a(26123),C=a(72256),M=a(25940),P=a(74091),O=a(91522),R=a(60351),D=a(5443),E=a(92426),S=a(55257),U=a(6136),T=a(96033),Z=a(21885),L=a(50684),F=a(94982),H=a(651);function A(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,t)}return a}function B(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?A(Object(a),!0).forEach(function(r){(0,i.Z)(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function V(){return(0,H.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,H.jsx)(L.Z,{})})}let G=e=>{let{referralCodeId:r,sessionUser:a,auth0Provider:t,redirectUrl:l}=e,i=(0,k.Z)(),{resolvedTheme:n}=(0,_.F)(),s="dark"===n,o=(0,N.useRef)(null);return(0,N.useEffect)(()=>{v.m9.logEvent("chatgpt_referral_invite_loaded",null!=a&&a.id?"has_user":"user_logged_out",{user_id:null!=a&&a.id?a.id:"_no_user",referral_code_id:r})},[r,null==a?void 0:a.id]),(0,N.useEffect)(()=>{null===o.current&&(o.current=document.body.style.backgroundColor);let e=s?"#00002E":"#FFFFDB";return document.body.style.backgroundColor=e,()=>{null!==o.current&&(document.body.style.backgroundColor=o.current)}},[s]),(0,H.jsxs)("div",{className:"flex min-h-full w-screen flex-col sm:supports-[min-height:100dvh]:min-h-[100dvh] md:grid md:grid-cols-2 lg:grid-cols-[60%_40%] ",children:[(0,H.jsx)(T.O,{}),(0,H.jsxs)("div",{className:"relative flex grow flex-col items-center justify-between bg-white px-5 py-8 text-black dark:bg-black dark:text-white sm:rounded-t-[30px] md:rounded-none md:px-6",children:[(0,H.jsx)("nav",{className:"flex w-full justify-start px-6 pb-8 md:hidden md:px-6 lg:px-8",children:(0,H.jsx)("h1",{"aria-label":i.formatMessage(J.ariaLabel),children:(0,H.jsx)("div",{className:"flex cursor-default items-center text-[20px] font-bold leading-none lg:text-[22px]",children:(0,H.jsx)("div",{children:U.L})})})}),(0,H.jsx)(z,{sessionUser:a,auth0Provider:t,redirectUrl:l,referralCodeId:r}),(0,H.jsxs)("div",{className:"flex flex-col items-center justify-end",children:[(0,H.jsx)("div",{className:"flex text-gray-300",children:(0,H.jsx)(S.nV,{className:"h-[22px] w-auto"})}),(0,H.jsx)("div",{className:" opacity-50",children:(0,H.jsx)(R.VL,{isStorageComplianceEnabled:!1})})]})]})]})},W=e=>{let{offerDollarValue:r,sessionUser:a,isLoading:t,isLoadingLogin:l,handleClaimInvite:i,handleSignupWarning:n,handleLogin:s}=e,d=(0,o.ec)(o.F_.hasPaidSubscription);return null!=a&&a.id?(0,H.jsx)(D.z,{disabled:t||d,loading:t,color:d?"disabled":"blue",size:"large",fullWidth:!0,onClick:i,children:d?(0,H.jsx)(C.Z,B({},J.alreadyPaidUserCta)):(0,H.jsx)(C.Z,B(B({},J.acceptInviteCtaLoggedIn),{},{values:{dollarValue:r}}))}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:"pb-5 text-center text-sm text-token-text-tertiary",children:(0,H.jsx)(C.Z,B({},J.claimInviteLoginOrSignUp))}),(0,H.jsx)("div",{className:"flex flex-col space-y-4 px-3",children:(0,H.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row",children:[(0,H.jsx)(D.z,{disabled:t,loading:l,fullWidth:!0,onClick:s,children:(0,H.jsx)(C.Z,B({},O.messages.logIn))}),(0,H.jsx)(D.z,{onClick:n,disabled:t,fullWidth:!0,children:(0,H.jsx)(C.Z,B({},O.messages.signUp))})]})})]})};function z(e){var r,a;let{sessionUser:t,referralCodeId:l,redirectUrl:i,auth0Provider:_}=e,{0:b,1:M}=(0,N.useState)(!1),{0:P,1:O}=(0,N.useState)(!1),{0:R,1:D}=(0,N.useState)(!1),{0:S,1:U}=(0,N.useState)(!1),T=null!==(r=null==t?void 0:t.id)&&void 0!==r?r:"_no_user",{data:L,isLoading:A,isError:V}=(0,d.a)({queryKey:["referral-invite",l],queryFn:()=>n.Z.getPublicReferralInvite(l)}),G=(0,k.Z)(),z=null==L||null===(a=L.result.invite_metadata)||void 0===a?void 0:a.invite_data,Q="$".concat(null==z?void 0:z.referral_trial_dollar_value),ee=null==z?void 0:z.referrer_public_avatar_url,er=null!=z&&z.referral_trial_duration_months?(null==z?void 0:z.referral_trial_duration_months)>=1?G.formatMessage(J.monthsOfService,{referralTrialDurationMonths:null==z?void 0:z.referral_trial_duration_months}):G.formatMessage(J.daysOfService,{referralTrialDurationDays:null==z?void 0:z.referral_trial_duration_days}):null,ea=null==z?void 0:z.referrer_user_name,et=null!=z&&z.referral_trial_duration_months?(null==z?void 0:z.referral_trial_duration_months)>1?G.formatMessage(J.monthsOfBenefit,{referralTrialDurationMonths:null==z?void 0:z.referral_trial_duration_months}):G.formatMessage(J.daysOfBenefit,{referralTrialDurationDays:null==z?void 0:z.referral_trial_duration_days}):null,el=null!=z&&z.referral_trial_duration_months?(null==z?void 0:z.referral_trial_duration_months)>=1?G.formatMessage(J.ctaHeaderMonths,{referralTrialDurationMonths:null==z?void 0:z.referral_trial_duration_months}):G.formatMessage(J.ctaHeaderDays,{referralTrialDurationDays:null==z?void 0:z.referral_trial_duration_days}):null,ei=G.formatMessage(J.dollarValue,{offerDollarValue:Q}),en=(0,s.t)(),es=(0,o.ec)(o.F_.workspaceId),eo=(0,I.useRouter)(),{mutateAsync:ed}=(0,c.D)({mutationFn:()=>n.Z.postClaimReferralInvite(l,es||""),onSettled:()=>{D(!1)},onError:async()=>{F.m.danger(G.formatMessage(J.claimReferralError))},onSuccess:()=>{M(!0),eo.push("/invite/accepted?referralCodeId=".concat(l))}}),ec=async()=>{D(!0),v.m9.logEvent("chatgpt_referral_invite_claim",l,{referralCodeId:l,userId:T}),f.A.logEvent(x.M.chatgptReferralInviteClaim,{content:T}),await ed()},eu=(0,p.L)();return((0,N.useEffect)(()=>{V&&(eo.push("/?e=oldi"),h.U.addAction("fetch_error_404",{url:location.href,errorMessage:"Referral code not found"}))},[V,eo]),V)?(0,H.jsx)(q,{}):A||null==en&&null!=t&&t.id||b?(0,H.jsx)(X,{}):(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)("div",{className:"relative flex h-full w-full flex-col items-center justify-center",children:[P&&(0,H.jsx)(j.E.div,{initial:{opacity:0,x:10},transition:{delay:1,duration:.1},animate:{x:0,opacity:1,transition:{duration:.2,ease:"easeIn"}},exit:{opacity:0,transition:{duration:.2,ease:"easeIn"}},children:(0,H.jsx)($,{handleSignup:()=>{D(!0),U(!0),v.m9.logEvent("chatgpt_referral_invite_signup",l,{referralCodeId:l}),f.A.logEvent(x.M.chatgptReferralInviteSignup,{content:l}),(0,y.signIn)(_,{callbackUrl:i},B({prompt:"login",screen_hint:"signup"},(0,u.gk)((0,g.f3)())))},setHasRequestedSignup:O})}),!P&&(0,H.jsx)(j.E.div,{initial:{opacity:0},transition:{delay:1,duration:.2},animate:{opacity:1,transition:{duration:.2,ease:"easeIn"}},exit:{opacity:0,transition:{duration:.2,ease:"easeIn"}},children:(0,H.jsx)("div",{className:"relative mx-auto flex h-full max-w-[372px] flex-col items-center justify-center space-y-4 rounded-t-[30px] bg-white px-5 text-black dark:bg-black dark:text-white md:rounded-none md:px-6",children:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("h2",{className:"text-center text-[20px] leading-[1.2] md:text-[32px] md:leading-8",children:el}),(0,H.jsx)(K,{referrerPublicAvatarUrl:ee,referrerName:ea,benefitWithTime:et,receivedPlan:"ChatGPT Plus",dollarValue:ei}),(0,H.jsx)("div",{children:(0,H.jsx)("p",{className:"text-sm",children:(0,H.jsx)(C.Z,B({},J.benefitPointsHeader))})}),(0,H.jsxs)("div",{className:"space-y-3",children:[(0,H.jsxs)(Y,{children:[(0,H.jsx)("span",{className:"h-5 w-5 rounded-full bg-green-500 p-0.5",children:(0,H.jsx)(E.$As,{className:"h-4 w-4 text-white"})}),(0,H.jsx)("span",{className:"max-w-full",children:(0,H.jsx)(C.Z,B({},Z.S.plus.demandAccess))})]}),(0,H.jsxs)(Y,{children:[(0,H.jsx)("span",{className:"h-5 w-5 rounded-full bg-green-500 p-0.5",children:(0,H.jsx)(E.$As,{className:"h-4 w-4 text-white"})}),(0,H.jsx)("span",{className:"max-w-full",children:(0,H.jsx)(C.Z,B({},Z.S.plus.responseSpeed))})]}),(0,H.jsxs)(Y,{className:"pb-2",children:[(0,H.jsx)("span",{className:"h-5 w-5 rounded-full bg-green-500 p-0.5",children:(0,H.jsx)(E.$As,{className:"h-4 w-4 text-white"})}),(0,H.jsx)("span",{className:"max-w-full",children:(0,H.jsx)(C.Z,B({},Z.S.plus.modelFeatures))})]})]}),(0,H.jsx)("div",{className:"w-full",children:(0,H.jsx)(W,{handleClaimInvite:ec,handleSignupWarning:()=>{D(!0),O(!0),v.m9.logEvent("chatgpt_referral_invite_explain_signup",l,{referralCodeId:l}),f.A.logEvent(x.M.chatgptReferralInviteExplainSignup,{content:l}),D(!1)},handleLogin:()=>{var e;D(!0),U(!0),v.m9.logEvent("chatgpt_referral_invite_login",l,{referralCodeId:l}),f.A.logEvent(x.M.chatgptReferralInviteLogin,{content:l});let r=null===(e=m.bX.getCookie(m.cn.DeviceId))||void 0===e?void 0:e.toString(),a=eu();(0,y.signIn)(_,B({callbackUrl:i},r?{device_id:r}:{}),B(B({prompt:"login"},(0,u.gk)((0,g.f3)())),a?{use_email_otp:"true"}:{}))},sessionUser:t,offerDollarValue:Q,isLoading:R,isLoadingLogin:S})}),(0,H.jsxs)("div",{className:"space-y-1.5 py-1 text-center",children:[(0,H.jsx)("p",{className:"text-xs text-token-text-tertiary",children:(0,H.jsx)(C.Z,B(B({},J.ctaFollowUpSummary),{},{values:{monthlyCost:"$20",monthsOfService:er}}))}),(null==t?void 0:t.id)&&(0,H.jsx)("p",{className:"text-xs text-token-text-tertiary",children:(0,H.jsx)(C.Z,B(B({},J.ctaNotice),{},{values:{userEmail:null==t?void 0:t.email,avatar:()=>{var e;return(0,H.jsx)("img",{className:"inline-block h-4 w-4 rounded-full",src:null!==(e=null==t?void 0:t.picture)&&void 0!==e?e:void 0,alt:null==t?void 0:t.name})},email:e=>(0,H.jsx)("span",{className:"font-semibold",children:e}),link:e=>(0,H.jsx)(w(),{className:"underline",href:"/auth/logout",children:e})}}))})]})]})})})]})})}let $=e=>{let{setHasRequestedSignup:r,handleSignup:a}=e;return(0,H.jsxs)("div",{className:"relative mx-auto flex h-full max-w-[372px] flex-col items-center justify-center space-y-4 rounded-t-[30px] bg-white px-5 text-black dark:bg-black dark:text-white md:rounded-none md:px-6",children:[(0,H.jsx)("h2",{className:"text-center text-[20px] leading-[1.2] md:text-[32px] md:leading-8",children:(0,H.jsx)(C.Z,B({},J.signUpExplainTitle))}),(0,H.jsx)("div",{children:(0,H.jsx)("p",{className:"text-sm",children:(0,H.jsx)(C.Z,B({},J.signUpExplainDescription))})}),(0,H.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row",children:[(0,H.jsx)(D.z,{fullWidth:!0,onClick:()=>{r(!1)},color:"secondary",children:(0,H.jsx)(C.Z,B({},J.signUpCtaBack))}),(0,H.jsx)(D.z,{onClick:a,fullWidth:!0,color:"primary",children:(0,H.jsx)(C.Z,B({},J.signUpCtaProceed))})]})]})},q=()=>(0,H.jsxs)("div",{className:"relative mx-auto flex h-full max-w-[480px] flex-col items-center justify-center space-y-3 rounded-t-[30px] bg-white px-5 py-8 text-black dark:bg-black dark:text-white md:rounded-none md:px-6",children:[(0,H.jsx)("div",{className:"relative flex h-8 w-8 items-center justify-center opacity-70",children:(0,H.jsx)(V,{})}),(0,H.jsx)(j.E.div,{initial:{opacity:0},transition:{delay:1,duration:.2},animate:{opacity:1,transition:{duration:.2,ease:"easeIn"}},exit:{opacity:0,transition:{duration:.2,ease:"easeIn"}},children:(0,H.jsxs)("div",{className:"text-center",children:[(0,H.jsx)("h2",{className:"text-sm font-semibold",children:(0,H.jsx)(C.Z,B({},J.errorHeader))}),(0,H.jsx)("p",{className:"text-xs font-normal",children:(0,H.jsx)(C.Z,B(B({},J.errorDescription),{},{values:{link:e=>(0,H.jsx)("a",{href:"/",className:"underline",children:e})}}))})]})})]}),X=()=>(0,H.jsx)("div",{className:"relative mx-auto flex h-full max-w-[480px] flex-col items-center justify-center space-y-3 rounded-t-[30px] bg-white px-5 py-8 text-black dark:bg-black dark:text-white md:rounded-none md:px-6",children:(0,H.jsx)("div",{className:"relative flex h-8 w-8 items-center justify-center opacity-70",children:(0,H.jsx)(V,{})})}),Y=P.Z.div(t||(t=(0,l.Z)(["gap-2 flex flex-row justify-start text-sm items-start"]))),K=e=>{let{referrerPublicAvatarUrl:r,referrerName:a,benefitWithTime:t,receivedPlan:l,dollarValue:i}=e;return(0,H.jsxs)("div",{className:"flex w-full items-center",children:[(0,H.jsx)("div",{className:"flex-shrink-0 pt-0.5",children:(0,H.jsx)("img",{className:"h-12 w-12 rounded-full bg-yellow-400",src:r,alt:a})}),(0,H.jsx)("div",{className:"ml-3 w-0 flex-1",children:(0,H.jsx)("p",{className:"text-sm text-token-text-primary",children:(0,H.jsx)(C.Z,B(B({},J.socialProofText),{},{values:{referrerName:a,benefitWithTime:t,receivedPlan:l,dollarValue:i,highlight:e=>(0,H.jsx)("span",{className:"rounded-sm bg-green-200 px-0.5 dark:bg-orange-500",children:e})}}))})})]})},J=(0,M.vU)({claimReferralError:{id:"ReferralInvite.claimReferralError",defaultMessage:"There was an issue."},claimInviteLoginOrSignUp:{id:"ReferralInvite.claimInviteLoginOrSignUp",defaultMessage:"You can claim this invite after you log in or sign up."},ctaNotice:{id:"ReferralInvite.ctaNotice",defaultMessage:"Claiming referral with <avatar></avatar> <email>{userEmail}</email>. <link>Not you?</link>"},ctaHeaderMonths:{id:"ReferralInvite.ctaHeaderMonths",defaultMessage:"Claim your {referralTrialDurationMonths, plural, one {one month} other {# months}} of ChatGPT Plus"},ctaHeaderDays:{id:"ReferralInvite.ctaHeaderDays",defaultMessage:"Claim your {referralTrialDurationDays, plural, one {one day} other {# days}} of ChatGPT Plus"},dollarValue:{id:"ReferralInvite.dollarValue",defaultMessage:"(a {offerDollarValue} value)"},monthsOfService:{id:"ReferralInvite.monthsOfService",defaultMessage:"{referralTrialDurationMonths, plural, one {# month} other {# months}}"},daysOfService:{id:"ReferralInvite.daysOfService",defaultMessage:"{referralTrialDurationDays, plural, one {# day} other {# days}}"},monthsOfBenefit:{id:"ReferralInvite.monthsOfBenefit",defaultMessage:"{referralTrialDurationMonths, plural, one {free month} other {# free months}}"},daysOfBenefit:{id:"ReferralInvite.daysOfBenefit",defaultMessage:"{referralTrialDurationDays, plural, one {# free day} other {# free days}}"},ariaLabel:{id:"ReferralInvite.ariaLabel",defaultMessage:"ChatGPT by OpenAI"},socialProofText:{id:"ReferralInvite.socialProofText",defaultMessage:"{referrerName} sent you <highlight>{benefitWithTime}</highlight> of {receivedPlan} {dollarValue}"},welcome:{id:"ReferralInvite.welcome",defaultMessage:"Welcome to ChatGPT"},benefitPointsHeader:{id:"ReferralInvite.benefitPointsHeader",defaultMessage:"ChatGPT Plus offers subscribers premium access to OpenAI's conversational AI, which includes:"},acceptInviteCtaLoggedOut:{id:"ReferralInvite.acceptInviteCtaLoggedOut",defaultMessage:"Get started"},acceptInviteCtaLoggedIn:{id:"ReferralInvite.acceptInviteCtaLoggedIn",defaultMessage:"Claim invite"},alreadyPaidUserCta:{id:"ReferralInvite.alreadyPaidUserCta",defaultMessage:"ChatGPT Plus subscription found"},ctaFollowUpSummary:{id:"ReferralInvite.ctaFollowUpSummary",defaultMessage:"{monthsOfService} free, then {monthlyCost}/month"},referralCodeContent:{id:"ReferralInvite.referralCodeContent",defaultMessage:"Referral code: {codeToken}"},errorHeader:{id:"ReferralInvite.errorHeader",defaultMessage:"Invite error"},errorDescription:{id:"ReferralInvite.errorDescription",defaultMessage:"You will be redirected, or <link>click here.</link>"},loadingHeader:{id:"ReferralInvite.loadingHeader",defaultMessage:"Invite loading"},loadingDescription:{id:"ReferralInvite.loadingDescription",defaultMessage:"Your page will be loaded, or <link>go home by clicking here.</link>"},signUpExplainTitle:{id:"ReferralInvite.signUpExplainTitle",defaultMessage:"Almost done!"},signUpExplainDescription:{id:"ReferralInvite.signUpExplainDescription",defaultMessage:"Once youâ€™ve finished signing up, return to this page to claim your invite."},signUpCtaProceed:{id:"ReferralInvite.signUpCtaProceed",defaultMessage:"Proceed"},signUpCtaBack:{id:"ReferralInvite.signUpCtaBack",defaultMessage:"Go back"}});var Q=!0;function ee(e){let{redirectUrl:r,sessionUser:a,auth0Provider:t,referralCodeId:l}=e;return(0,H.jsx)(G,{sessionUser:a,redirectUrl:r,referralCodeId:l,auth0Provider:t})}},59173:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/invite/[[...referralCodeParam]]",function(){return a(72519)}])}},function(e){e.O(0,[4091,1522,2888,9774,179],function(){return e(e.s=59173)}),_N_E=e.O()}]);
//# sourceMappingURL=[[...referralCodeParam]]-9f9e15b43144b893.js.map