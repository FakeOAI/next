(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1475],{21113:function(t,e,c){"use strict";c.r(e),c.d(e,{__N_SSP:function(){return o},default:function(){return i}});var n=c(31161),r=c(47480),u=c(72988),a=c(32307),s=c(92379),o=!0;function i(){let t=(0,a.useRouter)(),e=(0,s.useRef)(!1),{0:c,1:o}=(0,s.useState)(""),{code:i,error:f,error_description:_,state:l}=Object.fromEntries(new URLSearchParams(c.substring(1)).entries()),h=t.query.pluginId;(0,s.useEffect)(()=>{o(window.location.hash)},[]),(0,s.useEffect)(()=>{e.current||(h&&i&&l&&(e.current=!0),async function(){let e="".concat("https://chatgpt.com","/ccc/").concat(h,"/oauth/callback");if(!h||!i||!l)return;let c=await u.Z.connectorOauthCallback(h,i,e,l);if(c.success){let e=new URL((0,r.M5)(r.LT.OAUTH_SUCCESS,c.redirect_path));e.searchParams.set("oauth_success","true"),t.push(e.toString())}else{var n;t.push((0,r.M5)(r.LT.CUSTOM_ERROR,c.redirect_path,null!==(n=c.error)&&void 0!==n?n:c.message))}}())},[h,i,l,t]),(0,s.useEffect)(()=>{f&&n.m.danger("".concat(f).concat(_?": ".concat(_):""))},[f,_])}},54991:function(t,e,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ccc/[pluginId]/oauth/callback",function(){return c(21113)}])}},function(t){t.O(0,[2888,9774,179],function(){return t(t.s=54991)}),_N_E=t.O()}]);
//# sourceMappingURL=callback-2f047f5b4032620d.js.map