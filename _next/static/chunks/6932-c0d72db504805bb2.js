(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6932],{97663:function(t,e,n){"use strict";let i,r;n.d(e,{F:function(){return V}});let s=new WeakMap,o=new WeakMap;class AbortSignal{constructor(){this.onabort=null,s.set(this,[]),o.set(this,!1)}get aborted(){if(!o.has(this))throw TypeError("Expected `this` to be an instance of AbortSignal.");return o.get(this)}static get none(){return new AbortSignal}addEventListener(t,e){if(!s.has(this))throw TypeError("Expected `this` to be an instance of AbortSignal.");s.get(this).push(e)}removeEventListener(t,e){if(!s.has(this))throw TypeError("Expected `this` to be an instance of AbortSignal.");let n=s.get(this),i=n.indexOf(e);i>-1&&n.splice(i,1)}dispatchEvent(t){throw Error("This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.")}}function a(t){if(t.aborted)return;t.onabort&&t.onabort.call(t);let e=s.get(t);e&&e.slice().forEach(e=>{e.call(t,{type:"abort"})}),o.set(t,!0)}class l extends Error{constructor(t){super(t),this.name="AbortError"}}class c{constructor(t){if(this._signal=new AbortSignal,!t)return;for(let e of(Array.isArray(t)||(t=arguments),t))e.aborted?this.abort():e.addEventListener("abort",()=>{this.abort()})}get signal(){return this._signal}abort(){a(this._signal)}static timeout(t){let e=new AbortSignal,n=setTimeout(a,t,e);return"function"==typeof n.unref&&n.unref(),e}}function h(t,e){let n;let{abortSignal:i,abortErrorMsg:r}=null!=e?e:{};return function(t,e){let{cleanupBeforeAbort:n,abortSignal:i,abortErrorMsg:r}=null!=e?e:{};return new Promise((e,s)=>{function o(){s(new l(null!=r?r:"The operation was aborted."))}function a(){null==i||i.removeEventListener("abort",c)}function c(){null==n||n(),a(),o()}if(null==i?void 0:i.aborted)return o();try{t(t=>{a(),e(t)},t=>{a(),s(t)})}catch(t){s(t)}null==i||i.addEventListener("abort",c)})}(e=>{n=setTimeout(e,t)},{cleanupBeforeAbort:()=>clearTimeout(n),abortSignal:i,abortErrorMsg:null!=r?r:"The delay was aborted."})}var u,d,f=n(36560),p=n.n(f);class g extends Error{constructor(t,e){super(t),this.name="SendMessageError",this.ackId=e.ackId,this.errorDetail=e.errorDetail}}var v=n(26709);let y=void 0!==v&&v.env&&v.env.DEBUG||void 0,m=[],_=[],b=[];y&&k(y);let w=Object.assign(t=>S(t),{enable:k,enabled:x,disable:function(){let t=i||"";return k(""),t},log:function(...t){if(t.length>0){let e=String(t[0]);e.includes(":error")?console.error(...t):e.includes(":warning")?console.warn(...t):e.includes(":info")?console.info(...t):(e.includes(":verbose"),console.debug(...t))}}});function k(t){i=t,m=[],_=[];let e=/\*/g;for(let n of t.split(",").map(t=>t.trim().replace(e,".*?")))n.startsWith("-")?_.push(RegExp(`^${n.substr(1)}$`)):m.push(RegExp(`^${n}$`));for(let t of b)t.enabled=x(t.namespace)}function x(t){if(t.endsWith("*"))return!0;for(let e of _)if(e.test(t))return!1;for(let e of m)if(e.test(t))return!0;return!1}function S(t){let e=Object.assign(function(...n){e.enabled&&(n.length>0&&(n[0]=`${t} ${n[0]}`),e.log(...n))},{enabled:x(t),destroy:A,log:w.log,namespace:t,extend:E});return b.push(e),e}function A(){let t=b.indexOf(this);return t>=0&&(b.splice(t,1),!0)}function E(t){let e=S(`${this.namespace}:${t}`);return e.log=this.log,e}var T=n(26709);let R=new Set,C=void 0!==T&&T.env&&T.env.AZURE_LOG_LEVEL||void 0,O=w("azure");O.log=(...t)=>{w.log(...t)};let I=["verbose","info","warning","error"];C&&(z(C)?function(t){if(t&&!z(t))throw Error(`Unknown log level '${t}'. Acceptable values: ${I.join(",")}`);r=t;let e=[];for(let t of R)F(t)&&e.push(t.namespace);w.enable(e.join(","))}(C):console.error(`AZURE_LOG_LEVEL set to unknown log level '${C}'; logging is not enabled. Acceptable values: ${I.join(", ")}.`));let D={verbose:400,info:300,warning:200,error:100};function L(t,e){e.log=(...e)=>{t.log(...e)}}function M(t,e){let n=Object.assign(t.extend(e),{level:e});if(L(t,n),F(n)){let t=w.disable();w.enable(t+","+n.namespace)}return R.add(n),n}function F(t){return!!(r&&D[t.level]<=D[r])}function z(t){return I.includes(t)}let N=function(t){let e=O.extend(t);return L(O,e),{error:M(e,"error"),warning:M(e,"warning"),info:M(e,"info"),verbose:M(e,"verbose")}}("web-pubsub-client");var j=n(14984);function B(t,e){switch(e){case"text":if("string"!=typeof t)throw TypeError("Message must be a string.");return t;case"json":return t;case"binary":case"protobuf":if(t instanceof ArrayBuffer)return j.lW.from(t).toString("base64");throw TypeError("Message must be a ArrayBuffer")}}function W(t,e){if("text"===e){if("string"!=typeof t)throw TypeError("Message must be a string when dataType is text");return t}if("json"===e)return t;if("binary"!==e&&"protobuf"!==e)return null;{let e=j.lW.from(t,"base64");return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}}class G{constructor(){this.isReliableSubProtocol=!0,this.name="json.reliable.webpubsub.azure.v1"}parseMessages(t){return function(t){let e;if("string"!=typeof t)throw Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)throw Error("No input");let n=JSON.parse(t);if("system"===n.type){if("connected"===n.event)e=Object.assign(Object.assign({},n),{kind:"connected"});else{if("disconnected"!==n.event)return null;e=Object.assign(Object.assign({},n),{kind:"disconnected"})}}else if("message"===n.type){if("group"===n.from){let t=W(n.data,n.dataType);if(null===t)return null;e=Object.assign(Object.assign({},n),{data:t,kind:"groupData"})}else{if("server"!==n.from)return null;let t=W(n.data,n.dataType);if(null===t)return null;e=Object.assign(Object.assign({},n),{data:t,kind:"serverData"})}}else{if("ack"!==n.type)return null;e=Object.assign(Object.assign({},n),{kind:"ack"})}return e}(t)}writeMessage(t){return function(t){let e;switch(t.kind){case"joinGroup":e={type:"joinGroup",group:t.group,ackId:t.ackId};break;case"leaveGroup":e={type:"leaveGroup",group:t.group,ackId:t.ackId};break;case"sendEvent":e={type:"event",event:t.event,ackId:t.ackId,dataType:t.dataType,data:B(t.data,t.dataType)};break;case"sendToGroup":e={type:"sendToGroup",group:t.group,ackId:t.ackId,dataType:t.dataType,data:B(t.data,t.dataType),noEcho:t.noEcho};break;case"sequenceAck":e={type:"sequenceAck",sequenceId:t.sequenceId};break;default:throw Error(`Unsupported type: ${t.kind}`)}return JSON.stringify(e)}(t)}}let q=()=>new G;class U{constructor(t,e){this._socket=new WebSocket(t,e),this._socket.binaryType="arraybuffer"}onopen(t){this._socket.onopen=t}onclose(t){this._socket.onclose=e=>t(e.code,e.reason)}onerror(t){this._socket.onerror=e=>t(e)}onmessage(t){this._socket.onmessage=e=>t(e.data)}close(t,e){this._socket.close(t,e)}send(t,e){return new Promise((e,n)=>{try{this._socket.send(t),e()}catch(t){n(t)}})}isOpen(){return this._socket.readyState===WebSocket.OPEN}}class P{create(t,e){return new U(t,e)}}async function $(t,e){let n;if(e.aborted)throw new l("The operation was aborted.");let i=new Promise((t,i)=>{n=()=>{i(new l("The operation was aborted."))},e.addEventListener("abort",n)});try{return await Promise.race([t,i])}finally{e.removeEventListener("abort",n)}}var H=n(14984).lW;(u=d||(d={})).Stopped="Stopped",u.Disconnected="Disconnected",u.Connecting="Connecting",u.Connected="Connected",u.Recovering="Recovering";class V{nextAckId(){return this._ackId=this._ackId+1,this._ackId}constructor(t,e){this._quickSequenceAckDiff=300,this._activeTimeoutInMs=2e4,this._emitter=new(p()),this._isStopping=!1,this._isInitialConnected=!1,"string"==typeof t?this._credential={getClientAccessUrl:t}:this._credential=t,null==e&&(e={}),this._buildDefaultOptions(e),this._options=e,this._messageRetryPolicy=new K(this._options.messageRetryOptions),this._reconnectRetryPolicy=new K(this._options.reconnectRetryOptions),this._protocol=this._options.protocol,this._groupMap=new Map,this._ackMap=new Map,this._sequenceId=new J,this._state=d.Stopped,this._ackId=0}async start(t){let e;if(this._isStopping)throw Error("Can't start a client during stopping");if(this._state!==d.Stopped)throw Error("Client can be only started when it's Stopped");t&&(e=t.abortSignal),this._activeKeepaliveTask||(this._activeKeepaliveTask=this._getActiveKeepaliveTask());try{await this._startCore(e)}catch(t){throw this._changeState(d.Stopped),this._activeKeepaliveTask&&(this._activeKeepaliveTask.abort(),this._activeKeepaliveTask=void 0),this._isStopping=!1,t}}async _startFromRestarting(t){if(this._state!==d.Disconnected)throw Error("Client can be only restarted when it's Disconnected");try{N.verbose("Staring reconnecting."),await this._startCore(t)}catch(t){throw this._changeState(d.Disconnected),t}}async _startCore(t){if(this._changeState(d.Connecting),N.info("Staring a new connection"),this._sequenceId.reset(),this._isInitialConnected=!1,this._lastCloseEvent=void 0,this._lastDisconnectedMessage=void 0,this._connectionId=void 0,this._reconnectionToken=void 0,this._uri=void 0,"string"==typeof this._credential.getClientAccessUrl?this._uri=this._credential.getClientAccessUrl:this._uri=await this._credential.getClientAccessUrl({abortSignal:t}),"string"!=typeof this._uri)throw Error(`The clientAccessUrl must be a string but currently it's ${typeof this._uri}`);await this._connectCore(this._uri)}stop(){this._state!==d.Stopped&&!this._isStopping&&(this._isStopping=!0,this._wsClient&&this._wsClient.isOpen()?this._wsClient.close():this._isStopping=!1,this._activeKeepaliveTask&&(this._activeKeepaliveTask.abort(),this._activeKeepaliveTask=void 0))}on(t,e){this._emitter.on(t,e)}off(t,e){this._emitter.removeListener(t,e)}_emitEvent(t,e){this._emitter.emit(t,e)}async sendEvent(t,e,n,i){return await this._operationExecuteWithRetry(()=>this._sendEventAttempt(t,e,n,i),null==i?void 0:i.abortSignal)}async _sendEventAttempt(t,e,n,i){var r;return null!==(r=null==i?void 0:i.fireAndForget)&&void 0!==r&&r?(await this._sendMessage({kind:"sendEvent",dataType:n,data:e,event:t},null==i?void 0:i.abortSignal),{isDuplicated:!1}):await this._sendMessageWithAckId(i=>({kind:"sendEvent",dataType:n,data:e,ackId:i,event:t}),null==i?void 0:i.ackId,null==i?void 0:i.abortSignal)}async joinGroup(t,e){return await this._operationExecuteWithRetry(()=>this._joinGroupAttempt(t,e),null==e?void 0:e.abortSignal)}async _joinGroupAttempt(t,e){let n=this._getOrAddGroup(t),i=await this._joinGroupCore(t,e);return n.isJoined=!0,i}async _joinGroupCore(t,e){return await this._sendMessageWithAckId(e=>({group:t,ackId:e,kind:"joinGroup"}),null==e?void 0:e.ackId,null==e?void 0:e.abortSignal)}async leaveGroup(t,e){return await this._operationExecuteWithRetry(()=>this._leaveGroupAttempt(t,e),null==e?void 0:e.abortSignal)}async _leaveGroupAttempt(t,e){let n=this._getOrAddGroup(t),i=await this._sendMessageWithAckId(e=>({group:t,ackId:e,kind:"leaveGroup"}),null==e?void 0:e.ackId,null==e?void 0:e.abortSignal);return n.isJoined=!1,i}async sendToGroup(t,e,n,i){return await this._operationExecuteWithRetry(()=>this._sendToGroupAttempt(t,e,n,i),null==i?void 0:i.abortSignal)}async _sendToGroupAttempt(t,e,n,i){var r,s;let o=null!==(r=null==i?void 0:i.fireAndForget)&&void 0!==r&&r,a=null!==(s=null==i?void 0:i.noEcho)&&void 0!==s&&s;return o?(await this._sendMessage({kind:"sendToGroup",group:t,dataType:n,data:e,noEcho:a},null==i?void 0:i.abortSignal),{isDuplicated:!1}):await this._sendMessageWithAckId(i=>({kind:"sendToGroup",group:t,dataType:n,data:e,ackId:i,noEcho:a}),null==i?void 0:i.ackId,null==i?void 0:i.abortSignal)}_getWebSocketClientFactory(){return new P}async _trySendSequenceAck(){if(!this._protocol.isReliableSubProtocol)return;let[t,e]=this._sequenceId.tryGetSequenceId();if(t&&e)try{await this._sendMessage({kind:"sequenceAck",sequenceId:e})}catch(t){this._sequenceId.tryUpdate(e)}}_connectCore(t){if(this._isStopping)throw Error("Can't start a client during stopping");return new Promise((e,n)=>{let i=this._wsClient=this._getWebSocketClientFactory().create(t,this._protocol.name);i.onopen(()=>{if(this._isStopping){try{i.close()}catch(t){}n(Error("The client is stopped"))}N.verbose("WebSocket connection has opened"),this._changeState(d.Connected),this._protocol.isReliableSubProtocol&&(null!=this._sequenceAckTask&&this._sequenceAckTask.abort(),this._sequenceAckTask=new Y(async()=>{await this._trySendSequenceAck()},1e3)),e()}),i.onerror(t=>{null!=this._sequenceAckTask&&this._sequenceAckTask.abort(),n(t)}),i.onclose((t,e)=>{this._state===d.Connected?(N.verbose("WebSocket closed after open"),null!=this._sequenceAckTask&&this._sequenceAckTask.abort(),N.info(`WebSocket connection closed. Code: ${t}, Reason: ${e}`),this._lastCloseEvent={code:t,reason:e},this._handleConnectionClose.call(this)):(N.verbose("WebSocket closed before open"),n(Error(`Failed to start WebSocket: ${t}`)))}),i.onmessage(t=>{let e;let n=t=>{if(this._ackMap.has(t.ackId)){let e=this._ackMap.get(t.ackId);this._ackMap.delete(t.ackId);let n=null!=t.error&&"Duplicate"===t.error.name;t.success||n?e.resolve({ackId:t.ackId,isDuplicated:n}):e.reject(new g("Failed to send message.",{ackId:t.ackId,errorDetail:t.error}))}},i=async t=>{if(this._connectionId=t.connectionId,this._reconnectionToken=t.reconnectionToken,!this._isInitialConnected){if(this._isInitialConnected=!0,this._options.autoRejoinGroups){let t=[];this._groupMap.forEach(e=>{e.isJoined&&t.push((async()=>{try{await this._joinGroupCore(e.name)}catch(t){this._safeEmitRejoinGroupFailed(e.name,t)}})())});try{await Promise.all(t)}catch(t){}}this._safeEmitConnected(t.connectionId,t.userId)}},r=t=>{this._lastDisconnectedMessage=t},s=t=>{if(null!=t.sequenceId){let e=this._sequenceId.tryUpdate(t.sequenceId);if(0===e)return;e>this._quickSequenceAckDiff&&this._trySendSequenceAck()}this._safeEmitGroupMessage(t)},o=t=>{if(null!=t.sequenceId){let e=this._sequenceId.tryUpdate(t.sequenceId);if(0===e)return;e>this._quickSequenceAckDiff&&this._trySendSequenceAck()}this._safeEmitServerMessage(t)};try{let n;if(n=Array.isArray(t)?H.concat(t):t,e=this._protocol.parseMessages(n),null===e)return}catch(t){throw N.warning("An error occurred while parsing the message from service",t),t}Array.isArray(e)||(e=[e]),e.forEach(t=>{try{switch(t.kind){case"ack":n(t);break;case"connected":i(t);break;case"disconnected":r(t);break;case"groupData":s(t);break;case"serverData":o(t)}}catch(e){N.warning(`An error occurred while handling the message with kind: ${t.kind} from service`,e)}})})})}async _handleConnectionCloseAndNoRecovery(){this._state=d.Disconnected,this._safeEmitDisconnected(this._connectionId,this._lastDisconnectedMessage),this._options.autoReconnect?await this._autoReconnect():await this._handleConnectionStopped()}async _autoReconnect(){let t=!1,e=0;try{for(;!this._isStopping;)try{await this._startFromRestarting(),t=!0;break}catch(n){N.warning("An attempt to reconnect connection failed.",n),e++;let t=this._reconnectRetryPolicy.nextRetryDelayInMs(e);if(null==t)break;try{N.verbose(`Delay time for reconnect attempt ${e}: ${t}`),await h(t)}catch(t){}}}finally{t||this._handleConnectionStopped()}}_handleConnectionStopped(){this._isStopping=!1,this._state=d.Stopped,this._safeEmitStopped()}_getActiveKeepaliveTask(){return new Y(async()=>{this._sequenceId.tryUpdate(0)},this._activeTimeoutInMs)}async _sendMessage(t,e){if(!this._wsClient||!this._wsClient.isOpen())throw Error("The connection is not connected.");let n=this._protocol.writeMessage(t);await this._wsClient.send(n,e)}async _sendMessageWithAckId(t,e,n){null==e&&(e=this.nextAckId());let i=t(e);this._ackMap.has(e)||this._ackMap.set(e,new X(e));let r=this._ackMap.get(e);try{await this._sendMessage(i,n)}catch(n){this._ackMap.delete(e);let t="";throw n instanceof Error&&(t=n.message),new g(t,{ackId:e})}if(n)try{return await $(r.promise(),n)}catch(t){if(t instanceof Error&&"AbortError"===t.name)throw new g("Cancelled by abortSignal",{ackId:e});throw t}return await r.promise()}async _handleConnectionClose(){if(this._ackMap.forEach((t,e)=>{this._ackMap.delete(e)&&t.reject(new g("Connection is disconnected before receive ack from the service",{ackId:t.ackId}))}),this._isStopping){N.warning("The client is stopping state. Stop recovery."),this._handleConnectionCloseAndNoRecovery();return}if(this._lastCloseEvent&&1008===this._lastCloseEvent.code){N.warning("The websocket close with status code 1008. Stop recovery."),this._handleConnectionCloseAndNoRecovery();return}if(!this._protocol.isReliableSubProtocol){N.warning("The protocol is not reliable, recovery is not applicable"),this._handleConnectionCloseAndNoRecovery();return}let t=this._buildRecoveryUri();if(!t){N.warning("Connection id or reconnection token is not available"),this._handleConnectionCloseAndNoRecovery();return}let e=!1;this._state=d.Recovering;let n=c.timeout(3e4);try{for(;!n.aborted||this._isStopping;)try{await this._connectCore.call(this,t),e=!0;return}catch(t){await h(1e3)}}finally{e||(N.warning("Recovery attempts failed more then 30 seconds or the client is stopping"),this._handleConnectionCloseAndNoRecovery())}}_safeEmitConnected(t,e){this._emitEvent("connected",{connectionId:t,userId:e})}_safeEmitDisconnected(t,e){this._emitEvent("disconnected",{connectionId:t,message:e})}_safeEmitGroupMessage(t){this._emitEvent("group-message",{message:t})}_safeEmitServerMessage(t){this._emitEvent("server-message",{message:t})}_safeEmitStopped(){this._emitEvent("stopped",{})}_safeEmitRejoinGroupFailed(t,e){this._emitEvent("rejoin-group-failed",{group:t,error:e})}_buildDefaultOptions(t){return null==t.autoReconnect&&(t.autoReconnect=!0),null==t.autoRejoinGroups&&(t.autoRejoinGroups=!0),null==t.protocol&&(t.protocol=q()),this._buildMessageRetryOptions(t),this._buildReconnectRetryOptions(t),t}_buildMessageRetryOptions(t){t.messageRetryOptions||(t.messageRetryOptions={}),(null==t.messageRetryOptions.maxRetries||t.messageRetryOptions.maxRetries<0)&&(t.messageRetryOptions.maxRetries=3),(null==t.messageRetryOptions.retryDelayInMs||t.messageRetryOptions.retryDelayInMs<0)&&(t.messageRetryOptions.retryDelayInMs=1e3),(null==t.messageRetryOptions.maxRetryDelayInMs||t.messageRetryOptions.maxRetryDelayInMs<0)&&(t.messageRetryOptions.maxRetryDelayInMs=3e4),null==t.messageRetryOptions.mode&&(t.messageRetryOptions.mode="Fixed")}_buildReconnectRetryOptions(t){t.reconnectRetryOptions||(t.reconnectRetryOptions={}),(null==t.reconnectRetryOptions.maxRetries||t.reconnectRetryOptions.maxRetries<0)&&(t.reconnectRetryOptions.maxRetries=Number.MAX_VALUE),(null==t.reconnectRetryOptions.retryDelayInMs||t.reconnectRetryOptions.retryDelayInMs<0)&&(t.reconnectRetryOptions.retryDelayInMs=1e3),(null==t.reconnectRetryOptions.maxRetryDelayInMs||t.reconnectRetryOptions.maxRetryDelayInMs<0)&&(t.reconnectRetryOptions.maxRetryDelayInMs=3e4),null==t.reconnectRetryOptions.mode&&(t.reconnectRetryOptions.mode="Fixed")}_buildRecoveryUri(){if(this._connectionId&&this._reconnectionToken&&this._uri){let t=new URL(this._uri);return t.searchParams.append("awps_connection_id",this._connectionId),t.searchParams.append("awps_reconnection_token",this._reconnectionToken),t.toString()}return null}_getOrAddGroup(t){return this._groupMap.has(t)||this._groupMap.set(t,new Z(t)),this._groupMap.get(t)}_changeState(t){N.verbose(`The client state transfer from ${this._state.toString()} to ${t.toString()}`),this._state=t}async _operationExecuteWithRetry(t,e){let n=0;for(;;)try{return await t.call(this)}catch(i){n++;let t=this._messageRetryPolicy.nextRetryDelayInMs(n);if(null==t||(await h(t),null==e?void 0:e.aborted))throw i}}}class K{constructor(t){this._retryOptions=t,this._maxRetriesToGetMaxDelay=Math.ceil(Math.log2(this._retryOptions.maxRetryDelayInMs)-Math.log2(this._retryOptions.retryDelayInMs)+1)}nextRetryDelayInMs(t){return t>this._retryOptions.maxRetries?null:"Fixed"===this._retryOptions.mode?this._retryOptions.retryDelayInMs:this._calculateExponentialDelay(t)}_calculateExponentialDelay(t){return t>=this._maxRetriesToGetMaxDelay?this._retryOptions.maxRetryDelayInMs:(1<<t-1)*this._retryOptions.retryDelayInMs}}class Z{constructor(t){this.isJoined=!1,this.name=t}}class X{constructor(t){this._promise=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.ackId=t}promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}}class J{constructor(){this._sequenceId=0,this._isUpdate=!1}tryUpdate(t){if(this._isUpdate=!0,t>this._sequenceId){let e=t-this._sequenceId;return this._sequenceId=t,e}return 0}tryGetSequenceId(){return this._isUpdate?(this._isUpdate=!1,[!0,this._sequenceId]):[!1,null]}reset(){this._sequenceId=0,this._isUpdate=!1}}class Y{constructor(t,e,n){this._func=t,this._abortController=new c,this._interval=e,this._obj=n,this._start()}abort(){try{this._abortController.abort()}catch(t){}}async _start(){let t=this._abortController.signal;for(;!t.aborted;)try{await this._func(this._obj)}catch(t){}finally{await h(this._interval)}}}},48879:function(t,e,n){"use strict";async function i(t,e){let n;let i=t.getReader();for(;!(n=await i.read()).done;)e(n.value)}function r(){return{data:"",event:"",id:"",retry:void 0}}n.d(e,{L:function(){return l}});var s=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&0>e.indexOf(i)&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)0>e.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};let o="text/event-stream",a="last-event-id";function l(t,e){var{signal:n,headers:l,onopen:h,onmessage:u,onclose:d,onerror:f,openWhenHidden:p,fetch:g}=e,v=s(e,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((e,s)=>{let y;let m=Object.assign({},l);function _(){y.abort(),document.hidden||A()}m.accept||(m.accept=o),p||document.addEventListener("visibilitychange",_);let b=1e3,w=0;function k(){document.removeEventListener("visibilitychange",_),window.clearTimeout(w),y.abort()}null==n||n.addEventListener("abort",()=>{k(),e()});let x=null!=g?g:window.fetch,S=null!=h?h:c;async function A(){var n,o;y=new AbortController;try{let n,s,l,c;let h=await x(t,Object.assign(Object.assign({},v),{headers:m,signal:y.signal}));await S(h),await i(h.body,(o=function(t,e,n){let i=r(),s=new TextDecoder;return function(o,a){if(0===o.length)null==n||n(i),i=r();else if(a>0){let n=s.decode(o.subarray(0,a)),r=a+(32===o[a+1]?2:1),l=s.decode(o.subarray(r));switch(n){case"data":i.data=i.data?i.data+"\n"+l:l;break;case"event":i.event=l;break;case"id":t(i.id=l);break;case"retry":let c=parseInt(l,10);isNaN(c)||e(i.retry=c)}}}}(t=>{t?m[a]=t:delete m[a]},t=>{b=t},u),c=!1,function(t){void 0===n?(n=t,s=0,l=-1):n=function(t,e){let n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}(n,t);let e=n.length,i=0;for(;s<e;){c&&(10===n[s]&&(i=++s),c=!1);let t=-1;for(;s<e&&-1===t;++s)switch(n[s]){case 58:-1===l&&(l=s-i);break;case 13:c=!0;case 10:t=s}if(-1===t)break;o(n.subarray(i,t),l),i=s,l=-1}i===e?n=void 0:0!==i&&(n=n.subarray(i),s-=i)})),null==d||d(),k(),e()}catch(t){if(!y.signal.aborted)try{let e=null!==(n=null==f?void 0:f(t))&&void 0!==n?n:b;window.clearTimeout(w),w=window.setTimeout(A,e)}catch(t){k(),s(t)}}}A()})}function c(t){let e=t.headers.get("content-type");if(!(null==e?void 0:e.startsWith(o)))throw Error(`Expected content-type to be ${o}, Actual: ${e}`)}},99582:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=n(17224),r=n(28734),s=n(51516);function o(t,e){(0,s.Z)(2,arguments);var n=(0,r.Z)(t),o=(0,i.Z)(e);return isNaN(o)?new Date(NaN):(o&&n.setDate(n.getDate()+o),n)}},29924:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=n(99582),r=n(94801),s=n(51516);function o(t){return(0,s.Z)(1,arguments),(0,r.Z)(t,(0,i.Z)(Date.now(),1))}},65237:function(t,e){var n=Object.keys;e.D=function(t,e){if(t===e)return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;for(var i=n(t),r=i.length,s=0;s<r;s++)if(!(i[s]in e))return!1;for(var s=0;s<r;s++)if(t[i[s]]!==e[i[s]])return!1;return r===n(e).length}},20267:function(t){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},34598:function(t,e,n){var i=n(85036);t.exports=function(t,e){return!!(null==t?0:t.length)&&i(t,e,0)>-1}},60510:function(t){t.exports=function(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}},44140:function(t,e,n){var i=n(96581),r=n(49912);t.exports=function t(e,n,s,o,a){var l=-1,c=e.length;for(s||(s=r),a||(a=[]);++l<c;){var h=e[l];n>0&&s(h)?n>1?t(h,n-1,s,o,a):i(a,h):o||(a[a.length]=h)}return a}},85036:function(t,e,n){var i=n(83663),r=n(18826),s=n(31154);t.exports=function(t,e,n){return e==e?s(t,e,n):i(t,r,n)}},18826:function(t){t.exports=function(t){return t!=t}},59600:function(t,e,n){var i=n(25898),r=n(71701);t.exports=function(t,e){var n=-1,s=r(t)?Array(t.length):[];return i(t,function(t,i,r){s[++n]=e(t,i,r)}),s}},27321:function(t,e,n){var i=n(72254),r=0/0;t.exports=function(t,e){var n=null==t?0:t.length;return n?i(t,e)/n:r}},35728:function(t,e,n){var i=n(67631),r=n(87856),s=n(61757),o=n(59600),a=n(28499),l=n(52715),c=n(87127),h=n(98958),u=n(2428);t.exports=function(t,e,n){e=e.length?i(e,function(t){return u(t)?function(e){return r(e,1===t.length?t[0]:t)}:t}):[h];var d=-1;return e=i(e,l(s)),a(o(t,function(t,n,r){return{criteria:i(e,function(e){return e(t)}),index:++d,value:t}}),function(t,e){return c(t,e,n)})}},17063:function(t,e,n){var i=n(98958),r=n(58544),s=n(11863);t.exports=function(t,e){return s(r(t,e,i),t+"")}},43182:function(t,e,n){var i=n(75269),r=n(57965),s=n(98958),o=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:s;t.exports=o},28499:function(t){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},72254:function(t){t.exports=function(t,e){for(var n,i=-1,r=t.length;++i<r;){var s=e(t[i]);void 0!==s&&(n=void 0===n?s:n+s)}return n}},18296:function(t,e,n){var i=n(25561),r=n(34598),s=n(60510),o=n(8529),a=n(33295),l=n(33005);t.exports=function(t,e,n){var c=-1,h=r,u=t.length,d=!0,f=[],p=f;if(n)d=!1,h=s;else if(u>=200){var g=e?null:a(t);if(g)return l(g);d=!1,h=o,p=new i}else p=e?[]:f;t:for(;++c<u;){var v=t[c],y=e?e(v):v;if(v=n||0!==v?v:0,d&&y==y){for(var m=p.length;m--;)if(p[m]===y)continue t;e&&p.push(y),f.push(v)}else h(p,y,n)||(p!==f&&p.push(y),f.push(v))}return f}},1522:function(t,e,n){var i=n(42848);t.exports=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,s=t==t,o=i(t),a=void 0!==e,l=null===e,c=e==e,h=i(e);if(!l&&!h&&!o&&t>e||o&&a&&c&&!l&&!h||r&&a&&c||!n&&c||!s)return 1;if(!r&&!o&&!h&&t<e||h&&n&&s&&!r&&!o||l&&n&&s||!a&&s||!c)return -1}return 0}},87127:function(t,e,n){var i=n(1522);t.exports=function(t,e,n){for(var r=-1,s=t.criteria,o=e.criteria,a=s.length,l=n.length;++r<a;){var c=i(s[r],o[r]);if(c){if(r>=l)return c;return c*("desc"==n[r]?-1:1)}}return t.index-e.index}},33295:function(t,e,n){var i=n(353),r=n(91530),s=n(33005),o=i&&1/s(new i([,-0]))[1]==1/0?function(t){return new i(t)}:r;t.exports=o},49912:function(t,e,n){var i=n(66293),r=n(43735),s=n(2428),o=i?i.isConcatSpreadable:void 0;t.exports=function(t){return s(t)||r(t)||!!(o&&t&&t[o])}},57209:function(t,e,n){var i=n(3284),r=n(71701),s=n(30911),o=n(6627);t.exports=function(t,e,n){if(!o(n))return!1;var a=typeof e;return("number"==a?!!(r(n)&&s(e,n.length)):"string"==a&&e in n)&&i(n[e],t)}},58544:function(t,e,n){var i=n(20267),r=Math.max;t.exports=function(t,e,n){return e=r(void 0===e?t.length-1:e,0),function(){for(var s=arguments,o=-1,a=r(s.length-e,0),l=Array(a);++o<a;)l[o]=s[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=s[o];return c[e]=n(l),i(t,this,c)}}},11863:function(t,e,n){var i=n(43182),r=n(29426)(i);t.exports=r},29426:function(t){var e=Date.now;t.exports=function(t){var n=0,i=0;return function(){var r=e(),s=16-(r-i);if(i=r,s>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},31154:function(t){t.exports=function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return -1}},75269:function(t){t.exports=function(t){return function(){return t}}},68723:function(t,e,n){var i=n(80897),r=n(89399),s=n(61757);t.exports=function(t,e){var n={};return e=s(e,3),r(t,function(t,r,s){i(n,r,e(t,r,s))}),n}},86918:function(t,e,n){var i=n(27321),r=n(98958);t.exports=function(t){return i(t,r)}},51857:function(t,e,n){var i=n(48034)(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});t.exports=i},28541:function(t,e,n){var i=n(44140),r=n(35728),s=n(17063),o=n(57209),a=s(function(t,e){if(null==t)return[];var n=e.length;return n>1&&o(t,e[0],e[1])?e=[]:n>2&&o(e[0],e[1],e[2])&&(e=[e[0]]),r(t,i(e,1),[])});t.exports=a},96594:function(t,e,n){var i=n(61757),r=n(18296);t.exports=function(t,e){return t&&t.length?r(t,i(e,2)):[]}},45211:function(t,e,n){"use strict";n.d(e,{ZP:function(){return f},SI:function(){return h}});var i,r,s,o=n(9508),a=n(92379),l=n(65237),c=function(t,e){var n=window.getComputedStyle(e),i=n.borderBottomWidth,r=n.borderTopWidth,s=n.fontSize,o=n.lineHeight,a=n.paddingBottom,l=n.paddingTop,c="normal"===o?1.2*parseFloat(s):parseFloat(o);return Math.max(0===t?0:c*t+parseFloat(i)+parseFloat(r)+parseFloat(a)+parseFloat(l),e.scrollHeight+parseFloat(i)+parseFloat(r))},h=function(t,e){if(e){var n="hidden",i=window.getComputedStyle(e).maxHeight;"none"!==i&&parseFloat(i)<e.scrollHeight&&(n=""),e.style.height="0",e.style.overflowY=n,e.style.height="".concat(c(t,e),"px")}},u=function(t){var e=(0,a.useRef)(t),n=(0,a.useRef)(0);return(0,l.D)(t,e.current)||(e.current=t,n.current+=1),(0,a.useMemo)(function(){return e.current},[n.current])},d="undefined"==typeof window?Function.prototype:a.useLayoutEffect,f=(i=function(t){var e=t.forwardedRef,n=(0,o._T)(t,["forwardedRef"]),i="function"==typeof e,r=u(n.style),s=(0,a.useRef)(),l=i||!e?s:e,c=n.rows?parseInt(""+n.rows,10):0,f=n.onChange,p=n.onInput,g=(0,o._T)(n,["onChange","onInput"]);d(function(){h(c,l.current)},[n.className,n.value,l,c,r]),d(function(){if(window.ResizeObserver){var t=new ResizeObserver(function(){h(c,l.current)});return t.observe(l.current),function(){t.disconnect()}}},[l,c]);var v=(0,a.useCallback)(function(t){null==f||f(t),null==p||p(t),h(c,l.current)},[f,p,l,c]),y=(0,a.useCallback)(function(t){l.current=t,i&&e(t)},[e,i,l]);return a.createElement("textarea",(0,o.pi)({},g,{onInput:v,ref:y,rows:c}))},r=function(t,e){return a.createElement(i,(0,o.pi)({},t,{forwardedRef:e}))},s=i.displayName||i.name,r.displayName="withForwardedRef("+s+")",(0,a.forwardRef)(r))},95552:function(t,e,n){var i=n(82248),r=n(63656),s=n(21689),o=n(68458),a=n(130),l=n(82690),c=n(26804);c.alea=i,c.xor128=r,c.xorwow=s,c.xorshift7=o,c.xor4096=a,c.tychei=l,t.exports=c},82248:function(t,e,n){var i;!function(t,r,s){function o(t){var e,n=this,i=(e=4022871197,function(t){t=String(t);for(var n=0;n<t.length;n++){var i=.02519603282416938*(e+=t.charCodeAt(n));e=i>>>0,i-=e,i*=e,e=i>>>0,i-=e,e+=4294967296*i}return(e>>>0)*23283064365386963e-26});n.next=function(){var t=2091639*n.s0+23283064365386963e-26*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=i(" "),n.s1=i(" "),n.s2=i(" "),n.s0-=i(t),n.s0<0&&(n.s0+=1),n.s1-=i(t),n.s1<0&&(n.s1+=1),n.s2-=i(t),n.s2<0&&(n.s2+=1)}function a(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function l(t,e){var n=new o(t),i=e&&e.state,r=n.next;return r.int32=function(){return 4294967296*n.next()|0},r.double=function(){return r()+(2097152*r()|0)*11102230246251565e-32},r.quick=r,i&&("object"==typeof i&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(e,n,e,r))&&(r.exports=i):this.alea=l}(0,t=n.nmd(t),n.amdD)},82690:function(t,e,n){var i;!function(t,r,s){function o(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,i=e.d,r=e.a;return t=t<<25^t>>>7^n,n=n-i|0,i=i<<24^i>>>8^r,r=r-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-i|0,e.d=i<<16^n>>>16^r,e.a=r-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var i=0;i<n.length+20;i++)e.b^=0|n.charCodeAt(i),e.next()}function a(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function l(t,e){var n=new o(t),i=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===t);return t},r.int32=n.next,r.quick=r,i&&("object"==typeof i&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(e,n,e,r))&&(r.exports=i):this.tychei=l}(0,t=n.nmd(t),n.amdD)},63656:function(t,e,n){var i;!function(t,r,s){function o(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var i=0;i<n.length+64;i++)e.x^=0|n.charCodeAt(i),e.next()}function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function l(t,e){var n=new o(t),i=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===t);return t},r.int32=n.next,r.quick=r,i&&("object"==typeof i&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(e,n,e,r))&&(r.exports=i):this.xor128=l}(0,t=n.nmd(t),n.amdD)},130:function(t,e,n){var i;!function(t,r,s){function o(t){var e=this;e.next=function(){var t,n,i=e.w,r=e.X,s=e.i;return e.w=i=i+1640531527|0,n=r[s+34&127],t=r[s=s+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=r[s]=n^t,e.i=s,n+(i^i>>>16)|0},function(t,e){var n,i,r,s,o,a=[],l=128;for(e===(0|e)?(i=e,e=null):(e+="\0",i=0,l=Math.max(l,e.length)),r=0,s=-32;s<l;++s)e&&(i^=e.charCodeAt((s+32)%e.length)),0===s&&(o=i),i^=i<<10,i^=i>>>15,i^=i<<4,i^=i>>>13,s>=0&&(o=o+1640531527|0,r=0==(n=a[127&s]^=i+o)?r+1:0);for(r>=128&&(a[127&(e&&e.length||0)]=-1),r=127,s=512;s>0;--s)i=a[r+34&127],n=a[r=r+1&127],i^=i<<13,n^=n<<17,i^=i>>>15,n^=n>>>12,a[r]=i^n;t.w=o,t.X=a,t.i=r}(e,t)}function a(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function l(t,e){null==t&&(t=+new Date);var n=new o(t),i=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===t);return t},r.int32=n.next,r.quick=r,i&&(i.X&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(e,n,e,r))&&(r.exports=i):this.xor4096=l}(0,t=n.nmd(t),n.amdD)},68458:function(t,e,n){var i;!function(t,r,s){function o(t){var e=this;e.next=function(){var t,n,i=e.x,r=e.i;return t=i[r],t^=t>>>7,n=t^t<<24^((t=i[r+1&7])^t>>>10)^((t=i[r+3&7])^t>>>3)^((t=i[r+4&7])^t<<7),t=i[r+7&7],t^=t<<13,n^=t^t<<9,i[r]=n,e.i=r+1&7,n},function(t,e){var n,i=[];if(e===(0|e))i[0]=e;else for(n=0,e=""+e;n<e.length;++n)i[7&n]=i[7&n]<<15^e.charCodeAt(n)+i[n+1&7]<<13;for(;i.length<8;)i.push(0);for(n=0;n<8&&0===i[n];++n);for(8==n?i[7]=-1:i[n],t.x=i,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function a(t,e){return e.x=t.x.slice(),e.i=t.i,e}function l(t,e){null==t&&(t=+new Date);var n=new o(t),i=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===t);return t},r.int32=n.next,r.quick=r,i&&(i.x&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(e,n,e,r))&&(r.exports=i):this.xorshift7=l}(0,t=n.nmd(t),n.amdD)},21689:function(t,e,n){var i;!function(t,r,s){function o(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^(t^t<<1))|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var i=0;i<n.length+64;i++)e.x^=0|n.charCodeAt(i),i==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function l(t,e){var n=new o(t),i=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===t);return t},r.int32=n.next,r.quick=r,i&&("object"==typeof i&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(e,n,e,r))&&(r.exports=i):this.xorwow=l}(0,t=n.nmd(t),n.amdD)},26804:function(t,e,n){var i;!function(r,s,o){var a,l=o.pow(256,6),c=o.pow(2,52),h=2*c;function u(t,e,n){var i=[],u=p(function t(e,n){var i,r=[],s=typeof e;if(n&&"object"==s)for(i in e)try{r.push(t(e[i],n-1))}catch(t){}return r.length?r:"string"==s?e:e+"\0"}((e=!0==e?{entropy:!0}:e||{}).entropy?[t,g(s)]:null==t?function(){try{var t;return a&&(t=a.randomBytes)?t=t(256):(t=new Uint8Array(256),(r.crypto||r.msCrypto).getRandomValues(t)),g(t)}catch(t){var e=r.navigator,n=e&&e.plugins;return[+new Date,r,n,r.screen,g(s)]}}():t,3),i),v=new d(i),y=function(){for(var t=v.g(6),e=l,n=0;t<c;)t=(t+n)*256,e*=256,n=v.g(1);for(;t>=h;)t/=2,e/=2,n>>>=1;return(t+n)/e};return y.int32=function(){return 0|v.g(4)},y.quick=function(){return v.g(4)/4294967296},y.double=y,p(g(v.S),s),(e.pass||n||function(t,e,n,i){return(i&&(i.S&&f(i,v),t.state=function(){return f(v,{})}),n)?(o.random=t,e):t})(y,u,"global"in e?e.global:this==o,e.state)}function d(t){var e,n=t.length,i=this,r=0,s=i.i=i.j=0,o=i.S=[];for(n||(t=[n++]);r<256;)o[r]=r++;for(r=0;r<256;r++)o[r]=o[s=255&s+t[r%n]+(e=o[r])],o[s]=e;(i.g=function(t){for(var e,n=0,r=i.i,s=i.j,o=i.S;t--;)e=o[r=255&r+1],n=256*n+o[255&(o[r]=o[s=255&s+e])+(o[s]=e)];return i.i=r,i.j=s,n})(256)}function f(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function p(t,e){for(var n,i=t+"",r=0;r<i.length;)e[255&r]=255&(n^=19*e[255&r])+i.charCodeAt(r++);return g(e)}function g(t){return String.fromCharCode.apply(0,t)}if(p(o.random(),s),t.exports){t.exports=u;try{a=n(41402)}catch(t){}}else void 0!==(i=(function(){return u}).call(e,n,e,t))&&(t.exports=i)}("undefined"!=typeof self?self:this,[],Math)},88578:function(t,e,n){"use strict";n.d(e,{r0:function(){return f}});var i=/highlight-(?:text|source)-([a-z0-9]+)/;function r(t){t.addRule("highlightedCodeBlock",{filter:function(t){var e=t.firstChild;return"DIV"===t.nodeName&&i.test(t.className)&&e&&"PRE"===e.nodeName},replacement:function(t,e,n){var r=((e.className||"").match(i)||[null,""])[1];return"\n\n"+n.fence+r+"\n"+e.firstChild.textContent+"\n"+n.fence+"\n\n"}})}function s(t){t.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return"~"+t+"~"}})}var o=Array.prototype.indexOf,a=Array.prototype.every,l={};function c(t){var e,n=t.parentNode;return"THEAD"===n.nodeName||n.firstChild===t&&("TABLE"===n.nodeName||(e=n.previousSibling,"TBODY"===n.nodeName&&(!e||"THEAD"===e.nodeName&&/^\s*$/i.test(e.textContent))))&&a.call(t.childNodes,function(t){return"TH"===t.nodeName})}function h(t,e){var n=o.call(e.parentNode.childNodes,e),i=" ";return 0===n&&(i="| "),i+t+" |"}function u(t){for(var e in t.keep(function(t){return"TABLE"===t.nodeName&&!c(t.rows[0])}),l)t.addRule(e,l[e])}function d(t){t.addRule("taskListItems",{filter:function(t){return"checkbox"===t.type&&"LI"===t.parentNode.nodeName},replacement:function(t,e){return(e.checked?"[x]":"[ ]")+" "}})}function f(t){t.use([r,s,u,d])}l.tableCell={filter:["th","td"],replacement:function(t,e){return h(t,e)}},l.tableRow={filter:"tr",replacement:function(t,e){var n="",i={left:":--",right:"--:",center:":-:"};if(c(e))for(var r=0;r<e.childNodes.length;r++){var s="---",o=(e.childNodes[r].getAttribute("align")||"").toLowerCase();o&&(s=i[o]||s),n+=h(s,e.childNodes[r])}return"\n"+t+(n?"\n"+n:"")}},l.table={filter:function(t){return"TABLE"===t.nodeName&&c(t.rows[0])},replacement:function(t){return"\n\n"+(t=t.replace("\n\n","\n"))+"\n\n"}},l.tableSection={filter:["thead","tbody","tfoot"],replacement:function(t){return t}}},40842:function(t,e){"use strict";function n(t,e){return Array(e+1).join(t)}var i,r,s=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function o(t){return h(t,s)}var a=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function l(t){return h(t,a)}var c=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function h(t,e){return e.indexOf(t.nodeName)>=0}function u(t,e){return t.getElementsByTagName&&e.some(function(e){return t.getElementsByTagName(e).length})}var d={};function f(t){return t?t.replace(/(\n+\s*)+/g,"\n"):""}function p(t){for(var e in this.options=t,this._keep=[],this._remove=[],this.blankRule={replacement:t.blankReplacement},this.keepReplacement=t.keepReplacement,this.defaultRule={replacement:t.defaultReplacement},this.array=[],t.rules)this.array.push(t.rules[e])}function g(t,e,n){for(var i=0;i<t.length;i++){var r=t[i];if(function(t,e,n){var i=t.filter;if("string"==typeof i){if(i===e.nodeName.toLowerCase())return!0}else if(Array.isArray(i)){if(i.indexOf(e.nodeName.toLowerCase())>-1)return!0}else if("function"==typeof i){if(i.call(t,e,n))return!0}else throw TypeError("`filter` needs to be a string, array, or function")}(r,e,n))return r}}function v(t){var e=t.nextSibling||t.parentNode;return t.parentNode.removeChild(t),e}function y(t,e,n){return t&&t.parentNode===e||n(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}d.paragraph={filter:"p",replacement:function(t){return"\n\n"+t+"\n\n"}},d.lineBreak={filter:"br",replacement:function(t,e,n){return n.br+"\n"}},d.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(t,e,i){var r=Number(e.nodeName.charAt(1));if("setext"!==i.headingStyle||!(r<3))return"\n\n"+n("#",r)+" "+t+"\n\n";var s=n(1===r?"=":"-",t.length);return"\n\n"+t+"\n"+s+"\n\n"}},d.blockquote={filter:"blockquote",replacement:function(t){return"\n\n"+(t=(t=t.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},d.list={filter:["ul","ol"],replacement:function(t,e){var n=e.parentNode;return"LI"===n.nodeName&&n.lastElementChild===e?"\n"+t:"\n\n"+t+"\n\n"}},d.listItem={filter:"li",replacement:function(t,e,n){t=t.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var i=n.bulletListMarker+"   ",r=e.parentNode;if("OL"===r.nodeName){var s=r.getAttribute("start"),o=Array.prototype.indexOf.call(r.children,e);i=(s?Number(s)+o:o+1)+".  "}return i+t+(e.nextSibling&&!/\n$/.test(t)?"\n":"")}},d.indentedCodeBlock={filter:function(t,e){return"indented"===e.codeBlockStyle&&"PRE"===t.nodeName&&t.firstChild&&"CODE"===t.firstChild.nodeName},replacement:function(t,e,n){return"\n\n    "+e.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},d.fencedCodeBlock={filter:function(t,e){return"fenced"===e.codeBlockStyle&&"PRE"===t.nodeName&&t.firstChild&&"CODE"===t.firstChild.nodeName},replacement:function(t,e,i){for(var r,s=((e.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],o=e.firstChild.textContent,a=i.fence.charAt(0),l=3,c=RegExp("^"+a+"{3,}","gm");r=c.exec(o);)r[0].length>=l&&(l=r[0].length+1);var h=n(a,l);return"\n\n"+h+s+"\n"+o.replace(/\n$/,"")+"\n"+h+"\n\n"}},d.horizontalRule={filter:"hr",replacement:function(t,e,n){return"\n\n"+n.hr+"\n\n"}},d.inlineLink={filter:function(t,e){return"inlined"===e.linkStyle&&"A"===t.nodeName&&t.getAttribute("href")},replacement:function(t,e){var n=e.getAttribute("href"),i=f(e.getAttribute("title"));return i&&(i=' "'+i+'"'),"["+t+"]("+n+i+")"}},d.referenceLink={filter:function(t,e){return"referenced"===e.linkStyle&&"A"===t.nodeName&&t.getAttribute("href")},replacement:function(t,e,n){var i,r,s=e.getAttribute("href"),o=f(e.getAttribute("title"));switch(o&&(o=' "'+o+'"'),n.linkReferenceStyle){case"collapsed":i="["+t+"][]",r="["+t+"]: "+s+o;break;case"shortcut":i="["+t+"]",r="["+t+"]: "+s+o;break;default:var a=this.references.length+1;i="["+t+"]["+a+"]",r="["+a+"]: "+s+o}return this.references.push(r),i},references:[],append:function(t){var e="";return this.references.length&&(e="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),e}},d.emphasis={filter:["em","i"],replacement:function(t,e,n){return t.trim()?n.emDelimiter+t+n.emDelimiter:""}},d.strong={filter:["strong","b"],replacement:function(t,e,n){return t.trim()?n.strongDelimiter+t+n.strongDelimiter:""}},d.code={filter:function(t){var e=t.previousSibling||t.nextSibling,n="PRE"===t.parentNode.nodeName&&!e;return"CODE"===t.nodeName&&!n},replacement:function(t){if(!t)return"";t=t.replace(/\r?\n|\r/g," ");for(var e=/^`|^ .*?[^ ].* $|`$/.test(t)?" ":"",n="`",i=t.match(/`+/gm)||[];-1!==i.indexOf(n);)n+="`";return n+e+t+e+n}},d.image={filter:"img",replacement:function(t,e){var n=f(e.getAttribute("alt")),i=e.getAttribute("src")||"",r=f(e.getAttribute("title"));return i?"!["+n+"]("+i+(r?' "'+r+'"':"")+")":""}},p.prototype={add:function(t,e){this.array.unshift(e)},keep:function(t){this._keep.unshift({filter:t,replacement:this.keepReplacement})},remove:function(t){this._remove.unshift({filter:t,replacement:function(){return""}})},forNode:function(t){var e;return t.isBlank?this.blankRule:(e=g(this.array,t,this.options))||(e=g(this._keep,t,this.options))||(e=g(this._remove,t,this.options))?e:this.defaultRule},forEach:function(t){for(var e=0;e<this.array.length;e++)t(this.array[e],e)}};var m="undefined"!=typeof window?window:{},_=!function(){var t=m.DOMParser,e=!1;try{new t().parseFromString("","text/html")&&(e=!0)}catch(t){}return e}()?(i=function(){},!function(){var t=!1;try{document.implementation.createHTMLDocument("").open()}catch(e){window.ActiveXObject&&(t=!0)}return t}()?i.prototype.parseFromString=function(t){var e=document.implementation.createHTMLDocument("");return e.open(),e.write(t),e.close(),e}:i.prototype.parseFromString=function(t){var e=new window.ActiveXObject("htmlfile");return e.designMode="on",e.open(),e.write(t),e.close(),e},i):m.DOMParser;function b(t,e){var n;return!function(t){var e=t.element,n=t.isBlock,i=t.isVoid,r=t.isPre||function(t){return"PRE"===t.nodeName};if(!(!e.firstChild||r(e))){for(var s=null,o=!1,a=null,l=y(null,e,r);l!==e;){if(3===l.nodeType||4===l.nodeType){var c=l.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!o&&" "===c[0]&&(c=c.substr(1)),!c){l=v(l);continue}l.data=c,s=l}else if(1===l.nodeType)n(l)||"BR"===l.nodeName?(s&&(s.data=s.data.replace(/ $/,"")),s=null,o=!1):i(l)||r(l)?(s=null,o=!0):s&&(o=!1);else{l=v(l);continue}var h=y(a,l,r);a=l,l=h}s&&(s.data=s.data.replace(/ $/,""),s.data||v(s))}}({element:n="string"==typeof t?(r=r||new _).parseFromString('<x-turndown id="turndown-root">'+t+"</x-turndown>","text/html").getElementById("turndown-root"):t.cloneNode(!0),isBlock:o,isVoid:l,isPre:e.preformattedCode?w:null}),n}function w(t){return"PRE"===t.nodeName||"CODE"===t.nodeName}function k(t,e){return t.isBlock=o(t),t.isCode="CODE"===t.nodeName||t.parentNode.isCode,t.isBlank=!l(t)&&!h(t,c)&&/^\s*$/i.test(t.textContent)&&!u(t,a)&&!u(t,c),t.flankingWhitespace=function(t,e){if(t.isBlock||e.preformattedCode&&t.isCode)return{leading:"",trailing:""};var n,i={leading:(n=t.textContent.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/))[1],leadingAscii:n[2],leadingNonAscii:n[3],trailing:n[4],trailingNonAscii:n[5],trailingAscii:n[6]};return i.leadingAscii&&x("left",t,e)&&(i.leading=i.leadingNonAscii),i.trailingAscii&&x("right",t,e)&&(i.trailing=i.trailingNonAscii),{leading:i.leading,trailing:i.trailing}}(t,e),t}function x(t,e,n){var i,r,s;return"left"===t?(i=e.previousSibling,r=/ $/):(i=e.nextSibling,r=/^ /),i&&(3===i.nodeType?s=r.test(i.nodeValue):n.preformattedCode&&"CODE"===i.nodeName?s=!1:1!==i.nodeType||o(i)||(s=r.test(i.textContent))),s}var S=Array.prototype.reduce,A=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function E(t){if(!(this instanceof E))return new E(t);this.options=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t}({},{rules:d,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(t,e){return e.isBlock?"\n\n":""},keepReplacement:function(t,e){return e.isBlock?"\n\n"+e.outerHTML+"\n\n":e.outerHTML},defaultReplacement:function(t,e){return e.isBlock?"\n\n"+t+"\n\n":t}},t),this.rules=new p(this.options)}function T(t){var e=this;return S.call(t.childNodes,function(t,n){n=new k(n,e.options);var i="";return 3===n.nodeType?i=n.isCode?n.nodeValue:e.escape(n.nodeValue):1===n.nodeType&&(i=C.call(e,n)),O(t,i)},"")}function R(t){var e=this;return this.rules.forEach(function(n){"function"==typeof n.append&&(t=O(t,n.append(e.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function C(t){var e=this.rules.forNode(t),n=T.call(this,t),i=t.flankingWhitespace;return(i.leading||i.trailing)&&(n=n.trim()),i.leading+e.replacement(n,t,this.options)+i.trailing}function O(t,e){var n=function(t){for(var e=t.length;e>0&&"\n"===t[e-1];)e--;return t.substring(0,e)}(t),i=e.replace(/^\n*/,""),r=Math.max(t.length-n.length,e.length-i.length);return n+"\n\n".substring(0,r)+i}E.prototype={turndown:function(t){if(!(null!=t&&("string"==typeof t||t.nodeType&&(1===t.nodeType||9===t.nodeType||11===t.nodeType))))throw TypeError(t+" is not a string, or an element/document/fragment node.");return""===t?"":R.call(this,T.call(this,new b(t,this.options)))},use:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.use(t[e]);else if("function"==typeof t)t(this);else throw TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(t,e){return this.rules.add(t,e),this},keep:function(t){return this.rules.keep(t),this},remove:function(t){return this.rules.remove(t),this},escape:function(t){return A.reduce(function(t,e){return t.replace(e[0],e[1])},t)}},e.Z=E},70897:function(t,e,n){"use strict";n.d(e,{z:function(){return g}});var i=n(44675);let r="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,s=new Set,o="object"==typeof i&&i?i:{},a=(t,e,n,i)=>{"function"==typeof o.emitWarning?o.emitWarning(t,e,n,i):console.error(`[${n}] ${e}: ${t}`)},l=globalThis.AbortController,c=globalThis.AbortSignal;if(void 0===l){c=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},l=class{constructor(){e()}signal=new c;abort(t){if(!this.signal.aborted){for(let e of(this.signal.reason=t,this.signal.aborted=!0,this.signal._onabort))e(t);this.signal.onabort?.(t)}}};let t=o.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,a("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}let h=t=>!s.has(t);Symbol("type");let u=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),d=t=>u(t)?t<=256?Uint8Array:t<=65536?Uint16Array:t<=4294967296?Uint32Array:t<=Number.MAX_SAFE_INTEGER?f:null:null;class f extends Array{constructor(t){super(t),this.fill(0)}}class p{heap;length;static #t=!1;static create(t){let e=d(t);if(!e)return[];p.#t=!0;let n=new p(t,e);return p.#t=!1,n}constructor(t,e){if(!p.#t)throw TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class g{#e;#n;#i;#r;#s;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#o;#a;#l;#c;#h;#u;#d;#f;#p;#g;#v;#y;#m;#_;#b;#w;#k;static unsafeExposeInternals(t){return{starts:t.#m,ttls:t.#_,sizes:t.#y,keyMap:t.#l,keyList:t.#c,valList:t.#h,next:t.#u,prev:t.#d,get head(){return t.#f},get tail(){return t.#p},free:t.#g,isBackgroundFetch:e=>t.#x(e),backgroundFetch:(e,n,i,r)=>t.#S(e,n,i,r),moveToTail:e=>t.#A(e),indexes:e=>t.#E(e),rindexes:e=>t.#T(e),isStale:e=>t.#R(e)}}get max(){return this.#e}get maxSize(){return this.#n}get calculatedSize(){return this.#a}get size(){return this.#o}get fetchMethod(){return this.#s}get dispose(){return this.#i}get disposeAfter(){return this.#r}constructor(t){let{max:e=0,ttl:n,ttlResolution:i=1,ttlAutopurge:r,updateAgeOnGet:o,updateAgeOnHas:l,allowStale:c,dispose:f,disposeAfter:v,noDisposeOnSet:y,noUpdateTTL:m,maxSize:_=0,maxEntrySize:b=0,sizeCalculation:w,fetchMethod:k,noDeleteOnFetchRejection:x,noDeleteOnStaleGet:S,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:E,ignoreFetchAbort:T}=t;if(0!==e&&!u(e))throw TypeError("max option must be a nonnegative integer");let R=e?d(e):Array;if(!R)throw Error("invalid max value: "+e);if(this.#e=e,this.#n=_,this.maxEntrySize=b||this.#n,this.sizeCalculation=w,this.sizeCalculation){if(!this.#n&&!this.maxEntrySize)throw TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw TypeError("sizeCalculation set to non-function")}if(void 0!==k&&"function"!=typeof k)throw TypeError("fetchMethod must be a function if specified");if(this.#s=k,this.#w=!!k,this.#l=new Map,this.#c=Array(e).fill(void 0),this.#h=Array(e).fill(void 0),this.#u=new R(e),this.#d=new R(e),this.#f=0,this.#p=0,this.#g=p.create(e),this.#o=0,this.#a=0,"function"==typeof f&&(this.#i=f),"function"==typeof v?(this.#r=v,this.#v=[]):(this.#r=void 0,this.#v=void 0),this.#b=!!this.#i,this.#k=!!this.#r,this.noDisposeOnSet=!!y,this.noUpdateTTL=!!m,this.noDeleteOnFetchRejection=!!x,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!E,this.ignoreFetchAbort=!!T,0!==this.maxEntrySize){if(0!==this.#n&&!u(this.#n))throw TypeError("maxSize must be a positive integer if specified");if(!u(this.maxEntrySize))throw TypeError("maxEntrySize must be a positive integer if specified");this.#C()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!S,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!l,this.ttlResolution=u(i)||0===i?i:1,this.ttlAutopurge=!!r,this.ttl=n||0,this.ttl){if(!u(this.ttl))throw TypeError("ttl must be a positive integer if specified");this.#O()}if(0===this.#e&&0===this.ttl&&0===this.#n)throw TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#n){let t="LRU_CACHE_UNBOUNDED";h(t)&&(s.add(t),a("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,g))}}getRemainingTTL(t){return this.#l.has(t)?1/0:0}#O(){let t=new f(this.#e),e=new f(this.#e);this.#_=t,this.#m=e,this.#I=(n,i,s=r.now())=>{if(e[n]=0!==i?s:0,t[n]=i,0!==i&&this.ttlAutopurge){let t=setTimeout(()=>{this.#R(n)&&this.delete(this.#c[n])},i+1);t.unref&&t.unref()}},this.#D=n=>{e[n]=0!==t[n]?r.now():0},this.#L=(r,s)=>{if(t[s]){let o=t[s],a=e[s];if(!o||!a)return;r.ttl=o,r.start=a,r.now=n||i();let l=r.now-a;r.remainingTTL=o-l}};let n=0,i=()=>{let t=r.now();if(this.ttlResolution>0){n=t;let e=setTimeout(()=>n=0,this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=r=>{let s=this.#l.get(r);if(void 0===s)return 0;let o=t[s],a=e[s];return o&&a?o-((n||i())-a):1/0},this.#R=r=>{let s=e[r],o=t[r];return!!o&&!!s&&(n||i())-s>o}}#D=()=>{};#L=()=>{};#I=()=>{};#R=()=>!1;#C(){let t=new f(this.#e);this.#a=0,this.#y=t,this.#M=e=>{this.#a-=t[e],t[e]=0},this.#F=(t,e,n,i)=>{if(this.#x(e))return 0;if(!u(n)){if(i){if("function"!=typeof i)throw TypeError("sizeCalculation must be a function");if(!u(n=i(e,t)))throw TypeError("sizeCalculation return invalid (expect positive integer)")}else throw TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.")}return n},this.#z=(e,n,i)=>{if(t[e]=n,this.#n){let n=this.#n-t[e];for(;this.#a>n;)this.#N(!0)}this.#a+=t[e],i&&(i.entrySize=n,i.totalCalculatedSize=this.#a)}}#M=t=>{};#z=(t,e,n)=>{};#F=(t,e,n,i)=>{if(n||i)throw TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#E({allowStale:t=this.allowStale}={}){if(this.#o)for(let e=this.#p;this.#j(e)&&((t||!this.#R(e))&&(yield e),e!==this.#f);)e=this.#d[e]}*#T({allowStale:t=this.allowStale}={}){if(this.#o)for(let e=this.#f;this.#j(e)&&((t||!this.#R(e))&&(yield e),e!==this.#p);)e=this.#u[e]}#j(t){return void 0!==t&&this.#l.get(this.#c[t])===t}*entries(){for(let t of this.#E())void 0===this.#h[t]||void 0===this.#c[t]||this.#x(this.#h[t])||(yield[this.#c[t],this.#h[t]])}*rentries(){for(let t of this.#T())void 0===this.#h[t]||void 0===this.#c[t]||this.#x(this.#h[t])||(yield[this.#c[t],this.#h[t]])}*keys(){for(let t of this.#E()){let e=this.#c[t];void 0===e||this.#x(this.#h[t])||(yield e)}}*rkeys(){for(let t of this.#T()){let e=this.#c[t];void 0===e||this.#x(this.#h[t])||(yield e)}}*values(){for(let t of this.#E())void 0===this.#h[t]||this.#x(this.#h[t])||(yield this.#h[t])}*rvalues(){for(let t of this.#T())void 0===this.#h[t]||this.#x(this.#h[t])||(yield this.#h[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(let n of this.#E()){let i=this.#h[n],r=this.#x(i)?i.__staleWhileFetching:i;if(void 0!==r&&t(r,this.#c[n],this))return this.get(this.#c[n],e)}}forEach(t,e=this){for(let n of this.#E()){let i=this.#h[n],r=this.#x(i)?i.__staleWhileFetching:i;void 0!==r&&t.call(e,r,this.#c[n],this)}}rforEach(t,e=this){for(let n of this.#T()){let i=this.#h[n],r=this.#x(i)?i.__staleWhileFetching:i;void 0!==r&&t.call(e,r,this.#c[n],this)}}purgeStale(){let t=!1;for(let e of this.#T({allowStale:!0}))this.#R(e)&&(this.delete(this.#c[e]),t=!0);return t}info(t){let e=this.#l.get(t);if(void 0===e)return;let n=this.#h[e],i=this.#x(n)?n.__staleWhileFetching:n;if(void 0===i)return;let s={value:i};if(this.#_&&this.#m){let t=this.#_[e],n=this.#m[e];if(t&&n){let e=t-(r.now()-n);s.ttl=e,s.start=Date.now()}}return this.#y&&(s.size=this.#y[e]),s}dump(){let t=[];for(let e of this.#E({allowStale:!0})){let n=this.#c[e],i=this.#h[e],s=this.#x(i)?i.__staleWhileFetching:i;if(void 0===s||void 0===n)continue;let o={value:s};if(this.#_&&this.#m){o.ttl=this.#_[e];let t=r.now()-this.#m[e];o.start=Math.floor(Date.now()-t)}this.#y&&(o.size=this.#y[e]),t.unshift([n,o])}return t}load(t){for(let[e,n]of(this.clear(),t)){if(n.start){let t=Date.now()-n.start;n.start=r.now()-t}this.set(e,n.value,n)}}set(t,e,n={}){if(void 0===e)return this.delete(t),this;let{ttl:i=this.ttl,start:r,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=n,{noUpdateTTL:l=this.noUpdateTTL}=n,c=this.#F(t,e,n.size||0,o);if(this.maxEntrySize&&c>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(t),this;let h=0===this.#o?void 0:this.#l.get(t);if(void 0===h)h=0===this.#o?this.#p:0!==this.#g.length?this.#g.pop():this.#o===this.#e?this.#N(!1):this.#o,this.#c[h]=t,this.#h[h]=e,this.#l.set(t,h),this.#u[this.#p]=h,this.#d[h]=this.#p,this.#p=h,this.#o++,this.#z(h,c,a),a&&(a.set="add"),l=!1;else{this.#A(h);let n=this.#h[h];if(e!==n){if(this.#w&&this.#x(n)){n.__abortController.abort(Error("replaced"));let{__staleWhileFetching:e}=n;void 0!==e&&!s&&(this.#b&&this.#i?.(e,t,"set"),this.#k&&this.#v?.push([e,t,"set"]))}else!s&&(this.#b&&this.#i?.(n,t,"set"),this.#k&&this.#v?.push([n,t,"set"]));if(this.#M(h),this.#z(h,c,a),this.#h[h]=e,a){a.set="replace";let t=n&&this.#x(n)?n.__staleWhileFetching:n;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update")}if(0===i||this.#_||this.#O(),this.#_&&(l||this.#I(h,i,r),a&&this.#L(a,h)),!s&&this.#k&&this.#v){let t;let e=this.#v;for(;t=e?.shift();)this.#r?.(...t)}return this}pop(){try{for(;this.#o;){let t=this.#h[this.#f];if(this.#N(!0),this.#x(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#k&&this.#v){let t;let e=this.#v;for(;t=e?.shift();)this.#r?.(...t)}}}#N(t){let e=this.#f,n=this.#c[e],i=this.#h[e];return this.#w&&this.#x(i)?i.__abortController.abort(Error("evicted")):(this.#b||this.#k)&&(this.#b&&this.#i?.(i,n,"evict"),this.#k&&this.#v?.push([i,n,"evict"])),this.#M(e),t&&(this.#c[e]=void 0,this.#h[e]=void 0,this.#g.push(e)),1===this.#o?(this.#f=this.#p=0,this.#g.length=0):this.#f=this.#u[e],this.#l.delete(n),this.#o--,e}has(t,e={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=e,r=this.#l.get(t);if(void 0!==r){let t=this.#h[r];if(this.#x(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#R(r))return n&&this.#D(r),i&&(i.has="hit",this.#L(i,r)),!0;i&&(i.has="stale",this.#L(i,r))}else i&&(i.has="miss");return!1}peek(t,e={}){let{allowStale:n=this.allowStale}=e,i=this.#l.get(t);if(void 0===i||!n&&this.#R(i))return;let r=this.#h[i];return this.#x(r)?r.__staleWhileFetching:r}#S(t,e,n,i){let r=void 0===e?void 0:this.#h[e];if(this.#x(r))return r;let s=new l,{signal:o}=n;o?.addEventListener("abort",()=>s.abort(o.reason),{signal:s.signal});let a={signal:s.signal,options:n,context:i},c=(i,r=!1)=>{let{aborted:o}=s.signal,l=n.ignoreFetchAbort&&void 0!==i;return(n.status&&(o&&!r?(n.status.fetchAborted=!0,n.status.fetchError=s.signal.reason,l&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),!o||l||r)?(this.#h[e]===u&&(void 0===i?u.__staleWhileFetching?this.#h[e]=u.__staleWhileFetching:this.delete(t):(n.status&&(n.status.fetchUpdated=!0),this.set(t,i,a.options))),i):h(s.signal.reason)},h=i=>{let{aborted:r}=s.signal,o=r&&n.allowStaleOnFetchAbort,a=o||n.allowStaleOnFetchRejection,l=a||n.noDeleteOnFetchRejection;if(this.#h[e]!==u||(l&&void 0!==u.__staleWhileFetching?o||(this.#h[e]=u.__staleWhileFetching):this.delete(t)),a)return n.status&&void 0!==u.__staleWhileFetching&&(n.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw i};n.status&&(n.status.fetchDispatched=!0);let u=new Promise((e,i)=>{let o=this.#s?.(t,r,a);o&&o instanceof Promise&&o.then(t=>e(void 0===t?void 0:t),i),s.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(e(void 0),n.allowStaleOnFetchAbort&&(e=t=>c(t,!0)))})}).then(c,t=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=t),h(t))),d=Object.assign(u,{__abortController:s,__staleWhileFetching:r,__returned:void 0});return void 0===e?(this.set(t,d,{...a.options,status:void 0}),e=this.#l.get(t)):this.#h[e]=d,d}#x(t){return!!this.#w&&!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof l}async fetch(t,e={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:p,forceRefresh:g=!1,status:v,signal:y}=e;if(!this.#w)return v&&(v.fetch="get"),this.get(t,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:r,status:v});let m={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:r,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:l,noUpdateTTL:c,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:f,ignoreFetchAbort:d,status:v,signal:y},_=this.#l.get(t);if(void 0===_){v&&(v.fetch="miss");let e=this.#S(t,_,m,p);return e.__returned=e}{let e=this.#h[_];if(this.#x(e)){let t=n&&void 0!==e.__staleWhileFetching;return v&&(v.fetch="inflight",t&&(v.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}let r=this.#R(_);if(!g&&!r)return v&&(v.fetch="hit"),this.#A(_),i&&this.#D(_),v&&this.#L(v,_),e;let s=this.#S(t,_,m,p),o=void 0!==s.__staleWhileFetching&&n;return v&&(v.fetch=r?"stale":"refresh",o&&r&&(v.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}get(t,e={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:s}=e,o=this.#l.get(t);if(void 0!==o){let e=this.#h[o],a=this.#x(e);return(s&&this.#L(s,o),this.#R(o))?(s&&(s.get="stale"),a)?(s&&n&&void 0!==e.__staleWhileFetching&&(s.returnedStale=!0),n?e.__staleWhileFetching:void 0):(r||this.delete(t),s&&n&&(s.returnedStale=!0),n?e:void 0):(s&&(s.get="hit"),a)?e.__staleWhileFetching:(this.#A(o),i&&this.#D(o),e)}s&&(s.get="miss")}#B(t,e){this.#d[e]=t,this.#u[t]=e}#A(t){t!==this.#p&&(t===this.#f?this.#f=this.#u[t]:this.#B(this.#d[t],this.#u[t]),this.#B(this.#p,t),this.#p=t)}delete(t){let e=!1;if(0!==this.#o){let n=this.#l.get(t);if(void 0!==n){if(e=!0,1===this.#o)this.clear();else{this.#M(n);let e=this.#h[n];if(this.#x(e)?e.__abortController.abort(Error("deleted")):(this.#b||this.#k)&&(this.#b&&this.#i?.(e,t,"delete"),this.#k&&this.#v?.push([e,t,"delete"])),this.#l.delete(t),this.#c[n]=void 0,this.#h[n]=void 0,n===this.#p)this.#p=this.#d[n];else if(n===this.#f)this.#f=this.#u[n];else{let t=this.#d[n];this.#u[t]=this.#u[n];let e=this.#u[n];this.#d[e]=this.#d[n]}this.#o--,this.#g.push(n)}}}if(this.#k&&this.#v?.length){let t;let e=this.#v;for(;t=e?.shift();)this.#r?.(...t)}return e}clear(){for(let t of this.#T({allowStale:!0})){let e=this.#h[t];if(this.#x(e))e.__abortController.abort(Error("deleted"));else{let n=this.#c[t];this.#b&&this.#i?.(e,n,"delete"),this.#k&&this.#v?.push([e,n,"delete"])}}if(this.#l.clear(),this.#h.fill(void 0),this.#c.fill(void 0),this.#_&&this.#m&&(this.#_.fill(0),this.#m.fill(0)),this.#y&&this.#y.fill(0),this.#f=0,this.#p=0,this.#g.length=0,this.#a=0,this.#o=0,this.#k&&this.#v){let t;let e=this.#v;for(;t=e?.shift();)this.#r?.(...t)}}}}}]);
//# sourceMappingURL=6932-c0d72db504805bb2.js.map