(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8818,1048,6431],{34598:function(e,t,n){var r=n(85036);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},60510:function(e){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},85036:function(e,t,n){var r=n(83663),o=n(18826),i=n(31154);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},18826:function(e){e.exports=function(e){return e!=e}},18296:function(e,t,n){var r=n(25561),o=n(34598),i=n(60510),a=n(8529),s=n(33295),l=n(33005);e.exports=function(e,t,n){var c=-1,u=o,d=e.length,p=!0,f=[],m=f;if(n)p=!1,u=i;else if(d>=200){var v=t?null:s(e);if(v)return l(v);p=!1,u=a,m=new r}else m=t?[]:f;e:for(;++c<d;){var g=e[c],x=t?t(g):g;if(g=n||0!==g?g:0,p&&x==x){for(var h=m.length;h--;)if(m[h]===x)continue e;t&&m.push(x),f.push(g)}else u(m,x,n)||(m!==f&&m.push(x),f.push(g))}return f}},33295:function(e,t,n){var r=n(353),o=n(91530),i=n(33005),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},31154:function(e){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return -1}},96594:function(e,t,n){var r=n(61757),o=n(18296);e.exports=function(e,t){return e&&e.length?o(e,r(t,2)):[]}},64216:function(e,t,n){"use strict";var r=n(79746),o=n(11550),i=n(41619),a=n(651);t.Z=e=>{let{label:t,value:n,onCopied:s}=e,l=()=>{(0,r.v)(n),s()};return(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[void 0!==t&&(0,a.jsx)("label",{className:"font-semibold",children:t}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{onClick:l,className:"w-full cursor-pointer break-all rounded-lg bg-token-main-surface-tertiary px-4 py-2 font-mono text-sm text-token-text-primary",children:n}),(0,a.jsx)(o.z,{color:"ghost",onClick:l,icon:i.TIy})]})]})}},66587:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(98601),o=n(52088),i=n(19841),a=n(651);let s=["className"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){let{className:t}=e,n=(0,o.Z)(e,s);return(0,a.jsx)("textarea",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({className:(0,i.default)("form-textarea w-full rounded-lg border border-token-border-light bg-token-main-surface-secondary text-sm text-token-text-primary focus:border-token-text-primary focus:shadow-none focus:outline-none focus:ring-token-text-primary",t)},n))}},88491:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var r,o=n(98601),i=n(99333),a=n(11550),s=n(64216),l=n(6440),c=n(59144),u=n(36792),d=n(41619),p=n(24434),f=n(24740),m=n(2721),v=n(42420),g=n(56032),x=n(92379),h=n(75172),y=n(62984),b=n(68306),j=n(12310),w=n(651);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var N=((r=N||{})[r.INITIAL=0]="INITIAL",r[r.PENDING=1]="PENDING",r[r.FINAL=2]="FINAL",r);function M(e){let{workspaceId:t,isOpen:n,onClose:r,currentDomain:o,domains:a=[],showUnverifiedDomains:l=!1,onVerifyDomain:u}=e,d=(0,h.Z)(),{mutateAsync:b,isPending:j}=function(e){let t=(0,v.NL)();return(0,g.D)({mutationFn:t=>{let{hostname:n}=t;return m.Z.addDomainToWorkspace(e,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:e=>{f.m.danger(e.message)}})}(t),{mutateAsync:k,isPending:M}=function(e){let t=(0,v.NL)();return(0,g.D)({mutationFn:t=>{let{domainId:n}=t;return m.Z.checkDomainForWorkspace(e,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:e=>{f.m.danger(e.message)}})}(t),{0:O,1:S}=(0,x.useState)(null!=o?o:void 0),{0:E,1:Z}=(0,x.useState)(null==o?void 0:o.hostname),{0:D,1:z}=(0,x.useState)((null==o?void 0:o.status)===void 0?N.INITIAL:(null==o?void 0:o.status)===i.pT.PENDING?N.PENDING:N.FINAL),I=()=>{o||(S(void 0),z(N.INITIAL))},R=async()=>{if(void 0===E)return;let e=a.find(e=>e.hostname===E&&e.status===i.pT.PENDING);if(e)S(e),z(N.PENDING);else{let e=await b({hostname:E});"id"in e&&S(e),z(N.PENDING)}},A=(0,w.jsx)(c.Z.Button,{title:d.formatMessage(T.check),color:"primary",disabled:(null==O?void 0:O.id)===void 0||M,onClick:async()=>{if(null!=O&&O.id){let e=await k({domainId:O.id});"error"in e&&f.m.danger(d.formatMessage(T.domainCheckError,{message:e.error.message})),"id"in e&&(u&&u(e),e.status===i.pT.VERIFIED&&z(N.FINAL))}}}),_=(0,w.jsx)(c.Z.Button,{title:d.formatMessage(T.submit),color:"primary",disabled:void 0===E||j,onClick:R}),B=(0,w.jsx)(c.Z.Button,{title:d.formatMessage(T.done),color:"primary",onClick:()=>{I(),r()}});return(0,w.jsxs)(p.Z,{isOpen:n,onClose:()=>{I(),r()},type:"success",className:"text-token-text-secondary",title:d.formatMessage(D===N.INITIAL?T.newTitle:T.editTitle),primaryButton:D===N.INITIAL?_:D===N.PENDING?A:B,secondaryButton:(0,w.jsx)(c.Z.Button,{title:d.formatMessage(T.cancel),color:"secondary",onClick:()=>{I(),r()}}),children:[D===N.INITIAL&&(0,w.jsx)(C,{hostname:E,onSetHostname:Z,onSubmit:R,unverifiedDomains:l?a:[],onVerifyDomain:e=>{z(N.PENDING),S(e)},workspaceId:t}),D===N.PENDING&&(0,w.jsxs)("div",{className:"flex flex-col gap-3",children:[d.formatMessage(T.verificationTokenMessage,{hostname:null==O?void 0:O.hostname}),(null==O?void 0:O.dns_verification_token_string)&&(0,w.jsx)(s.Z,{value:O.dns_verification_token_string,onCopied:()=>{f.m.success(d.formatMessage(T.copiedTXTRecordToClipboard),{duration:3})}}),(0,w.jsx)(y.Z,P({},T.verificationTokenFooter))]}),D===N.FINAL&&(0,w.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,w.jsx)(y.Z,P(P({},T.successfulVerification),{},{values:{hostname:null==O?void 0:O.hostname}})),(null==O?void 0:O.dns_verification_token_string)&&(0,w.jsx)(s.Z,{value:O.dns_verification_token_string,onCopied:()=>{f.m.success(d.formatMessage(T.copiedTXTRecordToClipboard),{duration:3})}})]})]})}function O(e){let{unverifiedDomains:t,onVerifyDomain:n,workspaceId:r}=e,{mutateAsync:o}=(0,j.Bd)(r);return(0,w.jsxs)(u.Z.Root,{fixed:!0,size:"compact",className:"mb-6 border-b border-token-border-light",children:[(0,w.jsxs)(u.Z.Header,{children:[(0,w.jsx)(u.Z.HeaderCell,{children:(0,w.jsx)(y.Z,P({},T.unverifiedDomainsTableHeader))}),(0,w.jsx)(u.Z.HeaderCell,{textAlign:"right"})]}),t.map(e=>(0,w.jsxs)(u.Z.Row,{children:[(0,w.jsx)(u.Z.Cell,{children:e.hostname}),(0,w.jsx)(u.Z.Cell,{textAlign:"right",children:(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsx)(a.z,{color:"secondary",size:"small",onClick:()=>n(e),children:(0,w.jsx)(y.Z,P({},T.verifyDomainButton))}),(0,w.jsx)(a.z,{color:"secondary",size:"small",onClick:()=>o({domainId:e.id}),icon:d.XHJ})]})})]},e.id))]})}function C(e){let{hostname:t,onSetHostname:n,onSubmit:r,unverifiedDomains:o,onVerifyDomain:i,workspaceId:a}=e,s=(0,h.Z)();return(0,w.jsxs)(w.Fragment,{children:[o&&o.length>0&&(0,w.jsx)(O,{workspaceId:a,unverifiedDomains:o,onVerifyDomain:i}),(0,w.jsx)("form",{onSubmit:e=>{e.preventDefault(),r()},children:(0,w.jsxs)("div",{className:"mb-4",children:[(0,w.jsx)("label",{className:"mb-2 flex items-center text-sm font-semibold",children:(0,w.jsx)(y.Z,P({},T.domainInput))}),(0,w.jsx)(l.Z,{name:"hostname",placeholder:s.formatMessage(T.placeholder),value:null!=t?t:"",onChange:e=>{n(e.target.value)}})]})})]})}let T=(0,b.vU)({newTitle:{id:"domainModal.newTitle.0",defaultMessage:"Verify a new domain"},editTitle:{id:"domainModal.editTitle",defaultMessage:"Manage Domain"},submit:{id:"domainModal.submit",defaultMessage:"Submit"},check:{id:"domainModal.check",defaultMessage:"Check"},done:{id:"domainModal.done",defaultMessage:"Done"},cancel:{id:"domainModal.cancel",defaultMessage:"Cancel"},domainInput:{id:"domainModal.domainInput.0",defaultMessage:"Add a new domain"},placeholder:{id:"domainModal.placeholder",defaultMessage:"openai.com"},domainCheckError:{id:"domainModal.domainCheckError",defaultMessage:"Your domain could not be verified: {message}"},verificationTokenMessage:{id:"domainModal.verificationTokenMessage",defaultMessage:"To verify ownership of {hostname}, navigate to your DNS provider and add a TXT record with this value:"},verificationTokenFooter:{id:"domainModal.verificationTokenFooter",defaultMessage:"Then, check the record to complete the verification."},successfulVerification:{id:"domainModal.successfulVerification.0",defaultMessage:'Your domain, "{hostname}" has been successfully verified'},copiedTXTRecordToClipboard:{id:"domainModal.copiedTXTRecordToClipboard",defaultMessage:"Copied DNS TXT record to clipboard"},verifyDomainButton:{id:"domainModal.verifyDomainButton",defaultMessage:"Verify"},unverifiedDomainsTableHeader:{id:"domainModal.unverifiedDomainsTableHeader",defaultMessage:"Your unverified domains"}})},43465:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(98601),o=n(99333),i=n(79704),a=n(11550),s=n(41619),l=n(24434),c=n(52275),u=n(2721),d=n(42420),p=n(91530),f=n.n(p),m=n(86481),v=n.n(m),g=n(92379),x=n(75172),h=n(62984),y=n(68306),b=n(651);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e){let{isOpen:t,onClose:n,account:r,gpt:p}=e,m=(0,x.Z)(),{0:y,1:j}=(0,g.useState)(!1),{0:k,1:N}=(0,g.useState)(p),M=null==k?void 0:k.tools.filter(e=>e.type!==o.qK.JIT_PLUGIN),O=null==k?void 0:k.tools.filter(e=>e.type===o.qK.JIT_PLUGIN),C=(0,d.NL)();return(0,b.jsxs)(l.Z,{size:"custom",className:"max-w-lg text-sm",isOpen:t,onClose:f(),type:"success",title:m.formatMessage(P.approveGPTTitle),children:[void 0==k?(0,b.jsx)("div",{className:"h-96",children:(0,b.jsx)(c.n_,{className:"max-w-3xl flex-grow",inputClassName:"h-10 text-sm pl-9",iconClassName:"left-4",resultsSizeOffset:-90,onSelect:e=>{N(e)}})}):(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsxs)("div",{className:"flex gap-4 border-b border-token-border-light pb-6",children:[null!=k.gizmo.display.profile_picture_url?(0,b.jsx)(v(),{src:k.gizmo.display.profile_picture_url,alt:"Description",className:"h-24 w-24 rounded-full",width:96,height:96}):(0,b.jsx)(s.uy2,{className:"h-96 w-96 text-gray-400"}),(0,b.jsxs)("div",{className:"flex flex-col gap-1 text-token-text-primary",children:[(0,b.jsx)("p",{className:"text-lg font-semibold",children:k.gizmo.display.name}),(0,b.jsx)("p",{children:k.gizmo.display.description}),(0,b.jsx)("p",{className:"text-token-text-secondary",children:(0,b.jsx)(h.Z,w(w({},P.gptByLine),{},{values:{authorName:k.gizmo.author.display_name}}))})]})]}),(0,b.jsx)("div",{className:"flex border-b border-token-border-light py-6",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("p",{className:"w-24 font-semibold",children:(0,b.jsx)(h.Z,w({},P.capabilitiesTitle))}),(0,b.jsx)("div",{className:"flex flex-col gap-1 text-token-text-primary",children:M&&M.length>0?M.map(e=>(0,b.jsx)("p",{children:(0,i.DW)(r,e.type)},e.id)):(0,b.jsx)("p",{className:"text-token-text-secondary",children:(0,b.jsx)(h.Z,w({},P.noCapabilitiesEnabled))})})]})}),(0,b.jsx)("div",{className:"flex py-6",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("p",{className:"w-24 font-semibold",children:(0,b.jsx)(h.Z,w({},P.actionsTitle))}),(0,b.jsx)("div",{className:"flex flex-col gap-1 text-token-text-primary",children:O&&O.length>0?O.map(e=>{var t;return(0,b.jsx)("p",{children:null!==(t=e.metadata.domain)&&void 0!==t?t:""},e.id)}):(0,b.jsx)("p",{className:"text-token-text-secondary",children:(0,b.jsx)(h.Z,w({},P.noCustomActions))})})]})})]}),(0,b.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,b.jsx)(a.z,{color:"secondary",onClick:()=>{N(void 0),n(!1)},loading:y,children:(0,b.jsx)(h.Z,w({},P.cancelButtonText))}),(0,b.jsx)(a.z,{color:"primary",loading:y,disabled:void 0==k,onClick:()=>{void 0!=k&&(j(!0),u.Z.approveThirdPartyGPT(r.id,k.gizmo.id).finally(()=>{C.invalidateQueries({queryKey:["gizmo"]}),n(!0),N(void 0),j(!1)}))},children:(0,b.jsx)(h.Z,w({},P.approveButtonText))})]})]})}let P=(0,y.vU)({approveGPTTitle:{id:"approveGPTModal.approveGPTTitle",defaultMessage:"Approve a third-party GPT"},cancelButtonText:{id:"approveGPTModal.cancelButtonText",defaultMessage:"Cancel"},approveButtonText:{id:"approveGPTModal.approveButtonText",defaultMessage:"Approve"},gptByLine:{id:"approveGPTModal.gptByLine",defaultMessage:"By {authorName}"},capabilitiesTitle:{id:"approveGPTModal.capabilitiesTitle",defaultMessage:"Capabilities"},actionsTitle:{id:"approveGPTModal.actionsTitle",defaultMessage:"Actions"},noCapabilitiesEnabled:{id:"approveGPTModal.noCapabilitiesEnabled",defaultMessage:"No capabilities enabled"},noCustomActions:{id:"approveGPTModal.noCustomActions",defaultMessage:"No custom actions"}})},79704:function(e,t,n){"use strict";n.d(t,{$v:function(){return i},DW:function(){return s},Di:function(){return a}});var r=n(99333),o=n(10080);function i(e){return e===r.r3.ADMIN||e===r.r3.OWNER}function a(e){return e===r.r3.OWNER}function s(e,t){switch(t){case r.qK.BROWSER:return"Web browsing";case r.qK.PYTHON:return"Code interpreter & Data Analysis";case r.qK.JIT_PLUGIN:return"Custom actions";case r.qK.RETRIEVAL:return"File retrieval";case r.qK.DALLE:return"DALL\xb7E image generation";case o.Zz.Private:return"Builder only";case o.Zz.Workspace:return e.data.name;case o.Zz.Link:return"Anyone with link";case o.Zz.Marketplace:return"Public";default:return null}}},83036:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r,o=n(2346),i=n(42110),a=n(10449);n(82363);var s=n(88667),l=n(92379),c=n(62984),u=n(15478),d=n(41619),p=n(651);let f=u.Z.div(r||(r=(0,o.Z)(["text-sm text-token-text-tertiary"])));function m(e){let t,n,{gizmo:r,builderName:o,builderUrl:a,className:l,socials:u,hideLink:m=!1}=e,{value:g}=(0,s.sB)("2256850471");r&&"gizmo"in r?(t=r.gizmo.author.display_name,n=r.gizmo.author.link_to):(t=o,n=a),(""===t||null==t)&&(t="community builder");let x=null==u?void 0:u.filter(e=>e.verified),h=(0,p.jsxs)("div",{className:"w-48 space-y-4 text-sm",children:[n&&(0,p.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[(0,p.jsx)(d.n9J,{className:"icon-md"}),(0,p.jsx)("span",{children:(0,p.jsx)(c.Z,{id:"gizmo.author.websiteLabel",defaultMessage:"Website"})})]}),(0,p.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:n,className:"text-token-text-tertiary  hover:cursor-pointer",children:(0,p.jsx)(d.Pfi,{className:"icon-sm"})})]}),g&&(null==x?void 0:x.map((e,t)=>e.verified?(0,p.jsx)(i.lD,{socialData:e},t):null)),(0,p.jsxs)("div",{className:"text-xs text-token-text-tertiary",children:[(n||x&&x.length>0)&&(0,p.jsx)("hr",{className:"my-2 border-token-border-light"}),(0,p.jsx)(c.Z,{id:"gizmo.author.cannotViewLabel",defaultMessage:"The builder of this GPT cannot view your conversations."})]})]});return(0,p.jsxs)("div",{className:"flex flex-row items-center space-x-1",children:[(0,p.jsx)(f,{className:l,children:(0,p.jsx)(c.Z,{id:"gizmo.author.byLabel",defaultMessage:"By {displayName}",values:{displayName:t}})}),!m&&(0,p.jsx)(v,{socials:u,website:n,children:h})]})}function v(e){let{website:t,socials:n,children:r}=e,{0:o,1:i}=(0,l.useState)(!1),s=[];t&&s.push((0,p.jsx)(d.n9J,{className:"icon-xs text-token-text-secondary"})),n&&n.forEach(e=>{e.verified&&("twitter"===e.type?s.push((0,p.jsx)(d.suT,{className:"icon-xs text-token-text-secondary"})):"linkedin"===e.type?s.push((0,p.jsx)(d.O9,{className:"icon-xs text-token-text-secondary"})):"github"===e.type&&s.push((0,p.jsx)(d.C2$,{className:"icon-xs text-token-text-secondary"})))});let c=s.length-2;return s=s.slice(0,2),c>0&&s.push((0,p.jsxs)("span",{className:"text-xs font-semibold text-token-text-secondary",children:["+",c]},"overflow")),(0,p.jsx)(a.fC,{open:o,onOpenChange:i,children:(0,p.jsxs)("div",{onPointerLeave:()=>i(!1),children:[(0,p.jsx)(a.xz,{asChild:!0,children:(0,p.jsx)("div",{onPointerEnter:()=>i(!0),children:s.length>0?(0,p.jsx)("div",{className:"flex items-center gap-1 rounded-xl bg-token-main-surface-secondary px-2 py-1",children:s}):(0,p.jsx)(d.tBG,{className:"icon-xs text-token-text-secondary"})})}),(0,p.jsx)(a.VY,{side:"top",sideOffset:8,align:"center",className:"z-10 rounded-lg bg-token-main-surface-primary p-4 drop-shadow-md",children:r})]})})}},12128:function(e,t,n){"use strict";n.d(t,{M:function(){return c},Z:function(){return l}});var r=n(25162),o=n(41619),i=n(39004),a=n(10080),s=n(651);function l(e){let{isFirstParty:t,src:n,alt:i,className:a}=e;return(0,s.jsx)("div",{className:a,children:null!=n?(0,s.jsx)("div",{className:"gizmo-shadow-stroke overflow-hidden rounded-full",children:(0,s.jsx)("img",{src:n,className:"h-full w-full bg-token-main-surface-secondary",alt:null!=i?i:"GPT",width:80,height:80})}):(0,s.jsx)("div",{className:"gizmo-shadow-stroke relative flex h-full items-center justify-center rounded-full bg-token-main-surface-primary text-token-text-primary",children:t?(0,s.jsx)(r.nI,{className:"h-2/3 w-2/3"}):(0,s.jsx)(o.uy2,{className:"h-2/3 w-2/3 text-gray-400"})})})}function c(e){var t,n;let{gizmoId:r,className:o}=e,{data:c}=(0,i.b9)(r);return(0,s.jsx)(l,{src:null==c?void 0:c.gizmo.display.profile_picture_url,isFirstParty:null!==(t=null==c||null===(n=c.gizmo.tags)||void 0===n?void 0:n.includes(a.U9.FirstParty))&&void 0!==t&&t,className:o})}},74567:function(e,t,n){"use strict";n.d(t,{N:function(){return s}});var r=n(39004),o=n(11941),i=n.n(o),a=n(651);function s(e){let{gizmo:t}=e,n=(0,r.uy)(t.gizmo.display.name);return(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:n}),(0,a.jsx)("meta",{name:"title",content:n},"title"),(0,a.jsx)("meta",{property:"og:site_name",content:"ChatGPT"},"og:site_name"),(0,a.jsx)("meta",{property:"og:type",content:"website"},"og:type"),(0,a.jsx)("meta",{property:"og:title",content:n},"og:title"),(0,a.jsx)("meta",{property:"og:url",content:(0,r.i6)(t)},"og:url"),t.gizmo.display.description&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("meta",{name:"description",content:t.gizmo.display.description},"description"),(0,a.jsx)("meta",{property:"og:description",content:t.gizmo.display.description},"og:description")]}),t.gizmo.display.profile_picture_url&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("meta",{property:"og:image",content:t.gizmo.display.profile_picture_url},"og:image"),(0,a.jsx)("meta",{property:"og:image:width",content:"512"},"og:image:width"),(0,a.jsx)("meta",{property:"og:image:height",content:"512"},"og:image:height")]})]})}},10083:function(e,t,n){"use strict";n.d(t,{X:function(){return m},r:function(){return f}});var r=n(12128),o=n(10080),i=n(15913),a=n(19841),s=n(3351),l=n(57456),c=n(54097),u=n(83036),d=n(45334),p=n(651);function f(e){let{gizmo:t,hideOwner:n=!1,children:r,className:o,avatarClassName:i,showStarterPrompts:s=!1,disableStarterPrompts:l=!1}=e;return null==t?null:(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:(0,a.default)("flex h-full flex-col items-center justify-center text-token-text-primary",o),children:[(0,p.jsx)(m,{gizmo:t,avatarClassName:i}),(0,p.jsx)(g,{gizmo:t,hideOwner:n,showStarterPrompts:s,disableStarterPrompts:l}),r]})})}function m(e){var t;let{gizmo:n,avatarClassName:i}=e,s=!!(null!=n&&(0,d.S9)(n)&&(null==n||null===(t=n.gizmo.tags)||void 0===t?void 0:t.includes(o.U9.FirstParty)));return(0,p.jsx)("div",{className:"relative",children:(0,p.jsx)(r.Z,{isFirstParty:s||!n,src:null!=n&&(0,d.WQ)(n)?n.profilePictureUrl:null==n?void 0:n.gizmo.display.profile_picture_url,className:(0,a.default)("mb-3 h-12 w-12",i)})})}function v(e){let{gizmo:t,disabled:n}=e,r=(0,c.O)(t),o=(0,s.fZ)(),a=(0,i.BL)();if(null==r||0===r.length)return null;let u=r.slice(0,a?2:4);return(0,p.jsx)(l.cS,{starterPrompts:u,onSelectStarterPrompt:o,disabled:n})}function g(e){let{gizmo:t,hideOwner:n,showStarterPrompts:r,disableStarterPrompts:o}=e,i=null!=t&&(0,d.WQ)(t)?t.name:null==t?void 0:t.gizmo.display.name,a=null!=t&&(0,d.WQ)(t)?t.description:null==t?void 0:t.gizmo.display.description;return(0,p.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,p.jsx)("div",{className:"text-center text-2xl font-semibold",children:i}),!n&&(0,p.jsx)("div",{className:"flex items-center gap-1 text-token-text-tertiary",children:(0,p.jsx)(p.Fragment,{children:t&&(0,d.WQ)(t)?(0,p.jsx)(u.Z,{gizmo:t}):(0,p.jsx)(u.Z,{gizmo:t,socials:t.gizmo.author.display_socials})})}),a&&(0,p.jsx)("div",{className:"max-w-md text-center text-sm font-normal text-token-text-primary",children:a}),r&&(0,p.jsx)(v,{gizmo:t,disabled:o})]})}},20053:function(e,t,n){"use strict";n.d(t,{H:function(){return M}});var r=n(98601),o=n(11550),i=n(66587),a=n(24434),s=n(99555),l=n(24740),c=n(31438),u=n(31498),d=n(84760),p=n(99976),f=n(61619),m=n(19841),v=n(92379),g=n(75172),x=n(62984),h=n(68306),y=n(30853),b=n(41619),j=n(39004),w=n(10080),k=n(651);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let M=e=>{let{rating:t,onRating:n,className:r}=e,{0:o,1:i}=(0,v.useState)(),a=(0,g.Z)();return(0,k.jsx)("div",{className:(0,m.default)("flex flex-row",r),children:[1,2,3,4,5].map(e=>{var r;let s=(0,k.jsx)(b.e0l,{className:(0,m.default)("icon-2xl cursor-pointer",(null!==(r=null!=o?o:t)&&void 0!==r?r:0)>=e?function(e,t){var n;let r=null!==(n=null!=e?e:t)&&void 0!==n?n:0;return(0,m.default)(null!=e&&e!=t&&"opacity-50 dark:opacity-60",r>4?"text-brand-purple":r>3?"text-green-500":r>2?"text-yellow-500":r>1?"text-orange-500":"text-red-500")}(o,t):"text-token-main-surface-tertiary")}),l=function(e){switch(e){case 1:return C.hoverRating1;case 2:return C.hoverRating2;case 3:return C.hoverRating3;case 4:return C.hoverRating4;case 5:return C.hoverRating5}}(null!=o?o:0),c=l&&a.formatMessage(l);return(0,k.jsx)("div",{onClick:()=>{n(e)},onMouseEnter:()=>{i(e)},onMouseLeave:()=>{i(void 0)},className:"p-1",children:l?(0,k.jsx)(y.u,{label:c,side:"top",sideOffset:4,children:s}):s},e)})})},O=e=>{var t,n,r;let{gizmo:h}=e,b=(0,u.aF)(),P=()=>c.vm.closeModal(c.B.GPTReview),O=(0,g.Z)(),{0:T,1:S}=(0,v.useState)(""),{0:E,1:Z}=(0,v.useState)(!1),D=(r=h.gizmo.id,(0,d.a)({queryFn:async()=>s.U.getUserReview(r),queryKey:["gizmo","review",{gizmoId:r}],enabled:null!=r})),z=(0,j.K7)(h.gizmo.id),{0:I,1:R}=(0,v.useState)(),A=I===(null===(t=D.data)||void 0===t?void 0:t.rating);(0,v.useEffect)(()=>{null!=D.data&&null==I&&R(D.data.rating)},[D.data,I]),(0,v.useEffect)(()=>{p.A.logEvent(f.M.showRatingModal,{gizmo_id:h.gizmo.id})},[h.gizmo.id]);let _=null!=D.data,B=!(null!==(n=h.gizmo.tags)&&void 0!==n&&n.includes(w.U9.FirstParty))&&h.gizmo.author.will_receive_support_emails;return(0,k.jsx)(a.Z,{type:"success",title:(0,k.jsxs)("div",{children:[(0,k.jsx)(x.Z,N({},C.title)),(0,k.jsxs)("div",{className:"align-end mt-2 flex text-sm font-normal",children:[_?(0,k.jsx)(x.Z,N({},C.subtitleChange)):(0,k.jsx)(x.Z,N({},C.subtitle)),(0,k.jsx)(y.u,{label:O.formatMessage(C.subtitleTooltip),className:"ml-1 flex cursor-pointer items-center pl-1",sideOffset:0,children:(0,k.jsx)("div",{className:"icon-xs flex items-center justify-center rounded-full border border-token-text-tertiary text-[8px] font-bold text-token-text-tertiary",children:"i"})})]})]}),isOpen:!0,onClose:P,size:"custom",showCloseButton:!0,className:"max-w-xl overflow-y-auto",hideSeparator:!0,children:(0,k.jsxs)("div",{className:"flex flex-grow flex-col space-y-8",children:[(0,k.jsx)(M,{rating:I,onRating:R,className:"mx-auto flex flex-row items-center"}),B&&(0,k.jsxs)("div",{children:[(0,k.jsx)(i.Z,{className:"mb-1 w-full resize-none overflow-y-auto rounded-md bg-transparent focus:border-gray-200 focus:ring-gray-200 dark:focus:border-white dark:focus:ring-white",placeholder:O.formatMessage(C.messagePlaceholder),value:T,rows:1,onChange:e=>S(e.target.value)}),(0,k.jsxs)("div",{className:(0,m.default)("flex flex-row items-center space-x-2 self-start",T.length>0?"text-token-text-primary":"text-token-text-tertiary"),children:[(0,k.jsx)("input",{type:"checkbox",className:"rounded",checked:E,onChange:e=>Z(e.target.checked)}),b&&(0,k.jsx)("span",{className:"text-sm",children:(0,k.jsx)(x.Z,N(N({},C.includeFrom),{},{values:{email:(0,k.jsx)("strong",{children:b.email})}}))})]})]}),(0,k.jsx)(o.z,{color:"primary",disabled:A,onClick:async()=>{if(null==I){l.m.warning("Please select a rating");return}p.A.logEvent(f.M.submitRatingModal,{gizmo_id:h.gizmo.id,rating:I}),await z.mutateAsync({rating:I,message:T.length>0?T:void 0,includeFrom:T.length>0?E:void 0}),l.m.success(O.formatMessage(C.successToast),{duration:3}),P()},children:(0,k.jsx)(x.Z,N({},C.submit))})]})})},C=(0,h.vU)({title:{id:"GizmoReviewModal.title",defaultMessage:"Leave Feedback"},subtitle:{id:"GizmoReviewModal.subtitle",defaultMessage:"How would you rate this GPT?"},subtitleChange:{id:"GizmoReviewModal.subtitleChange",defaultMessage:"Would you like to change your rating?"},subtitleTooltip:{id:"GizmoReviewModal.subtitleTooltip",defaultMessage:"Stars will be public and anonymous"},messagePlaceholder:{id:"GizmoReviewModal.messagePlaceholder",defaultMessage:"Add an optional private email to the creator"},submit:{id:"GizmoReviewModal.submit",defaultMessage:"Submit"},successToast:{id:"GizmoReviewModal.successToast",defaultMessage:"Review sent"},includeFrom:{id:"GizmoReviewModal.includeFrom",defaultMessage:"Include my email address {email}"},hoverRating1:{id:"GizmoReviewModal.hoverRating1",defaultMessage:"Bad"},hoverRating2:{id:"GizmoReviewModal.hoverRating2",defaultMessage:"Okay"},hoverRating3:{id:"GizmoReviewModal.hoverRating3",defaultMessage:"Good"},hoverRating4:{id:"GizmoReviewModal.hoverRating4",defaultMessage:"Great!"},hoverRating5:{id:"GizmoReviewModal.hoverRating5",defaultMessage:"Excellent!"}});t.Z=e=>{let{gizmo:t}=e;return(0,c.EV)(c.B.GPTReview)?(0,k.jsx)(O,{gizmo:t}):null}},20608:function(e,t,n){"use strict";n.r(t),n.d(t,{GizmoUsingAsOwnerNotice:function(){return u}});var r=n(93951),o=n(92379),i=n(62984),a=n(11550),s=n(43465),l=n(41619),c=n(651);function u(e){let{gizmo:t}=e,n=(0,r.t)(),u=(0,r.S0)(),{0:d,1:p}=(0,o.useState)(!1);return null!=n&&u?(0,c.jsxs)("div",{className:"h-52px flex w-full items-center justify-center gap-2 bg-gray-100 p-3 text-sm dark:bg-gray-700",children:[(0,c.jsx)(l.ZyU,{className:"icon-sm"}),(0,c.jsx)(i.Z,{id:"GizmoConversationHeader.usingAsOwner",defaultMessage:"Only workspace owners can use this GPT."}),(0,c.jsx)(a.z,{color:"secondary",size:"small",onClick:()=>p(!0),children:(0,c.jsx)(i.Z,{id:"GizmoConversationHeader.approveGPTButton",defaultMessage:"Approve for workspace"})}),(0,c.jsx)(s.Z,{isOpen:d,onClose:()=>p(!1),account:n,gpt:t})]}):null}},93236:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var r=n(11550),o=n(99976),i=n(651);function a(e){let{href:t,children:n,onClickTrackingEventName:a,onClick:s}=e;function l(){a&&o.A.logEvent(a),null==s||s()}return t?(0,i.jsx)(r.z,{as:"link",to:t,onClick:l,size:"giant",children:n}):(0,i.jsx)(r.z,{onClick:l,size:"giant",children:n})}},42110:function(e,t,n){"use strict";n.d(t,{lD:function(){return P},s6:function(){return N},tw:function(){return k}});var r=n(98601),o=n(88491),i=n(12310),a=n(11550),s=n(98095),l=n(41619),c=n(99555),u=n(81690),d=n(97537),p=n(93951),f=n(54089),m=n(42420),v=n(56032),g=n(19841),x=n(92379),h=n(62984),y=n(68306),b=n(651);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e){var t,n;let{selectedDomain:r,verifiedDomains:a,domains:c,onChangeDomain:u}=e,{0:d,1:m}=(0,x.useState)(!1),v=a.length>0,g=null===(t=(0,p.t)())||void 0===t?void 0:t.id,y=null===(n=(0,p.t)())||void 0===n?void 0:n.isEnterprisey(),{mutateAsync:j}=(0,i.Bd)(g);return(0,b.jsxs)("div",{className:"font-normal",children:[(0,b.jsxs)(s.Z.Root,{children:[(0,b.jsx)(f.xz,{children:(0,b.jsxs)("span",{className:"flex items-center gap-2 py-2",children:[null!=r?r:(0,b.jsx)(h.Z,w({},M.selectADomain)),(0,b.jsx)(l.T2M,{className:"icon-md"})]})}),(0,b.jsx)(s.Z.Portal,{children:(0,b.jsxs)(s.Z.Content,{children:[(0,b.jsx)(s.Z.RadioGroup,{value:r,onValueChange:e=>{e!==r&&u(e)},children:a.map(e=>{let{id:t,hostname:n}=e;return(0,b.jsx)(s.Z.RadioItem,{value:n,children:(0,b.jsxs)("div",{className:"flex flex-row",children:[(0,b.jsx)("span",{children:n}),(0,b.jsx)("span",{onClick:()=>{j({domainId:t}),u("")},children:(0,b.jsx)(l.XHJ,{className:"icon-sm fixed right-4"})})]})},t)})}),v&&(0,b.jsx)(s.Z.Separator,{}),(0,b.jsx)(s.Z.Item,{onClick:()=>{m(!0)},icon:l.Vz5,children:(0,b.jsx)(h.Z,w({},M.addDomain))})]})})]}),g&&!y&&(0,b.jsx)(o.Z,{domains:c,isOpen:d,onClose:()=>m(!1),workspaceId:g,showUnverifiedDomains:!0,onVerifyDomain:e=>{u(e.hostname)}})]})}function P(e){let{socialData:t}=e,{type:n,display_name:r,verified_data:o}=t,i="twitter"===n?l.suT:"linkedin"===n?l.O9:"github"===n?l.C2$:null;return i?(0,b.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[i({className:"icon-md"}),(0,b.jsx)("span",{children:r})]}),(null==o?void 0:o.link_to)&&(0,b.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:o.link_to,className:"text-sm text-token-text-tertiary  hover:cursor-pointer",children:(0,b.jsx)(l.Pfi,{className:"icon-sm"})})]}):null}function N(e){let{socialData:t,icon:n}=e,{id:r,type:o,display_name:i,verified:s,verified_data:p}=t,{0:f,1:y}=(0,x.useState)(!1),j=function(){let e=(0,m.NL)();return(0,v.D)({mutationFn:e=>{let{verifierType:t}=e;return c.U.unverifySocialAuth(t)},onSuccess:()=>{e.refetchQueries({queryKey:["builderProfile"]})}})}();return(0,b.jsxs)("div",{className:"flex flex-row items-center justify-between space-y-1",children:[(0,b.jsxs)("div",{className:(0,g.default)("flex items-center space-x-2"),children:[(0,b.jsx)(n,{className:"icon-sm"}),(0,b.jsx)("span",{children:i}),s&&(null==p?void 0:p.username)&&(0,b.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:p.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:null==p?void 0:p.username})]}),s?(0,b.jsx)("div",{className:"py-1 font-semibold hover:cursor-pointer",onClick:()=>{j.mutate({verifierType:o})},children:j.isPending?(0,b.jsx)(d.Z,{}):(0,b.jsx)(l.tPq,{className:"icon-sm text-token-text-tertiary"})}):(0,b.jsx)(a.z,{size:"small",color:"secondary",loading:f,onClick:async()=>{y(!0),await (0,u.Up)({id:r},"#settings/BuilderProfile"),y(!1)},children:(0,b.jsx)(h.Z,w({},M.verify))})]})}let M=(0,y.vU)({verify:{defaultMessage:"Add",id:"GizmoSocialRow.add"},addDomain:{id:"GizmoSocialRow.addDomain",defaultMessage:"Verify new domain"},selectADomain:{id:"GizmoSocialRow.selectADomain",defaultMessage:"Select a domain"}})},75856:function(e,t,n){"use strict";n.d(t,{E:function(){return m},c:function(){return f}});var r=n(99333),o=n(92745),i=n(31438),a=n(13503),s=n(88667),l=n(92379),c=n(75172),u=n(24740),d=n(94219),p=n(651);function f(e){var t;let{serverThreadId:n,clientThreadId:r,isStaticSharedThread:a}=e,d=(0,i.EV)(i.B.ReportConversation),f=(null===(t=(0,s.sB)("3376455464"))||void 0===t?void 0:t.value)||a,v=(0,o.XK)(r),g=null!=n?n:v,x=(0,c.Z)();return((0,l.useEffect)(()=>{null==g&&d&&f&&(u.m.danger(x.formatMessage({id:"gizmo.report.conversationModal.emptyConversationError",defaultMessage:"Empty conversations cannot be reported"})),i.vm.closeModal(i.B.ReportConversation))},[g,d,f,x]),d&&f&&null!=g)?(0,p.jsx)(m,{serverThreadId:g,onClose:()=>i.vm.closeModal(i.B.ReportConversation),isStaticSharedThread:a}):null}function m(e){let{serverThreadId:t,onClose:n,isStaticSharedThread:o}=e,{data:i}=(0,a.sQ)(o?r.CD.ShareableConversation:r.CD.Conversation),s=(0,c.Z)(),l=(0,a.gm)(s,t,o?r.CD.ShareableConversation:r.CD.Conversation);return null==i||null==t?null:(0,p.jsx)(d.UM,{reasons:i.reasons,submitReport:l,title:s.formatMessage({id:"gizmo.report.conversationModal.title",defaultMessage:"Report a conversation"}),onClose:n,header:i.header,subHeader:i.header_explanation})}},94219:function(e,t,n){"use strict";n.d(t,{Ag:function(){return w},Rh:function(){return N},UM:function(){return T},_4:function(){return j}});var r,o,i,a,s=n(2346),l=n(99333),c=n(13503),u=n(82363),d=n(92379),p=n(62984),f=n(75172),m=n(15478),v=n(11550),g=n(6440),x=n(66587),h=n(41619),y=n(24434),b=n(651);let j=m.Z.div(r||(r=(0,s.Z)(["divide-y overflow-hidden rounded-md border border-token-border-medium"]))),w=m.Z.button(o||(o=(0,s.Z)(["w-full border-token-border-medium p-2 text-left text-sm hover:bg-token-main-surface-secondary"]))),k=m.Z.div(i||(i=(0,s.Z)(["text-sm font-semibold"]))),P=m.Z.div(a||(a=(0,s.Z)(["text-sm text-token-text-secondary"])));function N(e){let{header:t,subHeader:n}=e;return null==t&&null==n?null:(0,b.jsxs)("div",{className:"mb-4",children:[null!=t&&(0,b.jsx)(k,{children:t}),null!=n&&(0,b.jsx)(P,{children:n})]})}function M(e){let{reasons:t,onSelectReason:n}=e;return(0,b.jsx)(j,{children:t.map(e=>(0,b.jsx)(w,{onClick:()=>{n(e)},children:e.cta},e.id))})}function O(e){var t,n;let{reason:r,submitReport:o}=e,{0:i,1:a}=(0,d.useState)(""),{0:s,1:c}=(0,d.useState)(""),{0:u,1:f}=(0,d.useState)(""),m=null===(t=r.additional_fields)||void 0===t?void 0:t.map(e=>e.id),h=null==m?void 0:m.includes(l.kg.UserName),y=null==m?void 0:m.includes(l.kg.UserEmail),j=h||y;return(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[j&&(0,b.jsxs)("div",{className:"flex flex-col gap-4 text-sm",children:[h&&(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)(p.Z,{id:"report.loggedOut.name",defaultMessage:"Your name"}),(0,b.jsx)(g.Z,{name:"name",type:"text",value:s,onChange:e=>c(e.target.value)})]}),y&&(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)(p.Z,{id:"report.loggedOut.email",defaultMessage:"Your email address"}),(0,b.jsx)(g.Z,{name:"email",type:"email",value:u,onChange:e=>f(e.target.value)})]})]}),(0,b.jsx)(x.Z,{value:i,onChange:e=>a(e.target.value),placeholder:null!==(n=r.details_placeholder)&&void 0!==n?n:void 0,autoFocus:!0,className:"!bg-token-main-surface-primary"}),null!=r.subtext&&(0,b.jsx)("div",{className:"text-sm text-token-text-secondary",children:r.subtext}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)(v.z,{onClick:()=>{let e;j&&(e={},h&&(e.user_name=s),y&&(e.user_email=u)),o.mutateAsync({reason:{id:r.id,details:i},additional_fields_values:e})},disabled:o.isPending,children:(0,b.jsx)(p.Z,{id:"report.submitReport",defaultMessage:"Submit"})})})]})}function C(e){let{reason:t}=e;return(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("div",{className:"mb-2",children:t.link_explanation}),null!=t.link_attachment&&(0,b.jsx)("div",{children:(0,b.jsx)("a",{href:t.link_attachment,target:"_blank",rel:"noreferrer",className:"break-words underline",children:t.link_attachment})})]})}function T(e){var t,n,r,o,i,a,s;let l,p;let{reasons:m,submitReport:v,title:g,onClose:x,header:j,subHeader:w}=e,{0:k,1:P}=(0,d.useState)([]),T=(0,f.Z)(),S=m;for(let e of k)S=null!==(i=null===(a=l=S.find(t=>t.id===e))||void 0===a?void 0:a.sub_reasons)&&void 0!==i?i:[];let E=null!=l&&(0,b.jsx)("div",{className:"mb-2 flex gap-1 text-sm",children:(0,b.jsxs)("button",{onClick:()=>{P(e=>e.slice(0,-1))},className:"flex items-center gap-2 p-1",children:[(0,b.jsx)(h.DUf,{className:"icon-sm"}),(0,b.jsx)("div",{children:l.cta})]})}),Z=(null===(t=l)||void 0===t?void 0:t.subtext)!=null&&(0,b.jsx)("div",{className:"text-sm text-token-text-secondary",children:l.subtext}),D=T.formatMessage({id:"report.submittedModal.header",defaultMessage:"Report submitted"}),z=T.formatMessage({id:"report.submittedModal.subHeader",defaultMessage:"You report has been submitted. Thank you for letting us know about this issue."});return v.isSuccess?p=(0,b.jsx)(N,{header:D,subHeader:z}):(null===(n=l)||void 0===n?void 0:n.details_placeholder)!=null?p=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(N,{header:j,subHeader:w}),E,(0,b.jsx)(O,{reason:l,submitReport:v})]}):(null===(r=l)||void 0===r?void 0:r.link_attachment)!=null?p=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(N,{header:j,subHeader:w}),E,(0,b.jsx)(C,{reason:l}),Z]}):S.length>0?p=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(N,{header:j,subHeader:w}),E,S.length>0&&(0,b.jsx)(M,{reasons:S,onSelectReason:async e=>{(0,c.bx)(e)?v.mutateAsync({reason:{id:e.id}}):P(t=>[...t,e.id])}}),Z]}):(null===(o=l)||void 0===o?void 0:o.subtext)!=null?p=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(N,{header:j,subHeader:w}),E,(0,b.jsx)("div",{className:"text-sm",children:null===(s=l)||void 0===s?void 0:s.subtext})]}):(u.U.addError("Reporting: arrived at empty leaf reason",l),p=(0,b.jsx)(N,{header:D,subHeader:z})),(0,b.jsx)(y.Z,{title:g,onClose:x,isOpen:!0,showCloseButton:!0,type:"success",children:p})}},75372:function(e,t,n){"use strict";n.d(t,{f:function(){return m}});var r,o=n(98601),i=n(52088),a=n(2346),s=n(92379),l=n(15478),c=n(651);let u=["icon","children"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let f=l.Z.button(r||(r=(0,a.Z)(["flex h-10 w-full items-center gap-2.5 rounded-lg px-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary"]))),m=(0,s.forwardRef)(function(e,t){let{icon:n,children:r}=e,o=(0,i.Z)(e,u);return(0,c.jsxs)(f,p(p({ref:t},o),{},{children:[(0,c.jsx)("div",{className:"flex h-6 w-6 items-center justify-center text-token-text-secondary",children:(0,c.jsx)(n,{className:"icon-md"})}),(0,c.jsx)("span",{className:"text-sm",children:r})]}))})},81690:function(e,t,n){"use strict";n.d(t,{Up:function(){return i},doConnectorOauthRedirect:function(){return a},wP:function(){return l},wW:function(){return s}});var r=n(16757),o=n(2721);async function i(e,t){let n="".concat("https://chat.openai.com","/aip/").concat(e.id,"/oauth/callback"),r=await o.Z.pluginOauthRedirect(e.id,n,t);window.location.href=r.redirect_uri}async function a(e,t,n,r){let i=await o.Z.connectorOauthRedirect(e.id,n,t,r);window.location.href=i.redirect_uri}function s(e){switch(e){case r.NA.Link:return"link_paste_popover";case r.NA.Picker:return"file_upload_menu"}}async function l(e){await o.Z.deleteUserConnectedApp(e),window.location.reload()}},49763:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var r=n(98601),o=n(36560),i=n.n(o);class a{constructor(){(0,r.Z)(this,"emitter",new(i())),this.emitter.setMaxListeners(1e3)}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}publish(e){this.emitter.emit(e.kind,e),this.emitter.emit("anyEvent",e)}}},13391:function(e,t,n){"use strict";n.d(t,{n:function(){return S},A3:function(){return C},yx:function(){return z},JS:function(){return D}});var r,o=n(98601),i=n(15858),a=n(70879),s=n(99976),l=n(61619),c=n(79746),u=n(82363),d=n(91530),p=n.n(d),f=n(92379),m=n(68306),v=n(16757),g=n(24740),x=n(92745),h=n(31438),y=n(49763),b=n(22433),j=n(45248);let w=f.useLayoutEffect;function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let P=/```.*?\n([\s\S]+?)\n?```[^`]*$/gms;var N=((r=N||{}).Core="Core",r.Chat="Chat",r.Settings="Settings",r);let M=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({Mod:"mod",Comma:","},i.s),O={[M.Mod]:/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"⌘":"Ctrl",[M.Comma]:",",[M.Enter]:"⏎",[M.Escape]:"Esc",[M.ArrowUp]:"↑",[M.ArrowDown]:"↓",[M.ArrowLeft]:"←",[M.ArrowRight]:"→",[M.Backspace]:"⌫",[M.Delete]:"⌦",[M.Tab]:"⇥",[M.Control]:"Ctrl",[M.Shift]:"Shift"},C=e=>e.map(e=>{var t;return null!==(t=O[e])&&void 0!==t?t:e}),T=(0,m.vU)({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block"},copyLastResponse:{id:"keyboardActions.copyLastResponse",defaultMessage:"Copy last response"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat"},archiveChat:{id:"keyboardActions.archiveChat",defaultMessage:"Archive chat"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts"}}),S=new y.V,E=e=>{let{resetThreadAction:t,clientThreadId:n}=e;return[{key:"newChat",action:t||p(),actionMessageDescriptor:T.newChat,group:N.Core,keyboardBinding:[M.Mod,M.Shift,"o"],altKeyboardBindings:[[M.Mod,"k"]]},{key:"focusPromptTextarea",action:a.go,actionMessageDescriptor:T.focusPromptTextarea,group:N.Chat,keyboardBinding:[M.Shift,M.Escape]},{key:"copyLastCodeBlock",action:()=>{if(null!=n){let e=x.tQ.getThreadCurrentLeafId(n),t=x.tQ.getThreadConversationTurns(n,e);for(let e=t.length-1;e>=0;e--){let{messages:n}=t[e],r=[...n.reduce((e,t)=>null==t.err&&t.message.author.role===v.uU.Assistant&&"all"===t.message.recipient?e+(e?"\n\n":"")+(0,b.RR)(t.message):e,"").matchAll(P)],o=r.length?r[r.length-1][1]:null;if(null!=o){(0,c.v)(o).then(()=>{g.m.success("Copied code block to clipboard")});break}}}},actionMessageDescriptor:T.copyLastCodeBlock,group:N.Chat,keyboardBinding:[M.Mod,M.Shift,";"],altKeyboardBindings:[[M.Mod,M.Shift,":"]]},{key:"copyLastResponse",action:()=>{null!=n&&x.tQ.copyLastMessageToClipboard(n,"keyboard").then(()=>{g.m.success("Last response copied to clipboard")})},actionMessageDescriptor:T.copyLastResponse,group:N.Chat,keyboardBinding:[M.Mod,M.Shift,"c"]},{key:"toggleCustomInstructions",action:()=>h.vm.toggleModal(h.B.UserContext),actionMessageDescriptor:T.toggleCustomInstructions,group:N.Settings,keyboardBinding:[M.Mod,M.Shift,"i"]},{key:"navigationToggle",action:()=>h.vm.toggleDesktopNavCollapsed(),actionMessageDescriptor:T.navigationToggle,group:N.Core,keyboardBinding:[M.Mod,M.Shift,"s"]},{key:"deleteChat",action:()=>{if(n){let e=x.tQ.getServerThreadId(n);e&&S.publish({kind:"deleteChat",serverThreadId:e})}},actionMessageDescriptor:T.deleteChat,group:N.Chat,keyboardBinding:[M.Mod,M.Shift,M.Backspace],altKeyboardBindings:[[M.Mod,M.Shift,M.Delete]]},{key:"toggleKeyboardActions",action:()=>h.vm.toggleModal(h.B.KeyboardActions),actionMessageDescriptor:T.toggleKeyboardActions,group:N.Settings,keyboardBinding:[M.Mod,"/"]}]},Z=e=>(function(e,t,n){let r=e.map(e=>{let{keyboardBinding:t}=e,n=t.join("+");if(e.altKeyboardBindings){n=[n];let t=e.altKeyboardBindings.map(e=>e.join("+"));n=n.concat(t)}return(0,j.ZP)(n,{byKey:!0})});w(()=>{if((null==n?void 0:n.enabled)===!1)return;let o=n=>{if(!n.repeat)for(let o=0;o<r.length;o++)r[o](n)&&(void 0===e[o].enabled||e[o].enabled)&&(n.preventDefault(),t(e[o]),e[o].action())},i=e=>{void 0!==e.key&&o(e)},a=document;return a.addEventListener("keydown",i),()=>{a.removeEventListener("keydown",i)}},[e,n])})(e,e=>{s.A.logEvent(l.M.keyboardShortcut,{keyboardActionKey:e.key}),u.U.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:e.key})},{enabled:!0}),D=function(){let{resetThreadAction:e,clientThreadId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.useMemo)(()=>E({resetThreadAction:e,clientThreadId:t}).filter(e=>{let{enabled:t=!0}=e;return t}),[t,e])},z=e=>{let{resetThreadAction:t,clientThreadId:n}=e;Z(D({resetThreadAction:t,clientThreadId:n}))}},13503:function(e,t,n){"use strict";n.d(t,{bx:function(){return d},gm:function(){return p},sQ:function(){return f}});var r=n(98601),o=n(24740),i=n(2721),a=n(56032),s=n(84760),l=n(82363);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){return 0===e.sub_reasons.length&&null==e.details_placeholder&&null==e.link_attachment&&null==e.subtext}function p(e,t,n){return(0,a.D)({mutationFn:e=>i.Z.postReport(u(u({},e),{},{entity_type:n,entity_id:t})),onError:r=>{l.U.addError(Error("Error occurred while reporting",{cause:r}),{entityType:n,id:t}),o.m.danger(e.formatMessage({id:"report.submitError",defaultMessage:"Error reporting: {detail}"},{detail:r.message}))}})}function f(e){return(0,s.a)({queryKey:["reportReasons",{entityType:e}],queryFn:()=>i.Z.getReportReasons(e)})}},17096:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(92379);function o(){let e=(0,r.useRef)([]),t=(0,r.useRef)((t,n)=>{let r=setTimeout(t,n);return e.current.push(r),r});return(0,r.useEffect)(()=>{let t=e.current;return()=>{t.forEach(e=>{clearTimeout(e)})}},[]),t.current}},89039:function(e,t,n){"use strict";let r,o;n.d(t,{J:function(){return _}});var i=n(92379),a=n(782),s=n(78789),l=n(91157),c=n(86060),u=n(76227),d=n(88554),p=n(98397),f=n(57084),m=n(60839),v=n(67607),g=n(87054),x=n(25825),h=n(39231),y=n(37927),b=n(11943),j=n(51973),w=((r=w||{})[r.Open=0]="Open",r[r.Closed=1]="Closed",r),k=((o=k||{})[o.TogglePopover=0]="TogglePopover",o[o.ClosePopover=1]="ClosePopover",o[o.SetButton=2]="SetButton",o[o.SetButtonId=3]="SetButtonId",o[o.SetPanel=4]="SetPanel",o[o.SetPanelId=5]="SetPanelId",o);let P={0:e=>({...e,popoverState:(0,a.E)(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},N=(0,i.createContext)(null);function M(e){let t=(0,i.useContext)(N);if(null===t){let t=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,M),t}return t}N.displayName="PopoverContext";let O=(0,i.createContext)(null);function C(e){let t=(0,i.useContext)(O);if(null===t){let t=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,C),t}return t}O.displayName="PopoverAPIContext";let T=(0,i.createContext)(null);function S(){return(0,i.useContext)(T)}T.displayName="PopoverGroupContext";let E=(0,i.createContext)(null);function Z(e,t){return(0,a.E)(t.type,P,e,t)}E.displayName="PopoverPanelContext";let D=(0,s.yV)(function(e,t){var n;let r=`headlessui-popover-button-${(0,c.M)()}`,o=`headlessui-popover-panel-${(0,c.M)()}`,u=(0,i.useRef)(null),d=(0,l.T)(t,(0,l.h)(e=>{u.current=e})),m=(0,i.useReducer)(Z,{popoverState:1,button:null,buttonId:r,panel:null,panelId:o,beforePanelSentinel:(0,i.createRef)(),afterPanelSentinel:(0,i.createRef)()}),[{popoverState:g,button:y,panel:j,beforePanelSentinel:w,afterPanelSentinel:k},P]=m,M=(0,x.i)(null!=(n=u.current)?n:y);(0,i.useEffect)(()=>P({type:3,buttonId:r}),[r,P]),(0,i.useEffect)(()=>P({type:5,panelId:o}),[o,P]);let C=(0,i.useMemo)(()=>{if(!y||!j)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(y))^Number(null==e?void 0:e.contains(j)))return!0;return!1},[y,j]),T=(0,i.useMemo)(()=>({buttonId:r,panelId:o,close:()=>P({type:1})}),[r,o,P]),E=S(),D=null==E?void 0:E.registerPopover,z=(0,b.z)(()=>{var e;return null!=(e=null==E?void 0:E.isFocusWithinPopoverGroup())?e:(null==M?void 0:M.activeElement)&&((null==y?void 0:y.contains(M.activeElement))||(null==j?void 0:j.contains(M.activeElement)))});(0,i.useEffect)(()=>null==D?void 0:D(T),[D,T]),(0,h.O)(null==M?void 0:M.defaultView,"focus",e=>{var t,n,r,o;0===g&&(z()||!y||!j||null!=(n=null==(t=w.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(o=null==(r=k.current)?void 0:r.contains)&&o.call(r,e.target)||P({type:1}))},!0),(0,v.O)([y,j],(e,t)=>{P({type:1}),(0,p.sP)(t,p.tJ.Loose)||(e.preventDefault(),null==y||y.focus())},0===g);let I=(0,b.z)(e=>{P({type:1});let t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:y:y;null==t||t.focus()}),R=(0,i.useMemo)(()=>({close:I,isPortalled:C}),[I,C]),A=(0,i.useMemo)(()=>({open:0===g,close:I}),[g,I]);return i.createElement(N.Provider,{value:m},i.createElement(O.Provider,{value:R},i.createElement(f.up,{value:(0,a.E)(g,{0:f.ZM.Open,1:f.ZM.Closed})},(0,s.sY)({ourProps:{ref:d},theirProps:e,slot:A,defaultTag:"div",name:"Popover"}))))}),z=(0,s.yV)(function(e,t){let[n,r]=M("Popover.Button"),{isPortalled:o}=C("Popover.Button"),f=(0,i.useRef)(null),v=`headlessui-focus-sentinel-${(0,c.M)()}`,g=S(),h=null==g?void 0:g.closeOthers,w=(0,i.useContext)(E),k=null!==w&&w===n.panelId,P=(0,l.T)(f,t,k?null:e=>r({type:2,button:e})),N=(0,l.T)(f,t),O=(0,x.i)(f),T=(0,b.z)(e=>{var t,o,i;if(k){if(1===n.popoverState)return;switch(e.key){case u.R.Space:case u.R.Enter:e.preventDefault(),null==(o=(t=e.target).click)||o.call(t),r({type:1}),null==(i=n.button)||i.focus()}}else switch(e.key){case u.R.Space:case u.R.Enter:e.preventDefault(),e.stopPropagation(),1===n.popoverState&&(null==h||h(n.buttonId)),r({type:0});break;case u.R.Escape:if(0!==n.popoverState)return null==h?void 0:h(n.buttonId);if(!f.current||(null==O?void 0:O.activeElement)&&!f.current.contains(O.activeElement))return;e.preventDefault(),e.stopPropagation(),r({type:1})}}),Z=(0,b.z)(e=>{k||e.key===u.R.Space&&e.preventDefault()}),D=(0,b.z)(t=>{var o,i;(0,d.P)(t.currentTarget)||e.disabled||(k?(r({type:1}),null==(o=n.button)||o.focus()):(t.preventDefault(),t.stopPropagation(),1===n.popoverState&&(null==h||h(n.buttonId)),r({type:0}),null==(i=n.button)||i.focus()))}),z=(0,b.z)(e=>{e.preventDefault(),e.stopPropagation()}),I=0===n.popoverState,R=(0,i.useMemo)(()=>({open:I}),[I]),A=(0,m.f)(e,f),_=k?{ref:N,type:A,onKeyDown:T,onClick:D}:{ref:P,id:n.buttonId,type:A,"aria-expanded":e.disabled?void 0:0===n.popoverState,"aria-controls":n.panel?n.panelId:void 0,onKeyDown:T,onKeyUp:Z,onClick:D,onMouseDown:z},B=(0,j.l)(),G=(0,b.z)(()=>{let e=n.panel;e&&(0,a.E)(B.current,{[j.N.Forwards]:()=>(0,p.jA)(e,p.TO.First),[j.N.Backwards]:()=>(0,p.jA)(e,p.TO.Last)})});return i.createElement(i.Fragment,null,(0,s.sY)({ourProps:_,theirProps:e,slot:R,defaultTag:"button",name:"Popover.Button"}),I&&!k&&o&&i.createElement(y._,{id:v,features:y.A.Focusable,as:"button",type:"button",onFocus:G}))}),I=s.AN.RenderStrategy|s.AN.Static,R=(0,s.yV)(function(e,t){let[{popoverState:n},r]=M("Popover.Overlay"),o=(0,l.T)(t),a=`headlessui-popover-overlay-${(0,c.M)()}`,u=(0,f.oJ)(),p=null!==u?u===f.ZM.Open:0===n,m=(0,b.z)(e=>{if((0,d.P)(e.currentTarget))return e.preventDefault();r({type:1})}),v=(0,i.useMemo)(()=>({open:0===n}),[n]);return(0,s.sY)({ourProps:{ref:o,id:a,"aria-hidden":!0,onClick:m},theirProps:e,slot:v,defaultTag:"div",features:I,visible:p,name:"Popover.Overlay"})}),A=s.AN.RenderStrategy|s.AN.Static,_=Object.assign(D,{Button:z,Overlay:R,Panel:(0,s.yV)(function(e,t){let{focus:n=!1,...r}=e,[o,d]=M("Popover.Panel"),{close:m,isPortalled:v}=C("Popover.Panel"),g=`headlessui-focus-sentinel-before-${(0,c.M)()}`,h=`headlessui-focus-sentinel-after-${(0,c.M)()}`,w=(0,i.useRef)(null),k=(0,l.T)(w,t,e=>{d({type:4,panel:e})}),P=(0,x.i)(w),N=(0,f.oJ)(),O=null!==N?N===f.ZM.Open:0===o.popoverState,T=(0,b.z)(e=>{var t;if(e.key===u.R.Escape){if(0!==o.popoverState||!w.current||(null==P?void 0:P.activeElement)&&!w.current.contains(P.activeElement))return;e.preventDefault(),e.stopPropagation(),d({type:1}),null==(t=o.button)||t.focus()}});(0,i.useEffect)(()=>{var t;e.static||1===o.popoverState&&(null==(t=e.unmount)||t)&&d({type:4,panel:null})},[o.popoverState,e.unmount,e.static,d]),(0,i.useEffect)(()=>{if(!n||0!==o.popoverState||!w.current)return;let e=null==P?void 0:P.activeElement;w.current.contains(e)||(0,p.jA)(w.current,p.TO.First)},[n,w,o.popoverState]);let S=(0,i.useMemo)(()=>({open:0===o.popoverState,close:m}),[o,m]),Z={ref:k,id:o.panelId,onKeyDown:T,onBlur:n&&0===o.popoverState?e=>{var t,n,r,i,a;let s=e.relatedTarget;!s||!w.current||null!=(t=w.current)&&t.contains(s)||(d({type:1}),((null==(r=null==(n=o.beforePanelSentinel.current)?void 0:n.contains)?void 0:r.call(n,s))||(null==(a=null==(i=o.afterPanelSentinel.current)?void 0:i.contains)?void 0:a.call(i,s)))&&s.focus({preventScroll:!0}))}:void 0,tabIndex:-1},D=(0,j.l)(),z=(0,b.z)(()=>{let e=w.current;e&&(0,a.E)(D.current,{[j.N.Forwards]:()=>{(0,p.jA)(e,p.TO.First)},[j.N.Backwards]:()=>{var e;null==(e=o.button)||e.focus({preventScroll:!0})}})}),I=(0,b.z)(()=>{let e=w.current;e&&(0,a.E)(D.current,{[j.N.Forwards]:()=>{var e,t,n;if(!o.button)return;let r=(0,p.GO)(),i=r.indexOf(o.button),a=r.slice(0,i+1),s=[...r.slice(i+1),...a];for(let r of s.slice())if((null==(t=null==(e=null==r?void 0:r.id)?void 0:e.startsWith)?void 0:t.call(e,"headlessui-focus-sentinel-"))||(null==(n=o.panel)?void 0:n.contains(r))){let e=s.indexOf(r);-1!==e&&s.splice(e,1)}(0,p.jA)(s,p.TO.First,!1)},[j.N.Backwards]:()=>(0,p.jA)(e,p.TO.Last)})});return i.createElement(E.Provider,{value:o.panelId},O&&v&&i.createElement(y._,{id:g,ref:o.beforePanelSentinel,features:y.A.Focusable,as:"button",type:"button",onFocus:z}),(0,s.sY)({ourProps:Z,theirProps:r,slot:S,defaultTag:"div",features:A,visible:O,name:"Popover.Panel"}),O&&v&&i.createElement(y._,{id:h,ref:o.afterPanelSentinel,features:y.A.Focusable,as:"button",type:"button",onFocus:I}))}),Group:(0,s.yV)(function(e,t){let n=(0,i.useRef)(null),r=(0,l.T)(n,t),[o,a]=(0,i.useState)([]),c=(0,b.z)(e=>{a(t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t})}),u=(0,b.z)(e=>(a(t=>[...t,e]),()=>c(e))),d=(0,b.z)(()=>{var e;let t=(0,g.r)(n);if(!t)return!1;let r=t.activeElement;return!!(null!=(e=n.current)&&e.contains(r))||o.some(e=>{var n,o;return(null==(n=t.getElementById(e.buttonId))?void 0:n.contains(r))||(null==(o=t.getElementById(e.panelId))?void 0:o.contains(r))})}),p=(0,b.z)(e=>{for(let t of o)t.buttonId!==e&&t.close()}),f=(0,i.useMemo)(()=>({registerPopover:u,unregisterPopover:c,isFocusWithinPopoverGroup:d,closeOthers:p}),[u,c,d,p]),m=(0,i.useMemo)(()=>({}),[]);return i.createElement(T.Provider,{value:f},(0,s.sY)({ourProps:{ref:r},theirProps:e,slot:m,defaultTag:"div",name:"Popover.Group"}))})})},39231:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var r=n(92379),o=n(23441);function i(e,t,n,i){let a=(0,o.E)(n);(0,r.useEffect)(()=>{function n(e){a.current(e)}return(e=null!=e?e:window).addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)},[e,t,i])}},51973:function(e,t,n){"use strict";let r;n.d(t,{N:function(){return a},l:function(){return s}});var o=n(92379),i=n(23441),a=((r=a||{})[r.Forwards=0]="Forwards",r[r.Backwards=1]="Backwards",r);function s(){var e,t;let n,r=(0,o.useRef)(0);return e="keydown",t=e=>{"Tab"===e.key&&(r.current=e.shiftKey?1:0)},n=(0,i.E)(t),(0,o.useEffect)(()=>{function t(e){n.current(e)}return window.addEventListener(e,t,!0),()=>window.removeEventListener(e,t,!0)},[e,!0]),r}},37927:function(e,t,n){"use strict";let r;n.d(t,{A:function(){return i},_:function(){return a}});var o=n(78789),i=((r=i||{})[r.None=1]="None",r[r.Focusable=2]="Focusable",r[r.Hidden=4]="Hidden",r);let a=(0,o.yV)(function(e,t){let{features:n=1,...r}=e,i={ref:t,"aria-hidden":(2&n)==2||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&n)==4&&(2&n)!=2&&{display:"none"}}};return(0,o.sY)({ourProps:i,theirProps:r,slot:{},defaultTag:"div",name:"Hidden"})})},11812:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var r=n(46598);function o(e=.1,{startDelay:t=0,from:n=0,ease:o}={}){return(i,a)=>{let s=e*Math.abs(("number"==typeof n?n:function(e,t){if("first"===e)return 0;{let n=t-1;return"last"===e?n:n/2}}(n,a))-i);if(o){let t=a*e;s=(0,r.R)(o)(s/t)*t}return t+s}}}}]);
//# sourceMappingURL=8818.b378370a396309d8.js.map