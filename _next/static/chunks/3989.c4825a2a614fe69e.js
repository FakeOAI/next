"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3989],{43465:function(e,t,n){n.d(t,{Z:function(){return j}});var o=n(98601),r=n(99333),a=n(79704),l=n(11550),i=n(13490),s=n(24434),u=n(52275),c=n(2721),d=n(42420),p=n(91530),f=n.n(p),v=n(86481),g=n.n(v),y=n(92379),b=n(75172),m=n(62984),h=n(68306),P=n(651);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e){let{isOpen:t,onClose:n,account:o,gpt:p}=e,v=(0,b.Z)(),{0:h,1:x}=(0,y.useState)(!1),{0:j,1:w}=(0,y.useState)(p),O=null==j?void 0:j.tools.filter(e=>e.type!==r.qK.JIT_PLUGIN),C=null==j?void 0:j.tools.filter(e=>e.type===r.qK.JIT_PLUGIN),T=(0,d.NL)();return(0,P.jsxs)(s.Z,{size:"custom",className:"max-w-lg text-sm",isOpen:t,onClose:f(),type:"success",title:v.formatMessage(S.approveGPTTitle),children:[void 0==j?(0,P.jsx)("div",{className:"h-96",children:(0,P.jsx)(u.n_,{className:"max-w-3xl flex-grow",inputClassName:"h-10 text-sm pl-9",iconClassName:"left-4",resultsSizeOffset:-90,onSelect:e=>{w(e)}})}):(0,P.jsxs)("div",{className:"flex flex-col",children:[(0,P.jsxs)("div",{className:"flex gap-4 border-b border-token-border-light pb-6",children:[null!=j.gizmo.display.profile_picture_url?(0,P.jsx)(g(),{src:j.gizmo.display.profile_picture_url,alt:"Description",className:"h-24 w-24 rounded-full",width:96,height:96}):(0,P.jsx)(i.uy2,{className:"h-96 w-96 text-gray-400"}),(0,P.jsxs)("div",{className:"flex flex-col gap-1 text-token-text-primary",children:[(0,P.jsx)("p",{className:"text-lg font-semibold",children:j.gizmo.display.name}),(0,P.jsx)("p",{children:j.gizmo.display.description}),(0,P.jsx)("p",{className:"text-token-text-secondary",children:(0,P.jsx)(m.Z,k(k({},S.gptByLine),{},{values:{authorName:j.gizmo.author.display_name}}))})]})]}),(0,P.jsx)("div",{className:"flex border-b border-token-border-light py-6",children:(0,P.jsxs)("div",{className:"flex gap-4",children:[(0,P.jsx)("p",{className:"w-24 font-semibold",children:(0,P.jsx)(m.Z,k({},S.capabilitiesTitle))}),(0,P.jsx)("div",{className:"flex flex-col gap-1 text-token-text-primary",children:O&&O.length>0?O.map(e=>(0,P.jsx)("p",{children:(0,a.DW)(o,e.type)},e.id)):(0,P.jsx)("p",{className:"text-token-text-secondary",children:(0,P.jsx)(m.Z,k({},S.noCapabilitiesEnabled))})})]})}),(0,P.jsx)("div",{className:"flex py-6",children:(0,P.jsxs)("div",{className:"flex gap-4",children:[(0,P.jsx)("p",{className:"w-24 font-semibold",children:(0,P.jsx)(m.Z,k({},S.actionsTitle))}),(0,P.jsx)("div",{className:"flex flex-col gap-1 text-token-text-primary",children:C&&C.length>0?C.map(e=>{var t;return(0,P.jsx)("p",{children:null!==(t=e.metadata.domain)&&void 0!==t?t:""},e.id)}):(0,P.jsx)("p",{className:"text-token-text-secondary",children:(0,P.jsx)(m.Z,k({},S.noCustomActions))})})]})})]}),(0,P.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,P.jsx)(l.z,{color:"secondary",onClick:()=>{w(void 0),n(!1)},loading:h,children:(0,P.jsx)(m.Z,k({},S.cancelButtonText))}),(0,P.jsx)(l.z,{color:"primary",loading:h,disabled:void 0==j,onClick:()=>{void 0!=j&&(x(!0),c.Z.approveThirdPartyGPT(o.id,j.gizmo.id).finally(()=>{T.invalidateQueries({queryKey:["gizmo"]}),n(!0),w(void 0),x(!1)}))},children:(0,P.jsx)(m.Z,k({},S.approveButtonText))})]})]})}let S=(0,h.vU)({approveGPTTitle:{id:"approveGPTModal.approveGPTTitle",defaultMessage:"Approve a third-party GPT"},cancelButtonText:{id:"approveGPTModal.cancelButtonText",defaultMessage:"Cancel"},approveButtonText:{id:"approveGPTModal.approveButtonText",defaultMessage:"Approve"},gptByLine:{id:"approveGPTModal.gptByLine",defaultMessage:"By {authorName}"},capabilitiesTitle:{id:"approveGPTModal.capabilitiesTitle",defaultMessage:"Capabilities"},actionsTitle:{id:"approveGPTModal.actionsTitle",defaultMessage:"Actions"},noCapabilitiesEnabled:{id:"approveGPTModal.noCapabilitiesEnabled",defaultMessage:"No capabilities enabled"},noCustomActions:{id:"approveGPTModal.noCustomActions",defaultMessage:"No custom actions"}})},79704:function(e,t,n){n.d(t,{$v:function(){return a},DW:function(){return i},Di:function(){return l}});var o=n(99333),r=n(10080);function a(e){return e===o.r3.ADMIN||e===o.r3.OWNER}function l(e){return e===o.r3.OWNER}function i(e,t){switch(t){case o.qK.BROWSER:return"Web browsing";case o.qK.PYTHON:return"Code interpreter & Data Analysis";case o.qK.JIT_PLUGIN:return"Custom actions";case o.qK.RETRIEVAL:return"File retrieval";case o.qK.DALLE:return"DALL\xb7E image generation";case r.Zz.Private:return"Builder only";case r.Zz.Workspace:return e.data.name;case r.Zz.Link:return"Anyone with link";case r.Zz.Marketplace:return"Public";default:return null}}},20608:function(e,t,n){n.r(t),n.d(t,{GizmoUsingAsOwnerNotice:function(){return c}});var o=n(93951),r=n(92379),a=n(62984),l=n(11550),i=n(43465),s=n(13490),u=n(651);function c(e){let{gizmo:t}=e,n=(0,o.t)(),c=(0,o.S0)(),{0:d,1:p}=(0,r.useState)(!1);return null!=n&&c?(0,u.jsxs)("div",{className:"h-52px flex w-full items-center justify-center gap-2 bg-gray-100 p-3 text-sm dark:bg-gray-700",children:[(0,u.jsx)(s.ZyU,{className:"icon-sm"}),(0,u.jsx)(a.Z,{id:"GizmoConversationHeader.usingAsOwner",defaultMessage:"Only workspace owners can use this GPT."}),(0,u.jsx)(l.z,{color:"secondary",size:"small",onClick:()=>p(!0),children:(0,u.jsx)(a.Z,{id:"GizmoConversationHeader.approveGPTButton",defaultMessage:"Approve for workspace"})}),(0,u.jsx)(i.Z,{isOpen:d,onClose:()=>p(!1),account:n,gpt:t})]}):null}},75372:function(e,t,n){n.d(t,{f:function(){return v}});var o,r=n(98601),a=n(52088),l=n(2346),i=n(92379),s=n(15478),u=n(651);let c=["icon","children"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let f=s.Z.button(o||(o=(0,l.Z)(["flex h-10 w-full items-center gap-2.5 rounded-lg px-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary"]))),v=(0,i.forwardRef)(function(e,t){let{icon:n,children:o}=e,r=(0,a.Z)(e,c);return(0,u.jsxs)(f,p(p({ref:t},r),{},{children:[(0,u.jsx)("div",{className:"flex h-6 w-6 items-center justify-center text-token-text-secondary",children:(0,u.jsx)(n,{className:"icon-md"})}),(0,u.jsx)("span",{className:"text-sm",children:o})]}))})},13391:function(e,t,n){n.d(t,{n:function(){return M},A3:function(){return T},yx:function(){return D},JS:function(){return B}});var o,r=n(98601),a=n(15858),l=n(70879),i=n(99976),s=n(61619),u=n(79746),c=n(82363),d=n(91530),p=n.n(d),f=n(92379),v=n(68306),g=n(16757),y=n(24740),b=n(92745),m=n(31438),h=n(49763),P=n(22433),x=n(45248);let k=f.useLayoutEffect;function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}let S=/```.*?\n([\s\S]+?)\n?```[^`]*$/gms;var w=((o=w||{}).Core="Core",o.Chat="Chat",o.Settings="Settings",o);let O=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({Mod:"mod",Comma:","},a.s),C={[O.Mod]:/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"⌘":"Ctrl",[O.Comma]:",",[O.Enter]:"⏎",[O.Escape]:"Esc",[O.ArrowUp]:"↑",[O.ArrowDown]:"↓",[O.ArrowLeft]:"←",[O.ArrowRight]:"→",[O.Backspace]:"⌫",[O.Delete]:"⌦",[O.Tab]:"⇥",[O.Control]:"Ctrl",[O.Shift]:"Shift"},T=e=>e.map(e=>{var t;return null!==(t=C[e])&&void 0!==t?t:e}),E=(0,v.vU)({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block"},copyLastResponse:{id:"keyboardActions.copyLastResponse",defaultMessage:"Copy last response"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat"},archiveChat:{id:"keyboardActions.archiveChat",defaultMessage:"Archive chat"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts"}}),M=new h.V,N=e=>{let{resetThreadAction:t,clientThreadId:n}=e;return[{key:"newChat",action:t||p(),actionMessageDescriptor:E.newChat,group:w.Core,keyboardBinding:[O.Mod,O.Shift,"o"],altKeyboardBindings:[[O.Mod,"k"]]},{key:"focusPromptTextarea",action:l.go,actionMessageDescriptor:E.focusPromptTextarea,group:w.Chat,keyboardBinding:[O.Shift,O.Escape]},{key:"copyLastCodeBlock",action:()=>{if(null!=n){let e=b.tQ.getThreadCurrentLeafId(n),t=b.tQ.getThreadConversationTurns(n,e);for(let e=t.length-1;e>=0;e--){let{messages:n}=t[e],o=[...n.reduce((e,t)=>null==t.err&&t.message.author.role===g.uU.Assistant&&"all"===t.message.recipient?e+(e?"\n\n":"")+(0,P.RR)(t.message):e,"").matchAll(S)],r=o.length?o[o.length-1][1]:null;if(null!=r){(0,u.v)(r).then(()=>{y.m.success("Copied code block to clipboard")});break}}}},actionMessageDescriptor:E.copyLastCodeBlock,group:w.Chat,keyboardBinding:[O.Mod,O.Shift,";"],altKeyboardBindings:[[O.Mod,O.Shift,":"]]},{key:"copyLastResponse",action:()=>{null!=n&&b.tQ.copyLastMessageToClipboard(n,"keyboard").then(()=>{y.m.success("Last response copied to clipboard")})},actionMessageDescriptor:E.copyLastResponse,group:w.Chat,keyboardBinding:[O.Mod,O.Shift,"c"]},{key:"toggleCustomInstructions",action:()=>m.vm.toggleModal(m.B.UserContext),actionMessageDescriptor:E.toggleCustomInstructions,group:w.Settings,keyboardBinding:[O.Mod,O.Shift,"i"]},{key:"navigationToggle",action:()=>m.vm.toggleDesktopNavCollapsed(),actionMessageDescriptor:E.navigationToggle,group:w.Core,keyboardBinding:[O.Mod,O.Shift,"s"]},{key:"deleteChat",action:()=>{if(n){let e=b.tQ.getServerThreadId(n);e&&M.publish({kind:"deleteChat",serverThreadId:e})}},actionMessageDescriptor:E.deleteChat,group:w.Chat,keyboardBinding:[O.Mod,O.Shift,O.Backspace],altKeyboardBindings:[[O.Mod,O.Shift,O.Delete]]},{key:"toggleKeyboardActions",action:()=>m.vm.toggleModal(m.B.KeyboardActions),actionMessageDescriptor:E.toggleKeyboardActions,group:w.Settings,keyboardBinding:[O.Mod,"/"]}]},A=e=>(function(e,t,n){let o=e.map(e=>{let{keyboardBinding:t}=e,n=t.join("+");if(e.altKeyboardBindings){n=[n];let t=e.altKeyboardBindings.map(e=>e.join("+"));n=n.concat(t)}return(0,x.ZP)(n,{byKey:!0})});k(()=>{if((null==n?void 0:n.enabled)===!1)return;let r=n=>{if(!n.repeat)for(let r=0;r<o.length;r++)o[r](n)&&(void 0===e[r].enabled||e[r].enabled)&&(n.preventDefault(),t(e[r]),e[r].action())},a=e=>{void 0!==e.key&&r(e)},l=document;return l.addEventListener("keydown",a),()=>{l.removeEventListener("keydown",a)}},[e,n])})(e,e=>{i.A.logEvent(s.M.keyboardShortcut,{keyboardActionKey:e.key}),c.U.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:e.key})},{enabled:!0}),B=function(){let{resetThreadAction:e,clientThreadId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.useMemo)(()=>N({resetThreadAction:e,clientThreadId:t}).filter(e=>{let{enabled:t=!0}=e;return t}),[t,e])},D=e=>{let{resetThreadAction:t,clientThreadId:n}=e;A(B({resetThreadAction:t,clientThreadId:n}))}},17096:function(e,t,n){n.d(t,{Z:function(){return r}});var o=n(92379);function r(){let e=(0,o.useRef)([]),t=(0,o.useRef)((t,n)=>{let o=setTimeout(t,n);return e.current.push(o),o});return(0,o.useEffect)(()=>{let t=e.current;return()=>{t.forEach(e=>{clearTimeout(e)})}},[]),t.current}},89039:function(e,t,n){let o,r;n.d(t,{J:function(){return R}});var a=n(92379),l=n(782),i=n(78789),s=n(91157),u=n(86060),c=n(76227),d=n(88554),p=n(98397),f=n(57084),v=n(60839),g=n(67607),y=n(87054),b=n(25825),m=n(39231),h=n(37927),P=n(11943),x=n(51973),k=((o=k||{})[o.Open=0]="Open",o[o.Closed=1]="Closed",o),j=((r=j||{})[r.TogglePopover=0]="TogglePopover",r[r.ClosePopover=1]="ClosePopover",r[r.SetButton=2]="SetButton",r[r.SetButtonId=3]="SetButtonId",r[r.SetPanel=4]="SetPanel",r[r.SetPanelId=5]="SetPanelId",r);let S={0:e=>({...e,popoverState:(0,l.E)(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},w=(0,a.createContext)(null);function O(e){let t=(0,a.useContext)(w);if(null===t){let t=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,O),t}return t}w.displayName="PopoverContext";let C=(0,a.createContext)(null);function T(e){let t=(0,a.useContext)(C);if(null===t){let t=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,T),t}return t}C.displayName="PopoverAPIContext";let E=(0,a.createContext)(null);function M(){return(0,a.useContext)(E)}E.displayName="PopoverGroupContext";let N=(0,a.createContext)(null);function A(e,t){return(0,l.E)(t.type,S,e,t)}N.displayName="PopoverPanelContext";let B=(0,i.yV)(function(e,t){var n;let o=`headlessui-popover-button-${(0,u.M)()}`,r=`headlessui-popover-panel-${(0,u.M)()}`,c=(0,a.useRef)(null),d=(0,s.T)(t,(0,s.h)(e=>{c.current=e})),v=(0,a.useReducer)(A,{popoverState:1,button:null,buttonId:o,panel:null,panelId:r,beforePanelSentinel:(0,a.createRef)(),afterPanelSentinel:(0,a.createRef)()}),[{popoverState:y,button:h,panel:x,beforePanelSentinel:k,afterPanelSentinel:j},S]=v,O=(0,b.i)(null!=(n=c.current)?n:h);(0,a.useEffect)(()=>S({type:3,buttonId:o}),[o,S]),(0,a.useEffect)(()=>S({type:5,panelId:r}),[r,S]);let T=(0,a.useMemo)(()=>{if(!h||!x)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(h))^Number(null==e?void 0:e.contains(x)))return!0;return!1},[h,x]),E=(0,a.useMemo)(()=>({buttonId:o,panelId:r,close:()=>S({type:1})}),[o,r,S]),N=M(),B=null==N?void 0:N.registerPopover,D=(0,P.z)(()=>{var e;return null!=(e=null==N?void 0:N.isFocusWithinPopoverGroup())?e:(null==O?void 0:O.activeElement)&&((null==h?void 0:h.contains(O.activeElement))||(null==x?void 0:x.contains(O.activeElement)))});(0,a.useEffect)(()=>null==B?void 0:B(E),[B,E]),(0,m.O)(null==O?void 0:O.defaultView,"focus",e=>{var t,n,o,r;0===y&&(D()||!h||!x||null!=(n=null==(t=k.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(r=null==(o=j.current)?void 0:o.contains)&&r.call(o,e.target)||S({type:1}))},!0),(0,g.O)([h,x],(e,t)=>{S({type:1}),(0,p.sP)(t,p.tJ.Loose)||(e.preventDefault(),null==h||h.focus())},0===y);let I=(0,P.z)(e=>{S({type:1});let t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:h:h;null==t||t.focus()}),L=(0,a.useMemo)(()=>({close:I,isPortalled:T}),[I,T]),z=(0,a.useMemo)(()=>({open:0===y,close:I}),[y,I]);return a.createElement(w.Provider,{value:v},a.createElement(C.Provider,{value:L},a.createElement(f.up,{value:(0,l.E)(y,{0:f.ZM.Open,1:f.ZM.Closed})},(0,i.sY)({ourProps:{ref:d},theirProps:e,slot:z,defaultTag:"div",name:"Popover"}))))}),D=(0,i.yV)(function(e,t){let[n,o]=O("Popover.Button"),{isPortalled:r}=T("Popover.Button"),f=(0,a.useRef)(null),g=`headlessui-focus-sentinel-${(0,u.M)()}`,y=M(),m=null==y?void 0:y.closeOthers,k=(0,a.useContext)(N),j=null!==k&&k===n.panelId,S=(0,s.T)(f,t,j?null:e=>o({type:2,button:e})),w=(0,s.T)(f,t),C=(0,b.i)(f),E=(0,P.z)(e=>{var t,r,a;if(j){if(1===n.popoverState)return;switch(e.key){case c.R.Space:case c.R.Enter:e.preventDefault(),null==(r=(t=e.target).click)||r.call(t),o({type:1}),null==(a=n.button)||a.focus()}}else switch(e.key){case c.R.Space:case c.R.Enter:e.preventDefault(),e.stopPropagation(),1===n.popoverState&&(null==m||m(n.buttonId)),o({type:0});break;case c.R.Escape:if(0!==n.popoverState)return null==m?void 0:m(n.buttonId);if(!f.current||(null==C?void 0:C.activeElement)&&!f.current.contains(C.activeElement))return;e.preventDefault(),e.stopPropagation(),o({type:1})}}),A=(0,P.z)(e=>{j||e.key===c.R.Space&&e.preventDefault()}),B=(0,P.z)(t=>{var r,a;(0,d.P)(t.currentTarget)||e.disabled||(j?(o({type:1}),null==(r=n.button)||r.focus()):(t.preventDefault(),t.stopPropagation(),1===n.popoverState&&(null==m||m(n.buttonId)),o({type:0}),null==(a=n.button)||a.focus()))}),D=(0,P.z)(e=>{e.preventDefault(),e.stopPropagation()}),I=0===n.popoverState,L=(0,a.useMemo)(()=>({open:I}),[I]),z=(0,v.f)(e,f),R=j?{ref:w,type:z,onKeyDown:E,onClick:B}:{ref:S,id:n.buttonId,type:z,"aria-expanded":e.disabled?void 0:0===n.popoverState,"aria-controls":n.panel?n.panelId:void 0,onKeyDown:E,onKeyUp:A,onClick:B,onMouseDown:D},Z=(0,x.l)(),G=(0,P.z)(()=>{let e=n.panel;e&&(0,l.E)(Z.current,{[x.N.Forwards]:()=>(0,p.jA)(e,p.TO.First),[x.N.Backwards]:()=>(0,p.jA)(e,p.TO.Last)})});return a.createElement(a.Fragment,null,(0,i.sY)({ourProps:R,theirProps:e,slot:L,defaultTag:"button",name:"Popover.Button"}),I&&!j&&r&&a.createElement(h._,{id:g,features:h.A.Focusable,as:"button",type:"button",onFocus:G}))}),I=i.AN.RenderStrategy|i.AN.Static,L=(0,i.yV)(function(e,t){let[{popoverState:n},o]=O("Popover.Overlay"),r=(0,s.T)(t),l=`headlessui-popover-overlay-${(0,u.M)()}`,c=(0,f.oJ)(),p=null!==c?c===f.ZM.Open:0===n,v=(0,P.z)(e=>{if((0,d.P)(e.currentTarget))return e.preventDefault();o({type:1})}),g=(0,a.useMemo)(()=>({open:0===n}),[n]);return(0,i.sY)({ourProps:{ref:r,id:l,"aria-hidden":!0,onClick:v},theirProps:e,slot:g,defaultTag:"div",features:I,visible:p,name:"Popover.Overlay"})}),z=i.AN.RenderStrategy|i.AN.Static,R=Object.assign(B,{Button:D,Overlay:L,Panel:(0,i.yV)(function(e,t){let{focus:n=!1,...o}=e,[r,d]=O("Popover.Panel"),{close:v,isPortalled:g}=T("Popover.Panel"),y=`headlessui-focus-sentinel-before-${(0,u.M)()}`,m=`headlessui-focus-sentinel-after-${(0,u.M)()}`,k=(0,a.useRef)(null),j=(0,s.T)(k,t,e=>{d({type:4,panel:e})}),S=(0,b.i)(k),w=(0,f.oJ)(),C=null!==w?w===f.ZM.Open:0===r.popoverState,E=(0,P.z)(e=>{var t;if(e.key===c.R.Escape){if(0!==r.popoverState||!k.current||(null==S?void 0:S.activeElement)&&!k.current.contains(S.activeElement))return;e.preventDefault(),e.stopPropagation(),d({type:1}),null==(t=r.button)||t.focus()}});(0,a.useEffect)(()=>{var t;e.static||1===r.popoverState&&(null==(t=e.unmount)||t)&&d({type:4,panel:null})},[r.popoverState,e.unmount,e.static,d]),(0,a.useEffect)(()=>{if(!n||0!==r.popoverState||!k.current)return;let e=null==S?void 0:S.activeElement;k.current.contains(e)||(0,p.jA)(k.current,p.TO.First)},[n,k,r.popoverState]);let M=(0,a.useMemo)(()=>({open:0===r.popoverState,close:v}),[r,v]),A={ref:j,id:r.panelId,onKeyDown:E,onBlur:n&&0===r.popoverState?e=>{var t,n,o,a,l;let i=e.relatedTarget;!i||!k.current||null!=(t=k.current)&&t.contains(i)||(d({type:1}),((null==(o=null==(n=r.beforePanelSentinel.current)?void 0:n.contains)?void 0:o.call(n,i))||(null==(l=null==(a=r.afterPanelSentinel.current)?void 0:a.contains)?void 0:l.call(a,i)))&&i.focus({preventScroll:!0}))}:void 0,tabIndex:-1},B=(0,x.l)(),D=(0,P.z)(()=>{let e=k.current;e&&(0,l.E)(B.current,{[x.N.Forwards]:()=>{(0,p.jA)(e,p.TO.First)},[x.N.Backwards]:()=>{var e;null==(e=r.button)||e.focus({preventScroll:!0})}})}),I=(0,P.z)(()=>{let e=k.current;e&&(0,l.E)(B.current,{[x.N.Forwards]:()=>{var e,t,n;if(!r.button)return;let o=(0,p.GO)(),a=o.indexOf(r.button),l=o.slice(0,a+1),i=[...o.slice(a+1),...l];for(let o of i.slice())if((null==(t=null==(e=null==o?void 0:o.id)?void 0:e.startsWith)?void 0:t.call(e,"headlessui-focus-sentinel-"))||(null==(n=r.panel)?void 0:n.contains(o))){let e=i.indexOf(o);-1!==e&&i.splice(e,1)}(0,p.jA)(i,p.TO.First,!1)},[x.N.Backwards]:()=>(0,p.jA)(e,p.TO.Last)})});return a.createElement(N.Provider,{value:r.panelId},C&&g&&a.createElement(h._,{id:y,ref:r.beforePanelSentinel,features:h.A.Focusable,as:"button",type:"button",onFocus:D}),(0,i.sY)({ourProps:A,theirProps:o,slot:M,defaultTag:"div",features:z,visible:C,name:"Popover.Panel"}),C&&g&&a.createElement(h._,{id:m,ref:r.afterPanelSentinel,features:h.A.Focusable,as:"button",type:"button",onFocus:I}))}),Group:(0,i.yV)(function(e,t){let n=(0,a.useRef)(null),o=(0,s.T)(n,t),[r,l]=(0,a.useState)([]),u=(0,P.z)(e=>{l(t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t})}),c=(0,P.z)(e=>(l(t=>[...t,e]),()=>u(e))),d=(0,P.z)(()=>{var e;let t=(0,y.r)(n);if(!t)return!1;let o=t.activeElement;return!!(null!=(e=n.current)&&e.contains(o))||r.some(e=>{var n,r;return(null==(n=t.getElementById(e.buttonId))?void 0:n.contains(o))||(null==(r=t.getElementById(e.panelId))?void 0:r.contains(o))})}),p=(0,P.z)(e=>{for(let t of r)t.buttonId!==e&&t.close()}),f=(0,a.useMemo)(()=>({registerPopover:c,unregisterPopover:u,isFocusWithinPopoverGroup:d,closeOthers:p}),[c,u,d,p]),v=(0,a.useMemo)(()=>({}),[]);return a.createElement(E.Provider,{value:f},(0,i.sY)({ourProps:{ref:o},theirProps:e,slot:v,defaultTag:"div",name:"Popover.Group"}))})})},39231:function(e,t,n){n.d(t,{O:function(){return a}});var o=n(92379),r=n(23441);function a(e,t,n,a){let l=(0,r.E)(n);(0,o.useEffect)(()=>{function n(e){l.current(e)}return(e=null!=e?e:window).addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)},[e,t,a])}},51973:function(e,t,n){let o;n.d(t,{N:function(){return l},l:function(){return i}});var r=n(92379),a=n(23441),l=((o=l||{})[o.Forwards=0]="Forwards",o[o.Backwards=1]="Backwards",o);function i(){var e,t;let n,o=(0,r.useRef)(0);return e="keydown",t=e=>{"Tab"===e.key&&(o.current=e.shiftKey?1:0)},n=(0,a.E)(t),(0,r.useEffect)(()=>{function t(e){n.current(e)}return window.addEventListener(e,t,!0),()=>window.removeEventListener(e,t,!0)},[e,!0]),o}},37927:function(e,t,n){let o;n.d(t,{A:function(){return a},_:function(){return l}});var r=n(78789),a=((o=a||{})[o.None=1]="None",o[o.Focusable=2]="Focusable",o[o.Hidden=4]="Hidden",o);let l=(0,r.yV)(function(e,t){let{features:n=1,...o}=e,a={ref:t,"aria-hidden":(2&n)==2||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&n)==4&&(2&n)!=2&&{display:"none"}}};return(0,r.sY)({ourProps:a,theirProps:o,slot:{},defaultTag:"div",name:"Hidden"})})},11812:function(e,t,n){n.d(t,{E:function(){return r}});var o=n(46598);function r(e=.1,{startDelay:t=0,from:n=0,ease:r}={}){return(a,l)=>{let i=e*Math.abs(("number"==typeof n?n:function(e,t){if("first"===e)return 0;{let n=t-1;return"last"===e?n:n/2}}(n,l))-a);if(r){let t=l*e;i=(0,o.R)(r)(i/t)*t}return t+i}}}}]);
//# sourceMappingURL=3989.c4825a2a614fe69e.js.map