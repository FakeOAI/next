"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8359],{35050:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 2===e.length?n(e[0],e[1])||null:e.slice(1).reduce(function(e,t){return n(e,t)},e[0])||null};var r=new WeakMap;function n(e,t){if(e&&t){var n=r.get(e)||new WeakMap;r.set(e,n);var i=n.get(t)||function(r){o(e,r),o(t,r)};return n.set(t,i),i}return e||t}function o(e,t){"function"==typeof e?e(t):e.current=t}},8026:function(e){var t=function(e){var t;return!!e&&"object"==typeof e&&"[object RegExp]"!==(t=Object.prototype.toString.call(e))&&"[object Date]"!==t&&e.$$typeof!==r},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a(Array.isArray(e)?[]:{},e,t):e}function o(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function i(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[])}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,r,l){(l=l||{}).arrayMerge=l.arrayMerge||o,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=n;var c,u,d=Array.isArray(r);return d!==Array.isArray(e)?n(r,l):d?l.arrayMerge(e,r,l):(u={},(c=l).isMergeableObject(e)&&i(e).forEach(function(t){u[t]=n(e[t],c)}),i(r).forEach(function(t){(!s(e,t)||Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))&&(s(e,t)&&c.isMergeableObject(r[t])?u[t]=(function(e,t){if(!t.customMerge)return a;var r=t.customMerge(e);return"function"==typeof r?r:a})(t,c)(e[t],r[t],c):u[t]=n(r[t],c))}),u)}a.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,r){return a(e,r,t)},{})},e.exports=a},63186:function(e){e.exports=e=>{if("string"!=typeof e)throw TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},95490:function(e){e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var n,o,i,s=i[o];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},3587:function(e,t,r){/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var n=r(73951);e.exports=function(e){return n(e)||"function"==typeof e||Array.isArray(e)}},73951:function(e,t,r){/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var n=r(92256);function o(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,r;return!1!==o(e)&&"function"==typeof(t=e.constructor)&&!1!==o(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")}},92256:function(e){/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},95319:function(e,t){var r="undefined"!=typeof Reflect?Reflect.construct:void 0,n=Object.defineProperty,o=Error.captureStackTrace;function i(e){void 0!==e&&n(this,"message",{configurable:!0,value:e,writable:!0});var t=this.constructor.name;void 0!==t&&t!==this.name&&n(this,"name",{configurable:!0,value:t,writable:!0}),o(this,this.constructor)}void 0===o&&(o=function(e){var t=Error();n(e,"stack",{configurable:!0,get:function(){var e=t.stack;return n(this,"stack",{configurable:!0,value:e,writable:!0}),e},set:function(t){n(e,"stack",{configurable:!0,value:t,writable:!0})}})}),i.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:i,writable:!0}});var s=function(){function e(e,t){return n(e,"name",{configurable:!0,value:t})}try{var t=function(){};if(e(t,"foo"),"foo"===t.name)return e}catch(e){}}();(e.exports=function(e,t){if(null==t||t===Error)t=i;else if("function"!=typeof t)throw TypeError("super_ should be a function");if("string"==typeof e)n=e,e=void 0!==r?function(){return r(t,arguments,this.constructor)}:function(){t.apply(this,arguments)},void 0!==s&&(s(e,n),n=void 0);else if("function"!=typeof e)throw TypeError("constructor should be either a string or a function");e.super_=e.super=t;var n,o={constructor:{configurable:!0,value:e,writable:!0}};return void 0!==n&&(o.name={configurable:!0,value:n,writable:!0}),e.prototype=Object.create(t.prototype,o),e}).BaseError=i},88577:function(e,t,r){/*!
 * object.omit <https://github.com/jonschlinkert/object.omit>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var n=r(3587);e.exports=function(e,t,r){if(!n(e))return{};"function"==typeof t&&(r=t,t=[]),"string"==typeof t&&(t=[t]);for(var o="function"==typeof r,i=Object.keys(e),s={},a=0;a<i.length;a++){var l=i[a],c=e[l];(!t||-1===t.indexOf(l)&&(!o||r(c,l,e)))&&(s[l]=c)}return s}},34530:function(e,t,r){/*!
 * object.pick <https://github.com/jonschlinkert/object.pick>
 *
 * Copyright (c) 2014-2015 Jon Schlinkert, contributors.
 * Licensed under the MIT License
 */var n=r(92256);e.exports=function(e,t){if(!n(e)&&"function"!=typeof e)return{};var r={};if("string"==typeof t)return t in e&&(r[t]=e[t]),r;for(var o=t.length,i=-1;++i<o;){var s=t[i];s in e&&(r[s]=e[s])}return r}},68589:function(e){function t(e,t){if("string"!=typeof e)return[e];var r=[e];"string"==typeof t||Array.isArray(t)?t={brackets:t}:t||(t={});var n=t.brackets?Array.isArray(t.brackets)?t.brackets:[t.brackets]:["{}","[]","()"],o=t.escape||"___",i=!!t.flat;n.forEach(function(e){var t=new RegExp(["\\",e[0],"[^\\",e[0],"\\",e[1],"]*\\",e[1]].join("")),n=[];function i(t,i,s){var a=r.push(t.slice(e[0].length,-e[1].length))-1;return n.push(a),o+a+o}r.forEach(function(e,n){for(var o,s=0;e!=o;)if(o=e,e=e.replace(t,i),s++>1e4)throw Error("References have circular dependency. Please, check them.");r[n]=e}),n=n.reverse(),r=r.map(function(t){return n.forEach(function(r){t=t.replace(RegExp("(\\"+o+r+"\\"+o+")","g"),e[0]+"$1"+e[1])}),t})});var s=RegExp("\\"+o+"([0-9]+)\\"+o);return i?r:function e(t,r,n){for(var o,i=[],a=0;o=s.exec(t);){if(a++>1e4)throw Error("Circular references in parenthesis");i.push(t.slice(0,o.index)),i.push(e(r[o[1]],r)),t=t.slice(o.index+o[0].length)}return i.push(t),i}(r[0],r)}function r(e,t){if(t&&t.flat){var r,n=t&&t.escape||"___",o=e[0];if(!o)return"";for(var i=RegExp("\\"+n+"([0-9]+)\\"+n),s=0;o!=r;){if(s++>1e4)throw Error("Circular references in "+e);r=o,o=o.replace(i,a)}return o}return e.reduce(function e(t,r){return Array.isArray(r)&&(r=r.reduce(e,"")),t+r},"");function a(t,r){if(null==e[r])throw Error("Reference "+r+"is undefined");return e[r]}}function n(e,n){return Array.isArray(e)?r(e,n):t(e,n)}n.parse=t,n.stringify=r,e.exports=n},68040:function(e,t){t.Z=function(e,t){}},2794:function(e,t,r){r.d(t,{By:function(){return f},Eg:function(){return l},RC:function(){return g},Vp:function(){return u},Z9:function(){return c},eX:function(){return p},lk:function(){return h},mA:function(){return y},vO:function(){return v},xV:function(){return m},zr:function(){return d}});var n,o,i,s,a,l="ProseMirror-selectednode",c="ï¿¼",u="\0",d="__state_override__",p={LastNodeCompatible:"lastNodeCompatible",FormattingMark:"formattingMark",FormattingNode:"formattingNode",NodeCursor:"nodeCursor",FontStyle:"fontStyle",Link:"link",Color:"color",Alignment:"alignment",Indentation:"indentation",Behavior:"behavior",Code:"code",InlineNode:"inline",ListContainerNode:"listContainer",ListItemNode:"listItemNode",Block:"block",BlockNode:"block",TextBlock:"textBlock",ExcludeInputRules:"excludeFromInputRules",PreventExits:"preventsExits",Media:"media"},f=Symbol.for("__remirror__"),h=((n=h||{}).PlainExtension="RemirrorPlainExtension",n.NodeExtension="RemirrorNodeExtension",n.MarkExtension="RemirrorMarkExtension",n.PlainExtensionConstructor="RemirrorPlainExtensionConstructor",n.NodeExtensionConstructor="RemirrorNodeExtensionConstructor",n.MarkExtensionConstructor="RemirrorMarkExtensionConstructor",n.Manager="RemirrorManager",n.Preset="RemirrorPreset",n.PresetConstructor="RemirrorPresetConstructor",n),m=((o=m||{})[o.Critical=1e6]="Critical",o[o.Highest=1e5]="Highest",o[o.High=1e4]="High",o[o.Medium=1e3]="Medium",o[o.Default=100]="Default",o[o.Low=10]="Low",o[o.Lowest=0]="Lowest",o),g=((i=g||{})[i.None=0]="None",i[i.Create=1]="Create",i[i.EditorView=2]="EditorView",i[i.Runtime=3]="Runtime",i[i.Destroy=4]="Destroy",i),v=((s=v||{}).Undo="_|undo|_",s.Redo="_|redo|_",s.Bold="_|bold|_",s.Italic="_|italic|_",s.Underline="_|underline|_",s.Strike="_|strike|_",s.Code="_|code|_",s.Paragraph="_|paragraph|_",s.H1="_|h1|_",s.H2="_|h2|_",s.H3="_|h3|_",s.H4="_|h4|_",s.H5="_|h5|_",s.H6="_|h6|_",s.TaskList="_|task|_",s.BulletList="_|bullet|_",s.OrderedList="_|number|_",s.Quote="_|quote|_",s.Divider="_|divider|_",s.Codeblock="_|codeblock|_",s.ClearFormatting="_|clear|_",s.Superscript="_|sup|_",s.Subscript="_|sub|_",s.LeftAlignment="_|left-align|_",s.CenterAlignment="_|center-align|_",s.RightAlignment="_|right-align|_",s.JustifyAlignment="_|justify-align|_",s.InsertLink="_|link|_",s.Find="_|find|_",s.FindBackwards="_|find-backwards|_",s.FindReplace="_|find-replace|_",s.AddFootnote="_|footnote|_",s.AddComment="_|comment|_",s.ContextMenu="_|context-menu|_",s.IncreaseFontSize="_|inc-font-size|_",s.DecreaseFontSize="_|dec-font-size|_",s.IncreaseIndent="_|indent|_",s.DecreaseIndent="_|dedent|_",s.Shortcuts="_|shortcuts|_",s.Copy="_|copy|_",s.Cut="_|cut|_",s.Paste="_|paste|_",s.PastePlain="_|paste-plain|_",s.SelectAll="_|select-all|_",s.Format="_|format|_",s),y=((a=y||{}).UNKNOWN="RMR0001",a.INVALID_COMMAND_ARGUMENTS="RMR0002",a.CUSTOM="RMR0003",a.CORE_HELPERS="RMR0004",a.MUTATION="RMR0005",a.INTERNAL="RMR0006",a.MISSING_REQUIRED_EXTENSION="RMR0007",a.MANAGER_PHASE_ERROR="RMR0008",a.INVALID_GET_EXTENSION="RMR0010",a.INVALID_MANAGER_ARGUMENTS="RMR0011",a.SCHEMA="RMR0012",a.HELPERS_CALLED_IN_OUTER_SCOPE="RMR0013",a.INVALID_MANAGER_EXTENSION="RMR0014",a.DUPLICATE_COMMAND_NAMES="RMR0016",a.DUPLICATE_HELPER_NAMES="RMR0017",a.NON_CHAINABLE_COMMAND="RMR0018",a.INVALID_EXTENSION="RMR0019",a.INVALID_CONTENT="RMR0021",a.INVALID_NAME="RMR0050",a.EXTENSION="RMR0100",a.EXTENSION_SPEC="RMR0101",a.EXTENSION_EXTRA_ATTRIBUTES="RMR0102",a.INVALID_SET_EXTENSION_OPTIONS="RMR0103",a.REACT_PROVIDER_CONTEXT="RMR0200",a.REACT_GET_ROOT_PROPS="RMR0201",a.REACT_EDITOR_VIEW="RMR0202",a.REACT_CONTROLLED="RMR0203",a.REACT_NODE_VIEW="RMR0204",a.REACT_GET_CONTEXT="RMR0205",a.REACT_COMPONENTS="RMR0206",a.REACT_HOOKS="RMR0207",a.I18N_CONTEXT="RMR0300",a)},45430:function(e,t,r){r.d(t,{BB:function(){return w},DY:function(){return J},EL:function(){return W},HD:function(){return N},JD:function(){return V},Kj:function(){return D},Kn:function(){return I},Nb:function(){return $},Of:function(){return B},PO:function(){return M},Qr:function(){return L},RF:function(){return m},RH:function(){return q},Ry:function(){return _},V9:function(){return j},VO:function(){return E},XP:function(){return b},Yc:function(){return G},Z$:function(){return Y},ZT:function(){return X},bH:function(){return el},cx:function(){return en},fp:function(){return g},hj:function(){return T},kG:function(){return ea},kJ:function(){return z},le:function(){return P},mf:function(){return S},o8:function(){return k},q9:function(){return O},qh:function(){return y},qn:function(){return F},r2:function(){return er},uZ:function(){return K},uh:function(){return et},uw:function(){return Q},vV:function(){return ec},w6:function(){return ee},yD:function(){return H},zN:function(){return Z}});var n=r(95319),o=r(2794),i=r(53048),s=r(8026);r(95490);var a=r(88577);r(34530);var l=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))u.call(t,r)&&p(e,r,t[r]);if(c)for(var r of c(t))d.call(t,r)&&p(e,r,t[r]);return e},h=(e,t,r)=>p(e,"symbol"!=typeof t?t+"":t,r);function m(e){return e}function g(e,t,r){let n=e[t];return function(e,t){if(!e)throw new v(t)}(!k(n),r),n}var v=class extends n.BaseError{constructor(){super(...arguments),h(this,"name","AssertionError")}};function y(e){return Object.entries(e)}function b(e){return Object.keys(e)}function E(e){return Object.values(e)}function O(e,t,r){return e.includes(t,r)}function _(e){return Object.assign(Object.create(null),e)}function w(e){return Object.prototype.toString.call(e)}function R(e){return w(e).slice(8,-1)}function A(e,t){return r=>typeof r===e&&(!t||t(r))}function C(e){return t=>R(t)===e}var k=A("undefined"),N=A("string"),T=A("number",e=>!Number.isNaN(e)),S=A("function");function M(e){if("Object"!==R(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})}function P(e){return null===e||k(e)}function I(e){return!P(e)&&(S(e)||A("object")(e))}function j(e){return t=>I(t)&&t instanceof e}A("symbol");var D=C("RegExp");function L(e){return I(e)&&!C("Map")(e)&&!C("Set")(e)&&0===Object.keys(e).length}C("Date"),C("Error");var z=Array.isArray;function H(e){return z(e)&&0===e.length}function B(e){return z(e)&&e.length>0}function V(e,t,r=e=>!!e){let n;t.lastIndex=0;let o=[],i=t.flags;i.includes("g")||(t=new RegExp(t.source,"g".concat(i)));do(n=t.exec(e))&&o.push(n);while(r(n));return t.lastIndex=0,o}function U(){let e=Date.now(),t=U.last||e;return U.last=e>t?e:t+1}function W(e=""){return"".concat(e).concat(U().toString(36))}function F(e,t){return t=Math.max(Math.min(0,t),t),e.slice(0,t)}function G(e){return a(e,e=>!k(e))}function $(e,t=!1){let r=new Set(t?[...e].reverse():e);return t?[...r].reverse():[...r]}function X(){}function q(...e){return s.all(e,{isMergeableObject:M})}function K({min:e,max:t,value:r}){return r<e?e:r>t?t:r}function Y(e){return e[e.length-1]}function J(e,t){return[...e].map((e,t)=>({value:e,index:t})).sort((e,r)=>t(e.value,r.value)||e.index-r.index).map(({value:e})=>e)}function Z(e,t){let r=function(e){if(!M(e))throw Error("An invalid value was passed into this clone utility. Expected a plain object");return f({},e)}(t),n=r;for(let[t,r]of e.entries()){var o;let i=t>=e.length-1,s=n[r];if(i){if(z(n)){let e=Number.parseInt(r.toString(),10);T(e)&&n.splice(e,1)}else Reflect.deleteProperty(n,r);break}if(null==(o=s)||/^[bns]/.test(typeof o))break;s=z(s)?[...s]:f({},s),n[r]=s,n=s}return r}function Q(e,t,r=!1){let n=[],o=new Set,i=S(t)?t:e=>(function(e,t,r){try{if(N(t)&&t in e)return e[t];z(t)&&(t="['".concat(t.join("']['"),"']"));let r=e;return t.replace(/\[\s*(["'])(.*?)\1\s*]|^\s*(\w+)\s*(?=\.|\[|$)|\.\s*(\w*)\s*(?=\.|\[|$)|\[\s*(-?\d+)\s*]/g,(e,t,n,o,i,s)=>(r=r[n||o||i||s],"")),void 0===r?void 0:r}catch(e){return}})(e,t);for(let t of r?[...e].reverse():e){let e=i(t);o.has(e)||(o.add(e),n.push(t))}return r?n.reverse():n}function ee(e,t){let r=z(e)?e[0]:e;return T(t)?r<=t?Array.from({length:t+1-r},(e,t)=>t+r):Array.from({length:r+1-t},(e,t)=>-1*t+r):Array.from({length:Math.abs(r)},(e,t)=>(r<0?-1:1)*t)}function et(e,...t){let r=t.filter(T);return e>=Math.min(...r)&&e<=Math.max(...r)}function er(e){return S(e)?e():e}function en(...e){return $((0,i.W)(...e).split(" ")).join(" ")}U.last=0;var eo="https://remirror.io/docs/errors",ei={[o.mA.UNKNOWN]:"An error occurred but we're not quite sure why. \uD83E\uDDD0",[o.mA.INVALID_COMMAND_ARGUMENTS]:"The arguments passed to the command method were invalid.",[o.mA.CUSTOM]:"This is a custom error, possibly thrown by an external library.",[o.mA.CORE_HELPERS]:"An error occurred in a function called from the `@remirror/core-helpers` library.",[o.mA.MUTATION]:"Mutation of immutable value detected.",[o.mA.INTERNAL]:"This is an error which should not occur and is internal to the remirror codebase.",[o.mA.MISSING_REQUIRED_EXTENSION]:"Your editor is missing a required extension.",[o.mA.MANAGER_PHASE_ERROR]:"This occurs when accessing a method or property before it is available.",[o.mA.INVALID_GET_EXTENSION]:"The user requested an invalid extension from the getExtensions method. Please check the `createExtensions` return method is returning an extension with the defined constructor.",[o.mA.INVALID_MANAGER_ARGUMENTS]:"Invalid value(s) passed into `Manager` constructor. Only `Presets` and `Extensions` are supported.",[o.mA.SCHEMA]:"There is a problem with the schema or you are trying to access a node / mark that doesn't exists.",[o.mA.HELPERS_CALLED_IN_OUTER_SCOPE]:"The `helpers` method which is passed into the ``create*` method should only be called within returned method since it relies on an active view (not present in the outer scope).",[o.mA.INVALID_MANAGER_EXTENSION]:"You requested an invalid extension from the manager.",[o.mA.DUPLICATE_COMMAND_NAMES]:"Command method names must be unique within the editor.",[o.mA.DUPLICATE_HELPER_NAMES]:"Helper method names must be unique within the editor.",[o.mA.NON_CHAINABLE_COMMAND]:"Attempted to chain a non chainable command.",[o.mA.INVALID_EXTENSION]:"The provided extension is invalid.",[o.mA.INVALID_CONTENT]:"The content provided to the editor is not supported.",[o.mA.INVALID_NAME]:"An invalid name was used for the extension.",[o.mA.EXTENSION]:"An error occurred within an extension. More details should be made available.",[o.mA.EXTENSION_SPEC]:"The spec was defined without calling the `defaults`, `parse` or `dom` methods.",[o.mA.EXTENSION_EXTRA_ATTRIBUTES]:"Extra attributes must either be a string or an object.",[o.mA.INVALID_SET_EXTENSION_OPTIONS]:"A call to `extension.setOptions` was made with invalid keys.",[o.mA.REACT_PROVIDER_CONTEXT]:"`useRemirrorContext` was called outside of the `remirror` context. It can only be used within an active remirror context created by the `<Remirror />`.",[o.mA.REACT_GET_ROOT_PROPS]:"`getRootProps` has been attached to the DOM more than once. It should only be attached to the dom once per editor.",[o.mA.REACT_EDITOR_VIEW]:"A problem occurred adding the editor view to the dom.",[o.mA.REACT_CONTROLLED]:"There is a problem with your controlled editor setup.",[o.mA.REACT_NODE_VIEW]:"Something went wrong with your custom ReactNodeView Component.",[o.mA.REACT_GET_CONTEXT]:"You attempted to call `getContext` provided by the `useRemirror` prop during the first render of the editor. This is not possible and should only be after the editor first mounts.",[o.mA.REACT_COMPONENTS]:"An error occurred within a remirror component.",[o.mA.REACT_HOOKS]:"An error occurred within a remirror hook.",[o.mA.I18N_CONTEXT]:"You called `useI18n()` outside of an `I18nProvider` context."},es=class e extends n.BaseError{constructor({code:e,message:t,disableLogging:r=!1}={}){let n=N(e)&&O(E(o.mA),e)?e:o.mA.CUSTOM;super(function(e,t){let r=ei[e];return"".concat(r?"".concat(r,"\n\n"):"").concat(t?"".concat(t,"\n\n"):"","For more information visit ").concat(eo,"#").concat(e.toLowerCase())}(n,t)),h(this,"errorCode"),h(this,"url"),this.errorCode=n,this.url="".concat(eo,"#").concat(n.toLowerCase()),r||console.error(this.message)}static create(t={}){return new e(t)}};function ea(e,t){if(!e)throw es.create(t)}function el(e){var t;if("object"!=typeof e||null===e)return e;let r=Symbol.toStringTag in e&&"Module"===e[Symbol.toStringTag]&&null!=(t=e.default)?t:e;return r&&"object"==typeof e&&"__esModule"in r&&r.__esModule&&void 0!==r.default?r.default:r}function ec(e,t={}){return e}},99229:function(e,t,r){r.d(t,{Q2:function(){return I},V1:function(){return D},EP:function(){return function e(t){let{content:r,schema:i,document:s,stringHandler:a,onError:l,attempts:c=0}=t;if((0,o.kG)(l&&c<=3||0===c,{code:n.mA.INVALID_CONTENT,message:"The invalid content has been called recursively more than ${MAX_ATTEMPTS} times. The content is invalid and the error handler has not been able to recover properly."}),(0,o.HD)(r))return(0,o.kG)(a,{code:n.mA.INVALID_CONTENT,message:"The string '".concat(r,"' was added to the editor, but no `stringHandler` was added. Please provide a valid string handler which transforms your content to a `ProsemirrorNode` to prevent this error.")}),a({document:s,content:r,schema:i});if(W(r))return r.doc;if(B(r))return r;try{return i.nodeFromJSON(r)}catch(u){let s=function(e){var{json:t,schema:r}=e,n=E(e,["json","schema"]);let i=new Set((0,o.XP)(r.marks)),s=function e(t){let{json:r,validMarks:n,validNodes:i,path:s=[]}=t,a={validMarks:n,validNodes:i},l=[],{type:c,marks:u,content:d}=r,{invalidParentMark:p=!1,invalidParentNode:f=!1}=t;if(u){let e=[];for(let[t,r]of u.entries()){let i=(0,o.HD)(r)?r:r.type;n.has(i)||(e.unshift({name:i,path:[...s,"marks","".concat(t)],type:"mark",invalidParentMark:p,invalidParentNode:f}),p=!0)}l.push(...e)}if(i.has(c)||(l.push({name:c,type:"node",path:s,invalidParentMark:p,invalidParentNode:f}),f=!0),d){let t=[];for(let[r,n]of d.entries())t.unshift(...e(b(y({},a),{json:n,path:[...s,"content","".concat(r)],invalidParentMark:p,invalidParentNode:f})));l.unshift(...t)}return l}({json:t,path:[],validNodes:new Set((0,o.XP)(r.nodes)),validMarks:i});return y({json:t,invalidContent:s,transformers:ec},n)}({schema:i,error:u,json:r}),a=null==l?void 0:l(s);return(0,o.kG)(a,{code:n.mA.INVALID_CONTENT,message:"An error occurred when processing the content. Please provide an `onError` handler to process the invalid content: ".concat(JSON.stringify(s.invalidContent,null,2))}),e(b(y({},t),{content:a,attempts:c+1}))}}},NZ:function(){return O},hK:function(){return k},Kk:function(){return C},Tr:function(){return N},EM:function(){return P},Lp:function(){return et},JN:function(){return Y},Me:function(){return en},IH:function(){return Q},JM:function(){return ee},C2:function(){return _},b0:function(){return er},yZ:function(){return S},OC:function(){return es},xN:function(){return J},$q:function(){return K},mV:function(){return w},jd:function(){return R},mp:function(){return Z},OA:function(){return eu},pI:function(){return z},yw:function(){return q},Ig:function(){return M},$9:function(){return A},EG:function(){return X},mt:function(){return V},K_:function(){return U},PH:function(){return B},gf:function(){return L},Ab:function(){return T},GK:function(){return ep},sg:function(){return ed},hT:function(){return F},bk:function(){return j},Kh:function(){return el},Em:function(){return ei},P9:function(){return ey},lp:function(){return ev},uJ:function(){return em},zU:function(){return eg},bm:function(){return eh},ym:function(){return ef}});var n=r(2794),o=r(45430),i=r(60314),s=r(70348);function a(){return"undefined"!=typeof document?document:null}var l=r(88577),c=r(81171);r(68589);var u=r(44675),d=Object.defineProperty,p=Object.defineProperties,f=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))m.call(t,r)&&v(e,r,t[r]);if(h)for(var r of h(t))g.call(t,r)&&v(e,r,t[r]);return e},b=(e,t)=>p(e,f(t)),E=(e,t)=>{var r={};for(var n in e)m.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&h)for(var n of h(e))0>t.indexOf(n)&&g.call(e,n)&&(r[n]=e[n]);return r},O={get isBrowser(){return!!("undefined"!=typeof window&&void 0!==window.document&&window.navigator&&window.navigator.userAgent)},get isJSDOM(){return O.isBrowser&&window.navigator.userAgent.includes("jsdom")},get isNode(){return void 0!==u&&null!=u.versions&&null!=u.versions.node},get isIos(){return O.isBrowser&&/iPod|iPhone|iPad/.test(navigator.platform)},get isMac(){return O.isBrowser&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)},get isApple(){return O.isNode?"darwin"===u.platform:!!O.isBrowser&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)},get isDevelopment(){return!1},get isTest(){return!1},get isProduction(){return!0}};function _(e,t){var r,n;let o=eo(null==e?void 0:e.ownerDocument);return null!=(n=null==(r=null==o?void 0:o.getComputedStyle(e))?void 0:r.getPropertyValue(t))?n:""}function w(e){return(0,o.Kn)(e)&&(0,o.hj)(e.nodeType)&&(0,o.HD)(e.nodeName)}function R(e){return w(e)&&1===e.nodeType}function A(e){let{types:t,node:r}=e;if(!r)return!1;let n=e=>e===r.type||e===r.type.name;return(0,o.kJ)(t)?t.some(n):n(t)}function C(e){let{predicate:t,selection:r}=e,n=W(r)?r.selection.$from:G(r)?r.$from:r;for(let e=n.depth;e>0;e--){let r=n.node(e),o=e>0?n.before(e):0,i=n.start(e),s=o+r.nodeSize;if(t(r,o))return{pos:o,depth:e,node:r,start:i,end:s}}}function k(e){let{depth:t}=e,r=t>0?e.before(t):0,n=e.node(t),o=e.start(t),i=r+n.nodeSize;return{pos:r,start:o,node:n,end:i,depth:t}}function N(e){let{types:t,selection:r}=e;return C({predicate:e=>A({types:t,node:e}),selection:r})}function T(e){return G(e)?e.empty:e.selection.empty}function S(e){return e.docChanged||e.selectionSet}function M(e){return!!P(e)}function P(e){var t;let{state:r,type:i,attrs:s}=e,{selection:a,doc:l}=r,c=(0,o.HD)(i)?l.type.schema.nodes[i]:i;(0,o.kG)(c,{code:n.mA.SCHEMA,message:"No node exists for ".concat(i)});let u=null!=(t=function(e){let{types:t,selection:r}=e;if(X(r)&&A({types:t,node:r.node}))return{pos:r.$from.pos,depth:r.$from.depth,start:r.$from.start(),end:r.$from.pos+r.node.nodeSize,node:r.node}}({selection:a,types:i}))?t:C({predicate:e=>e.type===c,selection:a});return!s||(0,o.Qr)(s)||!u?u:u.node.hasMarkup(c,y(y({},u.node.attrs),s))?u:void 0}function I(...e){return t=>{if(!(0,o.Of)(e))return!1;let[r,...n]=e,i=!1,s=(...e)=>()=>{if(!(0,o.Of)(e))return!1;i=!0;let[,...r]=e;return I(...e)(b(y({},t),{next:s(...r)}))},a=s(...n),l=r(b(y({},t),{next:a}));return i||l?l:a()}}function j(e){return function(e,t){var r;let n=new Map,i=(0,o.Ry)();for(let s of e)for(let[e,a]of(0,o.qh)(s)){let o=[...null!=(r=n.get(e))?r:[],a],s=I(...o);n.set(e,o),i[e]=t(s)}return i}(e,e=>(t,r,n)=>e({state:t,dispatch:r,view:n,tr:t.tr,next:()=>!1}))}function D(e,t){var r;let n=null!=(r=e.attrs)?r:{};return Object.entries(t).every(([e,t])=>n[e]===t)}function L(e){return(0,o.Kn)(e)}function z(e,t){return(0,o.kJ)(t)?(0,o.q9)(t,e[n.By]):t===e[n.By]}function H(e){return(0,o.Kn)(e)&&e instanceof c.ZU}function B(e){return(0,o.Kn)(e)&&e instanceof c.NB}function V(e){return(0,o.Kn)(e)&&e instanceof c.HY}function U(e){return(0,o.Kn)(e)&&e instanceof c.vc}function W(e){return(0,o.Kn)(e)&&e instanceof i.yy}function F(e){return(0,o.Kn)(e)&&e instanceof i.Bs}function G(e){return(0,o.Kn)(e)&&e instanceof i.Y1}function $(e){var t;let{trState:r,from:n,to:i,type:s,attrs:a={}}=e,{doc:l}=r,c=(t=l.type.schema,(0,o.HD)(s)?(0,o.fp)(t.marks,s):s);if(0===Object.keys(a).length)return l.rangeHasMark(n,i,c);let u=!1;return i>n&&l.nodesBetween(n,i,e=>{var t;return!u&&!(u=(null!=(t=e.marks)?t:[]).some(e=>e.type===c&&D(e,a)))}),u}function X(e){return(0,o.Kn)(e)&&e instanceof i.qv}function q(e){let{trState:t,type:r,attrs:i={},from:s,to:a}=e,{selection:l,doc:c,storedMarks:u}=t,d=(0,o.HD)(r)?c.type.schema.marks[r]:r;if((0,o.kG)(d,{code:n.mA.SCHEMA,message:"Mark type: ".concat(r," does not exist on the current schema.")}),s&&a)try{return Math.max(s,a)<c.nodeSize&&$(b(y({},e),{from:s,to:a}))}catch(e){return!1}return l.empty?(null!=u?u:l.$from.marks()).some(e=>e.type===r&&D(e,null!=i?i:{})):$(b(y({},e),{from:l.from,to:l.to}))}function K(e,t={}){var r,n;let o=null!=(n=null==(r=e.type.schema.nodes.doc)?void 0:r.createAndFill())?n:void 0;if(!o)return!1;let{ignoreAttributes:i,ignoreDocAttributes:s}=t;return i?function e(t,r){return t===r||t.type===r.type&&c.vc.sameSet(t.marks,r.marks)&&function(){if(t.content===r.content)return!0;if(t.content.size!==r.content.size)return!1;let n=[],o=[];for(let[i,s]of(t.content.forEach(e=>n.push(e)),r.content.forEach(e=>o.push(e)),n.entries())){let t=o[i];if(!t||!e(s,t))return!1}return!0}()}(o,e):s?o.content.eq(e.content):o.eq(e)}function Y(e){for(let t of Object.values(e.nodes))if("doc"!==t.name&&(t.isBlock||t.isTextblock))return t;(0,o.kG)(!1,{code:n.mA.SCHEMA,message:"No default block node found for the provided schema."})}function J(e){return e.type===Y(e.type.schema)}function Z(e){return!!e&&e.type.isBlock&&!e.textContent&&!e.childCount}function Q(e,t,r){let i=e.parent.childAfter(e.parentOffset);if(!i.node)return;let s=(0,o.HD)(t)?t:t.name,a=i.node.marks.find(({type:e})=>e.name===s),l=e.index(),c=e.start()+i.offset,u=l+1,d=c+i.node.nodeSize;if(!a)return r&&d<r.pos?Q(e.doc.resolve(d+1),t,r):void 0;for(;l>0&&a.isInSet(e.parent.child(l-1).marks);)l-=1,c-=e.parent.child(l).nodeSize;for(;u<e.parent.childCount&&a.isInSet(e.parent.child(u).marks);)d+=e.parent.child(u).nodeSize,u+=1;let p=e.doc.textBetween(c,d,n.Z9,"\n\n");return{from:c,to:d,text:p,mark:a}}function ee(e){return function(e,t){if(!F(e.selection))return;let{from:r,to:o}=e.selection,s=(t,r)=>{var n,o;return null!=(o=null==(n=i.Bs.between(e.doc.resolve(t),e.doc.resolve(r)).content().content.firstChild)?void 0:n.textContent)?o:""};for(let e=s(r-1,r);e&&!t.test(e);e=s(--r-1,r));for(let e=s(o,o+1);e&&!t.test(e);e=s(++o,o+1));if(r===o)return;let a=e.doc.textBetween(r,o,n.Z9,"\n\n");return{from:r,to:o,text:a}}(e,/\W/)}function et(e){return F(e)?e.$cursor:void 0}function er(e,t){var r;let n;let s=t.nodeSize-2,a=e=>(0,o.uZ)({min:0,max:s,value:e});if(G(e))return e;if("all"===e)return new i.C1(t);if(n="start"===e?0:"end"===e?s:(0,o.Kn)(e)&&e instanceof c.ZQ?e.pos:e,(0,o.hj)(n))return n=a(n),i.Bs.near(t.resolve(n));if(r=n,(0,o.Kn)(r)&&(0,o.hj)(r.anchor)&&(0,o.hj)(r.head)){let e=a(n.anchor),r=a(n.head);return i.Bs.between(t.resolve(e),t.resolve(r))}let l=a(n.from),u=a(n.to);return i.Bs.between(t.resolve(l),t.resolve(u))}function en(){let e=a();if(e)return e;throw Error("Unable to retrieve the document from the global scope. \nIt seems that you are running Remirror in a non-browser environment. Remirror need browser APIs to work. \nIf you are using Jest (or other testing frameworks), make sure that you are using the JSDOM environment (https://jestjs.io/docs/29.0/configuration#testenvironment-string). \nIf you are using Next.js (or other server-side rendering frameworks), please use dynamic import with `ssr: false` to load the editor component without rendering it on the server (https://nextjs.org/docs/advanced-features/dynamic-import#with-no-ssr). \nIf you are using Node.js, you can install JSDOM and Remirror will try to use it automatically, or you can create a fake document and pass it to Remirror")}function eo(e){var t,r,n;return null!=(n=null!=(t=null==e?void 0:e.defaultView)?t:"undefined"!=typeof window?window:void 0)?n:null==(r=a())?void 0:r.defaultView}function ei(e,t=en()){let r=t.createElement("div");return r.append(function(e,t=en()){var r;let n=(r=e.type.schema,B(e)&&(r?e.type===r.nodes.doc:"doc"===e.type.name))?e.content:c.HY.from(e);return c.PW.fromSchema(e.type.schema).serializeFragment(n,{document:t})}(e,t)),r.innerHTML}function es(e){let{content:t,schema:r,document:n,fragment:o=!1}=e,i=E(e,["content","schema","document","fragment"]),s=new(function(e){var t;let r=null!=(t=eo(e))?t:en().defaultView;if(r)return r;throw Error("Unable to retrieve the window from the global scope")}(n)).DOMParser().parseFromString("<body>".concat(t,"</body>"),"text/html").body,a=c.aw.fromSchema(r);return o?a.parseSlice(s,y(y({},ea),i)).content:a.parse(s,y(y({},ea),i))}var ea={preserveWhitespace:!1};function el(e,t){let r=(0,o.XP)(t.defaults());return l(y({},e),r)}var ec={remove(e,t){let r=e;for(let e of t)e.invalidParentNode||(r=(0,o.zN)(e.path,r));return r}};function eu(e){return!!(F(e)&&e.$cursor&&e.$cursor.parentOffset>=e.$cursor.parent.content.size)}function ed(e){return!!(F(e)&&e.$cursor&&e.$cursor.parentOffset<=0)}function ep(e){let t=i.Y1.atStart(e.$anchor.doc);return!!(ed(e)&&t.anchor===e.anchor)}function ef(e,t={},r){return function(n){let{tr:i,dispatch:a,state:l}=n,c=(0,o.HD)(e)?(0,o.fp)(l.schema.nodes,e):e,{from:u,to:d}=er(null!=r?r:i.selection,i.doc),p=i.doc.resolve(u),f=i.doc.resolve(d),h=p.blockRange(f),m=h&&(0,s.nd)(h,c,t);return!!m&&!!h&&(null==a||a(i.wrap(h,m).scrollIntoView()),!0)}}function eh(e,t={},r){return n=>{let{tr:i,state:a}=n;return P({state:i,type:(0,o.HD)(e)?(0,o.fp)(a.schema.nodes,e):e,attrs:t})?function({tr:e,dispatch:t}){let{$from:r,$to:n}=e.selection,i=r.blockRange(n),a=i&&(0,s.k9)(i);return!!(0,o.hj)(a)&&!!i&&(null==t||t(e.lift(i,a).scrollIntoView()),!0)}(n):ef(e,t,r)(n)}}function em(e,t,r,n=!0){return function(i){let s;let{tr:a,dispatch:l,state:c}=i,u=(0,o.HD)(e)?(0,o.fp)(c.schema.nodes,e):e,{from:d,to:p}=er(null!=r?r:a.selection,a.doc),f=!1;return a.doc.nodesBetween(d,p,(e,r)=>{if(f)return!1;if(!e.isTextblock||e.hasMarkup(u,t))return;if(e.type===u){f=!0,s=e.attrs;return}let n=a.doc.resolve(r),o=n.index();(f=n.parent.canReplaceWith(o,o+1,u))&&(s=n.parent.attrs)}),!!f&&(null==l||l(a.setBlockType(d,p,u,y(y({},n?s:{}),t)).scrollIntoView()),!0)}}function eg(e){return t=>{var r;let{tr:n,state:o}=t,{type:i,attrs:s,preserveAttrs:a=!0}=e,l=P({state:n,type:i,attrs:s}),c=null!=(r=e.toggleType)?r:Y(o.schema);if(l)return em(c,y(y({},a?l.node.attrs:{}),s))(t);let u=P({state:n,type:c,attrs:s});return em(i,y(y({},a?null==u?void 0:u.node.attrs:{}),s))(t)}}function ev(e){let{attrs:t={},appendText:r="",content:s="",keepSelection:a=!1,range:l}=e;return({state:u,tr:d,dispatch:p})=>{var f,h,m,g;let v=u.schema,y=er(null!=(h=null!=(f=e.selection)?f:l)?h:d.selection,d.doc),b=y.$from.index(),{from:E,to:O,$from:_}=y,w=(0,o.HD)(e.type)?null!=(m=v.nodes[e.type])?m:v.marks[e.type]:e.type;if((0,o.kG)(!(0,o.HD)(e.type)||w,{code:n.mA.SCHEMA,message:"Schema contains no marks or nodes with name ".concat(w)}),(0,o.Kn)(w)&&w instanceof c.Jq){if(!_.parent.canReplaceWith(b,b,w))return!1;d.replaceWith(E,O,w.create(t,s?v.text(s):void 0))}else(0,o.kG)(s,{message:"`replaceText` cannot be called without content when using a mark type"}),d.replaceWith(E,O,v.text(s,H(w)?[w.create(t)]:void 0));return r&&d.insertText(r),a&&function(e,t){let{head:r,empty:n,anchor:o}=e;for(let e of t.steps)r=e.getMap().map(r);n?t.setSelection(i.Bs.near(t.doc.resolve(r))):t.setSelection(i.Bs.between(t.doc.resolve(o),t.doc.resolve(r)))}(u.selection,d),p&&(function(e=0){let t=navigator.userAgent.match(/Chrom(e|ium)\/(\d+)\./);return!!t&&Number.parseInt((0,o.fp)(t,2),10)>=e}(60)&&(null==(g=document.getSelection())||g.empty()),p(d)),!0}}function ey(e){return({dispatch:t,tr:r,state:i})=>{var s,a;let{type:l,expand:c=!0,range:u}=e,{from:d,to:p,$from:f,$to:h}=er(null!=(a=null!=(s=e.selection)?s:u)?a:r.selection,r.doc),m=(0,o.HD)(l)?i.schema.marks[l]:l;null!==m&&(0,o.kG)(m,{code:n.mA.SCHEMA,message:"Mark type: ".concat(l," does not exist on the current schema.")});let g=null!=m?m:function e(t,r){let n=t.parent.childAfter(t.parentOffset);if(!n.node)return;let{marks:o,nodeSize:i}=n.node;if(o[0])return o[0].type;let s=t.start()+n.offset;return e(t.doc.resolve(s+i+1),r)}(f);if(!g)return!1;let v=Q(f,g,h);return c&&v&&(d=Math.max(0,Math.min(d,v.from)),p=Math.min(Math.max(p,v.to),r.doc.nodeSize-2)),null==t||t(r.removeMark(d,(0,o.hj)(p)?p:d,H(m)?m:void 0)),!0}}function eb({predicate:e}){return t=>(function(e){let{node:t,predicate:r,descend:i=!0,action:s}=e;(0,o.kG)(B(t),{code:n.mA.INTERNAL,message:'Invalid "node" parameter passed to "findChildren".'}),(0,o.kG)((0,o.mf)(r),{code:n.mA.INTERNAL,message:'Invalid "predicate" parameter passed to "findChildren".'});let a=[];return t.descendants((e,t)=>{let n={node:e,pos:t};return r(n)&&(a.push(n),null==s||s(n)),i}),a})(b(y({},t),{predicate:e}))}eb({predicate:e=>e.node.isText}),eb({predicate:e=>e.node.isInline}),eb({predicate:e=>e.node.isBlock})},75122:function(e,t,r){r.d(t,{Q:function(){return H}});var n,o,i,s,a,l=r(92569),c=r(2794),u=r(45430),d=r(99229),p=Object.create,f=Object.defineProperty,h=Object.defineProperties,m=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,E=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),O=e=>{throw TypeError(e)},_=(e,t,r)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t)=>{for(var r in t||(t={}))y.call(t,r)&&_(e,r,t[r]);if(v)for(var r of v(t))b.call(t,r)&&_(e,r,t[r]);return e},R=(e,t)=>h(e,g(t)),A=(e,t)=>f(e,"name",{value:t,configurable:!0}),C=["class","method","getter","setter","accessor","field","value","get","set"],k=e=>void 0!==e&&"function"!=typeof e?O("Function expected"):e,N=(e,t,r,n,o)=>({kind:C[e],name:t,metadata:n,addInitializer:e=>r._?O("Already initialized"):o.push(k(e||null))}),T=(e,t)=>_(t,E("metadata"),e[3]),S=(e,t,r,n)=>{for(var o=0,i=e[t>>1],s=i&&i.length;o<s;o++)1&t?i[o].call(r):n=i[o].call(r,n);return n},M=(e,t,r,n,o,i)=>{var s,a,l,c,u,d=7&t,p=!!(8&t),h=!!(16&t),g=d>3?e.length+1:d?p?1:2:0,v=C[d+5],y=d>3&&(e[g-1]=[]),b=e[g]||(e[g]=[]),E=d&&(h||p||(o=o.prototype),d<5&&(d>3||!h)&&m(d<4?o:{get[r](){return D(this,i)},set[r](x){return L(this,i,x)}},r));d?h&&d<4&&A(i,(d>2?"set ":d>1?"get ":"")+r):A(o,r);for(var _=n.length-1;_>=0;_--)c=N(d,r,l={},e[3],b),d&&(c.static=p,c.private=h,u=c.access={has:h?e=>j(o,e):e=>r in e},3^d&&(u.get=h?e=>(1^d?D:z)(e,o,4^d?i:E.get):e=>e[r]),d>2&&(u.set=h?(e,t)=>L(e,o,t,4^d?i:E.set):(e,t)=>e[r]=t)),a=(0,n[_])(d?d<4?h?i:E[v]:d>4?void 0:{get:E.get,set:E.set}:o,c),l._=1,4^d||void 0===a?k(a)&&(d>4?y.unshift(a):d?h?i=a:E[v]=a:o=a):"object"!=typeof a||null===a?O("Object expected"):(k(s=a.get)&&(E.get=s),k(s=a.set)&&(E.set=s),k(s=a.init)&&y.unshift(s));return d||T(e,o),E&&f(o,r,E),h?4^d?i:E:o},P=(e,t,r)=>_(e,"symbol"!=typeof t?t+"":t,r),I=(e,t,r)=>t.has(e)||O("Cannot "+r),j=(e,t)=>Object(t)!==t?O('Cannot use the "in" operator on this value'):e.has(t),D=(e,t,r)=>(I(e,t,"read from private field"),r?r.call(e):t.get(e)),L=(e,t,r,n)=>(I(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),z=(e,t,r)=>(I(e,t,"access private method"),r);s=[(0,l.AOx)({handlerKeys:["blur","focus","mousedown","mouseup","mouseenter","mouseleave","textInput","keypress","keyup","keydown","click","clickMark","doubleClick","doubleClickMark","tripleClick","tripleClickMark","contextmenu","hover","scroll","copy","cut","paste","editable"],handlerKeyOptions:{blur:{earlyReturnValue:!0},focus:{earlyReturnValue:!0},mousedown:{earlyReturnValue:!0},mouseleave:{earlyReturnValue:!0},mouseup:{earlyReturnValue:!0},click:{earlyReturnValue:!0},doubleClick:{earlyReturnValue:!0},tripleClick:{earlyReturnValue:!0},hover:{earlyReturnValue:!0},contextmenu:{earlyReturnValue:!0},scroll:{earlyReturnValue:!0},copy:{earlyReturnValue:!0},cut:{earlyReturnValue:!0},paste:{earlyReturnValue:!0}},defaultPriority:c.xV.High})];var H=class extends(i=l.nNj,o=[(0,l._y)()],i){constructor(){super(...arguments),S(a,5,this),P(this,"mousedown",!1),P(this,"mouseover",!1),P(this,"createMouseEventHandler",e=>(t,r)=>{var n;let o=function(e,t){var r;let n=t.target;if(n){let t=function(e,t,r,n){let o=e.docView.posFromDOM(t,0,void 0);return null===o||o<0?null:o}(e,n,0);if(null!==t){let r=e.state.doc.resolve(t),n=r.node().isLeaf?0:1;return{pos:t,inside:r.start()-n}}}return null!=(r=e.posAtCoords({left:t.clientX,top:t.clientY}))?r:void 0}(t,r);if(!o)return!1;let i=[],s=[],{inside:a,pos:l}=o;if(-1===a)return!1;let p=t.state.doc.resolve(l),f=p.depth+1;for(let e of(0,u.w6)(f,1))i.push({node:e>p.depth&&p.nodeAfter?p.nodeAfter:p.node(e),pos:p.before(e)});for(let{type:e}of null!=(n=p.marksAcross(p))?n:[]){let t=(0,d.IH)(p,e);t&&s.push(t)}return e(r,{view:t,nodes:i,marks:s,getMark:e=>{let r=(0,u.HD)(e)?t.state.schema.marks[e]:e;return(0,u.kG)(r,{code:c.mA.EXTENSION,message:"The mark ".concat(e," being checked does not exist within the editor schema.")}),s.find(e=>e.mark.type===r)},getNode:e=>{var r;let n=(0,u.HD)(e)?t.state.schema.nodes[e]:e;(0,u.kG)(n,{code:c.mA.EXTENSION,message:"The node being checked does not exist"});let o=i.find(({node:e})=>e.type===n);if(o)return R(w({},o),{isRoot:!!(null==(r=i[0])?void 0:r.node.eq(o.node))})}})})}get name(){return"events"}onView(){var e,t;if(null==(e=this.store.managerSettings.exclude)||!e.clickHandler)for(let e of this.store.extensions){if(!e.createEventHandlers||(null==(t=e.options.exclude)?void 0:t.clickHandler))continue;let r=e.createEventHandlers();for(let[e,t]of(0,u.qh)(r))this.addHandler(e,t)}}createPlugin(){let e=new WeakMap,t=(t,r,n,o,i,s,a,l)=>{let p=this.store.currentState,{schema:f,doc:h}=p,m=h.resolve(o),g=e.has(a),v=function(e){var t;let{handled:r,view:n,$pos:o,state:i}=e,s={getMark:u.ZT,markRanges:[],view:n,state:i};if(r)return s;for(let{type:e}of null!=(t=o.marksAcross(o))?t:[]){let t=(0,d.IH)(o,e);t&&s.markRanges.push(t)}return s.getMark=e=>{let t=(0,u.HD)(e)?i.schema.marks[e]:e;return(0,u.kG)(t,{code:c.mA.EXTENSION,message:"The mark ".concat(e," being checked does not exist within the editor schema.")}),s.markRanges.find(e=>e.mark.type===t)},s}({$pos:m,handled:g,view:n,state:p}),y=!1;g||(y=t(a,v)||y);let b=R(w({},v),{pos:o,direct:l,nodeWithPosition:{node:i,pos:s},getNode:e=>{let t=(0,u.HD)(e)?f.nodes[e]:e;return(0,u.kG)(t,{code:c.mA.EXTENSION,message:"The node being checked does not exist"}),t===i.type?{node:i,pos:s}:void 0}});return e.set(a,!0),r(a,b)||y};return{props:{handleKeyPress:(e,t)=>this.options.keypress(t)||!1,handleKeyDown:(e,t)=>this.options.keydown(t)||!1,handleTextInput:(e,t,r,n)=>this.options.textInput({from:t,to:r,text:n})||!1,handleClickOn:(e,r,n,o,i,s)=>t(this.options.clickMark,this.options.click,e,r,n,o,i,s),handleDoubleClickOn:(e,r,n,o,i,s)=>t(this.options.doubleClickMark,this.options.doubleClick,e,r,n,o,i,s),handleTripleClickOn:(e,r,n,o,i,s)=>t(this.options.tripleClickMark,this.options.tripleClick,e,r,n,o,i,s),handleDOMEvents:{focus:(e,t)=>this.options.focus(t)||!1,blur:(e,t)=>this.options.blur(t)||!1,mousedown:(e,t)=>(this.startMouseover(),this.options.mousedown(t)||!1),mouseup:(e,t)=>(this.endMouseover(),this.options.mouseup(t)||!1),mouseleave:(e,t)=>(this.mouseover=!1,this.options.mouseleave(t)||!1),mouseenter:(e,t)=>(this.mouseover=!0,this.options.mouseenter(t)||!1),keyup:(e,t)=>this.options.keyup(t)||!1,mouseout:this.createMouseEventHandler((e,t)=>{let r=R(w({},t),{hovering:!1});return this.options.hover(e,r)||!1}),mouseover:this.createMouseEventHandler((e,t)=>{let r=R(w({},t),{hovering:!0});return this.options.hover(e,r)||!1}),contextmenu:this.createMouseEventHandler((e,t)=>this.options.contextmenu(e,t)||!1),scroll:(e,t)=>this.options.scroll(t)||!1,copy:(e,t)=>this.options.copy(t)||!1,cut:(e,t)=>this.options.cut(t)||!1,paste:(e,t)=>this.options.paste(t)||!1}},view:e=>{let t=e.editable,r=this.options;return{update(e){let n=e.editable;n!==t&&(r.editable(n),t=n)}}}}}isInteracting(){return this.mousedown&&this.mouseover}startMouseover(){this.mouseover=!0,this.mousedown||(this.mousedown=!0,this.store.document.documentElement.addEventListener("mouseup",()=>{this.endMouseover()},{once:!0}))}endMouseover(){this.mousedown&&(this.mousedown=!1,this.store.commands.emptyUpdate())}};M(a=[,,,p(null!=(n=null==i?void 0:i[E("metadata")])?n:null)],1,"isInteracting",o,H),H=M(a,0,"EventsExtension",s,H),S(a,1,H)},63969:function(e,t,r){r.d(t,{X:function(){return D}});var n,o,i,s,a=r(92569),l=r(99229),c=r(2794),u=r(59231),d=r(65906),p=Object.create,f=Object.defineProperty,h=Object.defineProperties,m=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,E=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),O=e=>{throw TypeError(e)},_=(e,t,r)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t)=>{for(var r in t||(t={}))y.call(t,r)&&_(e,r,t[r]);if(v)for(var r of v(t))b.call(t,r)&&_(e,r,t[r]);return e},R=(e,t)=>h(e,g(t)),A=(e,t)=>f(e,"name",{value:t,configurable:!0}),C=["class","method","getter","setter","accessor","field","value","get","set"],k=e=>void 0!==e&&"function"!=typeof e?O("Function expected"):e,N=(e,t,r,n,o)=>({kind:C[e],name:t,metadata:n,addInitializer:e=>r._?O("Already initialized"):o.push(k(e||null))}),T=(e,t)=>_(t,E("metadata"),e[3]),S=(e,t,r)=>t.has(e)||O("Cannot "+r),M=(e,t)=>Object(t)!==t?O('Cannot use the "in" operator on this value'):e.has(t),P=(e,t,r)=>(S(e,t,"read from private field"),r?r.call(e):t.get(e)),I=(e,t,r,n)=>(S(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),j=(e,t,r)=>(S(e,t,"access private method"),r);o=[(0,a.AOx)({defaultOptions:{emptyNodeClass:d._x.IS_EMPTY,placeholder:""}})];var D=class extends(s=a.nNj){get name(){return"placeholder"}createAttributes(){return{"aria-placeholder":this.options.placeholder}}createPlugin(){return{state:{init:(e,t)=>R(w({},this.options),{empty:(0,l.$q)(t.doc,{ignoreAttributes:!0})}),apply:(e,t,r,n)=>(function(e){let{pluginState:t,extension:r,tr:n,state:o}=e;return n.docChanged?R(w({},r.options),{empty:(0,l.$q)(o.doc)}):t})({pluginState:t,tr:e,extension:this,state:n})},props:{decorations:e=>(function(e){let{extension:t,state:r}=e,{empty:n}=t.pluginKey.getState(r),{emptyNodeClass:o,placeholder:i}=t.options;if(!n)return null;let s=[];return r.doc.descendants((e,t)=>{let r=u.p.node(t,t+e.nodeSize,{class:o,"data-placeholder":i});s.push(r)}),u.EH.create(r.doc,s)})({state:e,extension:this})}}}onSetOptions(e){let{changes:t}=e;t.placeholder.changed&&this.store.phase>=c.RC.EditorView&&this.store.updateAttributes()}};D=((e,t,r,n,o,i)=>{var s,a,l,c,u,d=7&t,p=!!(8&t),h=!!(16&t),g=d>3?e.length+1:d?p?1:2:0,v=C[d+5],y=d>3&&(e[g-1]=[]),b=e[g]||(e[g]=[]),E=d&&(h||p||(o=o.prototype),d<5&&(d>3||!h)&&m(d<4?o:{get[r](){return P(this,i)},set[r](x){return I(this,i,x)}},r));d?h&&d<4&&A(i,(d>2?"set ":d>1?"get ":"")+r):A(o,r);for(var _=n.length-1;_>=0;_--)c=N(d,r,l={},e[3],b),d&&(c.static=p,c.private=h,u=c.access={has:h?e=>M(o,e):e=>r in e},3^d&&(u.get=h?e=>(1^d?P:j)(e,o,4^d?i:E.get):e=>e[r]),d>2&&(u.set=h?(e,t)=>I(e,o,t,4^d?i:E.set):(e,t)=>e[r]=t)),a=(0,n[_])(d?d<4?h?i:E[v]:d>4?void 0:{get:E.get,set:E.set}:o,c),l._=1,4^d||void 0===a?k(a)&&(d>4?y.unshift(a):d?h?i=a:E[v]=a:o=a):"object"!=typeof a||null===a?O("Object expected"):(k(s=a.get)&&(E.get=s),k(s=a.set)&&(E.set=s),k(s=a.init)&&y.unshift(s));return d||T(e,o),E&&f(o,r,E),h?4^d?i:E:o})(i=[,,,p(null!=(n=null==s?void 0:s[E("metadata")])?n:null)],0,"PlaceholderExtension",o,D),((e,t,r,n)=>{for(var o=0,i=e[t>>1],s=i&&i.length;o<s;o++)1&t?i[o].call(r):n=i[o].call(r,n)})(i,1,D)},52789:function(e,t,r){r.d(t,{xv:function(){return ef}});var n,o,i,s,a,l,c,u,d,p,f,h,m,g,v,y=r(99229),b=r(46533),E=r(45430),O=r(2794),_=r(92569),w=r(35013),R=r(59231),A=r(65906),C=Object.create,k=Object.defineProperty,N=Object.defineProperties,T=Object.getOwnPropertyDescriptor,S=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,j=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),D=e=>{throw TypeError(e)},L=(e,t,r)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,z=(e,t)=>{for(var r in t||(t={}))P.call(t,r)&&L(e,r,t[r]);if(M)for(var r of M(t))I.call(t,r)&&L(e,r,t[r]);return e},H=(e,t)=>N(e,S(t)),B=(e,t)=>k(e,"name",{value:t,configurable:!0}),V=["class","method","getter","setter","accessor","field","value","get","set"],U=e=>void 0!==e&&"function"!=typeof e?D("Function expected"):e,W=(e,t,r,n,o)=>({kind:V[e],name:t,metadata:n,addInitializer:e=>r._?D("Already initialized"):o.push(U(e||null))}),F=(e,t)=>L(t,j("metadata"),e[3]),G=(e,t,r,n)=>{for(var o=0,i=e[t>>1],s=i&&i.length;o<s;o++)1&t?i[o].call(r):n=i[o].call(r,n);return n},$=(e,t,r,n,o,i)=>{var s,a,l,c,u,d=7&t,p=!!(8&t),f=!!(16&t),h=d>3?e.length+1:d?p?1:2:0,m=V[d+5],g=d>3&&(e[h-1]=[]),v=e[h]||(e[h]=[]),y=d&&(f||p||(o=o.prototype),d<5&&(d>3||!f)&&T(d<4?o:{get[r](){return Y(this,i)},set[r](x){return Z(this,i,x)}},r));d?f&&d<4&&B(i,(d>2?"set ":d>1?"get ":"")+r):B(o,r);for(var b=n.length-1;b>=0;b--)c=W(d,r,l={},e[3],v),d&&(c.static=p,c.private=f,u=c.access={has:f?e=>K(o,e):e=>r in e},3^d&&(u.get=f?e=>(1^d?Y:Q)(e,o,4^d?i:y.get):e=>e[r]),d>2&&(u.set=f?(e,t)=>Z(e,o,t,4^d?i:y.set):(e,t)=>e[r]=t)),a=(0,n[b])(d?d<4?f?i:y[m]:d>4?void 0:{get:y.get,set:y.set}:o,c),l._=1,4^d||void 0===a?U(a)&&(d>4?g.unshift(a):d?f?i=a:y[m]=a:o=a):"object"!=typeof a||null===a?D("Object expected"):(U(s=a.get)&&(y.get=s),U(s=a.set)&&(y.set=s),U(s=a.init)&&g.unshift(s));return d||F(e,o),y&&k(o,r,y),f?4^d?i:y:o},X=(e,t,r)=>L(e,"symbol"!=typeof t?t+"":t,r),q=(e,t,r)=>t.has(e)||D("Cannot "+r),K=(e,t)=>Object(t)!==t?D('Cannot use the "in" operator on this value'):e.has(t),Y=(e,t,r)=>(q(e,t,"read from private field"),r?r.call(e):t.get(e)),J=(e,t,r)=>t.has(e)?D("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Z=(e,t,r,n)=>(q(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Q=(e,t,r)=>(q(e,t,"access private method"),r),ee=class e{constructor(e){var t;X(this,"events"),J(this,o,(0,b.i)()),J(this,i,[]),J(this,s,new Map),J(this,a,[]),J(this,l,!1),X(this,"recentUpdate"),J(this,c),J(this,u),J(this,d),J(this,p),X(this,"hasChanged"),X(this,"addListener",(e,t)=>Y(this,o).on(e,t)),Z(this,c,e),Z(this,u,e.getActive),Z(this,p,e.getPosition),Z(this,d,e.getID),this.hasChanged=e.hasChanged,this.events=null!=(t=e.events)?t:["state","scroll"]}static create(t){return new e(t)}static fromPositioner(t,r){return e.create(z(z({},t.basePositioner),r))}get basePositioner(){return{getActive:Y(this,u),getPosition:Y(this,p),hasChanged:this.hasChanged,events:this.events,getID:Y(this,d)}}onActiveChanged(e){this.recentUpdate=e;let t=Y(this,u).call(this,e);Z(this,i,t),Z(this,s,new Map),Z(this,l,!1),Z(this,a,[]);let r=[];for(let[n,o]of t.entries()){let t=this.getID(o,n);Y(this,a).push(t),r.push({setElement:t=>this.addProps(H(z({},e),{data:o,element:t}),n),id:t,data:o})}Y(this,o).emit("update",r)}getID(e,t){var r,n;return null!=(n=null==(r=Y(this,d))?void 0:r.call(this,e,t))?n:t.toString()}addProps(e,t){if(Y(this,l)||(Y(this,s).set(t,e),Y(this,s).size<Y(this,i).length))return;let r=[];for(let e of Y(this,i).keys()){let t=Y(this,s).get(e);(0,E.kG)(t,{code:O.mA.INTERNAL,message:"Something went wrong when retrieving the parameters"});let n=Y(this,a)[e];if(!n)return;r.push({position:Y(this,p).call(this,t),element:t.element,id:n})}Y(this,o).emit("done",r)}clone(t){return e.create(z(z({},Y(this,c)),(0,E.mf)(t)?t(Y(this,c)):t))}active(e){let t=(0,E.mf)(e)?e:()=>e;return this.clone(e=>({getActive:r=>e.getActive(r).filter(t)}))}};function et(e){let{tr:t,state:r,previousState:n}=e;return!!(!n||t&&function(e,t=ei){var r;let{key:n}=null!=(r=null==e?void 0:e.getMeta(eo))?r:{};return n===t}(t))||(t?(0,y.yZ)(t):!r.doc.eq(n.doc)||!r.selection.eq(n.selection))}function er(e,t,r={}){let n=t.getBoundingClientRect(),{accountForPadding:o=!1}=r,i=0,s=0,a=0,l=0;if((0,y.jd)(t)&&o){let e=Number.parseFloat((0,y.C2)(t,"padding-left").replace("px","")),r=Number.parseFloat((0,y.C2)(t,"padding-right").replace("px","")),n=Number.parseFloat((0,y.C2)(t,"padding-top").replace("px","")),o=Number.parseFloat((0,y.C2)(t,"padding-bottom").replace("px","")),c=Number.parseFloat((0,y.C2)(t,"border-left").replace("px","")),u=Number.parseFloat((0,y.C2)(t,"border-right").replace("px","")),d=Number.parseFloat((0,y.C2)(t,"border-top").replace("px","")),p=Number.parseFloat((0,y.C2)(t,"border-bottom").replace("px","")),f=t.offsetWidth-t.clientWidth,h=t.offsetHeight-t.clientHeight;i+=e+c+("rtl"===t.dir?f:0),s+=r+u+("rtl"===t.dir?0:f),a+=n+d,l+=o+p+h}let c=new DOMRect(n.left+i,n.top+a,n.width-s,n.height-l);for(let[t,r]of[[e.top,e.left],[e.top,e.right],[e.bottom,e.left],[e.bottom,e.right]])if((0,E.uh)(t,c.top,c.bottom)&&(0,E.uh)(r,c.left,c.right))return!0;return!1}o=new WeakMap,i=new WeakMap,s=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,X(ee,"EMPTY",[]);var en="remirror-positioner-widget",eo="positionerUpdate",ei="__all_positioners__",es={y:-999999,x:-999999,width:0,height:0},ea=H(z({},es),{left:-999999,top:-999999,bottom:-999999,right:-999999}),el=H(z({},es),{rect:H(z({},ea),{toJSON:()=>ea}),visible:!1}),ec=ee.create({hasChanged:et,getActive(e){let{state:t}=e;if(!(0,y.Ab)(t)||t.selection.$anchor.depth>2)return ee.EMPTY;let r=(0,y.Kk)({predicate:e=>e.type.isBlock,selection:t});return r?[r]:ee.EMPTY},getPosition(e){let{view:t,data:r}=e,n=t.nodeDOM(r.pos);if(!(0,y.jd)(n))return el;let o=n.getBoundingClientRect(),i=t.dom.getBoundingClientRect(),s=o.height,a=o.width,l=t.dom.scrollLeft+o.left-i.left,c=t.dom.scrollTop+o.top-i.top,u=er(o,t.dom);return{y:c,x:l,height:s,width:a,rect:o,visible:u}}});ee.create({hasChanged:et,getActive:()=>[!0],getPosition(e){let{view:t}=e,r=t.dom.getBoundingClientRect(),n=Math.min(t.dom.clientHeight,r.height),o=Math.min(t.dom.clientWidth,r.width),i=t.dom.scrollLeft;return{y:t.dom.scrollTop,x:i,height:n,width:o,rect:r,visible:!0}}});var eu=ec.clone(({getActive:e})=>({getActive:t=>{let[r]=e(t);return r&&(0,y.mp)(r.node)&&r.node.type===(0,y.JN)(t.state.schema)?[r]:ee.EMPTY}}));function ed(e){return ee.create({hasChanged:et,getActive:t=>{let{state:r,view:n}=t;if(!e(r)||!(0,y.hT)(r.selection))return ee.EMPTY;try{let{head:e,anchor:t}=r.selection;return[{from:n.coordsAtPos(t),to:n.coordsAtPos(e)}]}catch(e){return ee.EMPTY}},getPosition(e){var t;let{element:r,data:n,view:o}=e,{from:i,to:s}=n,a=null!=(t=r.offsetParent)?t:o.dom,l=a.getBoundingClientRect(),c=Math.abs(s.bottom-i.top),u=c>i.bottom-i.top,d=Math.min(i.left,s.left),p=Math.min(i.top,s.top),f=a.scrollLeft+(u?s.left-l.left:d-l.left),h=a.scrollTop+p-l.top,m=u?1:Math.abs(i.left-s.right),g=new DOMRect(u?s.left:d,p,m,c),v=er(g,o.dom);return{rect:g,y:h,x:f,height:c,width:m,visible:v}}})}eu.clone(({getPosition:e})=>({getPosition:t=>H(z({},e(t)),{width:1})})),eu.clone(({getPosition:e})=>({getPosition:t=>{let{width:r,x:n,y:o,height:i}=e(t);return H(z({},e(t)),{width:1,x:r+n,rect:new DOMRect(r+n,o,1,i)})}}));var ep=ed(e=>!e.selection.empty);ed(e=>e.selection.empty),ed(()=>!0),ep.clone(()=>({getActive:e=>{let{state:t,view:r}=e;if(!t.selection.empty)return ee.EMPTY;let n=(0,y.JM)(t);if(!n)return ee.EMPTY;try{return[{from:r.coordsAtPos(n.from),to:r.coordsAtPos(n.to)}]}catch(e){return ee.EMPTY}}})),g=[(0,_.AOx)({defaultOptions:{scrollDebounce:100},customHandlerKeys:["positioner"],staticKeys:["scrollDebounce"]})];var ef=class extends(m=_.nNj,h=[(0,_.WDe)()],f=[(0,_._y)()],m){constructor(){super(...arguments),G(v,5,this),X(this,"positioners",[]),X(this,"element"),X(this,"onAddCustomHandler",({positioner:e})=>{if(e)return this.positioners=[...this.positioners,e],this.store.commands.forceUpdate(),()=>{this.positioners=this.positioners.filter(t=>t!==e)}})}get name(){return"positioner"}createAttributes(){return{class:A.bu.EDITOR}}init(){this.onScroll=(0,w.D)(this.options.scrollDebounce,this.onScroll.bind(this))}createEventHandlers(){return{scroll:()=>(this.onScroll(),!1),hover:(e,t)=>(this.positioner(this.getBaseProps("hover",{hover:t})),!1),contextmenu:(e,t)=>(this.positioner(this.getBaseProps("contextmenu",{contextmenu:t})),!1)}}onStateUpdate(e){this.positioner(H(z({},e),{previousState:e.firstUpdate?void 0:e.previousState,event:"state",helpers:this.store.helpers}))}createDecorations(e){if(null!=this.element||(this.element=this.createElement()),!this.element.hasChildNodes())return R.EH.empty;let t=R.p.widget(0,this.element,{key:"positioner-widget",side:-1,stopEvent:()=>!0});return R.EH.create(e.doc,[t])}forceUpdatePositioners(e=ei){return({tr:t,dispatch:r})=>(null==r||r(t.setMeta(eo,{key:e})),!0)}getPositionerWidget(){var e;return null!=(e=this.element)?e:this.element=this.createElement()}createElement(){let e=document.createElement("span");return e.dataset.id=en,e.classList.add(en),e.setAttribute("role","presentation"),e}triggerPositioner(e,t){e.hasChanged(t)&&e.onActiveChanged(H(z({},t),{view:this.store.view}))}positioner(e){for(let t of this.positioners)t.events.includes(e.event)&&this.triggerPositioner(t,e)}getBaseProps(e,t){let r=this.store.getState(),n=this.store.previousState;return z({helpers:this.store.helpers,event:e,firstUpdate:!1,previousState:n,state:r},t)}onScroll(){this.positioner(this.getBaseProps("scroll",{scroll:{scrollTop:this.store.view.dom.scrollTop}}))}};$(v=[,,,C(null!=(n=null==m?void 0:m[j("metadata")])?n:null)],1,"forceUpdatePositioners",h,ef),$(v,1,"getPositionerWidget",f,ef),ef=$(v,0,"PositionerExtension",g,ef),G(v,1,ef)},63005:function(e,t,r){r.d(t,{Vb:function(){return n},XW:function(){return o},iR:function(){return i}});var n=Object.freeze({__proto__:null,COPY_DESCRIPTION:{id:"extension.command.copy.description",comment:"Description for copy command.",message:"Copy the selected text"},COPY_LABEL:{id:"extension.command.copy.label",comment:"Label for copy command.",message:"Copy"},CUT_DESCRIPTION:{id:"extension.command.cut.description",comment:"Description for cut command.",message:"Cut the selected text"},CUT_LABEL:{id:"extension.command.cut.label",comment:"Label for cut command.",message:"Cut"},PASTE_DESCRIPTION:{id:"extension.command.paste.description",comment:"Description for paste command.",message:"Paste content into the editor"},PASTE_LABEL:{id:"extension.command.paste.label",comment:"Label for paste command.",message:"Paste"},SELECT_ALL_DESCRIPTION:{id:"extension.command.select-all.description",comment:"Description for select all command.",message:"Select all content within the editor"},SELECT_ALL_LABEL:{id:"extension.command.select-all.label",comment:"Label for select all command.",message:"Select all"}}),o=Object.freeze({__proto__:null,REDO_DESCRIPTION:{id:"extension.command.redo.description",comment:"Description for redo.",message:"Redo the most recent action"},REDO_LABEL:{id:"extension.command.redo.label",comment:"Label for redo.",message:"Redo"},UNDO_DESCRIPTION:{id:"extension.command.undo.description",comment:"Description for undo.",message:"Undo the most recent action"},UNDO_LABEL:{id:"extension.command.undo.label",comment:"Label for undo.",message:"Undo"}}),i=Object.freeze({__proto__:null,CONVERT_DESCRIPTION:{id:"extension.command.convert-paragraph.description",comment:"Description for converting a paragraph.",message:"Convert current block into a paragraph block."},CONVERT_LABEL:{id:"extension.command.convert-paragraph.label",comment:"Label for converting the current node into a paragraph.",message:"Convert Paragraph"},INSERT_DESCRIPTION:{id:"extension.command.insert-paragraph.description",comment:"Description for inserting a paragraph.",message:"Insert a new paragraph"},INSERT_LABEL:{id:"extension.command.insert-paragraph.label",comment:"Label for inserting a paragraph.",message:"Insert Paragraph"}})},31610:function(e,t,r){r.d(t,{A_:function(){return m},QF:function(){return v},fB:function(){return g}});var n=r(2794),o=r(45430),i=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t)=>{for(var r in t||(t={}))c.call(t,r)&&d(e,r,t[r]);if(l)for(var r of l(t))u.call(t,r)&&d(e,r,t[r]);return e},f=(e,t)=>s(e,a(t)),h=(e,t)=>{var r={};for(var n in e)c.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&l)for(var n of l(e))0>t.indexOf(n)&&u.call(e,n)&&(r[n]=e[n]);return r};function m(e){return({state:t,dispatch:r,view:n,tr:i})=>e(function(e,t){let r=Object.getPrototypeOf(t),n=e.selection,i=e.doc,s=e.storedMarks,a=(0,o.Ry)();for(let[e,r]of Object.entries(t))a[e]={value:r};return Object.create(r,f(p({},a),{storedMarks:{get:()=>s},selection:{get:()=>n},doc:{get:()=>i},tr:{get:()=>(n=e.selection,i=e.doc,s=e.storedMarks,e)}}))}(i,t),r,n)}function g(e){return t=>{var r;return(0,o.kG)(void 0===t.dispatch||t.dispatch===(null==(r=t.view)?void 0:r.dispatch),{code:n.mA.NON_CHAINABLE_COMMAND}),e(t)}}function v(...e){return t=>{var{state:r,dispatch:n,view:o,tr:i}=t,s=h(t,["state","dispatch","view","tr"]);for(let t of e)if(t(p({state:r,dispatch:n,view:o,tr:i},s)))return!0;return!1}}},17643:function(e,t,r){r.d(t,{O1:function(){return nk},xd:function(){return nm},TS:function(){return nb},T6:function(){return ny},zf:function(){return nv},z8:function(){return nE},iF:function(){return nR},rj:function(){return nh}});var n,o,i,s,a,l,c,u,d,p,f,h,m,g,v,y,b,E,O,_,w,R,A,C,k,N,T,S,M,P,I,j,D,L,z,H,B,V,U,W,F,G,$,X,q,K,Y,J,Z,Q,ee,et,er,en=r(92379),eo=r(45430),ei=r(2794),es=r(92569),ea=r(99229),el=Object.create,ec=Object.defineProperty,eu=Object.getOwnPropertyDescriptor,ed=Object.getOwnPropertySymbols,ep=Object.prototype.hasOwnProperty,ef=Object.prototype.propertyIsEnumerable,eh=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),em=e=>{throw TypeError(e)},eg=(e,t,r)=>t in e?ec(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ev=(e,t)=>{for(var r in t||(t={}))ep.call(t,r)&&eg(e,r,t[r]);if(ed)for(var r of ed(t))ef.call(t,r)&&eg(e,r,t[r]);return e},ey=(e,t)=>ec(e,"name",{value:t,configurable:!0}),eb=["class","method","getter","setter","accessor","field","value","get","set"],eE=e=>void 0!==e&&"function"!=typeof e?em("Function expected"):e,eO=(e,t,r,n,o)=>({kind:eb[e],name:t,metadata:n,addInitializer:e=>r._?em("Already initialized"):o.push(eE(e||null))}),e_=(e,t)=>eg(t,eh("metadata"),e[3]),ew=(e,t,r,n)=>{for(var o=0,i=e[t>>1],s=i&&i.length;o<s;o++)1&t?i[o].call(r):n=i[o].call(r,n);return n},ex=(e,t,r,n,o,i)=>{var s,a,l,c,u,d=7&t,p=!!(8&t),f=!!(16&t),h=d>3?e.length+1:d?p?1:2:0,m=eb[d+5],g=d>3&&(e[h-1]=[]),v=e[h]||(e[h]=[]),y=d&&(f||p||(o=o.prototype),d<5&&(d>3||!f)&&eu(d<4?o:{get[r](){return eC(this,i)},set[r](x){return ek(this,i,x)}},r));d?f&&d<4&&ey(i,(d>2?"set ":d>1?"get ":"")+r):ey(o,r);for(var b=n.length-1;b>=0;b--)c=eO(d,r,l={},e[3],v),d&&(c.static=p,c.private=f,u=c.access={has:f?e=>eA(o,e):e=>r in e},3^d&&(u.get=f?e=>(1^d?eC:eN)(e,o,4^d?i:y.get):e=>e[r]),d>2&&(u.set=f?(e,t)=>ek(e,o,t,4^d?i:y.set):(e,t)=>e[r]=t)),a=(0,n[b])(d?d<4?f?i:y[m]:d>4?void 0:{get:y.get,set:y.set}:o,c),l._=1,4^d||void 0===a?eE(a)&&(d>4?g.unshift(a):d?f?i=a:y[m]=a:o=a):"object"!=typeof a||null===a?em("Object expected"):(eE(s=a.get)&&(y.get=s),eE(s=a.set)&&(y.set=s),eE(s=a.init)&&g.unshift(s));return d||e_(e,o),y&&ec(o,r,y),f?4^d?i:y:o},eR=(e,t,r)=>t.has(e)||em("Cannot "+r),eA=(e,t)=>Object(t)!==t?em('Cannot use the "in" operator on this value'):e.has(t),eC=(e,t,r)=>(eR(e,t,"read from private field"),r?r.call(e):t.get(e)),ek=(e,t,r,n)=>(eR(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),eN=(e,t,r)=>(eR(e,t,"access private method"),r);f=[(0,es.AOx)({defaultOptions:{content:"block+",docAttributes:[]},defaultPriority:ei.xV.Medium,staticKeys:["content","docAttributes"],disableExtraAttributes:!0})];var eT=class extends(p=es.QR,d=[(0,es.WDe)()],u=[(0,es._y)()],p){constructor(){super(...arguments),ew(h,5,this)}get name(){return"doc"}createNodeSpec(e,t){let{docAttributes:r,content:n}=this.options,o=(0,eo.Ry)();if((0,eo.PO)(r))for(let[e,t]of(0,eo.qh)(r))o[e]={default:t};else for(let e of r)o[e]={default:null};return ev({attrs:o,content:n},t)}setDocAttributes(e){return({tr:t,dispatch:r})=>{if(r){for(let[r,n]of Object.entries(e))t.setDocAttribute(r,n);r(t)}return!0}}isDefaultDocNode({state:e=this.store.getState(),options:t}={}){return(0,ea.$q)(e.doc,t)}};ex(h=[,,,el(null!=(n=null==p?void 0:p[eh("metadata")])?n:null)],1,"setDocAttributes",d,eT),ex(h,1,"isDefaultDocNode",u,eT),eT=ex(h,0,"DocExtension",f,eT),ew(h,1,eT);var eS=r(75122),eM=r(4684),eP=Object.create,eI=Object.defineProperty,ej=Object.getOwnPropertyDescriptor,eD=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),eL=e=>{throw TypeError(e)},ez=(e,t,r)=>t in e?eI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eH=(e,t)=>eI(e,"name",{value:t,configurable:!0}),eB=["class","method","getter","setter","accessor","field","value","get","set"],eV=e=>void 0!==e&&"function"!=typeof e?eL("Function expected"):e,eU=(e,t,r,n,o)=>({kind:eB[e],name:t,metadata:n,addInitializer:e=>r._?eL("Already initialized"):o.push(eV(e||null))}),eW=(e,t)=>ez(t,eD("metadata"),e[3]),eF=(e,t,r)=>t.has(e)||eL("Cannot "+r),eG=(e,t)=>Object(t)!==t?eL('Cannot use the "in" operator on this value'):e.has(t),e$=(e,t,r)=>(eF(e,t,"read from private field"),r?r.call(e):t.get(e)),eX=(e,t,r,n)=>(eF(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),eq=(e,t,r)=>(eF(e,t,"access private method"),r);m=[(0,es.AOx)({})];var eK=class extends(v=es.nNj){get name(){return"gapCursor"}createExternalPlugins(){return[(0,eM.d)()]}};eK=((e,t,r,n,o,i)=>{var s,a,l,c,u,d=7&t,p=!!(8&t),f=!!(16&t),h=d>3?e.length+1:d?p?1:2:0,m=eB[d+5],g=d>3&&(e[h-1]=[]),v=e[h]||(e[h]=[]),y=d&&(f||p||(o=o.prototype),d<5&&(d>3||!f)&&ej(d<4?o:{get[r](){return e$(this,i)},set[r](x){return eX(this,i,x)}},r));d?f&&d<4&&eH(i,(d>2?"set ":d>1?"get ":"")+r):eH(o,r);for(var b=n.length-1;b>=0;b--)c=eU(d,r,l={},e[3],v),d&&(c.static=p,c.private=f,u=c.access={has:f?e=>eG(o,e):e=>r in e},3^d&&(u.get=f?e=>(1^d?e$:eq)(e,o,4^d?i:y.get):e=>e[r]),d>2&&(u.set=f?(e,t)=>eX(e,o,t,4^d?i:y.set):(e,t)=>e[r]=t)),a=(0,n[b])(d?d<4?f?i:y[m]:d>4?void 0:{get:y.get,set:y.set}:o,c),l._=1,4^d||void 0===a?eV(a)&&(d>4?g.unshift(a):d?f?i=a:y[m]=a:o=a):"object"!=typeof a||null===a?eL("Object expected"):(eV(s=a.get)&&(y.get=s),eV(s=a.set)&&(y.set=s),eV(s=a.init)&&g.unshift(s));return d||eW(e,o),y&&eI(o,r,y),f?4^d?i:y:o})(g=[,,,eP(null!=(o=null==v?void 0:v[eD("metadata")])?o:null)],0,"GapCursorExtension",m,eK),((e,t,r,n)=>{for(var o=0,i=e[t>>1],s=i&&i.length;o<s;o++)1&t?i[o].call(r):n=i[o].call(r,n)})(g,1,eK),(0,eo.V9)(eM.Q);var eY=r(31610),eJ=r(63005),eZ=r(74263),eQ=Object.create,e0=Object.defineProperty,e1=Object.getOwnPropertyDescriptor,e4=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),e9=e=>{throw TypeError(e)},e3=(e,t,r)=>t in e?e0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,e2=(e,t)=>e0(e,"name",{value:t,configurable:!0}),e5=["class","method","getter","setter","accessor","field","value","get","set"],e6=e=>void 0!==e&&"function"!=typeof e?e9("Function expected"):e,e8=(e,t,r,n,o)=>({kind:e5[e],name:t,metadata:n,addInitializer:e=>r._?e9("Already initialized"):o.push(e6(e||null))}),e7=(e,t)=>e3(t,e4("metadata"),e[3]),te=(e,t,r,n)=>{for(var o=0,i=e[t>>1],s=i&&i.length;o<s;o++)1&t?i[o].call(r):n=i[o].call(r,n);return n},tt=(e,t,r,n,o,i)=>{var s,a,l,c,u,d=7&t,p=!!(8&t),f=!!(16&t),h=d>3?e.length+1:d?p?1:2:0,m=e5[d+5],g=d>3&&(e[h-1]=[]),v=e[h]||(e[h]=[]),y=d&&(f||p||(o=o.prototype),d<5&&(d>3||!f)&&e1(d<4?o:{get[r](){return ti(this,i)},set[r](x){return ts(this,i,x)}},r));d?f&&d<4&&e2(i,(d>2?"set ":d>1?"get ":"")+r):e2(o,r);for(var b=n.length-1;b>=0;b--)c=e8(d,r,l={},e[3],v),d&&(c.static=p,c.private=f,u=c.access={has:f?e=>to(o,e):e=>r in e},3^d&&(u.get=f?e=>(1^d?ti:ta)(e,o,4^d?i:y.get):e=>e[r]),d>2&&(u.set=f?(e,t)=>ts(e,o,t,4^d?i:y.set):(e,t)=>e[r]=t)),a=(0,n[b])(d?d<4?f?i:y[m]:d>4?void 0:{get:y.get,set:y.set}:o,c),l._=1,4^d||void 0===a?e6(a)&&(d>4?g.unshift(a):d?f?i=a:y[m]=a:o=a):"object"!=typeof a||null===a?e9("Object expected"):(e6(s=a.get)&&(y.get=s),e6(s=a.set)&&(y.set=s),e6(s=a.init)&&g.unshift(s));return d||e7(e,o),y&&e0(o,r,y),f?4^d?i:y:o},tr=(e,t,r)=>e3(e,"symbol"!=typeof t?t+"":t,r),tn=(e,t,r)=>t.has(e)||e9("Cannot "+r),to=(e,t)=>Object(t)!==t?e9('Cannot use the "in" operator on this value'):e.has(t),ti=(e,t,r)=>(tn(e,t,"read from private field"),r?r.call(e):t.get(e)),ts=(e,t,r,n)=>(tn(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ta=(e,t,r)=>(tn(e,t,"access private method"),r);A=[(0,es.AOx)({defaultOptions:{depth:100,newGroupDelay:500,getDispatch:void 0,getState:void 0},staticKeys:["depth","newGroupDelay"],handlerKeys:["onUndo","onRedo"]})];var tl=class extends(R=es.nNj,w=[(0,es.IGC)({shortcut:ei.vO.Undo,command:"undo"})],_=[(0,es.IGC)({shortcut:ei.vO.Redo,command:"redo"})],O=[(0,es.WDe)({disableChaining:!0,description:({t:e})=>e(eJ.XW.UNDO_DESCRIPTION),label:({t:e})=>e(eJ.XW.UNDO_LABEL),icon:"arrowGoBackFill"})],E=[(0,es.WDe)({disableChaining:!0,description:({t:e})=>e(eJ.XW.REDO_DESCRIPTION),label:({t:e})=>e(eJ.XW.REDO_LABEL),icon:"arrowGoForwardFill"})],b=[(0,es._y)()],y=[(0,es._y)()],R){constructor(){super(...arguments),te(C,5,this),tr(this,"wrapMethod",(e,t)=>({state:r,dispatch:n,view:o})=>{let{getState:i,getDispatch:s}=this.options,a=e((0,eo.mf)(i)?i():r,(0,eo.mf)(s)&&n?s():n,o);return null==t||t(a),a})}get name(){return"history"}createKeymap(){return{"Mod-y":ea.NZ.isMac?()=>!1:this.wrapMethod(eZ.KX,this.options.onRedo),"Mod-z":this.wrapMethod(eZ.Yw,this.options.onUndo),"Shift-Mod-z":this.wrapMethod(eZ.KX,this.options.onRedo)}}undoShortcut(e){return this.wrapMethod(eZ.Yw,this.options.onUndo)(e)}redoShortcut(e){return this.wrapMethod(eZ.KX,this.options.onRedo)(e)}createExternalPlugins(){let{depth:e,newGroupDelay:t}=this.options;return[(0,eZ.m8)({depth:e,newGroupDelay:t})]}undo(){return(0,eY.fB)(this.wrapMethod(eZ.Yw,this.options.onUndo))}redo(){return(0,eY.fB)(this.wrapMethod(eZ.KX,this.options.onRedo))}undoDepth(e=this.store.getState()){return(0,eZ.of)(e)}redoDepth(e=this.store.getState()){return(0,eZ.AH)(e)}};tt(C=[,,,eQ(null!=(i=null==R?void 0:R[e4("metadata")])?i:null)],1,"undoShortcut",w,tl),tt(C,1,"redoShortcut",_,tl),tt(C,1,"undo",O,tl),tt(C,1,"redo",E,tl),tt(C,1,"undoDepth",b,tl),tt(C,1,"redoDepth",y,tl),tl=tt(C,0,"HistoryExtension",A,tl),te(C,1,tl);var tc=Object.create,tu=Object.defineProperty,td=Object.defineProperties,tp=Object.getOwnPropertyDescriptor,tf=Object.getOwnPropertyDescriptors,th=Object.getOwnPropertySymbols,tm=Object.prototype.hasOwnProperty,tg=Object.prototype.propertyIsEnumerable,tv=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),ty=e=>{throw TypeError(e)},tb=(e,t,r)=>t in e?tu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tE=(e,t)=>{for(var r in t||(t={}))tm.call(t,r)&&tb(e,r,t[r]);if(th)for(var r of th(t))tg.call(t,r)&&tb(e,r,t[r]);return e},tO=(e,t)=>td(e,tf(t)),t_=(e,t)=>tu(e,"name",{value:t,configurable:!0}),tw=["class","method","getter","setter","accessor","field","value","get","set"],tx=e=>void 0!==e&&"function"!=typeof e?ty("Function expected"):e,tR=(e,t,r,n,o)=>({kind:tw[e],name:t,metadata:n,addInitializer:e=>r._?ty("Already initialized"):o.push(tx(e||null))}),tA=(e,t)=>tb(t,tv("metadata"),e[3]),tC=(e,t,r,n)=>{for(var o=0,i=e[t>>1],s=i&&i.length;o<s;o++)1&t?i[o].call(r):n=i[o].call(r,n);return n},tk=(e,t,r,n,o,i)=>{var s,a,l,c,u,d=7&t,p=!!(8&t),f=!!(16&t),h=d>3?e.length+1:d?p?1:2:0,m=tw[d+5],g=d>3&&(e[h-1]=[]),v=e[h]||(e[h]=[]),y=d&&(f||p||(o=o.prototype),d<5&&(d>3||!f)&&tp(d<4?o:{get[r](){return tS(this,i)},set[r](x){return tM(this,i,x)}},r));d?f&&d<4&&t_(i,(d>2?"set ":d>1?"get ":"")+r):t_(o,r);for(var b=n.length-1;b>=0;b--)c=tR(d,r,l={},e[3],v),d&&(c.static=p,c.private=f,u=c.access={has:f?e=>tT(o,e):e=>r in e},3^d&&(u.get=f?e=>(1^d?tS:tP)(e,o,4^d?i:y.get):e=>e[r]),d>2&&(u.set=f?(e,t)=>tM(e,o,t,4^d?i:y.set):(e,t)=>e[r]=t)),a=(0,n[b])(d?d<4?f?i:y[m]:d>4?void 0:{get:y.get,set:y.set}:o,c),l._=1,4^d||void 0===a?tx(a)&&(d>4?g.unshift(a):d?f?i=a:y[m]=a:o=a):"object"!=typeof a||null===a?ty("Object expected"):(tx(s=a.get)&&(y.get=s),tx(s=a.set)&&(y.set=s),tx(s=a.init)&&g.unshift(s));return d||tA(e,o),y&&tu(o,r,y),f?4^d?i:y:o},tN=(e,t,r)=>t.has(e)||ty("Cannot "+r),tT=(e,t)=>Object(t)!==t?ty('Cannot use the "in" operator on this value'):e.has(t),tS=(e,t,r)=>(tN(e,t,"read from private field"),r?r.call(e):t.get(e)),tM=(e,t,r,n)=>(tN(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),tP=(e,t,r)=>(tN(e,t,"access private method"),r),tI={icon:"paragraph",label:({t:e})=>e(eJ.iR.INSERT_LABEL),description:({t:e})=>e(eJ.iR.INSERT_DESCRIPTION)},tj={icon:"paragraph",label:({t:e})=>e(eJ.iR.CONVERT_LABEL),description:({t:e})=>e(eJ.iR.CONVERT_DESCRIPTION)};M=[(0,es.AOx)({defaultPriority:ei.xV.Medium})];var tD=class extends(S=es.QR,T=[(0,es.WDe)(tj)],N=[(0,es.WDe)(tI)],k=[(0,es.IGC)({shortcut:ei.vO.Paragraph,command:"convertParagraph"})],S){constructor(){super(...arguments),tC(P,5,this)}get name(){return"paragraph"}createTags(){return[ei.eX.LastNodeCompatible,ei.eX.TextBlock,ei.eX.Block,ei.eX.FormattingNode]}createNodeSpec(e,t){var r;return tO(tE({content:"inline*",draggable:!1},t),{attrs:tE({},e.defaults()),parseDOM:[{tag:"p",getAttrs:t=>tE({},e.parse(t))},...null!=(r=t.parseDOM)?r:[]],toDOM:t=>["p",e.dom(t),0]})}convertParagraph(e={}){let{attrs:t,selection:r,preserveAttrs:n}=e;return this.store.commands.setBlockNodeType.original(this.type,t,r,n)}insertParagraph(e,t={}){let{selection:r,attrs:n}=t;return this.store.commands.insertNode.original(this.type,{content:e,selection:r,attrs:n})}shortcut(e){return this.convertParagraph()(e)}};tk(P=[,,,tc(null!=(s=null==S?void 0:S[tv("metadata")])?s:null)],1,"convertParagraph",T,tD),tk(P,1,"insertParagraph",N,tD),tk(P,1,"shortcut",k,tD),tD=tk(P,0,"ParagraphExtension",M,tD),tC(P,1,tD);var tL=r(52789),tz=Object.create,tH=Object.defineProperty,tB=Object.getOwnPropertyDescriptor,tV=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),tU=e=>{throw TypeError(e)},tW=(e,t,r)=>t in e?tH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tF=(e,t)=>tH(e,"name",{value:t,configurable:!0}),tG=["class","method","getter","setter","accessor","field","value","get","set"],t$=e=>void 0!==e&&"function"!=typeof e?tU("Function expected"):e,tX=(e,t,r,n,o)=>({kind:tG[e],name:t,metadata:n,addInitializer:e=>r._?tU("Already initialized"):o.push(t$(e||null))}),tq=(e,t)=>tW(t,tV("metadata"),e[3]),tK=(e,t,r)=>t.has(e)||tU("Cannot "+r),tY=(e,t)=>Object(t)!==t?tU('Cannot use the "in" operator on this value'):e.has(t),tJ=(e,t,r)=>(tK(e,t,"read from private field"),r?r.call(e):t.get(e)),tZ=(e,t,r,n)=>(tK(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),tQ=(e,t,r)=>(tK(e,t,"access private method"),r);I=[(0,es.AOx)({disableExtraAttributes:!0,defaultPriority:ei.xV.Medium})];var t0=class extends(D=es.QR){get name(){return"text"}createTags(){return[ei.eX.InlineNode]}createNodeSpec(){return{}}};t0=((e,t,r,n,o,i)=>{var s,a,l,c,u,d=7&t,p=!!(8&t),f=!!(16&t),h=d>3?e.length+1:d?p?1:2:0,m=tG[d+5],g=d>3&&(e[h-1]=[]),v=e[h]||(e[h]=[]),y=d&&(f||p||(o=o.prototype),d<5&&(d>3||!f)&&tB(d<4?o:{get[r](){return tJ(this,i)},set[r](x){return tZ(this,i,x)}},r));d?f&&d<4&&tF(i,(d>2?"set ":d>1?"get ":"")+r):tF(o,r);for(var b=n.length-1;b>=0;b--)c=tX(d,r,l={},e[3],v),d&&(c.static=p,c.private=f,u=c.access={has:f?e=>tY(o,e):e=>r in e},3^d&&(u.get=f?e=>(1^d?tJ:tQ)(e,o,4^d?i:y.get):e=>e[r]),d>2&&(u.set=f?(e,t)=>tZ(e,o,t,4^d?i:y.set):(e,t)=>e[r]=t)),a=(0,n[b])(d?d<4?f?i:y[m]:d>4?void 0:{get:y.get,set:y.set}:o,c),l._=1,4^d||void 0===a?t$(a)&&(d>4?g.unshift(a):d?f?i=a:y[m]=a:o=a):"object"!=typeof a||null===a?tU("Object expected"):(t$(s=a.get)&&(y.get=s),t$(s=a.set)&&(y.set=s),t$(s=a.init)&&g.unshift(s));return d||tq(e,o),y&&tH(o,r,y),f?4^d?i:y:o})(j=[,,,tz(null!=(a=null==D?void 0:D[tV("metadata")])?a:null)],0,"TextExtension",I,t0),((e,t,r,n)=>{for(var o=0,i=e[t>>1],s=i&&i.length;o<s;o++)1&t?i[o].call(r):n=i[o].call(r,n)})(j,1,t0);var t1=Object.defineProperty,t4=Object.defineProperties,t9=Object.getOwnPropertyDescriptors,t3=Object.getOwnPropertySymbols,t2=Object.prototype.hasOwnProperty,t5=Object.prototype.propertyIsEnumerable,t6=(e,t,r)=>t in e?t1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,t8=(e,t)=>{for(var r in t||(t={}))t2.call(t,r)&&t6(e,r,t[r]);if(t3)for(var r of t3(t))t5.call(t,r)&&t6(e,r,t[r]);return e},t7=t4(t8(t8(t8({},eT.defaultOptions),tD.defaultOptions),tl.defaultOptions),t9({excludeExtensions:[]})),re=r(63969),rt=r(46533),rr=r(95295),rn=r(27117),ro=r(81171),ri=r(60314),rs=Object.create,ra=Object.defineProperty,rl=Object.getOwnPropertyDescriptor,rc=Object.getOwnPropertySymbols,ru=Object.prototype.hasOwnProperty,rd=Object.prototype.propertyIsEnumerable,rp=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),rf=e=>{throw TypeError(e)},rh=(e,t,r)=>t in e?ra(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rm=(e,t)=>{for(var r in t||(t={}))ru.call(t,r)&&rh(e,r,t[r]);if(rc)for(var r of rc(t))rd.call(t,r)&&rh(e,r,t[r]);return e},rg=(e,t)=>ra(e,"name",{value:t,configurable:!0}),rv=["class","method","getter","setter","accessor","field","value","get","set"],ry=e=>void 0!==e&&"function"!=typeof e?rf("Function expected"):e,rb=(e,t,r,n,o)=>({kind:rv[e],name:t,metadata:n,addInitializer:e=>r._?rf("Already initialized"):o.push(ry(e||null))}),rE=(e,t)=>rh(t,rp("metadata"),e[3]),rO=(e,t,r)=>rh(e,"symbol"!=typeof t?t+"":t,r),r_=(e,t,r)=>t.has(e)||rf("Cannot "+r),rw=(e,t)=>Object(t)!==t?rf('Cannot use the "in" operator on this value'):e.has(t),rx=(e,t,r)=>(r_(e,t,"read from private field"),r?r.call(e):t.get(e)),rR=(e,t,r)=>t.has(e)?rf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),rA=(e,t,r,n)=>(r_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),rC=(e,t,r)=>(r_(e,t,"access private method"),r),rk=class{constructor(){rO(this,"portals",new Map),rR(this,L,(0,rt.i)()),rO(this,"on",e=>rx(this,L).on("update",e)),rO(this,"once",e=>{let t=rx(this,L).on("update",r=>{t(),e(r)});return t})}update(){rx(this,L).emit("update",this.portals)}render({Component:e,container:t}){var r;let n=this.portals.get(t);this.portals.set(t,{Component:e,key:null!=(r=null==n?void 0:n.key)?r:(0,eo.EL)()}),this.update()}forceUpdate(){for(let[e,{Component:t}]of this.portals)this.portals.set(e,{Component:t,key:(0,eo.EL)()})}remove(e){this.portals.delete(e),this.update()}};L=new WeakMap;var rN=e=>{let{portals:t}=e;return en.createElement(en.Fragment,null,t.map(([e,{Component:t,key:r}])=>(0,rr.createPortal)(en.createElement(t,null),e,r)))},rT=class e{constructor({getPosition:e,node:t,portalContainer:r,view:n,ReactComponent:o,options:i}){var s;rR(this,z),rR(this,H,[]),rR(this,B),rR(this,V),rR(this,U),rR(this,W),rR(this,F),rR(this,G,!1),rR(this,$),rR(this,X),rR(this,q),rR(this,K,e=>{e&&((0,eo.kG)(rx(this,X),{code:ei.mA.REACT_NODE_VIEW,message:"You have applied a ref to a node view provided for '".concat(rx(this,z).type.name,"' which doesn't support content.")}),e.append(rx(this,X)))}),rO(this,"Component",()=>{let e=rx(this,U);return(0,eo.kG)(e,{code:ei.mA.REACT_NODE_VIEW,message:"The custom react node view provided for ".concat(rx(this,z).type.name," doesn't have a valid ReactComponent")}),en.createElement(e,{updateAttributes:this.updateAttributes,selected:this.selected,view:rx(this,B),getPosition:rx(this,W),node:rx(this,z),forwardRef:rx(this,K),decorations:rx(this,H)})}),rO(this,"updateAttributes",e=>{if(!rx(this,B).editable)return;let t=rx(this,W).call(this);if(null==t)return;let r=rx(this,B).state.tr.setNodeMarkup(t,void 0,rm(rm({},rx(this,z).attrs),e));rx(this,B).dispatch(r)}),(0,eo.kG)((0,eo.mf)(e),{message:"You are attempting to use a node view for a mark type. This is not supported yet. Please check your configuration."}),rA(this,z,t),rA(this,B,n),rA(this,V,r),rA(this,U,o),rA(this,W,e),rA(this,F,i),rA(this,q,this.createDom());let{contentDOM:a,wrapper:l}=null!=(s=this.createContentDom())?s:{};rA(this,$,null!=a?a:void 0),rA(this,X,l),rx(this,X)&&rx(this,q).append(rx(this,X)),this.setDomAttributes(rx(this,z),rx(this,q)),this.Component.displayName=(0,rn.Ho)("".concat(rx(this,z).type.name,"NodeView")),this.renderComponent()}static create(t){let{portalContainer:r,ReactComponent:n,options:o}=t;return(t,i,s)=>new e({options:o,node:t,view:i,getPosition:s,portalContainer:r,ReactComponent:n})}get selected(){return rx(this,G)}get contentDOM(){return rx(this,$)}get dom(){return rx(this,q)}renderComponent(){rx(this,V).render({Component:this.Component,container:rx(this,q)})}createDom(){let{defaultBlockNode:e,defaultInlineNode:t}=rx(this,F),r=rx(this,z).isInline?document.createElement(t):document.createElement(e);return r.classList.add("".concat((0,rn.GL)(rx(this,z).type.name),"-node-view-wrapper")),r}createContentDom(){var e,t;let r;if(rx(this,z).isLeaf)return;let n=null==(t=(e=rx(this,z).type.spec).toDOM)?void 0:t.call(e,rx(this,z));if(!n)return;let{contentDOM:o,dom:i}=ro.PW.renderSpec(document,n);if((0,ea.jd)(i))return r=i,i===o&&((r=document.createElement("span")).classList.add("".concat((0,rn.GL)(rx(this,z).type.name),"-node-view-content-wrapper")),r.append(o)),(0,ea.jd)(o),{wrapper:r,contentDOM:o}}update(e,t){return!!(0,ea.$9)({types:rx(this,z).type,node:e})&&(rx(this,z)===e&&rx(this,H)===t||(rx(this,z).sameMarkup(e)||this.setDomAttributes(e,rx(this,q)),rA(this,z,e),rA(this,H,t),this.renderComponent(),!0))}setDomAttributes(e,t){let{toDOM:r}=rx(this,z).type.spec,n=e.attrs;if(r){let t=r(e);if((0,eo.HD)(t)||(0,ea.mV)(t)||(0,eo.PO)(t)&&(0,ea.mV)(t.dom))return;(0,eo.PO)(t[1])&&(n=t[1])}for(let[e,r]of(0,eo.qh)(n))t.setAttribute(e,r)}selectNode(){rA(this,G,!0),rx(this,q)&&rx(this,q).classList.add(ei.Eg),this.renderComponent()}deselectNode(){rA(this,G,!1),rx(this,q)&&rx(this,q).classList.remove(ei.Eg),this.renderComponent()}destroy(){rx(this,V).remove(rx(this,q))}ignoreMutation(e){return"selection"===e.type?!rx(this,z).type.spec.selectable:!rx(this,X)||!rx(this,X).contains(e.target)}stopEvent(e){var t;if(!rx(this,q))return!1;if((0,eo.mf)(rx(this,F).stopEvent))return rx(this,F).stopEvent({event:e});let r=e.target;if(!(rx(this,q).contains(r)&&!(null==(t=this.contentDOM)?void 0:t.contains(r))))return!1;let n="drop"===e.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!n)return!0;let o=!!rx(this,z).type.spec.draggable,i=ri.qv.isSelectable(rx(this,z)),s="copy"===e.type,a="paste"===e.type,l="cut"===e.type,c="mousedown"===e.type,u=e.type.startsWith("drag");return!o&&i&&u&&e.preventDefault(),!u&&!n&&!s&&!a&&!l&&(!c||!i)}};z=new WeakMap,H=new WeakMap,B=new WeakMap,V=new WeakMap,U=new WeakMap,W=new WeakMap,F=new WeakMap,G=new WeakMap,$=new WeakMap,X=new WeakMap,q=new WeakMap,K=new WeakMap,Y=[(0,es.AOx)({defaultOptions:{defaultBlockNode:"div",defaultInlineNode:"span",defaultContentNode:"span",defaultEnvironment:"both",nodeViewComponents:{},stopEvent:null},staticKeys:["defaultBlockNode","defaultInlineNode","defaultContentNode","defaultEnvironment"]})];var rS=class extends(Z=es.nNj){constructor(){super(...arguments),rO(this,"portalContainer",new rk)}get name(){return"reactComponent"}onCreate(){this.store.setStoreKey("portalContainer",this.portalContainer)}createNodeViews(){var e;let t=(0,eo.Ry)(),r=null!=(e=this.store.managerSettings.nodeViewComponents)?e:{};for(let e of this.store.extensions)e.ReactComponent&&(0,es.JZE)(e)&&"ssr"!==e.reactComponentEnvironment&&(t[e.name]=rT.create({options:this.options,ReactComponent:e.ReactComponent,portalContainer:this.portalContainer}));for(let[e,n]of(0,eo.qh)(rm(rm({},this.options.nodeViewComponents),r)))t[e]=rT.create({options:this.options,ReactComponent:n,portalContainer:this.portalContainer});return t}};rS=((e,t,r,n,o,i)=>{var s,a,l,c,u,d=7&t,p=!!(8&t),f=!!(16&t),h=d>3?e.length+1:d?p?1:2:0,m=rv[d+5],g=d>3&&(e[h-1]=[]),v=e[h]||(e[h]=[]),y=d&&(f||p||(o=o.prototype),d<5&&(d>3||!f)&&rl(d<4?o:{get[r](){return rx(this,i)},set[r](x){return rA(this,i,x)}},r));d?f&&d<4&&rg(i,(d>2?"set ":d>1?"get ":"")+r):rg(o,r);for(var b=n.length-1;b>=0;b--)c=rb(d,r,l={},e[3],v),d&&(c.static=p,c.private=f,u=c.access={has:f?e=>rw(o,e):e=>r in e},3^d&&(u.get=f?e=>(1^d?rx:rC)(e,o,4^d?i:y.get):e=>e[r]),d>2&&(u.set=f?(e,t)=>rA(e,o,t,4^d?i:y.set):(e,t)=>e[r]=t)),a=(0,n[b])(d?d<4?f?i:y[m]:d>4?void 0:{get:y.get,set:y.set}:o,c),l._=1,4^d||void 0===a?ry(a)&&(d>4?g.unshift(a):d?f?i=a:y[m]=a:o=a):"object"!=typeof a||null===a?rf("Object expected"):(ry(s=a.get)&&(y.get=s),ry(s=a.set)&&(y.set=s),ry(s=a.init)&&g.unshift(s));return d||rE(e,o),y&&ra(o,r,y),f?4^d?i:y:o})(J=[,,,rs(null!=(l=null==Z?void 0:Z[rp("metadata")])?l:null)],0,"ReactComponentExtension",Y,rS),((e,t,r,n)=>{for(var o=0,i=e[t>>1],s=i&&i.length;o<s;o++)1&t?i[o].call(r):n=i[o].call(r,n)})(J,1,rS);var rM=Object.create,rP=Object.defineProperty,rI=Object.getOwnPropertyDescriptor,rj=Object.getOwnPropertySymbols,rD=Object.prototype.hasOwnProperty,rL=Object.prototype.propertyIsEnumerable,rz=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),rH=e=>{throw TypeError(e)},rB=(e,t,r)=>t in e?rP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rV=(e,t)=>{for(var r in t||(t={}))rD.call(t,r)&&rB(e,r,t[r]);if(rj)for(var r of rj(t))rL.call(t,r)&&rB(e,r,t[r]);return e},rU=(e,t)=>rP(e,"name",{value:t,configurable:!0}),rW=["class","method","getter","setter","accessor","field","value","get","set"],rF=e=>void 0!==e&&"function"!=typeof e?rH("Function expected"):e,rG=(e,t,r,n,o)=>({kind:rW[e],name:t,metadata:n,addInitializer:e=>r._?rH("Already initialized"):o.push(rF(e||null))}),r$=(e,t)=>rB(t,rz("metadata"),e[3]),rX=(e,t,r)=>t.has(e)||rH("Cannot "+r),rq=(e,t)=>Object(t)!==t?rH('Cannot use the "in" operator on this value'):e.has(t),rK=(e,t,r)=>(rX(e,t,"read from private field"),r?r.call(e):t.get(e)),rY=(e,t,r,n)=>(rX(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),rJ=(e,t,r)=>(rX(e,t,"access private method"),r),rZ=rV(rV({},re.X.defaultOptions),rS.defaultOptions),rQ=[...re.X.staticKeys,...rS.staticKeys];Q=[(0,es.AOx)({defaultOptions:rZ,staticKeys:rQ})];var r0=class extends(et=es.nNj){get name(){return"react"}onSetOptions(e){let{pickChanged:t}=e;this.getExtension(re.X).setOptions(t(["placeholder"]))}createExtensions(){let{emptyNodeClass:e,placeholder:t,defaultBlockNode:r,defaultContentNode:n,defaultEnvironment:o,defaultInlineNode:i,nodeViewComponents:s}=this.options;return[new re.X({emptyNodeClass:e,placeholder:t,priority:ei.xV.Low}),new rS({defaultBlockNode:r,defaultContentNode:n,defaultEnvironment:o,defaultInlineNode:i,nodeViewComponents:s})]}};r0=((e,t,r,n,o,i)=>{var s,a,l,c,u,d=7&t,p=!!(8&t),f=!!(16&t),h=d>3?e.length+1:d?p?1:2:0,m=rW[d+5],g=d>3&&(e[h-1]=[]),v=e[h]||(e[h]=[]),y=d&&(f||p||(o=o.prototype),d<5&&(d>3||!f)&&rI(d<4?o:{get[r](){return rK(this,i)},set[r](x){return rY(this,i,x)}},r));d?f&&d<4&&rU(i,(d>2?"set ":d>1?"get ":"")+r):rU(o,r);for(var b=n.length-1;b>=0;b--)c=rG(d,r,l={},e[3],v),d&&(c.static=p,c.private=f,u=c.access={has:f?e=>rq(o,e):e=>r in e},3^d&&(u.get=f?e=>(1^d?rK:rJ)(e,o,4^d?i:y.get):e=>e[r]),d>2&&(u.set=f?(e,t)=>rY(e,o,t,4^d?i:y.set):(e,t)=>e[r]=t)),a=(0,n[b])(d?d<4?f?i:y[m]:d>4?void 0:{get:y.get,set:y.set}:o,c),l._=1,4^d||void 0===a?rF(a)&&(d>4?g.unshift(a):d?f?i=a:y[m]=a:o=a):"object"!=typeof a||null===a?rH("Object expected"):(rF(s=a.get)&&(y.get=s),rF(s=a.set)&&(y.set=s),rF(s=a.init)&&g.unshift(s));return d||r$(e,o),y&&rP(o,r,y),f?4^d?i:y:o})(ee=[,,,rM(null!=(c=null==et?void 0:et[rz("metadata")])?c:null)],0,"ReactExtension",Q,r0),((e,t,r,n)=>{for(var o=0,i=e[t>>1],s=i&&i.length;o<s;o++)1&t?i[o].call(r):n=i[o].call(r,n)})(ee,1,r0);var r1=r(59231),r4=r(35050),r9=r(65906),r3=Object.defineProperty,r2=Object.defineProperties,r5=Object.getOwnPropertyDescriptors,r6=Object.getOwnPropertySymbols,r8=Object.prototype.hasOwnProperty,r7=Object.prototype.propertyIsEnumerable,ne=e=>{throw TypeError(e)},nt=(e,t,r)=>t in e?r3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nr=(e,t)=>{for(var r in t||(t={}))r8.call(t,r)&&nt(e,r,t[r]);if(r6)for(var r of r6(t))r7.call(t,r)&&nt(e,r,t[r]);return e},nn=(e,t)=>r2(e,r5(t)),no=(e,t)=>{var r={};for(var n in e)r8.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&r6)for(var n of r6(e))0>t.indexOf(n)&&r7.call(e,n)&&(r[n]=e[n]);return r},ni=(e,t,r)=>nt(e,"symbol"!=typeof t?t+"":t,r),ns=(e,t,r)=>t.has(e)||ne("Cannot "+r),na=(e,t,r)=>(ns(e,t,"read from private field"),r?r.call(e):t.get(e)),nl=(e,t,r)=>t.has(e)?ne("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),nc=(e,t,r,n)=>(ns(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),nu=e=>e.message,nd=(0,en.createContext)(nu),np=({i18nFormat:e=nu,locale:t="en",supportedLocales:r,children:n})=>{let o=(0,en.useMemo)(()=>null!=r?r:[t],[r,t]),i=(0,en.useCallback)((r,n)=>e(r,n,t,o),[e,t,o]);return en.createElement(nd.Provider,{value:i},n)},nf=(0,en.createContext)(null);function nh(e){let t=(0,en.useContext)(nf),r=(0,en.useRef)(function(){let[,e]=(0,en.useState)((0,eo.Ry)());return(0,en.useCallback)(()=>{e((0,eo.Ry)())},[])}());(0,eo.kG)(t,{code:ei.mA.REACT_PROVIDER_CONTEXT});let{addHandler:n}=t;return(0,en.useEffect)(()=>{let t=e;if(t){if((0,eo.PO)(t)){let{autoUpdate:e}=t;t=e?()=>r.current():void 0}if((0,eo.mf)(t))return n("updated",t)}},[n,e]),t}function nm(){return nh().commands}function ng(e,t,r){let n;let{getExtension:o}=nh(),i=(0,en.useMemo)(()=>o(e),[e,o]);if(n=(0,eo.mf)(t)?r?[i,...r]:[i,t]:t?[i,...Object.values(t)]:[],(0,en.useEffect)(()=>{!(0,eo.mf)(t)&&t&&i.setOptions(t)},n),(0,en.useEffect)(()=>{if((0,eo.mf)(t))return t({addHandler:i.addHandler.bind(i),addCustomHandler:i.addCustomHandler.bind(i),extension:i})},n),!t)return i}function nv(e,t,r){return ng(e,(0,en.useCallback)(({addHandler:e})=>e(t,r),[r,t]))}function ny(e,t,r){return ng(e,(0,en.useCallback)(({addCustomHandler:e})=>e(t,r),[r,t]))}function nb(){return(0,en.useRef)(nh().view.dom)}function nE(e=!1){return nh(e?{autoUpdate:!0}:void 0).helpers}function nO(e,t={}){let{core:r,react:n}=t,o=no(t,["core","react"]);return(0,es.ZQL)(e)?e:es.Ao0.create(()=>[...(0,eo.r2)(e),new r0(n),...function(e={}){let{content:t,depth:r,getDispatch:n,getState:o,newGroupDelay:i,excludeExtensions:s}=e=t8(t8({},t7),e),a={};for(let e of null!=s?s:[])a[e]=!0;let l=[];if(!a.history){let e=new tl({depth:r,getDispatch:n,getState:o,newGroupDelay:i});l.push(e)}return a.doc||l.push(new eT({content:t})),a.text||l.push(new t0),a.paragraph||l.push(new tD),a.positioner||l.push(new tL.xv),a.gapCursor||l.push(new eK),a.events||l.push(new eS.Q),l}(r)],o)}var n_="object"==typeof r4&&r4.__esModule&&r4.default?r4.default:r4,nw=class extends es.gQe{constructor(e){var t;if(super(e),nl(this,er),ni(this,"rootPropsConfig",{called:!1,count:0}),ni(this,"getRootProps",e=>this.internalGetRootProps(e,null)),ni(this,"internalGetRootProps",(e,t)=>{this.rootPropsConfig.called=!0;let r=null!=e?e:(0,eo.Ry)(),{refKey:n="ref",ref:o}=r,i=no(r,["refKey","ref"]);return nn(nr({[n]:n_(o,this.onRef),key:this.uid},i),{children:t})}),ni(this,"onRef",e=>{e&&(this.rootPropsConfig.count+=1,(0,eo.kG)(this.rootPropsConfig.count<=1,{code:ei.mA.REACT_GET_ROOT_PROPS,message:"Called ".concat(this.rootPropsConfig.count," times")}),nc(this,er,e),this.onRefLoad())}),this.manager.view){this.manager.view.setProps({state:this.manager.view.state,dispatchTransaction:this.dispatchTransaction,attributes:()=>this.getAttributes(),editable:()=>{var e;return null==(e=this.props.editable)||e}});return}this.manager.getExtension(re.X).setOptions({placeholder:null!=(t=this.props.placeholder)?t:""})}get name(){return"react"}update(e){return super.update(e),this}createView(e){return new r1.tk(null,{state:e,dispatchTransaction:this.dispatchTransaction,attributes:()=>this.getAttributes(),editable:()=>{var e;return null==(e=this.props.editable)||e},plugins:[]})}updateState(e){var{state:t}=e;let{triggerChange:r=!0,tr:n,transactions:o}=no(e,["state"]);if(this.props.state){let{onChange:e}=this.props;(0,eo.kG)(e,{code:ei.mA.REACT_CONTROLLED,message:"You are required to provide the `onChange` handler when creating a controlled editor."}),(0,eo.kG)(r,{code:ei.mA.REACT_CONTROLLED,message:"Controlled editors do not support `clearContent` or `setContent` where `triggerChange` is `true`. Update the `state` prop instead."}),this.previousStateOverride||(this.previousStateOverride=this.getState()),this.onChange({state:t,tr:n,transactions:o});return}n||o||(t=t.apply(t.tr.setMeta(ei.zr,{}))),this.view.updateState(t),r&&(null==o?void 0:o.length)!==0&&this.onChange({state:t,tr:n,transactions:o}),this.manager.onStateUpdate({previousState:this.previousState,state:t,tr:n,transactions:o})}updateControlledState(e,t){this.previousStateOverride=t,e=e.apply(e.tr.setMeta(ei.zr,{})),this.view.updateState(e),this.manager.onStateUpdate({previousState:this.previousState,state:e}),this.previousStateOverride=void 0}addProsemirrorViewToDom(e,t){"start"===this.props.insertPosition?e.insertBefore(t,e.firstChild):e.append(t)}onRefLoad(){(0,eo.kG)(na(this,er),{code:ei.mA.REACT_EDITOR_VIEW,message:"Something went wrong when initializing the text editor. Please check your setup."});let{autoFocus:e}=this.props;this.addProsemirrorViewToDom(na(this,er),this.view.dom),e&&this.focus(e),this.onChange(),this.addFocusListeners()}onUpdate(){this.view&&na(this,er)&&this.view.setProps(nn(nr({},this.view.props),{editable:()=>{var e;return null==(e=this.props.editable)||e}}))}get frameworkOutput(){return nn(nr({},this.baseOutput),{getRootProps:this.getRootProps,portalContainer:this.manager.store.portalContainer})}resetRender(){this.rootPropsConfig.called=!1,this.rootPropsConfig.count=0}};er=new WeakMap;var nx="undefined"!=typeof document?en.useLayoutEffect:en.useEffect;function nR(e={}){let{content:t,document:r,selection:n,extensions:o}=e,i=function(e,t={}){let r=(0,en.useRef)(e),n=(0,en.useRef)(t),[o,i]=(0,en.useState)(()=>nO(e,t));return r.current=e,n.current=t,(0,en.useEffect)(()=>o.addHandler("destroy",()=>{i(()=>nO(r.current,n.current))}),[o]),o}(null!=o?o:()=>[],no(e,["content","document","selection","extensions"])),[s,a]=(0,en.useState)(()=>i.createState({selection:n,content:null!=t?t:i.createEmptyDoc()})),l=(0,en.useCallback)(({state:e})=>{a(e)},[]),c=(0,en.useCallback)(()=>i.output,[i]);return(0,en.useMemo)(()=>({state:s,setState:a,manager:i,onChange:l,getContext:c}),[c,i,l,s])}var nA=()=>en.createElement("div",nr({className:r9.kd.EDITOR_WRAPPER},nh().getRootProps())),nC=e=>(e.hook(),null);function nk(e){let{children:t,autoRender:r,i18nFormat:n,locale:o,supportedLocales:i,hooks:s=[]}=e,a=function(e){let{manager:t,state:r}=e,{placeholder:n,editable:o}=e;(0,en.useRef)(!0).current&&!(0,eo.le)(n)&&t.getExtension(r0).setOptions({placeholder:n}),(0,en.useEffect)(()=>{null!=n&&t.getExtension(r0).setOptions({placeholder:n})},[n,t]);let[i]=(0,en.useState)(()=>{var n;if(r)return r;let o=t.createEmptyDoc(),[i,s]=(0,eo.kJ)(e.initialContent)?e.initialContent:[null!=(n=e.initialContent)?n:o];return t.createState({content:i,selection:s})}),s=function(e){let t=(0,en.useRef)(e);t.current=e;let r=(0,en.useMemo)(()=>new nw(t.current),[]);return r.update(e),r}({initialEditorState:i,getProps:()=>e});return(0,en.useEffect)(()=>()=>{s.destroy()},[s]),(0,en.useEffect)(()=>{s.onUpdate()},[o,s]),function(e){let{state:t}=e.props,r=(0,en.useRef)(!!t),n=function(e){let t=(0,en.useRef)();return nx(()=>{t.current=e}),t.current}(t);nx(()=>{let o=t?!0===r.current:!1===r.current;(0,eo.kG)(o,{code:ei.mA.REACT_CONTROLLED,message:r.current?"You have attempted to switch from a controlled to an uncontrolled editor. Once you set up an editor as a controlled editor it must always provide a `state` prop.":"You have provided a `state` prop to an uncontrolled editor. In order to set up your editor as controlled you must provide the `state` prop from the very first render."}),t&&t!==n&&e.updateControlledState(t,null!=n?n:void 0)},[t,n,e])}(s),s.frameworkOutput}(no(e,["children","autoRender","i18nFormat","locale","supportedLocales","hooks"])),l=function(e){let[t,r]=(0,en.useState)(()=>Array.from(e.portals.entries()));return(0,en.useEffect)(()=>e.on(e=>{r(Array.from(e.entries()))}),[e]),(0,en.useMemo)(()=>t,[t])}(a.portalContainer),c="start"===r||!0===r||!t&&(0,eo.le)(r),u="end"===r;return en.createElement(np,{i18nFormat:n,locale:o,supportedLocales:i},en.createElement(nf.Provider,{value:a},en.createElement(rN,{portals:l}),s.map((e,t)=>en.createElement(nC,{hook:e,key:t})),c&&en.createElement(nA,null),t,u&&en.createElement(nA,null)))}},65906:function(e,t,r){function n(e,t,r){return Math.min(Math.max(e,r),t)}r.d(t,{kd:function(){return y},_x:function(){return b},bu:function(){return E}});class o extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}function i(e){if("string"!=typeof e)throw new o(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];let t=e.trim();t=f.test(e)?function(e){let t=a[function(e){let t=5381,r=e.length;for(;r;)t=33*t^e.charCodeAt(--r);return(t>>>0)%2341}(e.toLowerCase().trim())];if(!t)throw new o(e);return`#${t}`}(e):e;let r=c.exec(t);if(r){let e=Array.from(r).slice(1);return[...e.slice(0,3).map(e=>parseInt(l(e,2),16)),parseInt(l(e[3]||"f",2),16)/255]}let i=u.exec(t);if(i){let e=Array.from(i).slice(1);return[...e.slice(0,3).map(e=>parseInt(e,16)),parseInt(e[3]||"ff",16)/255]}let s=d.exec(t);if(s){let e=Array.from(s).slice(1);return[...e.slice(0,3).map(e=>parseInt(e,10)),parseFloat(e[3]||"1")]}let h=p.exec(t);if(h){let[t,r,i,s]=Array.from(h).slice(1).map(parseFloat);if(n(0,100,r)!==r||n(0,100,i)!==i)throw new o(e);return[...m(t,r,i),Number.isNaN(s)?1:s]}throw new o(e)}let s=e=>parseInt(e.replace(/_/g,""),36),a="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{let r=s(t.substring(0,3)),n=s(t.substring(3)).toString(16),o="";for(let e=0;e<6-n.length;e++)o+="0";return e[r]=`${o}${n}`,e},{}),l=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),c=RegExp(`^#${l("([a-f0-9])",3)}([a-f0-9])?$`,"i"),u=RegExp(`^#${l("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),d=RegExp(`^rgba?\\(\\s*(\\d+)\\s*${l(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),p=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,f=/^[a-z]+$/i,h=e=>Math.round(255*e),m=(e,t,r)=>{let n=r/100;if(0===t)return[n,n,n].map(h);let o=(e%360+360)%360/60,i=t/100*(1-Math.abs(2*n-1)),s=i*(1-Math.abs(o%2-1)),a=0,l=0,c=0;o>=0&&o<1?(a=i,l=s):o>=1&&o<2?(a=s,l=i):o>=2&&o<3?(l=i,c=s):o>=3&&o<4?(l=s,c=i):o>=4&&o<5?(a=s,c=i):o>=5&&o<6&&(a=i,c=s);let u=n-i/2;return[a+u,l+u,c+u].map(h)};function g(e,t){var r;let[o,s,a,l]=function(e){let[t,r,n,o]=i(e).map((e,t)=>3===t?e:e/255),s=Math.max(t,r,n),a=Math.min(t,r,n),l=(s+a)/2;if(s===a)return[0,0,l,o];let c=s-a;return[60*(t===s?(r-n)/c+(r<n?6:0):r===s?(n-t)/c+2:(t-r)/c+4),l>.5?c/(2-s-a):c/(s+a),l,o]}(e);return r=a-t,`hsla(${(o%360).toFixed()}, ${n(0,100,100*s).toFixed()}%, ${n(0,100,100*r).toFixed()}%, ${parseFloat(n(0,1,l).toFixed(3))})`}function v(e,t){var r;let[o,s,a,l]=i(e);return r=l-t,`rgba(${n(0,255,o).toFixed()}, ${n(0,255,s).toFixed()}, ${n(0,255,a).toFixed()}, ${parseFloat(n(0,1,r).toFixed(3))})`}var y=Object.freeze({__proto__:null,ANIMATED_POPOVER:"remirror-animated-popover",BUTTON:"remirror-button",BUTTON_ACTIVE:"remirror-button-active",COLOR_PICKER:"remirror-color-picker",COLOR_PICKER_CELL:"remirror-color-picker-cell",COLOR_PICKER_CELL_SELECTED:"remirror-color-picker-cell-selected",COMPOSITE:"remirror-composite",DIALOG:"remirror-dialog",DIALOG_BACKDROP:"remirror-dialog-backdrop",EDITOR_WRAPPER:"remirror-editor-wrapper",FLEX_COLUMN:"remirror-flex-column",FLEX_ROW:"remirror-flex-row",FLOATING_POPOVER:"remirror-floating-popover",FORM:"remirror-form",FORM_GROUP:"remirror-form-group",FORM_LABEL:"remirror-form-label",FORM_MESSAGE:"remirror-form-message",GROUP:"remirror-group",INPUT:"remirror-input",MENU:"remirror-menu",MENU_BAR:"remirror-menu-bar",MENU_BUTTON:"remirror-menu-button",MENU_BUTTON_LEFT:"remirror-menu-button-left",MENU_BUTTON_NESTED_LEFT:"remirror-menu-button-nested-left",MENU_BUTTON_NESTED_RIGHT:"remirror-menu-button-nested-right",MENU_BUTTON_RIGHT:"remirror-menu-button-right",MENU_DROPDOWN_LABEL:"remirror-menu-dropdown-label",MENU_GROUP:"remirror-menu-group",MENU_ITEM:"remirror-menu-item",MENU_ITEM_CHECKBOX:"remirror-menu-item-checkbox",MENU_ITEM_COLUMN:"remirror-menu-item-column",MENU_ITEM_RADIO:"remirror-menu-item-radio",MENU_ITEM_ROW:"remirror-menu-item-row",MENU_PANE:"remirror-menu-pane",MENU_PANE_ACTIVE:"remirror-menu-pane-active",MENU_PANE_ICON:"remirror-menu-pane-icon",MENU_PANE_LABEL:"remirror-menu-pane-label",MENU_PANE_SHORTCUT:"remirror-menu-pane-shortcut",POPOVER:"remirror-popover",ROLE:"remirror-role",SEPARATOR:"remirror-separator",TAB:"remirror-tab",TABBABLE:"remirror-tabbable",TABLE_SIZE_EDITOR:"remirror-table-size-editor",TABLE_SIZE_EDITOR_BODY:"remirror-table-size-editor-body",TABLE_SIZE_EDITOR_CELL:"remirror-table-size-editor-cell",TABLE_SIZE_EDITOR_CELL_SELECTED:"remirror-table-size-editor-cell-selected",TABLE_SIZE_EDITOR_FOOTER:"remirror-table-size-editor-footer",TAB_LIST:"remirror-tab-list",TOOLBAR:"remirror-toolbar",TOOLTIP:"remirror-tooltip"}),b=Object.freeze({__proto__:null,IS_EMPTY:"remirror-is-empty"}),E=Object.freeze({__proto__:null,EDITOR:"remirror-editor",POSITIONER:"remirror-positioner",POSITIONER_WIDGET:"remirror-positioner-widget"});let O="#000000",_="#ffffff",w=v(O,.75),R="#7963d2",A="#bcd263",C="#f1f3f5",k=g(v(O,.1),-.13);g(_,.15),g(w,.15),g(O,.15),g(C,.15),g(R,.15),g(A,.15),g(_,.075),g(w,.075),g(O,.075),g(C,.075),g(R,.075),g(A,.075),v(O,.1),v(R,.6),g(O,-.8),g(O,-.4),g(O,-.4)},27117:function(e,t,r){r.d(t,{GL:function(){return a},Ho:function(){return s}});let n=/^[a-zÃ -Ã¶Ã¸-Ã¿]+|[A-ZÃ-ÃÃ-Ã][a-zÃ -Ã¶Ã¸-Ã¿]+|[a-zÃ -Ã¶Ã¸-Ã¿]+|[0-9]+|[A-ZÃ-ÃÃ-Ã]+(?![a-zÃ -Ã¶Ã¸-Ã¿])/g,o=/\S+/g;function i(e,t){let{keepSpecialCharacters:r=!1,keep:i,prefix:s=""}=t||{},a=e.trim().normalize("NFC"),l=a.includes(" "),c=function(e,t){let r={parts:[],prefixes:[]},n=e.matchAll(t),o=0;for(let t of n){if("number"!=typeof t.index)continue;let n=t[0];r.parts.push(n);let i=e.slice(o,t.index).trim();r.prefixes.push(i),o=t.index+n.length}let i=e.slice(o).trim();return i&&(r.parts.push(""),r.prefixes.push(i)),r}(a,l?o:n);return c.parts.map((e,t)=>{let n=c.prefixes[t]||"",o=e;return(!1!==r||(i&&(o=o.normalize("NFD").replace(RegExp(`[^a-zA-Z\xd8\xDF\xf80-9${i.join("")}]`,"g"),"")),i||(o=o.normalize("NFD").replace(/[^a-zA-ZÃÃÃ¸0-9]/g,""),n="")),i&&(n=n.replace(RegExp(`[^${i.join("")}]`,"g"),"")),0===t)?n+o:n||o?l&&!n&&s.match(/\s/)?" "+o:(n||s)+o:""}).filter(Boolean)}function s(e,t){return i(e,t).reduce((e,t)=>e+function(e){let t=e.matchAll(n).next().value,r=t?t.index:0;return e.slice(0,r+1).toUpperCase()+e.slice(r+1).toLowerCase()}(t),"")}function a(e,t){return i(e,{...t,prefix:"-"}).join("").toLowerCase()}},53048:function(e,t,r){function n(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=function e(t){var r,n,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(n=e(t[r]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n)}return o}(e))&&(n&&(n+=" "),n+=t);return n}r.d(t,{W:function(){return n}}),t.Z=n},46533:function(e,t,r){r.d(t,{i:function(){return n}});let n=()=>({events:{},emit(e,...t){(this.events[e]||[]).forEach(e=>e(...t))},on(e,t){return(this.events[e]=this.events[e]||[]).push(t),()=>this.events[e]=(this.events[e]||[]).filter(e=>e!==t)}})},26465:function(e,t,r){r.d(t,{N:function(){return a}});var n=r(81171),o=r(60314),i=r(2794),s=r(45430);function a(e){let t;let r=(0,s.DY)(e,(e,t)=>{var r,n;return(null!=(r=t.priority)?r:i.xV.Low)-(null!=(n=e.priority)?n:i.xV.Low)}),a=[],h=[];for(let e of r)(0,s.q9)(f,e.type)?a.push(e):h.push(e);return new o.Sy({key:l,view:e=>(t=e,{}),props:{transformPasted:e=>{var r,o,i,l;let f=t.state.selection.$from,h=f.node().type.name,m=new Set(f.marks().map(e=>e.type.name));for(let f of a){if((null==(r=f.ignoredNodes)?void 0:r.includes(h))||(null==(o=f.ignoredMarks)?void 0:o.some(e=>m.has(e))))continue;let a=null!=(l=null==(i=e.content.firstChild)?void 0:i.textContent)?l:"",g=!t.state.selection.empty&&1===e.content.childCount&&a,v=(0,s.JD)(a,f.regexp)[0];if(g&&v&&"mark"===f.type&&f.replaceSelection){let{from:e,to:r}=t.state.selection,o=t.state.doc.slice(e,r),i=o.content.textBetween(0,o.content.size);if("boolean"!=typeof f.replaceSelection?f.replaceSelection(i):f.replaceSelection){let e=[],{getAttributes:t,markType:r}=f,i=(0,s.mf)(t)?t(v,!0):t,a=r.create(i);return o.content.forEach(t=>{if(t.isText){let r=a.addToSet(t.marks);e.push(t.mark(r))}}),n.p2.maxOpen(n.HY.fromArray(e))}}let{nodes:y,transformed:b}=function(e,t,r){let n=[];switch(t.type){case"mark":return c(u,r)({fragment:e,nodes:n,rule:t});case"node":return c(p,r)({fragment:e,nodes:n,rule:t});default:return c(d,r)({fragment:e,nodes:n,rule:t})}}(e.content,f,t.state.schema);b&&(e="node"===f.type&&f.nodeType.isBlock?new n.p2(n.HY.fromArray(y),0,0):new n.p2(n.HY.fromArray(y),e.openStart,e.openEnd))}return function(e){let t=n.p2.maxOpen(e.content);return t.openStart<e.openStart||t.openEnd<e.openEnd?t:e}(e)},handleDOMEvents:{paste:(e,t)=>{var r,n;if(!(null==(n=(r=e.props).editable)?void 0:n.call(r,e.state)))return!1;let{clipboardData:o}=t;if(!o)return!1;let i=[...o.items].map(e=>e.getAsFile()).filter(e=>!!e);if(0===i.length)return!1;let{selection:s}=e.state;for(let{fileHandler:r,regexp:n}of h){let o=n?i.filter(e=>n.test(e.type)):i;if(0!==o.length&&r({event:t,files:o,selection:s,view:e,type:"paste"}))return t.preventDefault(),!0}return!1},drop:(e,t)=>{var r,n,o,i;if(!(null==(n=(r=e.props).editable)?void 0:n.call(r,e.state)))return!1;let{dataTransfer:s,clientX:a,clientY:l}=t;if(!s)return!1;let c=function(e){var t,r;let{dataTransfer:n}=e;return n?(null==(t=n.files)?void 0:t.length)>0?[...n.files]:(null==(r=n.items)?void 0:r.length)?[...n.items].map(e=>e.getAsFile()).filter(e=>!!e):[]:[]}(t);if(0===c.length)return!1;let u=null!=(i=null==(o=e.posAtCoords({left:a,top:l}))?void 0:o.pos)?i:e.state.selection.anchor;for(let{fileHandler:r,regexp:n}of h){let o=n?c.filter(e=>n.test(e.type)):c;if(0!==o.length&&r({event:t,files:o,pos:u,view:e,type:"drop"}))return t.preventDefault(),!0}return!1}}}})}var l=new o.H$("pasteRule");function c(e,t){return function r(o){let{fragment:i,rule:a,nodes:l}=o,{regexp:c,ignoreWhitespace:u,ignoredMarks:d,ignoredNodes:p}=a,f=!1;return i.forEach(o=>{var i,h,m;if((null==p?void 0:p.includes(o.type.name))||(h=o).type.spec.code||(null==(m=h.type.spec.group)?void 0:m.split(" ").includes("code"))){l.push(o);return}if(!o.isText){let e=r({fragment:o.content,rule:a,nodes:[]});f||(f=e.transformed);let t=n.HY.fromArray(e.nodes);o.type.validContent(t)?l.push(o.copy(t)):l.push(...e.nodes);return}if(o.marks.some(e=>{var t;return"code"===e.type.name||(null==(t=e.type.spec.group)?void 0:t.split(" ").includes("code"))||(null==d?void 0:d.includes(e.type.name))})){l.push(o);return}let g=null!=(i=o.text)?i:"",v=0;for(let r of(0,s.JD)(g,c)){let n=r[1],i=r[0];if(u&&(null==n?void 0:n.trim())===""||!i)return;let s=r.index,c=s+i.length;s>v&&l.push(o.cut(v,s));let d=o.cut(s,c);if(i&&n){let e=i.search(/\S/),t=s+i.indexOf(n),r=t+n.length;e&&l.push(o.cut(s,s+e)),d=o.cut(t,r)}e({nodes:l,rule:a,textNode:d,match:r,schema:t}),f=!0,v=c}g&&v<g.length&&l.push(o.cut(v))}),{nodes:l,transformed:f}}}function u(e){var t;let{nodes:r,rule:n,textNode:o,match:i,schema:a}=e,{transformMatch:l,getAttributes:c,markType:u}=n,d=(0,s.mf)(c)?c(i,!1):c,p=null!=(t=o.text)?t:"",f=u.create(d),h=null==l?void 0:l(i);if(""===h)return;if(!1===h){r.push(a.text(p,o.marks));return}let m=f.addToSet(o.marks);r.push(a.text(null!=h?h:p,m))}function d(e){var t;let{nodes:r,rule:n,textNode:o,match:i,schema:s}=e,{transformMatch:a}=n,l=null==a?void 0:a(i);if(""===l||!1===l)return;let c=null!=(t=null!=l?l:o.text)?t:"";r.push(s.text(c,o.marks))}function p(e){let{nodes:t,rule:r,textNode:n,match:o}=e,{getAttributes:i,nodeType:a,getContent:l}=r,c=(0,s.mf)(i)?i(o,!1):i,u=(l?l(o):n)||void 0;t.push(a.createChecked(c,u))}var f=["mark","node","text"]},50813:function(e,t,r){r.d(t,{$Y:function(){return D},C$:function(){return en},D7:function(){return eo},Ek:function(){return et},ZF:function(){return K},gn:function(){return er},hu:function(){return ee}});var n,o,i,s,a,l,c,u,d,p,f,h=r(60314),m=r(59231),g=r(45430),v=r(63186),y=r(2794),b=Object.defineProperty,E=Object.defineProperties,O=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,A=e=>{throw TypeError(e)},C=(e,t,r)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,k=(e,t)=>{for(var r in t||(t={}))w.call(t,r)&&C(e,r,t[r]);if(_)for(var r of _(t))R.call(t,r)&&C(e,r,t[r]);return e},N=(e,t)=>E(e,O(t)),T=(e,t,r)=>C(e,"symbol"!=typeof t?t+"":t,r),S=(e,t,r)=>t.has(e)||A("Cannot "+r),M=(e,t,r)=>(S(e,t,"read from private field"),r?r.call(e):t.get(e)),P=(e,t,r)=>t.has(e)?A("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),I=(e,t,r,n)=>(S(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),j=((n=j||{}).End="exit-end",n.Removed="delete",n.Split="exit-split",n.InvalidSplit="invalid-exit-split",n.MoveEnd="move-end",n.MoveStart="move-start",n.JumpForward="jump-forward-exit",n.JumpBackward="jump-backward-exit",n.SelectionOutside="selection-outside",n),D=((o=D||{}).Start="start",o.Text="change-character",o.SelectionInside="selection-inside",o.Move="move",o.JumpBackward="jump-backward-change",o.JumpForward="jump-forward-change",o),L=["jump-backward-exit","jump-forward-exit"],z=["jump-backward-change","jump-forward-change"];function H(e){return!!(e&&e.query.full.length>=e.suggester.matchOffset)}function B(e){return(0,g.Kn)(e)&&e instanceof h.Bs}function V(e){let{match:t,changeReason:r,exitReason:n}=e;return N(k({},t),{changeReason:r,exitReason:n})}function U(e){let{$pos:t,suggester:r}=e,{char:n,name:o,startOfLine:i,supportedCharacters:s,matchOffset:a,multiline:l,caseInsensitive:c,unicode:u}=r,d=function(e){let{char:t,matchOffset:r,startOfLine:n,supportedCharacters:o,captureChar:i=!0,caseInsensitive:s=!1,multiline:a=!1,unicode:l=!1}=e,c="g".concat(a?"m":"").concat(s?"i":"").concat(l?"u":""),u=((0,g.HD)(t)?new RegExp(v(t)):t).source;return i&&(u="(".concat(u,")")),new RegExp("".concat(n?"^":"").concat(u).concat("(?:".concat(q(o),"){").concat(r,",}")),c)}({char:n,matchOffset:a,startOfLine:i,supportedCharacters:s,multiline:l,caseInsensitive:c,unicode:u});return function(e){let t;let{text:r,regexp:n,$pos:o,suggester:i}=e,s=o.start();return(0,g.JD)(r,n).forEach(e=>{if(function(e,t){let{invalidPrefixCharacters:r,validPrefixCharacters:n}=t;return r?!new RegExp(q(r)).test(e):new RegExp(q(n)).test(e)}(e.input.slice(Math.max(0,e.index-1),e.index),i)){let r=e.index+s,n=e[0],a=e[1];if(!(0,g.HD)(n)||!(0,g.HD)(a))return;let l=r+n.length,c=Math.min(l,o.pos),u=c-r;r<o.pos&&l>=o.pos&&(t={range:{from:r,to:l,cursor:c},match:e,query:{partial:n.slice(a.length,u),full:n.slice(a.length)},text:{partial:n.slice(0,u),full:n},textAfter:o.doc.textBetween(l,o.end(),y.Vp,y.Vp),textBefore:o.doc.textBetween(s,r,y.Vp,y.Vp),suggester:i})}}),t}({suggester:r,text:t.doc.textBetween(t.before(),t.end(),y.Vp,y.Vp),regexp:d,$pos:t,char:n,name:o})}function W(e){let{state:t,match:r}=e;try{return U({$pos:t.doc.resolve(r.range.cursor),suggester:r.suggester})}catch(e){return}}function F(e){let{prev:t,next:r,state:n}=e;return!r&&t.range.from>=n.doc.nodeSize?{exit:V({match:t,exitReason:"delete"})}:r&&t.query.partial?t.range.to===r.range.cursor?{exit:V({match:r,exitReason:"exit-end"})}:t.query.partial?{exit:V({match:r,exitReason:"exit-split"})}:{}:{exit:V({match:t,exitReason:"invalid-exit-split"})}}function G(e,t){for(let r=e.depth;r>0;r--){let n=e.node(r);if(t.includes(n.type.name))return!0}return!1}function $(e,t){var r;let{$from:n,$to:o}=e,i=new Set((null!=(r=n.marksAcross(o))?r:[]).map(e=>e.type.name));return t.some(e=>i.has(e))}function X(e){let{suggesters:t,$pos:r,selectionEmpty:n}=e;for(let e of t)if(!e.emptySelectionsOnly||n)try{let t=U({suggester:e,$pos:r});if(!t)continue;let n={$from:r.doc.resolve(t.range.from),$to:r.doc.resolve(t.range.to),$cursor:r};if(function(e,t){let{$cursor:r}=t,{validMarks:n,validNodes:o,invalidMarks:i,invalidNodes:s}=e;return!!(!n&&!o&&(0,g.yD)(i)&&(0,g.yD)(s))||!(n&&!$(t,n)||o&&!G(r,o)||!n&&function(e,t){let{$from:r,$to:n}=e;return!!$(e,t)||(0,g.w6)(r.pos,n.pos).some(e=>(function(e,t){let r=new Set(e.marks().map(e=>e.type.name));return t.some(e=>r.has(e))})(r.doc.resolve(e),t))}(t,i)||!o&&G(r,s))}(e,n)&&e.isValidPosition(n,t))return t}catch(e){}}function q(e){return(0,g.Kj)(e)?e.source:e}var K={appendTransaction:!1,priority:50,ignoredTag:"span",matchOffset:0,disableDecorations:!1,startOfLine:!1,suggestClassName:"suggest",suggestTag:"span",supportedCharacters:/\w+/,validPrefixCharacters:/^[\s\0]?$/,invalidPrefixCharacters:null,ignoredClassName:null,invalidMarks:[],invalidNodes:[],validMarks:null,validNodes:null,isValidPosition:()=>!0,checkNextValidSelection:null,emptySelectionsOnly:!1,caseInsensitive:!1,multiline:!1,unicode:!1,captureChar:!0},Y="__ignore_prosemirror_suggest_update__",J=class e{constructor(e){P(this,i,!1),P(this,s,!1),P(this,a),P(this,l),P(this,c),P(this,u,(0,g.Ry)()),T(this,"view"),P(this,d,m.EH.empty),P(this,p,!1),P(this,f,!1),T(this,"setMarkRemoved",()=>{I(this,p,!0)}),T(this,"findNextTextSelection",e=>{let t=e.$from.doc,r=Math.min(t.nodeSize-2,e.to+1),n=t.resolve(r),o=h.Y1.findFrom(n,1,!0);if(B(o))return o}),T(this,"ignoreNextExit",()=>{I(this,s,!0)}),T(this,"addIgnored",({from:e,name:t,specific:r=!1})=>{let n=M(this,a).find(e=>e.name===t);if(!n)throw Error("No suggester exists for the name provided: ".concat(t));let o=(0,g.HD)(n.char)?n.char.length:1,i=n.ignoredClassName?{class:n.ignoredClassName}:{},s=m.p.inline(e,e+o,k({nodeName:n.ignoredTag},i),{name:t,specific:r,char:n.char});I(this,d,M(this,d).add(this.view.state.doc,[s]))}),T(this,"removeIgnored",({from:e,name:t})=>{let r=M(this,a).find(e=>e.name===t);if(!r)throw Error("No suggester exists for the name provided: ".concat(t));let n=(0,g.HD)(r.char)?r.char.length:1,o=M(this,d).find(e,e+n)[0];o&&o.spec.name===t&&I(this,d,M(this,d).remove([o]))}),T(this,"clearIgnored",e=>{if(!e){I(this,d,m.EH.empty);return}let t=M(this,d).find().filter(({spec:t})=>t.name===e);I(this,d,M(this,d).remove(t))}),T(this,"findMatchAtPosition",(e,t)=>X({suggesters:t?M(this,a).filter(e=>e.name===t):M(this,a),$pos:e,docChanged:!1,selectionEmpty:!0})),T(this,"setLastChangeFromAppend",()=>{I(this,f,!0)});let t=Z();I(this,a,e.map(t)),I(this,a,(0,g.DY)(M(this,a),(e,t)=>t.priority-e.priority))}static create(t){return new e(t)}get decorationSet(){return M(this,d)}get removed(){return M(this,p)}get match(){return M(this,l)?M(this,l):M(this,c)&&M(this,u).exit?M(this,c):void 0}init(e){return this.view=e,this}createProps(e){let{name:t,char:r}=e.suggester;return k({view:this.view,addIgnored:this.addIgnored,clearIgnored:this.clearIgnored,ignoreNextExit:this.ignoreNextExit,setMarkRemoved:this.setMarkRemoved,name:t,char:r},e)}shouldRunExit(){return!M(this,s)||(I(this,s,!1),!1)}updateWithNextSelection(e){var t,r,n;let o=this.findNextTextSelection(e.selection);if(o)for(let i of M(this,a)){let s=null==(t=M(this,u).change)?void 0:t.suggester.name,a=null==(r=M(this,u).exit)?void 0:r.suggester.name;null==(n=i.checkNextValidSelection)||n.call(i,o.$from,e,{change:s,exit:a})}}changeHandler(e,t){var r,n,o;let{change:i,exit:s}=M(this,u),a=this.match;if(!i&&!s||!H(a))return;let l=t===(null==s?void 0:s.suggester.appendTransaction)&&this.shouldRunExit(),c=t===(null==i?void 0:i.suggester.appendTransaction);if(l||c){if(i&&s&&(r={change:i,exit:s},(0,g.q9)(L,null==(n=r.exit)?void 0:n.exitReason)||(0,g.q9)(z,null==(o=r.change)?void 0:o.changeReason))){let t=this.createProps(s),r=this.createProps(i);s.range.from,i.range.from,l&&s.suggester.onChange(t,e),c&&i.suggester.onChange(r,e),l&&I(this,p,!1);return}i&&c&&i.suggester.onChange(this.createProps(i),e),s&&l&&(s.suggester.onChange(this.createProps(s),e),I(this,p,!1),"invalid-exit-split"===s.exitReason&&I(this,u,(0,g.Ry)()))}}mapIgnoredDecorations(e){let t=M(this,d).map(e.mapping,e.doc),r=t.find().filter(({from:e,to:t,spec:r})=>t-e!==((0,g.HD)(r.char)?r.char.length:1));I(this,d,t.remove(r))}shouldIgnoreMatch({range:e,suggester:{name:t}}){return M(this,d).find().some(({spec:r,from:n})=>n===e.from&&(!r.specific||r.name===t))}resetState(){I(this,u,(0,g.Ry)()),I(this,l,void 0),I(this,p,!1),I(this,f,!1)}updateReasons(e){let{$pos:t,state:r}=e,n=M(this,i),o=M(this,a),s=r.selection.empty,d=B(r.selection)?X({suggesters:o,$pos:t,docChanged:n,selectionEmpty:s}):void 0;I(this,l,d&&this.shouldIgnoreMatch(d)?void 0:d),I(this,u,function(e){let{prev:t,next:r,state:n,$pos:o}=e,i=(0,g.Ry)();if(!t&&!r)return i;let s={prev:t,next:r};return s.prev&&s.next&&s.prev.range.from!==s.next.range.from?function(e){let{prev:t,next:r,state:n}=e,o=(0,g.Ry)(),i=W({state:n,match:t}),{exit:s}=i&&i.query.full!==t.query.full?F({prev:t,next:i,state:n}):o;return t.range.from<r.range.from?{exit:null!=s?s:V({match:t,exitReason:"jump-forward-exit"}),change:V({match:r,changeReason:"jump-forward-change"})}:{exit:null!=s?s:V({match:t,exitReason:"jump-backward-exit"}),change:V({match:r,changeReason:"jump-backward-change"})}}({prev:s.prev,next:s.next,state:n}):!s.prev&&s.next?{change:V({match:s.next,changeReason:"start"})}:s.prev&&!s.next?function(e){let{match:t,state:r,$pos:n}=e,{selection:o}=r,i=W({match:t,state:r});return i&&i.text.full===t.text.full?!o.empty&&(o.from<=t.range.from||o.to>=t.range.to)?{exit:V({match:t,exitReason:"selection-outside"})}:n.pos>t.range.to?{exit:V({match:t,exitReason:"move-end"})}:n.pos<=t.range.from?{exit:V({match:t,exitReason:"move-start"})}:{}:F({prev:t,next:i,state:r})}({$pos:o,match:s.prev,state:n}):s.prev&&s.next&&s.prev.text.full!==s.next.text.full?{change:V({match:s.next,changeReason:"change-character"})}:s.prev&&s.next&&s.prev.range.cursor!==s.next.range.cursor?{change:V({match:s.next,changeReason:n.selection.empty?"move":"selection-inside"})}:i}({next:M(this,l),prev:M(this,c),state:r,$pos:t}))}addSuggester(e){let t=M(this,a).find(t=>t.name===e.name),r=Z();if(t)I(this,a,M(this,a).map(n=>n===t?r(e):n));else{let t=[...M(this,a),r(e)];I(this,a,(0,g.DY)(t,(e,t)=>t.priority-e.priority))}return()=>this.removeSuggester(e.name)}removeSuggester(e){let t=(0,g.HD)(e)?e:e.name;I(this,a,M(this,a).filter(e=>e.name!==t)),this.clearIgnored(t)}toJSON(){return this.match}apply(e){let{exit:t,change:r}=M(this,u);if(M(this,f)&&(I(this,f,!1),!(null==t?void 0:t.suggester.appendTransaction)&&!(null==r?void 0:r.suggester.appendTransaction)))return this;let{tr:n,state:o}=e,s=n.docChanged||n.selectionSet;return!n.getMeta(Y)&&(s||M(this,p))&&(I(this,i,n.docChanged),this.mapIgnoredDecorations(n),t&&this.resetState(),I(this,c,M(this,l)),this.updateReasons({$pos:n.selection.$from,state:o})),this}createDecorations(e){let t=this.match;if(!H(t))return M(this,d);let{disableDecorations:r}=t.suggester;if((0,g.mf)(r)?r(e,t):r)return M(this,d);let{range:n,suggester:o}=t,{name:i,suggestTag:s,suggestClassName:a}=o,{from:l,to:c}=n;return this.shouldIgnoreMatch(t)?M(this,d):M(this,d).add(e.doc,[m.p.inline(l,c,{nodeName:s,class:i?"".concat(a," suggest-").concat(i):a},{name:i})])}};function Z(){let e=new Set;return t=>{if(e.has(t.name))throw Error("A suggester already exists with the name '".concat(t.name,"'. The name provided must be unique."));let r=k(k({},K),t);return e.add(t.name),r}}i=new WeakMap,s=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap;var Q=new h.H$("suggest");function ee(e){return Q.getState(e)}function et(e,t){return ee(e).addSuggester(t)}function er(e){e.setMeta(Y,!0)}function en(e,t){return ee(e).removeSuggester(t)}function eo(...e){let t=J.create(e);return new h.Sy({key:Q,view:e=>(t.init(e),{update:e=>t.changeHandler(e.state.tr,!1)}),state:{init:()=>t,apply:(e,r,n,o)=>t.apply({tr:e,state:o})},appendTransaction:(e,r,n)=>{let o=n.tr;return(t.updateWithNextSelection(o),t.changeHandler(o,!0),o.docChanged||o.steps.length>0||o.selectionSet||o.storedMarksSet)?(t.setLastChangeFromAppend(),o):null},props:{decorations:e=>t.createDecorations(e)}})}},35013:function(e,t,r){function n(e,t,r,n){var o,i=!1,s=0;function a(){o&&clearTimeout(o)}function l(){for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=this,p=Date.now()-s;function f(){s=Date.now(),r.apply(d,c)}i||(n&&!o&&f(),a(),void 0===n&&p>e?f():!0!==t&&(o=setTimeout(n?function(){o=void 0}:f,void 0===n?e-p:e)))}return"boolean"!=typeof t&&(n=r,r=t,t=void 0),l.cancel=function(){a(),i=!0},l}function o(e,t,r){return void 0===r?n(e,t,!1):n(e,r,!1!==t)}r.d(t,{D:function(){return o}})}}]);
//# sourceMappingURL=8359.785950bbd30b771e.js.map