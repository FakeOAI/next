"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2745,853],{16779:function(e,t,r){r.d(t,{Z:function(){return l}});var a=r(77420),n=r(19841),s=r(92379),o=r(28146),i=r(651);function l(e){let{onChange:t,enabled:r,label:l,disabled:d,withLockIcon:u=!1,lockIconOverride:c=null,size:h="normal",id:g}=e,p=(0,s.useCallback)(()=>{t(!r)},[r,t]);return(0,i.jsx)(a.fC,{id:g,checked:r,disabled:d,onCheckedChange:p,"aria-label":l,className:(0,n.default)("focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-token-text-secondary focus-visible:ring-offset-2 focus-visible:radix-state-checked:ring-black focus-visible:dark:ring-token-main-surface-primary focus-visible:dark:radix-state-checked:ring-green-600",d?"cursor-not-allowed opacity-50":"cursor-pointer","bg-gray-200 radix-state-checked:bg-black dark:border dark:border-token-border-medium dark:bg-transparent","relative shrink-0 rounded-full dark:radix-state-checked:border-green-600 dark:radix-state-checked:bg-green-600","normal"===h?"h-[20px] w-[32px]":"h-[19px] w-[30px]"),children:(0,i.jsx)(a.bU,{className:(0,n.default)("flex items-center justify-center rounded-full","transition-transform duration-100 will-change-transform ltr:translate-x-0.5 rtl:-translate-x-0.5","bg-white","normal"===h?"h-[16px] w-[16px] ltr:radix-state-checked:translate-x-[14px] rtl:radix-state-checked:translate-x-[-14px]":"h-[15px] w-[15px] ltr:radix-state-checked:translate-x-[13px] rtl:radix-state-checked:translate-x-[-13px]"),children:u?c||(0,i.jsx)(o.oVl,{className:"icon-xs dark:text-black"}):null})})}},59578:function(e,t,r){r.d(t,{wm:function(){return X},Xu:function(){return W}});var a=r(98601),n=r(55963),s=r(93951),o=r(41987),i=r(10481),l=r(22433),d=r(10449),u=r(42420),c=r(56032),h=r(84760),g=r(99976),p=r(61619),m=r(88667),f=r(19841),b=r(21389),x=r(88600),v=r(65925),T=r.n(v),C=r(92379),y=r(75172),M=r(62984),j=r(68306),S=r(2721),k=r(31438),w=r(15913),I=r(97537),O=r(16779),N=r(60682),_=r(91530),L=r.n(_),P=r(59144),U=r(24434),D=r(651);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let A=N.pm.FirstTimeUsingUserContext;var F=e=>{let{onClose:t}=e,r=(0,y.Z)(),{markAsViewed:a}=(0,N.qg)(A),n=(0,C.useCallback)(()=>{a(),t()},[a,t]);return(0,D.jsxs)(U.Z,{isOpen:!0,onClose:L(),size:"custom",className:"max-w-xl",type:"success",title:r.formatMessage(B.title),primaryButton:(0,D.jsx)(P.Z.Button,{onClick:n,title:r.formatMessage(B.ok),color:"primary"}),children:[(0,D.jsxs)("div",{className:"mb-6 flex flex-col gap-3",children:[(0,D.jsx)("p",{children:(0,D.jsx)(M.Z,E({},B.body1))}),(0,D.jsx)("p",{children:(0,D.jsx)(M.Z,E({},B.body2))})]}),(0,D.jsx)("div",{className:"flex flex-col gap-3 text-sm text-token-text-tertiary",children:(0,D.jsx)("p",{children:(0,D.jsx)(M.Z,E(E({},B.legal1),{},{values:{article:e=>(0,D.jsx)("a",{href:i.i,target:"_blank",className:"underline",rel:"noopener noreferrer",children:e})}}))})})]})};let B=(0,j.vU)({title:{id:"UserContextFirstTimeModal.title",defaultMessage:"Introducing Custom Instructions"},body1:{id:"UserContextFirstTimeModal.body1",defaultMessage:"Customize your interactions with ChatGPT by providing specific details and guidelines for your chats."},body2:{id:"UserContextFirstTimeModal.body2",defaultMessage:"Whenever you edit your custom instructions, they'll take effect in all new chats you create. Existing chats won't be updated."},legal1:{id:"UserContextFirstTimeModal.legal1",defaultMessage:"Your instructions will be used to make our models better unless you've opted out and may be shared with any plugins you've enabled. Visit our <article>Help Center</article> to learn more."},ok:{id:"UserContextFirstTimeModal.ok",defaultMessage:"OK"}});var R=r(30853),G=r(28146),H=r(24740);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function W(e){let t=(0,y.Z)();return(0,h.a)({queryKey:["userContext"],queryFn:()=>S.Z.getUserSystemMessage().catch(e=>{throw H.m.danger(t.formatMessage({id:"userContextModal.getCustomInstructionsError",defaultMessage:"Failed to get your settings"})),e}),enabled:e,select:e=>({aboutUserMessage:e?.about_user_message??"",aboutModelMessage:e?.about_model_message??"",disabledTools:e?.disabled_tools??[],enabled:e?.enabled??!0})})}let V={aboutUserMessage:void 0,aboutModelMessage:void 0,disabledTools:void 0,enabled:void 0};function X(e){let{isModalOpen:t}=e,r=(0,y.Z)(),a=function(){let{eligible:e}=(0,N.qg)(A);return e}(),{0:n,1:o}=(0,C.useState)(!1),{isLoading:l,data:d}=W(t),{aboutUserMessage:h="",aboutModelMessage:f="",disabledTools:b=[],enabled:x}=d??{},{0:v,1:j}=(0,C.useState)(V),{aboutUserMessage:w,aboutModelMessage:_,disabledTools:L,enabled:Z}=v,E=Z??!!x,{0:B,1:R}=(0,C.useState)(null),G=(0,C.useCallback)(()=>{k.vm.closeModal(k.B.UserContext),j(V),R(null)},[]),{isPending:z,mutate:X}=function(e){let{onSuccess:t,onError:r}=e,a=(0,u.NL)();return(0,c.D)({mutationFn:e=>{let{userContext:t}=e;return S.Z.createOrUpdateUserSystemMessage(t)},onSettled:(e,t)=>{let r=["userContext"];null===e||t?a.invalidateQueries({queryKey:r}):a.setQueryData(r,e)},onSuccess:t,onError:r})}({onSuccess:()=>{G()},onError:e=>(e.response?.reason==="content_policy"&&e.response?.field?R(e.response?.field):H.m.danger(r.formatMessage({id:"userContextModal.saveError",defaultMessage:"Failed to update settings"})),e)}),{0:et,1:ea}=(0,C.useState)(!1),en=(0,s.t)(),es=en?.isFree()??!0,eo=$(w??"")||$(_??""),ei=void 0!==_&&_!==f||void 0!==w&&w!==h||void 0!==L&&!T()(L,b)||void 0!==Z&&Z!==x,el=(0,C.useCallback)(()=>{ei?ea(!0):G()},[G,ei]),ed=(0,C.useCallback)(async()=>{z||(R(null),X({userContext:{aboutUserMessage:w??"",aboutModelMessage:_??"",disabledTools:L??[],enabled:!!Z}}))},[z,_,w,L,Z,X]),eu=(0,C.useCallback)(()=>{if(eo){let e=$(w??""),t=$(_??"");e&&(m.m9.logEvent("chatgpt_user_context_modal__message_past_limit",void 0,{type:"about_user_message",limit:K.toString(),character_length:w?.length.toString()??""}),g.A.logEvent(p.M.userContextModelMessagePastLimit,{type:"about_user_message",limit:K.toString(),character_length:w?.length.toString()??""})),t&&(m.m9.logEvent("chatgpt_user_context_modal__message_past_limit",void 0,{type:"about_model_message",limit:K.toString(),character_length:_?.length.toString()??""}),g.A.logEvent(p.M.userContextModelMessagePastLimit,{type:"about_model_message",limit:K.toString(),character_length:_?.length.toString()??""})),H.m.danger(r.formatMessage(er.messageLimitError,{limit:K}),{duration:4,hasCloseButton:!0});return}ed()},[r,eo,_,w,ed]);if(t&&a&&!n)return(0,D.jsx)(F,{onClose:()=>{o(!0)}});if(t&&et){let e=()=>{ea(!1)};return(0,D.jsx)(U.Z,{isOpen:!0,onClose:e,type:"success",title:r.formatMessage(er.confirmCloseTitle),primaryButton:(0,D.jsx)(P.Z.Button,{title:r.formatMessage(er.confirmCloseOk),color:"danger",onClick:()=>{G(),e()}}),secondaryButton:(0,D.jsx)(P.Z.Button,{title:r.formatMessage(er.confirmCloseCancel),color:"secondary",onClick:e}),children:(0,D.jsx)("div",{className:"text-sm",children:(0,D.jsx)(M.Z,q({},er.confirmCloseBody))})},"confirm-close")}return(0,D.jsxs)(U.Z,{isOpen:t,onClose:el,type:"success",size:"custom",className:"max-w-lg xl:max-w-xl",title:(0,D.jsx)(M.Z,q({},er.profileTitle)),children:[l?(0,D.jsx)("div",{className:"flex h-14 items-center justify-center",children:(0,D.jsx)(I.Z,{})}):(0,D.jsxs)("div",{className:"max-h-[60vh] overflow-y-auto md:max-h-[calc(100vh-300px)]",children:[(0,D.jsxs)("div",{className:"flex items-center gap-1",children:[(0,D.jsx)("div",{className:"text-sm font-semibold",children:(0,D.jsx)(M.Z,q({},er.customInstructionsTitle))}),(0,D.jsx)(J,{label:(0,D.jsx)(M.Z,q(q({},er.customInstructionsTooltip),{},{values:{article:e=>(0,D.jsx)("a",{href:i.i,target:"_blank",className:"underline",rel:"noreferrer",children:e})}}))})]}),(0,D.jsx)("p",{className:"text-muted pb-3 pt-2 text-sm text-token-text-primary",children:(0,D.jsx)(M.Z,q({},er.aboutYouHelpText))}),(0,D.jsx)(Q,{className:"mb-3",onSubmit:eu,disabled:!E,tip:(0,D.jsx)(Y,{children:(0,D.jsxs)("ul",{className:"list-disc pl-5",children:[(0,D.jsx)("li",{children:(0,D.jsx)(M.Z,q({},er.aboutUserTip1))}),(0,D.jsx)("li",{children:(0,D.jsx)(M.Z,q({},er.aboutUserTip2))}),(0,D.jsx)("li",{children:(0,D.jsx)(M.Z,q({},er.aboutUserTip3))}),(0,D.jsx)("li",{children:(0,D.jsx)(M.Z,q({},er.aboutUserTip4))}),(0,D.jsx)("li",{children:(0,D.jsx)(M.Z,q({},er.aboutUserTip5))})]})}),hasModError:"about_user_message"===B,value:w??h,onChange:e=>j(t=>({aboutModelMessage:t.aboutModelMessage??f,aboutUserMessage:e.target.value,enabled:t.enabled??E,disabledTools:t.disabledTools??b}))}),(0,D.jsx)("p",{className:"text-muted py-3 text-sm text-token-text-primary",children:(0,D.jsx)(M.Z,q({},er.modelHelpText))}),(0,D.jsx)(Q,{onSubmit:eu,disabled:!E,tip:(0,D.jsx)(Y,{children:(0,D.jsxs)("ul",{className:"list-disc pl-5",children:[(0,D.jsx)("li",{children:(0,D.jsx)(M.Z,q({},er.modelTip1))}),(0,D.jsx)("li",{children:(0,D.jsx)(M.Z,q({},er.modelTip2))}),(0,D.jsx)("li",{children:(0,D.jsx)(M.Z,q({},er.modelTip3))}),(0,D.jsx)("li",{children:(0,D.jsx)(M.Z,q({},er.modelTip4))})]})}),hasModError:"about_model_message"===B,value:_??f,onChange:e=>j(t=>({aboutUserMessage:t.aboutUserMessage??h,aboutModelMessage:e.target.value,enabled:t.enabled??E,disabledTools:t.disabledTools??b}))}),!es&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:"my-6 h-px bg-token-border-light"}),(0,D.jsx)(ee,{disabledTools:v.disabledTools??b??[],onDisabledToolsChanged:e=>j(t=>({aboutUserMessage:t.aboutUserMessage??h,aboutModelMessage:t.aboutModelMessage??f,enabled:t.enabled??E,disabledTools:e}))})]})]}),(0,D.jsx)("div",{className:"mt-4 md:mt-5",children:(0,D.jsxs)("div",{className:"flex flex-grow flex-col items-stretch justify-between gap-0 sm:flex-row sm:items-center sm:gap-3",children:[(0,D.jsxs)("label",{className:"mt-5 flex cursor-pointer flex-row justify-between gap-2 sm:mt-4",children:[(0,D.jsx)("div",{className:"self-center text-sm text-token-text-primary",children:(0,D.jsx)(M.Z,q({},er.chatPreferencesEnable))}),(0,D.jsx)(O.Z,{enabled:E,onChange:e=>{j(t=>({aboutUserMessage:t.aboutUserMessage??h,aboutModelMessage:t.aboutModelMessage??f,enabled:e,disabledTools:t.disabledTools??b}))},label:E?r.formatMessage(er.disableToggleLabel):r.formatMessage(er.enableToggleLabel)})]}),(0,D.jsx)(P.Z.Actions,{secondaryButton:(0,D.jsx)(P.Z.Button,{onClick:el,children:(0,D.jsx)(M.Z,q({},er.cancel))}),primaryButton:(0,D.jsx)(P.Z.Button,{loading:z,onClick:eu,color:"primary",visuallyDisabled:eo,disabled:!ei,children:(0,D.jsx)(M.Z,q({},er.save))})})]})})]},"user-context")}let Y=e=>{let{children:t}=e;return(0,D.jsx)("div",{className:"whitespace-pre-line",children:t})},K=1500,$=e=>e.length>K,Q=e=>{let{disabled:t,onChange:r,onSubmit:a,placeholder:n,value:s,tip:o,hasModError:i,className:l}=e,u=(0,y.Z)(),c=(0,C.useRef)(null),h=(0,w.x_)(),g=(0,w.aj)(),p=!h,{0:m,1:v}=(0,C.useState)(!1),{0:T,1:j}=(0,C.useState)(p),S=!p&&m&&!T,k=p&&!T,I=$(s);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(U.Z,{isOpen:k,type:"success",size:"custom",className:"max-w-lg",title:u.formatMessage(er.tipsHeader),showCloseButton:!0,onClose:()=>{j(!0)},children:o}),(0,D.jsxs)(d.fC,{open:S,children:[(0,D.jsxs)("div",{className:l,children:[(0,D.jsx)(d.xz,{asChild:!0,children:(0,D.jsx)("textarea",{ref:c,className:(0,f.default)("w-full resize-none rounded bg-token-main-surface-primary p-4 placeholder:text-gray-300",{"border-orange-400 focus:border-orange-400":i,"border-red-500 focus:border-red-500":I&&!i,"focus-token-border-heavy border-token-border-light":!I&&!i,"opacity-30":t}),disabled:t,placeholder:n,onKeyDown:e=>{t||"Enter"!==e.key||!e.metaKey||e.shiftKey||e.nativeEvent.isComposing||(e.preventDefault(),a())},rows:h&&!g?6:5,value:s,onChange:r,onBlur:()=>{v(!1)},onFocus:()=>{v(!0)}})}),(0,D.jsx)("div",{className:(0,f.default)("flex items-center justify-between px-1 text-xs tabular-nums",I?"text-red-600":"text-token-text-tertiary"),children:i?(0,D.jsx)("div",{className:"visible mt-2 text-left text-xs text-orange-400",children:(0,D.jsx)(M.Z,q(q({},er.modApiVoilation),{},{values:{policyLink:e=>(0,D.jsx)("a",{href:"https://platform.openai.com/docs/usage-policies/content-policy",className:"underline",target:"_blank",rel:"noreferrer",children:e}),feedbackLink:e=>(0,D.jsx)("a",{href:"https://forms.gle/3gyAMj5r5rTEcgbs5",className:"underline",target:"_blank",rel:"noreferrer",children:e})}}))}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{children:`${s.length}/${K}`}),(0,D.jsx)("button",{className:"flex items-center gap-1",onClick:()=>{c.current?.focus(),j(!T)},tabIndex:-1,children:(0,D.jsx)(b.M,{initial:!1,children:m&&(0,D.jsx)(x.E.div,{className:"flex items-center gap-1",initial:{opacity:0},animate:{opacity:1,transition:{duration:.2,ease:"easeIn"}},exit:{opacity:0,transition:{duration:.2,ease:"easeIn"}},children:T?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(M.Z,q({},er.showTips)),(0,D.jsx)(G.tEF,{className:"icon-xs"})]}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(M.Z,q({},er.hideTips)),(0,D.jsx)(G.Xl7,{className:"icon-xs"})]})},"show-hide")})})]})})]}),(0,D.jsx)(d.h_,{children:(0,D.jsx)(d.VY,{side:"right",align:"start",sideOffset:12,className:"popover relative max-w-[220px] animate-slideLeftAndFade select-none rounded-xl border border-token-border-light bg-token-main-surface-primary p-4 text-sm text-token-text-primary shadow-[0px_4px_14px_rgba(0,0,0,0.06)] xl:max-w-xs",onOpenAutoFocus:e=>{e.preventDefault()},onCloseAutoFocus:e=>{e.preventDefault()},children:(0,D.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,D.jsx)("strong",{children:(0,D.jsx)(M.Z,q({},er.tipsHeader))}),o]})})})]})]})};function J(e){let{label:t,side:r="bottom"}=e;return(0,D.jsx)(R.u,{sideOffset:4,interactive:!0,label:(0,D.jsx)("div",{children:t}),side:r,children:(0,D.jsx)(G.szr,{className:"h-4 w-4 text-token-text-tertiary"})})}function ee(e){let{disabledTools:t,onDisabledToolsChanged:r}=e;(0,C.useEffect)(()=>{g.A.logEvent(p.M.userContextGpt4CapabilitiesShown)},[]);let a=(0,s.t)(),n=a?.isEnterprisey()??!1,i=!(0,s.FJ)(o.L0.BrowsingAvailable)&&n,d=e=>{r(t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,D.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,D.jsxs)("div",{className:"flex items-center gap-1",children:[(0,D.jsx)("div",{className:"text-sm font-semibold",children:(0,D.jsx)(M.Z,{id:"userContextModal.gpt4CapabilitiesTitle",defaultMessage:"GPT-4 Capabilities"})}),(0,D.jsx)(J,{label:(0,D.jsx)(M.Z,{id:"userContextModal.tools.capabilitiesInfo.1",defaultMessage:"Choose which tools can be used with GPT-4"}),side:"top"})]}),(0,D.jsxs)("div",{className:"mt-2 flex flex-col gap-3 md:flex-row",children:[(0,D.jsx)(et,{title:(0,D.jsx)(M.Z,{id:"userContextModal.tools.browse",defaultMessage:"Browsing"}),tooltipLabel:i?(0,D.jsx)(M.Z,{id:"5SuA2c",defaultMessage:"Browsing is disabled by your organization"}):(0,D.jsx)(M.Z,{id:"userContexModal.tools.browserTooltip",defaultMessage:"Browse the internet to find answers"}),tool:l.X.BROWSER,onClick:d,Icon:G.n9J,checked:!t.includes(l.X.BROWSER)&&!i,disabled:i}),(0,D.jsx)(et,{title:(0,D.jsx)(M.Z,{id:"userContextModal.tools.dalle",defaultMessage:"DALL\xb7E"}),tooltipLabel:(0,D.jsx)(M.Z,{id:"userContextModal.tools.dalleTooltip",defaultMessage:"Generate images using DALL\xb7E"}),tool:l.X.DALLE,onClick:d,Icon:G.q$4,checked:!t.includes(l.X.DALLE)}),(0,D.jsx)(et,{title:(0,D.jsx)(M.Z,{id:"userContextModal.tools.codeInterpreter.1",defaultMessage:"Code"}),tooltipLabel:(0,D.jsx)(M.Z,{id:"userContextModal.tools.codeInterpreterTooltip",defaultMessage:"Execute code using Code Interpreter"}),tool:l.X.PYTHON,onClick:d,Icon:G.FxN,checked:!t.includes(l.X.PYTHON)})]})]})}function et(e){let{tool:t,title:r,tooltipLabel:a,Icon:s,onClick:o,checked:i,disabled:l}=e;return(0,D.jsx)(R.u,{className:"block flex-1",label:a,side:"top",sideOffset:4,children:(0,D.jsxs)("button",{className:(0,f.default)("flex w-full items-center justify-between rounded border border-token-border-medium p-2",{"cursor-not-allowed text-token-text-quaternary":l}),onClick:()=>o(t),disabled:l,children:[(0,D.jsxs)("div",{className:"flex items-center gap-2",children:[(0,D.jsx)(s,{className:"h-4 w-4 text-token-text-tertiary"}),(0,D.jsx)("div",{className:"text-sm font-semibold",children:r})]}),(0,D.jsx)(n.Z,{id:t,checked:i&&!l,disabled:l})]})})}let er=(0,j.vU)({tipsHeader:{id:"userContextModal.tipsHeader",defaultMessage:"Thought starters"},aboutUserTip1:{id:"userContextModal.aboutUserTip1",defaultMessage:"Where are you based?"},aboutUserTip2:{id:"userContextModal.aboutUserTip2",defaultMessage:"What do you do for work?"},aboutUserTip3:{id:"userContextModal.aboutUserTip3",defaultMessage:"What are your hobbies and interests?"},aboutUserTip4:{id:"userContextModal.aboutUserTip4",defaultMessage:"What subjects can you talk about for hours?"},aboutUserTip5:{id:"userContextModal.aboutUserTip5",defaultMessage:"What are some goals you have?"},modelTip1:{id:"userContextModal.modelTip1",defaultMessage:"How formal or casual should ChatGPT be?"},modelTip2:{id:"userContextModal.modelTip2",defaultMessage:"How long or short should responses generally be?"},modelTip3:{id:"userContextModal.modelTip3",defaultMessage:"How do you want to be addressed?"},modelTip4:{id:"userContextModal.modelTip4",defaultMessage:"Should ChatGPT have opinions on topics or remain neutral?"},save:{id:"userContextModal.save",defaultMessage:"Save"},chatPreferencesEnable:{id:"userContextModal.chatPreferencesEnable",defaultMessage:"Enable for new chats"},enableToggleLabel:{id:"userContextModal.enableToggleLabel",defaultMessage:"Enable chat preferences"},disableToggleLabel:{id:"userContextModal.disableToggleLabel",defaultMessage:"Disable chat preferences"},cancel:{id:"userContextModal.cancel",defaultMessage:"Cancel"},aboutYouHelpText:{id:"userContextModal.aboutYouHelpText",defaultMessage:"What would you like ChatGPT to know about you to provide better responses?"},modelHelpText:{id:"userContextModal.modelHelpText",defaultMessage:"How would you like ChatGPT to respond?"},profileTitle:{id:"userContextModal.title.1",defaultMessage:"Customize ChatGPT"},customInstructionsTitle:{id:"userContextModal.customInstructionsTitle",defaultMessage:"Custom Instructions"},customInstructionsTooltip:{id:"userContextModal.customInstructionsTooltip",defaultMessage:"<article>Learn more</article> about Custom instructions and how they’re used to help ChatGPT provide better responses."},messageLimitError:{id:"userContextModal.messageLimitError",defaultMessage:"Please limit your responses to {limit} characters or less."},showTips:{id:"userContextModal.showTips",defaultMessage:"Show tips"},hideTips:{id:"userContextModal.hideTips",defaultMessage:"Hide tips"},confirmCloseTitle:{id:"userContextModal.confirmCloseTitle",defaultMessage:"You have unsaved changes."},confirmCloseBody:{id:"userContextModal.confirmCloseBody",defaultMessage:"Are you sure you want to exit? Any changes you made will be permanently lost."},confirmCloseCancel:{id:"userContextModal.confirmCloseCancel",defaultMessage:"Back"},confirmCloseOk:{id:"userContextModal.confirmCloseOk",defaultMessage:"Exit"},modApiVoilation:{id:"userContextModal.modApiVoilation",defaultMessage:"This content may violate our <policyLink>content policy</policyLink>. If you believe this to be in error, please <feedbackLink>submit your feedback</feedbackLink> — your input will aid our research in this area."},browser:{id:"userContexModal.tools.browserTooltip",defaultMessage:"Browse the internet to find answers"},dalle:{id:"userContexModal.tools.dalleTooltip",defaultMessage:"Generate images using DALL\xb7E"},python:{id:"userContexModal.tools.codeInterpreterTooltip",defaultMessage:"Execute code using Code Interpreter"}})},55963:function(e,t,r){r.d(t,{Z:function(){return s}});var a=r(19841),n=r(651);function s(e){let{id:t,label:r,checked:s,onChange:o,disabled:i,className:l,labelClassName:d,readOnly:u,labelSide:c="right"}=e,h=r&&(0,n.jsx)("label",{className:(0,a.default)("form-check-label text-token-text-primary",d),htmlFor:t,children:r});return(0,n.jsxs)("div",{className:"form-check flex items-center gap-2",children:["left"===c&&h,(0,n.jsx)("input",{className:(0,a.default)("form-check-input float-left h-4 w-4 appearance-none rounded-sm border border-gray-300 bg-white bg-contain bg-center bg-no-repeat align-top transition duration-200 checked:border-blue-600 checked:bg-blue-600 focus:outline-none",i?"cursor-not-allowed":"cursor-pointer",l),type:"checkbox",disabled:i,onChange:o,checked:s,readOnly:u,id:t}),"right"===c&&h]})}},30853:function(e,t,r){r.d(t,{E:function(){return c},u:function(){return h}});var a=r(98601),n=r(52088),s=r(59594),o=r(19841);r(92379);var i=r(15478),l=r(651);let d=["disabled"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}let c=e=>{let{disabled:t}=e,r=(0,n.Z)(e,d);return t?(0,l.jsx)(l.Fragment,{children:r.children}):(0,l.jsx)(h,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r))},h=e=>{let t,r,{label:a,contentClassName:n,customPaddingClassName:i,theme:d="default",cornerRadius:u="lg",side:c="bottom",sideOffset:h=10,align:m="center",alignOffset:f=0,withArrow:b=!0,wide:x=!1,size:v="small",interactive:T=!1,usePortal:C=!0,className:y,children:M,delayDuration:j=300,closeOnOutsideClick:S=!0,open:k,onOpenChange:w,isLeftArrow:I=!1}=e;if(!a)return(0,l.jsx)("span",{className:y,children:M});switch(d){case"blue":t="",r="bg-blue-selection";break;case"white":t="",r="bg-white";break;case"default":t="border-white/10 dark:border",r="bg-gray-950"}let O=(0,l.jsxs)(s.VY,{collisionPadding:8,onPointerDownOutside:S?void 0:e=>e.preventDefault(),side:c,sideOffset:h,alignOffset:f,align:m,className:(0,o.default)("relative z-50 shadow-xs transition-opacity",i||"px-3 py-2",`rounded-${u}`,t,r,x?"max-w-sm":"max-w-xs",n),children:[(0,l.jsx)("span",{className:(0,o.default)("flex items-center whitespace-pre-wrap text-center font-semibold normal-case text-gray-100",{"text-xs":"xsmall"===v,"text-sm":"small"===v}),children:a}),b&&(0,l.jsx)(s.Eh,{asChild:!0,children:I?(0,l.jsx)(p,{className:r}):(0,l.jsx)(g,{className:r})})]});return(0,l.jsxs)(s.fC,{delayDuration:j,disableHoverableContent:!T,open:k,onOpenChange:w,children:[(0,l.jsx)(s.xz,{asChild:!0,children:(0,l.jsx)("span",{className:y,children:M})}),C?(0,l.jsx)(s.h_,{children:O}):O]})},g=i.Z.div`relative top-[-4px] h-2 w-2 rotate-45 transform shadow-xs dark:border-r dark:border-b border-white/10`,p=i.Z.div`relative top-[-4px] right-[-135px] h-2 w-2 rotate-45 transform shadow-xs dark:border-r dark:border-b border-white/10`},6530:function(e,t,r){r.d(t,{Bw:function(){return s},CR:function(){return o},rm:function(){return n}});var a=r(34977);function n(){return function(e){let t=s(e);if(t)return o(t)}((0,a.useRouter)().asPath)}function s(e){let t=new URL(`http://example.com${e}`).pathname.match(/(?:\/gizmo)?\/g\/([^/]+)/);if(t)return t[1]}function o(e){let t=e.split("-");return t.length>1&&"g"===t[0]?`g-${t[1]}`:t[0]}},3945:function(e,t,r){var a;function n(e){return{id:e.slug,maxTokens:e.max_tokens,title:e.title,description:e.description,tags:e.tags,enabledTools:e.enabled_tools,product_features:e.product_features}}r.d(t,{H6:function(){return n},ft:function(){return o},ge:function(){return s},q_:function(){return i}});let s="gpt-4o-mini",o=((a={}).GPT4o="AG8PqS2q",a.AUTO="auto",a),i=e=>{let{categoryId:t}=e;return t===o.AUTO}},60682:function(e,t,r){r.d(t,{hO:function(){return g},pm:function(){return c},qg:function(){return h}});var a,n=r(98601),s=r(58025),o=r(2721),i=r(42420),l=r(56032);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let c=((a={}).LocaleBanner="oai/apps/hasSeenLocaleBanner",a.HasSeenPluginDisclaimer="oai/apps/hasSeenPluginsDisclaimer",a.FirstTimeUsingUserContext="oai/apps/hasUserContextFirstTime/2023-06-29",a.Onboarding="oai/apps/hasSeenOnboarding",a.TeamOwnerOnboarding="oai/apps/hasSeenTeamOwnerOnboarding",a.MemoryOnboarding="oai/apps/hasSeenMemoryOnboarding",a.TemporaryChatOnboarding="oai/apps/hasSeenTemporaryChatOnboarding",a.ArchiveConversationOnboarding="oai/apps/hasSeenArchiveConversationOnboarding",a.ExploreGPTs="oai/apps/hasSeenExploreGPTs2",a.ExploreGPTsNewNux="oai/apps/hasSeenExploreGPTsNewNux",a.MentionGPTs="oai/apps/hasSeenMentionGPTs",a.ModelTunerDisclaimer="oai/apps/hasSeenModelTunerDisclaimer",a.DalleEditingOnboarding="oai/apps/hasSeenDalleEditingOnboarding",a.ModelSwitcherAutoDowngrade="oai/apps/hasSeenModelSwitcherAutoDowngrade",a.SonicSidebar="oai/apps/hasDismissedSonicSidebar",a.ContextConnectors="oai/apps/hasSeenContextConnectorTooltip",a.AG8PqS2q="oai/apps/hasDismissedAG8PqS2q",a.SidekickLauncherOnboarding="oai/apps/hasSeenSidekickLauncherOnboarding",a.UseSidekick="oai/apps/hasDismissedUseSidekick",a.hasSeenSncUsageNux="oai/apps/hasSeenSncUsageNux",a.hasSeenSncWelcomeNux="oai/apps/hasSeenSncWelcomeNux",a.hasSeenSncSidebarTooltip="oai/apps/hasSeenSncSidebarTooltip",a.hasSeenSncSourcesTooltip="oai/apps/hasSeenSncSourcesTooltip",a);function h(e){let{data:t=[],isLoading:r}=(0,s.vl)(e=>e.eligible_announcements),a=g();return{eligible:t.includes(e),markAsViewed:()=>a.mutate({key:e}),isLoading:r}}function g(){let e=(0,i.NL)();return(0,l.D)({mutationFn:e=>{let{key:t}=e;return o.Z.announcementViewed(t)},onMutate:async t=>{let{key:r}=t;e.setQueryData(["userSettings"],e=>u(u({},e),{},{eligible_announcements:e.eligible_announcements.filter(e=>e!==r)}))},onSuccess:()=>{e.invalidateQueries({queryKey:["userSettings"]})}})}},92745:function(e,t,r){r.d(t,{Ao:function(){return ef},Fe:function(){return ei},GD:function(){return Y},GK:function(){return eC},Hk:function(){return J},JI:function(){return X},Kt:function(){return q},Lp:function(){return I},OX:function(){return k},Rz:function(){return ed},U0:function(){return V},UL:function(){return G},Um:function(){return F},Uy:function(){return er},WA:function(){return H},Wb:function(){return eM},XK:function(){return R},XL:function(){return et},Yk:function(){return Q},Zz:function(){return O},_L:function(){return L},aS:function(){return ep},dz:function(){return eo},eV:function(){return z},eY:function(){return eg},ff:function(){return eb},h9:function(){return eT},iN:function(){return E},je:function(){return ea},lA:function(){return es},lz:function(){return ev},nd:function(){return $},nh:function(){return en},o0:function(){return ex},oq:function(){return W},qA:function(){return ee},qN:function(){return U},r7:function(){return em},tQ:function(){return A},u9:function(){return el},uj:function(){return K},xn:function(){return ey},y8:function(){return B},yt:function(){return eu}});var a,n=r(16757);r(59578);var s=r(6530),o=r(3945),i=r(2721),l=r(89153),d=r(22433);r(46900);var u=r(98541),c=r(76868),h=r(79746),g=r(82363),p=r(13859),m=r.n(p),f=r(2428),b=r.n(f),x=r(65925),v=r.n(x),T=r(34977),C=r(92379),y=r(92054),M=r(68810),j=r(95267),S=r(1552);function k(){return`${n.Uo}${(0,y.Z)()}`}let w=0;function I(){return w++}function O(e){return e.startsWith(n.Uo)}let N=()=>new u.Cv,_=()=>Object.freeze({lastModelUsed:null,createTime:new Date}),L=((a={}).NewChat="NewChat",a.Server="Server",a.User="User",a.Generated="Generated",a.Unknown="Unknown",a),P={},U=(0,M.Ue)((0,j.n)(()=>({threads:{},clientNewThreadIdToServerIdMapping:{},threadRetainCounts:{}}))),D=U.getState,Z=U.setState,E={resolveThreadId:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D();return t.clientNewThreadIdToServerIdMapping[e]??e},getThread:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D(),r=E.resolveThreadId(e,t);return t.threads[r]??null},hasThread:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D(),r=E.resolveThreadId(e,t);return null!=t.threads[r]},isLoading:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D(),r=E.resolveThreadId(e,t);return t.threads[r]?.isLoading},getConversationMode:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D(),r=E.resolveThreadId(e,t);return t.threads[r]?.mode},getThreadModelId:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D();return E.getThread(e,t)?.modelId??null},getGizmoId(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D(),r=t.threads[E.resolveThreadId(e,t)];if(r?.mode.kind===n.OL.GizmoInteraction||r?.mode.kind===n.OL.GizmoTest)return r.mode.gizmo_id},getThreadTitleSource(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D(),r=E.resolveThreadId(e,t),a=t.threads[r];return null!=a?a.titleSource:L.Unknown},getThreadCreateTime(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D(),r=E.resolveThreadId(e,t);return t.threads[r]?.initialThreadData?.createTime},getCurrentNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D(),r=E.resolveThreadId(e,t),a=t.threads[r]?.currentLeafId??"root";return A.getTree(e).getNodeByIdOrMessageId(a)},isThreadUrlSafe(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D(),a=E.resolveThreadId(e,r);return r.threads[a]?.safeUrls.includes(t)??!1},getRatingPrompt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D(),r=E.resolveThreadId(e,t);return t.threads[r]?.promptGptRating}},A={initThread:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=A.resolveThreadId(e);if(null==D().threads[a]){let e=(0,c.PH)();Z(n=>{n.threads[a]={initialThreadData:e,mode:t,modelId:r,tree:new u.Cv(u.Cv.createTree()),title:null,titleSource:L.NewChat,currentLeafId:"root",conversationTurns:[],safeUrls:[],isLoading:!O(a),docsReferencedByURL:{},conversationOrigin:null}})}},setThreadModelId:(e,t)=>{let r=A.resolveThreadId(e);Z(e=>{let a=e.threads[r];null!=a&&(a.modelId=t)})},updateConversationMode:(e,t)=>{let r=A.resolveThreadId(e);Z(e=>{let a=e.threads[r];null!=a&&(a.mode=t)})},getServerThreadId:e=>O(e)?D().clientNewThreadIdToServerIdMapping[e]:e,setServerIdForNewThread:(e,t)=>{void 0===D().clientNewThreadIdToServerIdMapping[e]&&Z(r=>{r.threads[t]=r.threads[e],delete r.threads[e],r.clientNewThreadIdToServerIdMapping[e]=t})},initThreadFromServerData:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=A.resolveThreadId(e);if(!s&&(null==D().threads[i]&&!r||D().threads[i]?.isLoading===!1))return;let l=(0,c._J)(t),d=l.mapping??u.Cv.createTree(),h={lastModelUsed:function e(t,r,a){if(a)return a;let n=t[r];return n?.message?.metadata?.model_slug?n.message.metadata.model_slug:n?.parentId?e(t,n.parentId):null}(l.mapping,l.initialCurrentLeafId,t.default_model_slug),createTime:"create_time"in t?new Date(1e3*t.create_time):void 0,isArchived:t.is_archived??!1},g=new u.Cv(d),p=l.initialCurrentLeafId??l.rootId??"root",m="has_user_editable_context"in t?{hasUserEditableContextFlag:t.has_user_editable_context,authorName:t.author_name,model:"model"in t&&null!=t.model?(0,o.H6)(t.model):void 0}:void 0;Z(e=>{let r=e.threads[i];e.threads[i]={modelId:r?.modelId??null,initialThreadData:h,mode:null!=t.gizmo_id?{kind:n.OL.GizmoInteraction,gizmo_id:t.gizmo_id}:{kind:n.OL.PrimaryAssistant,plugin_ids:t.plugin_ids},sharedConversationMetadata:m,title:t.title??null,titleSource:L.Server,tree:g,currentLeafId:p,isLoading:!1,continuingFromSharedConversationId:a,safeUrls:t.safe_urls??[],conversationTurns:[],docsReferencedByURL:{},conversationOrigin:t.conversation_origin??null}}),A.recomputeConversationTurnsForCurrentLeafId(i,[])},updateInitialThreadDataForNewThread:(e,t)=>{let r=A.resolveThreadId(e);Z(e=>{let a=e.threads[r];null!=a&&(a.initialThreadData.lastModelUsed=t)})},getThreadCurrentLeafId:e=>{let t=A.resolveThreadId(e);return D().threads[t]?.currentLeafId??"root"},getThreadSafeUrls:e=>{let t=A.resolveThreadId(e);return D().threads[t]?.safeUrls},addThreadSafeUrl:(e,t)=>{let r=A.resolveThreadId(e);r&&Z(e=>{let a=e.threads[r];null!=a&&a.safeUrls.push(t)})},setThreadCurrentLeafId:(e,t)=>{let r=A.resolveThreadId(e);null!=D().threads[r]&&Z(e=>{let a=e.threads[r];if(null==a)return;a.currentLeafId=t;let n=A.computeThreadConversationTurns(r,a.currentLeafId,a.conversationTurns);a.conversationTurns=n})},setTitle:(e,t,r)=>{let a=A.resolveThreadId(e);Z(e=>{let n=e.threads[a];n&&(n.title=t,n.titleSource=r)})},getTitle:e=>{let t=E.resolveThreadId(e);return D().threads[t]?.title??void 0},getTitleAndSource:e=>({title:A.getTitle(e),titleSource:E.getThreadTitleSource(e)}),getConversationOrigin:e=>{let t=E.resolveThreadId(e);return D().threads[t]?.conversationOrigin??null},setConversationOrigin:(e,t)=>{let r=A.resolveThreadId(e);Z(e=>{let a=e.threads[r];a&&(a.conversationOrigin=t)})},deleteNodesByFilter:(e,t)=>{let r=A.getThreadCurrentLeafId(e);A.updateTree(e,a=>{a.deleteNodesByFilter(t).includes(r)&&A.setThreadCurrentLeafId(e,"root")})},updateTree:(e,t)=>{let r=A.resolveThreadId(e);if(!(null!=D().threads[r])){console.warn("Thread does not exist, cannot update tree: ",r);return}t(A.getTree(e));let a=D(),n=a.threads[r]?.conversationTurns??[];A.recomputeConversationTurnsForCurrentLeafId(r,n)},getTree:e=>{let t=A.resolveThreadId(e);return D().threads[t]?.tree??N()},resolveThreadId:e=>E.resolveThreadId(e),recomputeConversationTurnsForCurrentLeafId:(e,t)=>{let r=A.resolveThreadId(e);Z(e=>{let a=e.threads[r];if(null==a)return;let n=A.computeThreadConversationTurns(r,a.currentLeafId,t);a.conversationTurns=n})},computeThreadConversationTurns:(e,t,r)=>{let a=A.resolveThreadId(e);return A.getTree(a).getConversationTurns(t).map((e,t)=>{let a=r?.[t];return v()(a,e)?a:e})},getThreadConversationTurns:(e,t,r)=>{let a=A.resolveThreadId(e),n=D().threads[a];if(null==n)return[];let s=n.tree,o=s.messageIdToNodeId(n?.currentLeafId??"root"),i=null!=t?s.messageIdToNodeId(t):null;return null!=i&&i!==o?A.computeThreadConversationTurns(a,i,r??[]):D().threads[a]?.conversationTurns??[]},removeContinuingFromSharedConversationId:e=>{let t=A.resolveThreadId(e);Z(e=>{let r=e.threads[t];r?.continuingFromSharedConversationId!=null&&delete r.continuingFromSharedConversationId})},updateReferencedDocState:(e,t,r)=>{let a=A.resolveThreadId(e);Z(e=>{let n=e.threads[a];n&&(n.docsReferencedByURL[t]=r)})},copyLastMessageToClipboard:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mouse",r=A.getThreadCurrentLeafId(e),a=A.getThreadConversationTurns(e,r);return A.copyMessageToClipboard(e,a.length-1,t)},copyMessageToClipboard:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mouse",a=A.getThreadCurrentLeafId(e),s=A.getThreadConversationTurns(e,a)[t];if(!s)return Promise.reject();let{messages:o}=s,l=o.reduce((e,t)=>t.err||t.message.author.role!==n.uU.Assistant||"all"!==t.message.recipient?e:e+(e?"\n\n":"")+(0,d.RR)(t.message),"");return(0,h.v)(l).then(()=>{let t=A.getServerThreadId(e);t&&i.Z.submitImplicitMessageFeedback({messageId:o[0].message.id,type:"copy",serverThreadId:t,selectedText:l,source:r})})},deleteThread:e=>{Z(t=>{delete t.threads[e],delete t.clientNewThreadIdToServerIdMapping[e]})},retainThread:e=>{Z(t=>{t.threadRetainCounts[e]=(t.threadRetainCounts[e]??0)+1}),clearTimeout(P[e])},releaseThread:e=>{null!=D().threads[e]&&(Z(t=>{t.threadRetainCounts[e]=Math.max((t.threadRetainCounts[e]??0)-1,0)}),D().threadRetainCounts[e]>0||(clearTimeout(P[e]),P[e]=setTimeout(()=>{null==D().threads[e]||D().threadRetainCounts[e]>0||A.deleteThread(e)},3e4)))},setPromptGptRating:(e,t)=>{let r=A.resolveThreadId(e);Z(e=>{let a=e.threads[r];null!=a&&(null==t?a.promptGptRating=void 0:a.promptGptRating={gizmoId:t})})}};async function F(e,t){let r=await i.Z.getConversation(e);return g.U.addTiming("chatgpt.web.chatPage.loadExistingConversation"),A.initThreadFromServerData(e,r,t,void 0,t),r}let B=e=>U(t=>E.getThreadModelId(e,t))??o.ge,R=e=>U(t=>null==e?void 0:O(e)?t.clientNewThreadIdToServerIdMapping[e]:e),G=e=>U(t=>{let r=A.resolveThreadId(e);return t.threads[r]?.initialThreadData??_()}),H=(e,t)=>U(r=>{let a=E.getConversationMode(e,r);return t&&(a?.kind===n.OL.GizmoInteraction||a?.kind===n.OL.PrimaryAssistant)?{gizmo_id:t,kind:n.OL.GizmoInteraction}:a}),z=e=>{let t=(0,s.rm)();return U(r=>null==r.threads[E.resolveThreadId(e,r)]?t:E.getGizmoId(e,r))},q=e=>U(t=>{let r=A.resolveThreadId(e);return t.threads[r]?.isLoading??!1}),W=e=>U(()=>A.getThreadCurrentLeafId(e)),V=(e,t)=>{let r=(0,C.useRef)([]);return U(()=>{let a=A.getThreadConversationTurns(e,t,r.current);return r.current=a,a?.length??0})},X=(e,t)=>{let r=(0,C.useRef)([]);return U(()=>{let a=A.getThreadConversationTurns(e,t,r.current);return r.current=a,a})},Y=(e,t,r)=>{let a=(0,C.useRef)([]);return U(()=>{let n=A.getThreadConversationTurns(e,r,a.current);return a.current=n,t>=0&&t<n.length?n[t]:null})},K=(e,t)=>{let r=(0,C.useRef)([]);return U(()=>{let a=A.getThreadConversationTurns(e,t,r.current);return r.current=a,a.length>0?a[a.length-1]:null})},$=(e,t)=>{let r=(0,C.useRef)([]);return U(()=>{let a=A.getThreadConversationTurns(e,t,r.current);r.current=a;let s=0;for(let e=a.length-1;e>=0;e--){let t=a[e];if(t.messages.some(e=>e.message.metadata?.is_indepth_feedback))return!0;if(t.messages.some(e=>e.message.author.role===n.uU.Assistant)&&s++,s>=3)break}return!1})},Q=(e,t)=>U(()=>{let r=A.resolveThreadId(e);return A.getTree(r).getBranchFromLeaf(t).some(e=>e.message.author.role===n.uU.User)}),J=e=>{let t=W(e);return(0,C.useMemo)(()=>{let r=A.getThreadConversationTurns(e,t,[]),a=r?.length??0,n=r?.[a-1]??null;return 0===a?t:u.Cv.getRequestIdFromConversationTurn(n)},[t,e])},ee=e=>U(()=>A.getTitle(e)),et=e=>(0,S.s)(U,()=>A.getTitleAndSource(e),v()),er=e=>U(()=>{let t=A.resolveThreadId(e);return D().threads[t]?.continuingFromSharedConversationId}),ea=e=>U(()=>{let t=A.resolveThreadId(e);return D().threads[t]?.sharedConversationMetadata?.authorName}),en=(e,t)=>U(()=>{let r=A.getTree(e).getNodeByIdOrMessageId(t);if(null==r)throw Error(`useThreadTreeNode: cannot get tree node for ${t} in thread ${e}`);return r}),es=(e,t)=>U(()=>A.getTree(e)?.getHasErrorFromNode(t)??!1),eo=(e,t)=>U(()=>A.getTree(e)?.isMessageIncomplete(t)??!1),ei=(e,t)=>U(()=>{let r=A.getTree(e);return null==r?[]:r.getBranchFromLeaf(t).filter(e=>e.message.author.role!==n.uU.Root)}),el=(e,t)=>ei(e,t).map(e=>e.message),ed=(e,t)=>U(()=>{let r=A.getTree(e);return null==r?null:r.getLeafFromNode(t)}),eu=(e,t)=>U(()=>{let r=A.getTree(e);return null!=r&&t.map(e=>r.getLeafFromNode(e)).some(e=>r.getHasErrorFromNode(e.id))}),ec=e=>{let t=A.getTree(e).getUserContext();if(null==t)return null;let{message:r}=t,a=r.metadata?.shared_conversation_id??null;if(r.metadata?.user_context_message_data!=null){let{about_user_message:e,about_model_message:t}=r.metadata.user_context_message_data;return{aboutUserMessage:e?.trim()??"",aboutModelMessage:t?.trim()??"",fallback:null,shareId:a}}return{aboutUserMessage:null,aboutModelMessage:null,fallback:(0,d.RR)(r),shareId:a}},eh=e=>U(t=>{let r=A.resolveThreadId(e);return t.threads[r]?.sharedConversationMetadata?.hasUserEditableContextFlag}),eg=e=>!!A.getTree(e).findNode(e=>"model_editable_context"===e.message.content.content_type),ep=e=>{let t=eh(e);return null!=ec(e)||!!t},em=e=>U(()=>{let t=A.resolveThreadId(e);return D().threads[t]?.continuingFromSharedConversationId!=null}),ef=e=>U(()=>"root"===A.getThreadCurrentLeafId(e)),eb=e=>{let t=(0,T.useRouter)(),r=R(e);return!!r&&(!!t.query.convId&&t.query.convId===r||!!b()(t.query.default)&&"c"===t.query.default[0]&&t.query.default[1]===r)},ex=e=>U(()=>{let t=A.resolveThreadId(e);return D().threads[t]?.promptGptRating}),ev=(e,t)=>U(()=>{let r=A.resolveThreadId(e),a=A.getTree(r).getBranchFromLeaf(t);return m()(a,e=>e.message.author.role===n.uU.System&&"system_content"===e.message.content.content_type)}),eT=()=>null!=(0,C.useContext)(l.gB);function eC(e){let t=A.getTree(e),r=A.getThreadCurrentLeafId(e),a=t.getNodeByIdOrMessageId(r);for(;a;){let e=a.message.metadata?.default_model_slug;if(e)return e;if(!a.parentId)return;a=t.getNodeByIdOrMessageId(a.parentId)}}function ey(e){let{clientThreadId:t,role:r}=e;return A.getTree(t).countMessagesByAuthor(r)}function eM(e){let{clientThreadId:t,conversationLeafId:r}=e,a=A.getTree(t);return(0,C.useMemo)(()=>a.getNodeByIdOrMessageId(r).message.end_turn,[r,a])}},31438:function(e,t,r){r.d(t,{B:function(){return c},EV:function(){return x},bM:function(){return f},ss:function(){return T},tN:function(){return m},vm:function(){return b},xH:function(){return v}});var a,n=r(98601),s=r(99976),o=r(61619),i=r(13249),l=r(92379),d=r(68810);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}let c=((a={}).DownloadMessages="download-messages",a.InviteUsersToWorkspace="invite-users-to-workspace",a.WorkspaceAppearance="workspace-appearance",a.KeyboardActions="keyboard-actions",a.UserContext="user-context",a.WorkspaceSwitcher="workspace-switcher",a.ReadOnlyConversationTemplate="read-only-conversation-template",a.CookieManagement="cookie-management",a.AgeVerificationInterstitial="age-verification-interstitial",a.GPTDetails="gpt-details",a.GPTPrivacySettings="gpt-privacy-settings",a.GPTFeedbackEmail="gpt-support-email",a.GPTReview="gpt-review",a.GPTRemoveThirdParty="gpt-remove-third-party",a.SharedConversationModeration="shared-conversation-moderation",a.ReportConversation="report-conversation",a.BlockingInitialComponent="blocking-initial-component",a.NoAuthNewChat="no-auth-new-chat",a.GlobalMemoryOnboarding="global-memory-onboarding",a.AccountPayment="account-payment",a),h=i.F.IsNavigationCollapsed,g=i.F.IsHistoryCollapsed,p={isThreadHeaderVisible:!0,isDesktopNavCollapsed:i.m.getItem(h)??!1,isVoiceActive:!1,sharingModalThreadId:void 0,feedbackModalThreadId:void 0,leaveWorkspaceData:null,activeSidebar:!1,activeStageSidebar:!1,activeModals:new Set,isLatencyDevToolsVisible:!1,purchaseWorkspaceData:null,isHistoryCollapsed:i.m.getItem(g)??!0,shouldHidePeachIndicator:!1},m=(0,d.Ue)()(()=>(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e})({},p)),f={isThreadHeaderVisible:e=>e.isThreadHeaderVisible,isLatencyDevtoolsVisible:e=>e.isLatencyDevToolsVisible},b={toggleHistoryCollapsed:()=>{m.setState(e=>{let t=!e.isHistoryCollapsed;return i.m.setItem(g,t),s.A.logToggleShowRecents({isOnlyShowingRecents:t}),{isHistoryCollapsed:t}})},toggleNavSidebar:()=>{m.getState().activeStageSidebar?b.togglePopoverNavSidebar():b.toggleDesktopNavCollapsed()},togglePopoverNavSidebar:()=>{b.toggleActiveSidebar("popover-nav")},toggleDesktopNavCollapsed:()=>{m.setState(e=>{let t=!e.isDesktopNavCollapsed;return i.m.setItem(h,t),s.A.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:t}),{isDesktopNavCollapsed:t}})},closeSidebar:()=>{i.m.setItem(h,!0),s.A.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!0}),m.setState({isDesktopNavCollapsed:!0})},closeSidebarWithoutSavingPreference:()=>{m.setState({isDesktopNavCollapsed:!0})},openSidebar:()=>{i.m.setItem(h,!1),s.A.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!1}),m.setState({isDesktopNavCollapsed:!1})},hideThreadHeader:()=>{m.setState({isThreadHeaderVisible:!1})},showThreadHeader:()=>{m.setState({isThreadHeaderVisible:!0})},openSharingModal(e,t){m.setState({sharingModalThreadId:e}),s.A.logEvent(o.M.shareConversationOpenModal,{location:t})},closeSharingModal(){m.setState({sharingModalThreadId:void 0})},openFeedbackModal(e){m.setState({feedbackModalThreadId:e})},closeFeedbackModal(){m.setState({feedbackModalThreadId:void 0})},setLeaveWorkspaceData(e){m.setState({leaveWorkspaceData:e})},setPurchaseWorkspaceData(e){m.setState({purchaseWorkspaceData:e})},setActiveSidebar(e){m.setState({activeSidebar:e})},toggleActiveSidebar(e){m.setState(t=>({activeSidebar:t.activeSidebar!==e&&e}))},closeActiveSidebar(){m.setState(()=>({activeSidebar:!1}))},setActiveStageSidebar(e){m.setState({activeStageSidebar:e})},toggleModal(e){m.setState(t=>{let r=new Set(t.activeModals);return r.has(e)?r.delete(e):r.add(e),{activeModals:r}})},openModal(e){m.setState(t=>{let r=new Set(t.activeModals);return r.add(e),{activeModals:r}})},closeModal(e){m.setState(t=>{let r=new Set(t.activeModals);return r.delete(e),{activeModals:r}})},closeAllActiveModals(){m.setState({activeModals:new Set})},hideLatencyDevTools:()=>{m.setState({isLatencyDevToolsVisible:!1})},showLatencyDevTools:()=>{m.setState({isLatencyDevToolsVisible:!0})},hidePeachIndicator:()=>{m.setState({shouldHidePeachIndicator:!0})}};function x(e){return m(t=>t.activeModals.has(e))}function v(){return m(e=>e.isDesktopNavCollapsed)}function T(){let{0:e,1:t}=(0,l.useState)(!1),r=m(e=>e.activeModals);return(0,l.useEffect)(()=>{t(e=>e||r.has(c.BlockingInitialComponent))},[r]),e}},10481:function(e,t,r){r.d(t,{i:function(){return a},l:function(){return n}});let a="https://help.openai.com/en/articles/8096356-custom-instructions-for-chatgpt",n="https://help.openai.com/en/articles/7967234-enabling-multi-factor-authentication-mfa-with-openai#h_488a963a1e"},79746:function(e,t,r){r.d(t,{v:function(){return s}});var a=r(24740);function n(){a.m.danger("Failed to copy to clipboard.",{duration:4,hasCloseButton:!0})}function s(e){return new Promise((t,r)=>{if(!navigator?.clipboard){n(),r();return}try{navigator.clipboard.writeText(e).then(()=>t("success"),()=>{n(),r()})}catch(e){n(),r()}})}}}]);
//# sourceMappingURL=2745-258cb1d5419758ca.js.map