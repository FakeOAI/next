"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6305],{78976:function(e,t,o){o.d(t,{W:function(){return f},i:function(){return y}});var n=o(99333),r=o(39004),a=o(92745),s=o(13503),i=o(88667),d=o(92379),l=o(75172),c=o(62984),u=o(24434),g=o(75856),p=o(94219),h=o(651);function f(e){let{gizmoId:t,onClose:o}=e,{data:a}=(0,r.b9)(t),{data:i}=(0,s.sQ)(n.CD.Gizmo),d=(0,l.Z)(),c=(0,s.gm)(d,t,n.CD.Gizmo);if(null==i)return null;let u=null!=a?"Report ".concat(a.gizmo.display.name):"Report";return(0,h.jsx)(p.UM,{reasons:i.reasons,submitReport:c,title:u,onClose:o,header:i.header,subHeader:i.header_explanation})}function y(e){var t,o,n;let{gizmoId:r,clientThreadId:s,onClose:y}=e,b=(0,l.Z)(),m=null===(t=(0,i.sB)("1855896025"))||void 0===t?void 0:t.value,k=null===(o=(0,i.sB)("3376455464"))||void 0===o?void 0:o.value,v=(0,a.XK)(s),C=null===(n=(0,i.sB)("90459671"))||void 0===n?void 0:n.value,{0:M,1:x}=(0,d.useState)();return m&&k&&"gpt"!==M&&C&&null!=v?"conversation"===M?(0,h.jsx)(g.E,{serverThreadId:v,onClose:y}):(0,h.jsxs)(u.Z,{title:b.formatMessage({id:"gizmo.report.selectorModal.title",defaultMessage:"Report"}),onClose:y,isOpen:!0,showCloseButton:!0,type:"success",children:[(0,h.jsx)(p.Rh,{header:b.formatMessage({id:"gizmo.report.selectorModal.header",defaultMessage:"What would you like to report?"})}),(0,h.jsxs)(p._4,{children:[(0,h.jsx)(p.Ag,{onClick:e=>{e.preventDefault(),x("conversation")},children:(0,h.jsx)(c.Z,{id:"gizmo.report.selectorModal.conversation",defaultMessage:"The conversation"})}),(0,h.jsx)(p.Ag,{onClick:e=>{e.preventDefault(),x("gpt")},children:(0,h.jsx)(c.Z,{id:"gizmo.report.selectorModal.gpt",defaultMessage:"The GPT"})})]})]}):(0,h.jsx)(f,{gizmoId:r,onClose:y})}},51517:function(e,t,o){o.r(t),o.d(t,{ThreadHeaderGizmoDropdown:function(){return h}});var n,r=o(2346),a=o(28146),s=o(92379),i=o(15478),d=o(39004),l=o(52245),c=o(78976),u=o(10080),g=o(651);let p=i.Z.div(n||(n=(0,r.Z)(["group flex cursor-pointer items-center gap-1 rounded-lg py-1.5 text-token-text-secondary font-semibold hover:bg-token-main-surface-secondary radix-state-open:bg-token-main-surface-secondary overflow-hidden whitespace-nowrap"])));function h(e){var t;let{clientThreadId:o,inMobileHeader:n,gizmoId:r,triggerButton:i}=e,{0:h,1:f}=(0,s.useState)(!1),{data:y}=(0,d.b9)(r);return null==y?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.GizmoInformationDropdown,{clientThreadId:o,gizmoResource:y,showReportModal:()=>{f(!0)},inMobileHeader:n,children:i||(0,g.jsxs)(p,{children:[y.gizmo.display.name,(null===(t=y.gizmo.tags)||void 0===t?void 0:t.includes(u.U9.Beta))&&(0,g.jsx)("div",{className:"rounded-full bg-token-main-surface-secondary px-1.5 text-xs text-token-text-primary",children:"Beta"}),(0,g.jsx)(a.Tg4,{className:"icon-md text-token-text-tertiary"})]})}),h&&(0,g.jsx)(c.i,{gizmoId:r,clientThreadId:o,onClose:()=>{f(!1)}})]})}},13391:function(e,t,o){o.d(t,{n:function(){return T},A3:function(){return S},yx:function(){return z},JS:function(){return L}});var n,r=o(98601),a=o(15858),s=o(70879),i=o(99976),d=o(61619),l=o(79746),c=o(82363),u=o(91530),g=o.n(u),p=o(92379),h=o(68306),f=o(16757),y=o(24740),b=o(92745),m=o(31438),k=o(49763),v=o(22433),C=o(45248);let M=p.useLayoutEffect;function x(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}let w=/```.*?\n([\s\S]+?)\n?```[^`]*$/gms;var j=((n=j||{}).Core="Core",n.Chat="Chat",n.Settings="Settings",n);let A=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?x(Object(o),!0).forEach(function(t){(0,r.Z)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):x(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}({Mod:"mod",Comma:","},a.s),B={[A.Mod]:/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"⌘":"Ctrl",[A.Comma]:",",[A.Enter]:"⏎",[A.Escape]:"Esc",[A.ArrowUp]:"↑",[A.ArrowDown]:"↓",[A.ArrowLeft]:"←",[A.ArrowRight]:"→",[A.Backspace]:"⌫",[A.Delete]:"⌦",[A.Tab]:"⇥",[A.Control]:"Ctrl",[A.Shift]:"Shift"},S=e=>e.map(e=>{var t;return null!==(t=B[e])&&void 0!==t?t:e}),D=(0,h.vU)({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block"},copyLastResponse:{id:"keyboardActions.copyLastResponse",defaultMessage:"Copy last response"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat"},archiveChat:{id:"keyboardActions.archiveChat",defaultMessage:"Archive chat"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts"}}),T=new k.V,O=e=>{let{resetThreadAction:t,clientThreadId:o}=e;return[{key:"newChat",action:t||g(),actionMessageDescriptor:D.newChat,group:j.Core,keyboardBinding:[A.Mod,A.Shift,"o"],altKeyboardBindings:[[A.Mod,"k"]]},{key:"focusPromptTextarea",action:s.go,actionMessageDescriptor:D.focusPromptTextarea,group:j.Chat,keyboardBinding:[A.Shift,A.Escape]},{key:"copyLastCodeBlock",action:()=>{if(null!=o){let e=b.tQ.getThreadCurrentLeafId(o),t=b.tQ.getThreadConversationTurns(o,e);for(let e=t.length-1;e>=0;e--){let{messages:o}=t[e],n=[...o.reduce((e,t)=>null==t.err&&t.message.author.role===f.uU.Assistant&&"all"===t.message.recipient?e+(e?"\n\n":"")+(0,v.RR)(t.message):e,"").matchAll(w)],r=n.length?n[n.length-1][1]:null;if(null!=r){(0,l.v)(r).then(()=>{y.m.success("Copied code block to clipboard")});break}}}},actionMessageDescriptor:D.copyLastCodeBlock,group:j.Chat,keyboardBinding:[A.Mod,A.Shift,";"],altKeyboardBindings:[[A.Mod,A.Shift,":"]]},{key:"copyLastResponse",action:()=>{null!=o&&b.tQ.copyLastMessageToClipboard(o,"keyboard").then(()=>{y.m.success("Last response copied to clipboard")})},actionMessageDescriptor:D.copyLastResponse,group:j.Chat,keyboardBinding:[A.Mod,A.Shift,"c"]},{key:"toggleCustomInstructions",action:()=>m.vm.toggleModal(m.B.UserContext),actionMessageDescriptor:D.toggleCustomInstructions,group:j.Settings,keyboardBinding:[A.Mod,A.Shift,"i"]},{key:"navigationToggle",action:()=>m.vm.toggleNavSidebar(),actionMessageDescriptor:D.navigationToggle,group:j.Core,keyboardBinding:[A.Mod,A.Shift,"s"]},{key:"deleteChat",action:()=>{if(o){let e=b.tQ.getServerThreadId(o);e&&T.publish({kind:"deleteChat",serverThreadId:e})}},actionMessageDescriptor:D.deleteChat,group:j.Chat,keyboardBinding:[A.Mod,A.Shift,A.Backspace],altKeyboardBindings:[[A.Mod,A.Shift,A.Delete]]},{key:"toggleKeyboardActions",action:()=>m.vm.toggleModal(m.B.KeyboardActions),actionMessageDescriptor:D.toggleKeyboardActions,group:j.Settings,keyboardBinding:[A.Mod,"/"]}]},P=e=>(function(e,t,o){let n=e.map(e=>{let{keyboardBinding:t}=e,o=t.join("+");if(e.altKeyboardBindings){o=[o];let t=e.altKeyboardBindings.map(e=>e.join("+"));o=o.concat(t)}return(0,C.ZP)(o,{byKey:!0})});M(()=>{if((null==o?void 0:o.enabled)===!1)return;let r=o=>{if(!o.repeat)for(let r=0;r<n.length;r++)n[r](o)&&(void 0===e[r].enabled||e[r].enabled)&&(o.preventDefault(),t(e[r]),e[r].action())},a=e=>{void 0!==e.key&&r(e)},s=document;return s.addEventListener("keydown",a),()=>{s.removeEventListener("keydown",a)}},[e,o])})(e,e=>{i.A.logEvent(d.M.keyboardShortcut,{keyboardActionKey:e.key}),c.U.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:e.key})},{enabled:!0}),L=function(){let{resetThreadAction:e,clientThreadId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,p.useMemo)(()=>O({resetThreadAction:e,clientThreadId:t}).filter(e=>{let{enabled:t=!0}=e;return t}),[t,e])},z=e=>{let{resetThreadAction:t,clientThreadId:o}=e;P(L({resetThreadAction:t,clientThreadId:o}))}}}]);
//# sourceMappingURL=6305.ccc93acd4ee976c4.js.map