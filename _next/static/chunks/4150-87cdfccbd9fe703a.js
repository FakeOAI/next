"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4150],{64216:function(e,t,n){var r=n(79746),o=n(11550),i=n(13490),a=n(651);t.Z=e=>{let{label:t,value:n,onCopied:s}=e,l=()=>{(0,r.v)(n),s()};return(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[void 0!==t&&(0,a.jsx)("label",{className:"font-semibold",children:t}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{onClick:l,className:"w-full cursor-pointer break-all rounded-lg bg-token-main-surface-tertiary px-4 py-2 font-mono text-sm text-token-text-primary",children:n}),(0,a.jsx)(o.z,{color:"ghost",onClick:l,icon:i.TIy})]})]})}},17893:function(e,t,n){var r,o,i,a,s,l,c;n.r(t);let d={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"after"},o={defaultValue:null,kind:"LocalArgument",name:"expand"},i={defaultValue:null,kind:"LocalArgument",name:"first"},a={defaultValue:null,kind:"LocalArgument",name:"isArchived"},s={defaultValue:null,kind:"LocalArgument",name:"order"}],kind:"Fragment",metadata:null,name:"useConversationHistoryQuery",selections:c=[{alias:null,args:[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"expand",variableName:"expand"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"is_archived",variableName:"isArchived"},{kind:"Variable",name:"order",variableName:"order"}],concreteType:"ConversationDisplayConnection",kind:"LinkedField",name:"conversationDisplayHistory",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationDisplayEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ConversationDisplay",kind:"LinkedField",name:"node",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"updateTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currentNodeId",storageKey:null},{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"primaryGizmo",plural:!1,selections:[l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"asyncStatus",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,r,s,o,a],kind:"Operation",name:"useConversationHistoryQuery",selections:c},params:{cacheID:"097c1fc0342383d3ae16a1757d2b9664",id:"5f5770417560c56ba8fa929b84900b53f40cdcc3906d5197003e9ecf7adf3bb7",metadata:{},name:"useConversationHistoryQuery",operationKind:"query",text:"query useConversationHistoryQuery(\n  $first: Int\n  $after: Cursor\n  $order: String\n  $expand: Boolean\n  $isArchived: Boolean\n) {\n  conversationDisplayHistory(first: $first, after: $after, order: $order, expand: $expand, is_archived: $isArchived) {\n    edges {\n      node {\n        id\n        title\n        updateTime\n        createTime\n        currentNodeId\n        primaryGizmo {\n          id\n        }\n        asyncStatus\n      }\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n      startCursor\n      hasPreviousPage\n    }\n  }\n}\n"}};d.hash="377edfb04902b17f5e9aab4e1df62db0",t.default=d},88491:function(e,t,n){n.d(t,{Z:function(){return M}});var r,o=n(98601),i=n(99333),a=n(11550),s=n(64216),l=n(6440),c=n(59144),d=n(36792),u=n(13490),f=n(24434),m=n(24740),g=n(2721),p=n(42420),h=n(56032),y=n(92379),v=n(75172),b=n(62984),x=n(68306),j=n(12310),k=n(651);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P=((r=P||{})[r.INITIAL=0]="INITIAL",r[r.PENDING=1]="PENDING",r[r.FINAL=2]="FINAL",r);function M(e){let{workspaceId:t,isOpen:n,onClose:r,currentDomain:o,domains:a=[],showUnverifiedDomains:l=!1,onVerifyDomain:d}=e,u=(0,v.Z)(),{mutateAsync:x,isPending:j}=function(e){let t=(0,p.NL)();return(0,h.D)({mutationFn:t=>{let{hostname:n}=t;return g.Z.addDomainToWorkspace(e,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:e=>{m.m.danger(e.message)}})}(t),{mutateAsync:w,isPending:M}=function(e){let t=(0,p.NL)();return(0,h.D)({mutationFn:t=>{let{domainId:n}=t;return g.Z.checkDomainForWorkspace(e,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:e=>{m.m.danger(e.message)}})}(t),{0:N,1:D}=(0,y.useState)(null!=o?o:void 0),{0:S,1:I}=(0,y.useState)(null==o?void 0:o.hostname),{0:Z,1:A}=(0,y.useState)((null==o?void 0:o.status)===void 0?P.INITIAL:(null==o?void 0:o.status)===i.pT.PENDING?P.PENDING:P.FINAL),L=()=>{o||(D(void 0),A(P.INITIAL))},E=async()=>{if(void 0===S)return;let e=a.find(e=>e.hostname===S&&e.status===i.pT.PENDING);if(e)D(e),A(P.PENDING);else{let e=await x({hostname:S});"id"in e&&D(e),A(P.PENDING)}},B=(0,k.jsx)(c.Z.Button,{title:u.formatMessage(T.check),color:"primary",disabled:(null==N?void 0:N.id)===void 0||M,onClick:async()=>{if(null!=N&&N.id){let e=await w({domainId:N.id});"error"in e&&m.m.danger(u.formatMessage(T.domainCheckError,{message:e.error.message})),"id"in e&&(d&&d(e),e.status===i.pT.VERIFIED&&A(P.FINAL))}}}),_=(0,k.jsx)(c.Z.Button,{title:u.formatMessage(T.submit),color:"primary",disabled:void 0===S||j,onClick:E}),R=(0,k.jsx)(c.Z.Button,{title:u.formatMessage(T.done),color:"primary",onClick:()=>{L(),r()}});return(0,k.jsxs)(f.Z,{isOpen:n,onClose:()=>{L(),r()},type:"success",className:"text-token-text-secondary",title:u.formatMessage(Z===P.INITIAL?T.newTitle:T.editTitle),primaryButton:Z===P.INITIAL?_:Z===P.PENDING?B:R,secondaryButton:(0,k.jsx)(c.Z.Button,{title:u.formatMessage(T.cancel),color:"secondary",onClick:()=>{L(),r()}}),children:[Z===P.INITIAL&&(0,k.jsx)(C,{hostname:S,onSetHostname:I,onSubmit:E,unverifiedDomains:l?a:[],onVerifyDomain:e=>{A(P.PENDING),D(e)},workspaceId:t}),Z===P.PENDING&&(0,k.jsxs)("div",{className:"flex flex-col gap-3",children:[u.formatMessage(T.verificationTokenMessage,{hostname:null==N?void 0:N.hostname}),(null==N?void 0:N.dns_verification_token_string)&&(0,k.jsx)(s.Z,{value:N.dns_verification_token_string,onCopied:()=>{m.m.success(u.formatMessage(T.copiedTXTRecordToClipboard),{duration:3})}}),(0,k.jsx)(b.Z,O({},T.verificationTokenFooter))]}),Z===P.FINAL&&(0,k.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,k.jsx)(b.Z,O(O({},T.successfulVerification),{},{values:{hostname:null==N?void 0:N.hostname}})),(null==N?void 0:N.dns_verification_token_string)&&(0,k.jsx)(s.Z,{value:N.dns_verification_token_string,onCopied:()=>{m.m.success(u.formatMessage(T.copiedTXTRecordToClipboard),{duration:3})}})]})]})}function N(e){let{unverifiedDomains:t,onVerifyDomain:n,workspaceId:r}=e,{mutateAsync:o}=(0,j.Bd)(r);return(0,k.jsxs)(d.Z.Root,{fixed:!0,size:"compact",className:"mb-6 border-b border-token-border-light",children:[(0,k.jsxs)(d.Z.Header,{children:[(0,k.jsx)(d.Z.HeaderCell,{children:(0,k.jsx)(b.Z,O({},T.unverifiedDomainsTableHeader))}),(0,k.jsx)(d.Z.HeaderCell,{textAlign:"right"})]}),t.map(e=>(0,k.jsxs)(d.Z.Row,{children:[(0,k.jsx)(d.Z.Cell,{children:e.hostname}),(0,k.jsx)(d.Z.Cell,{textAlign:"right",children:(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsx)(a.z,{color:"secondary",size:"small",onClick:()=>n(e),children:(0,k.jsx)(b.Z,O({},T.verifyDomainButton))}),(0,k.jsx)(a.z,{color:"secondary",size:"small",onClick:()=>o({domainId:e.id}),icon:u.XHJ})]})})]},e.id))]})}function C(e){let{hostname:t,onSetHostname:n,onSubmit:r,unverifiedDomains:o,onVerifyDomain:i,workspaceId:a}=e,s=(0,v.Z)();return(0,k.jsxs)(k.Fragment,{children:[o&&o.length>0&&(0,k.jsx)(N,{workspaceId:a,unverifiedDomains:o,onVerifyDomain:i}),(0,k.jsx)("form",{onSubmit:e=>{e.preventDefault(),r()},children:(0,k.jsxs)("div",{className:"mb-4",children:[(0,k.jsx)("label",{className:"mb-2 flex items-center text-sm font-semibold",children:(0,k.jsx)(b.Z,O({},T.domainInput))}),(0,k.jsx)(l.Z,{name:"hostname",placeholder:s.formatMessage(T.placeholder),value:null!=t?t:"",onChange:e=>{n(e.target.value)}})]})})]})}let T=(0,x.vU)({newTitle:{id:"domainModal.newTitle.0",defaultMessage:"Verify a new domain"},editTitle:{id:"domainModal.editTitle",defaultMessage:"Manage Domain"},submit:{id:"domainModal.submit",defaultMessage:"Submit"},check:{id:"domainModal.check",defaultMessage:"Check"},done:{id:"domainModal.done",defaultMessage:"Done"},cancel:{id:"domainModal.cancel",defaultMessage:"Cancel"},domainInput:{id:"domainModal.domainInput.0",defaultMessage:"Add a new domain"},placeholder:{id:"domainModal.placeholder",defaultMessage:"openai.com"},domainCheckError:{id:"domainModal.domainCheckError",defaultMessage:"Your domain could not be verified: {message}"},verificationTokenMessage:{id:"domainModal.verificationTokenMessage",defaultMessage:"To verify ownership of {hostname}, navigate to your DNS provider and add a TXT record with this value:"},verificationTokenFooter:{id:"domainModal.verificationTokenFooter",defaultMessage:"Then, check the record to complete the verification."},successfulVerification:{id:"domainModal.successfulVerification.0",defaultMessage:'Your domain, "{hostname}" has been successfully verified'},copiedTXTRecordToClipboard:{id:"domainModal.copiedTXTRecordToClipboard",defaultMessage:"Copied DNS TXT record to clipboard"},verifyDomainButton:{id:"domainModal.verifyDomainButton",defaultMessage:"Verify"},unverifiedDomainsTableHeader:{id:"domainModal.unverifiedDomainsTableHeader",defaultMessage:"Your unverified domains"}})},81522:function(e,t,n){n.d(t,{B$:function(){return u},Yk:function(){return d},hx:function(){return f}});var r=n(98601),o=n(68029),i=n(68810);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let l=(0,o.M)(()=>({activeRequests:{}})),c=e=>(0,i.oR)(l,e);function d(e){return c(t=>null!=t.activeRequests[e])}function u(){return c(e=>Object.keys(e.activeRequests).length>0)}let f={addRequest(e,t){l.setState(n=>({activeRequests:s(s({},n.activeRequests),{},{[e]:{id:e,abortController:t}})}))},removeRequest(e){l.setState(t=>{let n=s({},t.activeRequests);return delete n[e],{activeRequests:n}})},clear(){l.setState({activeRequests:{}})},abortRequest(e){let{activeRequests:t}=l.getState();return null!=t[e]&&(t[e].abortController.abort(),f.removeRequest(e),!0)},abortRequests(e){let{activeRequests:t}=l.getState(),n=s({},t);for(let t of e)null!=n[t]&&(n[t].abortController.abort(),delete n[t]);l.setState({activeRequests:n})},abortAllRequests(){let{activeRequests:e}=l.getState();Object.values(e).forEach(e=>{e.abortController.abort()}),f.clear()}}},83036:function(e,t,n){n.d(t,{Z:function(){return g}});var r,o=n(2346),i=n(42110),a=n(10449);n(82363);var s=n(88667),l=n(92379),c=n(62984),d=n(15478),u=n(13490),f=n(651);let m=d.Z.div(r||(r=(0,o.Z)(["text-sm text-token-text-tertiary"])));function g(e){let t,n,{gizmo:r,builderName:o,builderUrl:a,className:l,socials:d,hideLink:g=!1}=e,{value:h}=(0,s.sB)("2256850471");r&&"gizmo"in r?(t=r.gizmo.author.display_name,n=r.gizmo.author.link_to):(t=o,n=a),(""===t||null==t)&&(t="community builder");let y=null==d?void 0:d.filter(e=>e.verified),v=(0,f.jsxs)("div",{className:"w-48 space-y-4 text-sm",children:[n&&(0,f.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[(0,f.jsx)(u.n9J,{className:"icon-md"}),(0,f.jsx)("span",{children:(0,f.jsx)(c.Z,{id:"gizmo.author.websiteLabel",defaultMessage:"Website"})})]}),(0,f.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:n,className:"text-token-text-tertiary  hover:cursor-pointer",children:(0,f.jsx)(u.Pfi,{className:"icon-sm"})})]}),h&&(null==y?void 0:y.map((e,t)=>e.verified?(0,f.jsx)(i.lD,{socialData:e},t):null)),(0,f.jsxs)("div",{className:"text-xs text-token-text-tertiary",children:[(n||y&&y.length>0)&&(0,f.jsx)("hr",{className:"my-2 border-token-border-light"}),(0,f.jsx)(c.Z,{id:"gizmo.author.cannotViewLabel",defaultMessage:"The builder of this GPT cannot view your conversations."})]})]});return(0,f.jsxs)("div",{className:"flex flex-row items-center space-x-1",children:[(0,f.jsx)(m,{className:l,children:(0,f.jsx)(c.Z,{id:"gizmo.author.byLabel",defaultMessage:"By {displayName}",values:{displayName:t}})}),!g&&(0,f.jsx)(p,{socials:d,website:n,children:v})]})}function p(e){let{website:t,socials:n,children:r}=e,{0:o,1:i}=(0,l.useState)(!1),s=[];t&&s.push((0,f.jsx)(u.n9J,{className:"icon-xs text-token-text-secondary"})),n&&n.forEach(e=>{e.verified&&("twitter"===e.type?s.push((0,f.jsx)(u.suT,{className:"icon-xs text-token-text-secondary"})):"linkedin"===e.type?s.push((0,f.jsx)(u.O9,{className:"icon-xs text-token-text-secondary"})):"github"===e.type&&s.push((0,f.jsx)(u.C2$,{className:"icon-xs text-token-text-secondary"})))});let c=s.length-2;return s=s.slice(0,2),c>0&&s.push((0,f.jsxs)("span",{className:"text-xs font-semibold text-token-text-secondary",children:["+",c]},"overflow")),(0,f.jsx)(a.fC,{open:o,onOpenChange:i,children:(0,f.jsxs)("div",{onPointerLeave:()=>i(!1),children:[(0,f.jsx)(a.xz,{asChild:!0,children:(0,f.jsx)("div",{onPointerEnter:()=>i(!0),children:s.length>0?(0,f.jsx)("div",{className:"flex items-center gap-1 rounded-xl bg-token-main-surface-secondary px-2 py-1",children:s}):(0,f.jsx)(u.tBG,{className:"icon-xs text-token-text-secondary"})})}),(0,f.jsx)(a.VY,{side:"top",sideOffset:8,align:"center",className:"z-10 rounded-lg bg-token-main-surface-primary p-4 drop-shadow-md",children:r})]})})}},12128:function(e,t,n){n.d(t,{M:function(){return c},Z:function(){return l}});var r=n(25162),o=n(13490),i=n(39004),a=n(10080),s=n(651);function l(e){let{isFirstParty:t,src:n,alt:i,className:a}=e;return(0,s.jsx)("div",{className:a,children:null!=n?(0,s.jsx)("div",{className:"gizmo-shadow-stroke overflow-hidden rounded-full",children:(0,s.jsx)("img",{src:n,className:"h-full w-full bg-token-main-surface-secondary",alt:null!=i?i:"GPT",width:80,height:80})}):(0,s.jsx)("div",{className:"gizmo-shadow-stroke relative flex h-full items-center justify-center rounded-full bg-token-main-surface-primary text-token-text-primary",children:t?(0,s.jsx)(r.nI,{className:"h-2/3 w-2/3"}):(0,s.jsx)(o.uy2,{className:"h-2/3 w-2/3 text-gray-400"})})})}function c(e){var t,n;let{gizmoId:r,className:o}=e,{data:c}=(0,i.b9)(r);return(0,s.jsx)(l,{src:null==c?void 0:c.gizmo.display.profile_picture_url,isFirstParty:null!==(t=null==c||null===(n=c.gizmo.tags)||void 0===n?void 0:n.includes(a.U9.FirstParty))&&void 0!==t&&t,className:o})}},42110:function(e,t,n){n.d(t,{lD:function(){return O},s6:function(){return P},tw:function(){return w}});var r=n(98601),o=n(88491),i=n(12310),a=n(11550),s=n(98095),l=n(13490),c=n(99555),d=n(81690),u=n(97537),f=n(93951),m=n(54089),g=n(42420),p=n(56032),h=n(19841),y=n(92379),v=n(62984),b=n(68306),x=n(651);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e){var t,n;let{selectedDomain:r,verifiedDomains:a,domains:c,onChangeDomain:d}=e,{0:u,1:g}=(0,y.useState)(!1),p=a.length>0,h=null===(t=(0,f.t)())||void 0===t?void 0:t.id,b=null===(n=(0,f.t)())||void 0===n?void 0:n.isEnterprisey(),{mutateAsync:j}=(0,i.Bd)(h);return(0,x.jsxs)("div",{className:"font-normal",children:[(0,x.jsxs)(s.Z.Root,{children:[(0,x.jsx)(m.xz,{children:(0,x.jsxs)("span",{className:"flex items-center gap-2 py-2",children:[null!=r?r:(0,x.jsx)(v.Z,k({},M.selectADomain)),(0,x.jsx)(l.T2M,{className:"icon-md"})]})}),(0,x.jsx)(s.Z.Portal,{children:(0,x.jsxs)(s.Z.Content,{children:[(0,x.jsx)(s.Z.RadioGroup,{value:r,onValueChange:e=>{e!==r&&d(e)},children:a.map(e=>{let{id:t,hostname:n}=e;return(0,x.jsx)(s.Z.RadioItem,{value:n,children:(0,x.jsxs)("div",{className:"flex flex-row",children:[(0,x.jsx)("span",{children:n}),(0,x.jsx)("span",{onClick:()=>{j({domainId:t}),d("")},children:(0,x.jsx)(l.XHJ,{className:"icon-sm fixed right-4"})})]})},t)})}),p&&(0,x.jsx)(s.Z.Separator,{}),(0,x.jsx)(s.Z.Item,{onClick:()=>{g(!0)},icon:l.Vz5,children:(0,x.jsx)(v.Z,k({},M.addDomain))})]})})]}),h&&!b&&(0,x.jsx)(o.Z,{domains:c,isOpen:u,onClose:()=>g(!1),workspaceId:h,showUnverifiedDomains:!0,onVerifyDomain:e=>{d(e.hostname)}})]})}function O(e){let{socialData:t}=e,{type:n,display_name:r,verified_data:o}=t,i="twitter"===n?l.suT:"linkedin"===n?l.O9:"github"===n?l.C2$:null;return i?(0,x.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[i({className:"icon-md"}),(0,x.jsx)("span",{children:r})]}),(null==o?void 0:o.link_to)&&(0,x.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:o.link_to,className:"text-sm text-token-text-tertiary  hover:cursor-pointer",children:(0,x.jsx)(l.Pfi,{className:"icon-sm"})})]}):null}function P(e){let{socialData:t,icon:n}=e,{id:r,type:o,display_name:i,verified:s,verified_data:f}=t,{0:m,1:b}=(0,y.useState)(!1),j=function(){let e=(0,g.NL)();return(0,p.D)({mutationFn:e=>{let{verifierType:t}=e;return c.U.unverifySocialAuth(t)},onSuccess:()=>{e.refetchQueries({queryKey:["builderProfile"]})}})}();return(0,x.jsxs)("div",{className:"flex flex-row items-center justify-between space-y-1",children:[(0,x.jsxs)("div",{className:(0,h.default)("flex items-center space-x-2"),children:[(0,x.jsx)(n,{className:"icon-sm"}),(0,x.jsx)("span",{children:i}),s&&(null==f?void 0:f.username)&&(0,x.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:f.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:null==f?void 0:f.username})]}),s?(0,x.jsx)("div",{className:"py-1 font-semibold hover:cursor-pointer",onClick:()=>{j.mutate({verifierType:o})},children:j.isPending?(0,x.jsx)(u.Z,{}):(0,x.jsx)(l.tPq,{className:"icon-sm text-token-text-tertiary"})}):(0,x.jsx)(a.z,{size:"small",color:"secondary",loading:m,onClick:async()=>{b(!0),await (0,d.Up)({id:r},"#settings/BuilderProfile"),b(!1)},children:(0,x.jsx)(v.Z,k({},M.verify))})]})}let M=(0,b.vU)({verify:{defaultMessage:"Add",id:"GizmoSocialRow.add"},addDomain:{id:"GizmoSocialRow.addDomain",defaultMessage:"Verify new domain"},selectADomain:{id:"GizmoSocialRow.selectADomain",defaultMessage:"Select a domain"}})},81690:function(e,t,n){n.d(t,{Up:function(){return i},doConnectorOauthRedirect:function(){return a},wP:function(){return l},wW:function(){return s}});var r=n(16757),o=n(2721);async function i(e,t){let n="".concat("https://chat.openai.com","/aip/").concat(e.id,"/oauth/callback"),r=await o.Z.pluginOauthRedirect(e.id,n,t);window.location.href=r.redirect_uri}async function a(e,t,n,r){let i=await o.Z.connectorOauthRedirect(e.id,n,t,r);window.location.href=i.redirect_uri}function s(e){switch(e){case r.NA.Link:return"link_paste_popover";case r.NA.Picker:return"file_upload_menu"}}async function l(e){await o.Z.deleteUserConnectedApp(e),window.location.reload()}},24241:function(e,t,n){n.d(t,{MO:function(){return y},aM:function(){return v},wT:function(){return h}});var r,o=n(98601),i=n(2721),a=n(93951),s=n(53132),l=n(19856),c=n(88667),d=n(92379),u=n(6522),f=n(67566),m=n(41987);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let h="conversationHistory";function y(){var e;let t=(0,a.hz)(),n=null!==(e=null==t?void 0:t.includes(m.Ud))&&void 0!==e&&e,r=(0,a.t)(),o=!n&&!!(null!=r&&r.data),g=(0,u.useRelayEnvironment)(),{value:y}=(0,c.sB)("2893406386"),v=function(e,t){let{data:n,fetchNextPage:r,hasNextPage:o,isInitialLoading:i,isFetchingNextPage:a,isError:s}=(0,l.N)({queryKey:[h],queryFn:t=>{let{pageParam:n}=t;return(0,f.fetchQuery_DEPRECATED)(e,b,{after:n,first:28,order:"updated",expand:!1,isArchived:!1})},initialPageParam:"aWR4Oi0x",getNextPageParam:e=>{var t,n;return null!==(t=e.conversationDisplayHistory)&&void 0!==t&&t.pageInfo.hasNextPage?null===(n=e.conversationDisplayHistory)||void 0===n?void 0:n.pageInfo.endCursor:void 0},enabled:t});return{conversations:(0,d.useMemo)(()=>{var e;return null!==(e=null==n?void 0:n.pages.flatMap(e=>{var t,n;return(null!==(t=null===(n=e.conversationDisplayHistory)||void 0===n?void 0:n.edges)&&void 0!==t?t:[]).flatMap(e=>{var t,n;return null!=e&&e.node?[{id:e.node.id,title:null!==(t=e.node.title)&&void 0!==t?t:"",create_time:e.node.createTime,update_time:e.node.updateTime,conversation_template_id:null===(n=e.node.primaryGizmo)||void 0===n?void 0:n.id,async_status:e.node.asyncStatus}]:[]})}))&&void 0!==e?e:[]},[n]),data:n,fetchNextPage:r,hasNextPage:o,isInitialLoading:i,isFetchingNextPage:a,isError:s}}(g,o&&y),x=function(e){let{data:t,fetchNextPage:n,hasNextPage:r,isInitialLoading:o,isFetchingNextPage:a,isError:s}=(0,l.N)({queryKey:[h],queryFn:e=>{let{pageParam:t}=e;return i.Z.getConversations({offset:t,limit:28})},initialPageParam:0,getNextPageParam:e=>{let t=e.offset+e.limit;return t<e.total?t:void 0},enabled:e});return{conversations:(0,d.useMemo)(()=>{var e;return null!==(e=null==t?void 0:t.pages.flatMap(e=>e.items))&&void 0!==e?e:[]},[t]),data:t,fetchNextPage:n,hasNextPage:r,isInitialLoading:o,isFetchingNextPage:a,isError:s}}(o&&!y),{conversations:j,data:k,fetchNextPage:w,hasNextPage:O,isInitialLoading:P,isFetchingNextPage:M,isError:N}=y?v:x,{setStatusMap:C,getState:T}=s.p.useStore();return(0,d.useEffect)(()=>{if(j.length){let{statusMap:e}=T();C(p(p({},j.reduce((e,t)=>(e[t.id]=t.async_status,e),{})),e))}},[j,C,T]),{data:k,conversations:j,fetchNextPage:w,hasNextPage:O,isLoading:P,isFetchingNextPage:M,isError:o&&N}}function v(e){e.invalidateQueries({queryKey:[h]})}let b=void 0!==r?r:r=n(17893)},53132:function(e,t,n){n.d(t,{p:function(){return l}});var r=n(98601),o=n(99333),i=n(25579);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class l extends(0,i.R)()(()=>({statusMap:{}})){constructor(){super(...arguments),(0,r.Z)(this,"setStatusMap",e=>{this.setState({statusMap:e})}),(0,r.Z)(this,"setConversationStatus",(e,t)=>{this.setState(n=>({statusMap:s(s({},n.statusMap),{},{[e]:t})}))})}}(0,r.Z)(l,"selectStatusMap",e=>e),(0,r.Z)(l,"selectConversationStatus",e=>t=>e.statusMap[t]),(0,r.Z)(l,"hasUnreadConversations",e=>Object.values(e.statusMap).some(e=>e===o.w2.FINISHED))},49763:function(e,t,n){n.d(t,{V:function(){return a}});var r=n(98601),o=n(36560),i=n.n(o);class a{constructor(){(0,r.Z)(this,"emitter",new(i())),this.emitter.setMaxListeners(1e3)}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}publish(e){this.emitter.emit(e.kind,e),this.emitter.emit("anyEvent",e)}}},13391:function(e,t,n){n.d(t,{n:function(){return D},A3:function(){return C},yx:function(){return A},JS:function(){return Z}});var r,o=n(98601),i=n(15858),a=n(70879),s=n(99976),l=n(61619),c=n(79746),d=n(82363),u=n(91530),f=n.n(u),m=n(92379),g=n(68306),p=n(16757),h=n(24740),y=n(92745),v=n(31438),b=n(49763),x=n(22433),j=n(45248);let k=m.useLayoutEffect;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let O=/```.*?\n([\s\S]+?)\n?```[^`]*$/gms;var P=((r=P||{}).Core="Core",r.Chat="Chat",r.Settings="Settings",r);let M=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({Mod:"mod",Comma:","},i.s),N={[M.Mod]:/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"⌘":"Ctrl",[M.Comma]:",",[M.Enter]:"⏎",[M.Escape]:"Esc",[M.ArrowUp]:"↑",[M.ArrowDown]:"↓",[M.ArrowLeft]:"←",[M.ArrowRight]:"→",[M.Backspace]:"⌫",[M.Delete]:"⌦",[M.Tab]:"⇥",[M.Control]:"Ctrl",[M.Shift]:"Shift"},C=e=>e.map(e=>{var t;return null!==(t=N[e])&&void 0!==t?t:e}),T=(0,g.vU)({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block"},copyLastResponse:{id:"keyboardActions.copyLastResponse",defaultMessage:"Copy last response"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat"},archiveChat:{id:"keyboardActions.archiveChat",defaultMessage:"Archive chat"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts"}}),D=new b.V,S=e=>{let{resetThreadAction:t,clientThreadId:n}=e;return[{key:"newChat",action:t||f(),actionMessageDescriptor:T.newChat,group:P.Core,keyboardBinding:[M.Mod,M.Shift,"o"],altKeyboardBindings:[[M.Mod,"k"]]},{key:"focusPromptTextarea",action:a.go,actionMessageDescriptor:T.focusPromptTextarea,group:P.Chat,keyboardBinding:[M.Shift,M.Escape]},{key:"copyLastCodeBlock",action:()=>{if(null!=n){let e=y.tQ.getThreadCurrentLeafId(n),t=y.tQ.getThreadConversationTurns(n,e);for(let e=t.length-1;e>=0;e--){let{messages:n}=t[e],r=[...n.reduce((e,t)=>null==t.err&&t.message.author.role===p.uU.Assistant&&"all"===t.message.recipient?e+(e?"\n\n":"")+(0,x.RR)(t.message):e,"").matchAll(O)],o=r.length?r[r.length-1][1]:null;if(null!=o){(0,c.v)(o).then(()=>{h.m.success("Copied code block to clipboard")});break}}}},actionMessageDescriptor:T.copyLastCodeBlock,group:P.Chat,keyboardBinding:[M.Mod,M.Shift,";"],altKeyboardBindings:[[M.Mod,M.Shift,":"]]},{key:"copyLastResponse",action:()=>{null!=n&&y.tQ.copyLastMessageToClipboard(n,"keyboard").then(()=>{h.m.success("Last response copied to clipboard")})},actionMessageDescriptor:T.copyLastResponse,group:P.Chat,keyboardBinding:[M.Mod,M.Shift,"c"]},{key:"toggleCustomInstructions",action:()=>v.vm.toggleModal(v.B.UserContext),actionMessageDescriptor:T.toggleCustomInstructions,group:P.Settings,keyboardBinding:[M.Mod,M.Shift,"i"]},{key:"navigationToggle",action:()=>v.vm.toggleDesktopNavCollapsed(),actionMessageDescriptor:T.navigationToggle,group:P.Core,keyboardBinding:[M.Mod,M.Shift,"s"]},{key:"deleteChat",action:()=>{if(n){let e=y.tQ.getServerThreadId(n);e&&D.publish({kind:"deleteChat",serverThreadId:e})}},actionMessageDescriptor:T.deleteChat,group:P.Chat,keyboardBinding:[M.Mod,M.Shift,M.Backspace],altKeyboardBindings:[[M.Mod,M.Shift,M.Delete]]},{key:"toggleKeyboardActions",action:()=>v.vm.toggleModal(v.B.KeyboardActions),actionMessageDescriptor:T.toggleKeyboardActions,group:P.Settings,keyboardBinding:[M.Mod,"/"]}]},I=e=>(function(e,t,n){let r=e.map(e=>{let{keyboardBinding:t}=e,n=t.join("+");if(e.altKeyboardBindings){n=[n];let t=e.altKeyboardBindings.map(e=>e.join("+"));n=n.concat(t)}return(0,j.ZP)(n,{byKey:!0})});k(()=>{if((null==n?void 0:n.enabled)===!1)return;let o=n=>{if(!n.repeat)for(let o=0;o<r.length;o++)r[o](n)&&(void 0===e[o].enabled||e[o].enabled)&&(n.preventDefault(),t(e[o]),e[o].action())},i=e=>{void 0!==e.key&&o(e)},a=document;return a.addEventListener("keydown",i),()=>{a.removeEventListener("keydown",i)}},[e,n])})(e,e=>{s.A.logEvent(l.M.keyboardShortcut,{keyboardActionKey:e.key}),d.U.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:e.key})},{enabled:!0}),Z=function(){let{resetThreadAction:e,clientThreadId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,m.useMemo)(()=>S({resetThreadAction:e,clientThreadId:t}).filter(e=>{let{enabled:t=!0}=e;return t}),[t,e])},A=e=>{let{resetThreadAction:t,clientThreadId:n}=e;I(Z({resetThreadAction:t,clientThreadId:n}))}},15174:function(e,t,n){var r=n(92379);t.Z=function(){let e=(0,r.useRef)(!1);return(0,r.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),(0,r.useCallback)(()=>e.current,[])}},27393:function(e,t,n){n.d(t,{Ef:function(){return g},UG:function(){return p},dG:function(){return c},gb:function(){return h},mK:function(){return m}});var r,o=n(98601),i=n(37671),a=n(82363),s=n(92379);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let c=((r={}).SonicHome="sonic.web.home",r.SonicServer="sonic.ssr.search",r.ChatPageLoad="chatgpt.web.pageLoad",r.CompletionRequest="chatgpt.web.completionRequest",r.ProofOfWork="chatgpt.web.proofOfWork",r);class d{constructor(e,t){var n,r;(0,o.Z)(this,"expectedTimingLogTimeouts",{}),(0,o.Z)(this,"startMs",-1),(0,o.Z)(this,"lastLogMs",-1),(0,o.Z)(this,"loggedTimings",new Set),(0,o.Z)(this,"timingBlocks",{}),(0,o.Z)(this,"debug",!1),this.namespace=e,this.expectedTimingLogs=null!==(n=null==t?void 0:t.expectedTimingLogs)&&void 0!==n?n:[],this.debug=null!==(r=null==t?void 0:t.debug)&&void 0!==r&&r,this.reset()}reset(){for(let e of(this.startMs=this.lastLogMs=performance.now(),this.timingBlocks={},this.loggedTimings=new Set,Object.values(this.expectedTimingLogTimeouts)))clearTimeout(e);for(let e of(this.expectedTimingLogTimeouts={},this.expectedTimingLogs)){let t=setTimeout(()=>{var t;a.U.addAction("".concat(this.namespace,".").concat(e.name,".timed_out"),null!==(t=e.initializationInfo)&&void 0!==t?t:{})},e.expectedInMs);this.expectedTimingLogTimeouts[e.name]=t,this.debug&&console.debug("[DatadogProfiler] Expecting ".concat(this.namespace,".").concat(e.name," to be logged within ").concat(e.expectedInMs,"ms"))}}logTiming(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromLastLog:!1};if(this.loggedTimings.has(e)){console.warn("[DatadogProfiler] Timing ".concat(this.namespace,".").concat(e," already logged"));return}let n=performance.now()-(t.fromLastLog?this.lastLogMs:this.startMs);a.U.addAction("".concat(this.namespace,".").concat(e),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({durationMs:n},t.context)),this.lastLogMs=performance.now(),this.loggedTimings.add(e),e in this.expectedTimingLogTimeouts&&(clearTimeout(this.expectedTimingLogTimeouts[e]),delete this.expectedTimingLogTimeouts[e]),this.debug&&console.debug("[DatadogProfiler] ".concat(this.namespace,".").concat(e,": ").concat(n,"ms"))}startBlock(e){this.timingBlocks[e]=performance.now()}endBlock(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{throwError:!0},n=this.timingBlocks[e];if(void 0===n&&t.throwError)throw Error("Block ".concat(e," not started"));let r=performance.now()-n;a.U.addAction("".concat(this.namespace,".").concat(e),{durationMs:r}),delete this.timingBlocks[e]}}let u={},f="__global__";function m(e){let{namespace:t,key:n=f,opts:r}=e;void 0===u[t]&&(u[t]={});let o=(0,i.S)(u[t]);return void 0!==o[n]&&a.U.addError("Profiler already exists for namespace ".concat(t," and key ").concat(n)),o[n]=new d(t,r),o[n]}function g(e){let{namespace:t,key:n=f}=e;if(void 0!==u[t])return(0,i.S)(u[t])[n]}function p(e){let{namespace:t,key:n=f}=e;if(void 0!==u[t]){let e=(0,i.S)(u[t]);delete e[n]}}function h(e){let{namespace:t,key:n=f,opts:r}=e,{0:o}=(0,s.useState)(()=>m({namespace:t,key:n,opts:r}));return o}}}]);
//# sourceMappingURL=4150-87cdfccbd9fe703a.js.map