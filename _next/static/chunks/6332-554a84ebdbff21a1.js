"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6332],{11121:function(e,t,r){var n,o=r(15316),i=r(97410),a=r(19841),l=r(92379),u=r(15478),s=r(651);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.Z=l.forwardRef(function(e,t){let{name:r,placeholder:n,type:o,list:i,displayName:u,onChange:c,onFocus:p,onBlur:m,value:g,saveOnBlur:h,icon:v,onInputIconClick:y,className:w,autoComplete:x,autoFocus:b,onPressEnter:_,disabled:k,maxLength:M,color:E="tertiary"}=e,{0:C,1:U}=(0,l.useState)(g),F=(0,l.useCallback)(e=>{null==m||m(e),h&&U(e.target.value)},[m,h]),j=(0,l.useCallback)(e=>{null==c||c(e),h&&U(e.target.value)},[c,h]),O=(0,l.useCallback)(e=>{"Enter"===e.key&&_&&(e.preventDefault(),_(C))},[_,C]);(0,l.useEffect)(()=>{U(g)},[g]);let T=d(d({},h?{}:{value:g}),h?{value:C}:{});return(0,s.jsxs)("div",{className:(0,a.default)("rounded-md border shadow-none","neutral"===E&&"border-transparent px-3 py-2 focus-within:border-green-500 focus-within:bg-token-main-surface-tertiary focus-within:ring-1 focus-within:ring-transparent hover:bg-token-main-surface-tertiary","tertiary"===E&&"border-token-border-medium px-3 py-2 focus-within:border-token-border-xheavy focus-within:ring-1 focus-within:ring-token-text-secondary","search"===E&&"rounded-xl border-token-border-medium bg-token-main-surface-primary p-4 focus-within:border-token-border-xheavy focus-within:ring-0 dark:border-token-border-medium dark:focus-within:border-token-border-xheavy dark:focus-within:ring-0",w),children:[(0,s.jsx)("label",{htmlFor:r,className:"block text-xs font-semibold text-token-text-primary",children:u}),(0,s.jsxs)("div",{className:(0,a.default)(u&&"mt-1","relative"),children:[(0,s.jsx)("input",d({ref:t,type:o,name:r,id:r,list:i,className:(0,a.default)("block w-full border-0 p-0 placeholder-gray-500 shadow-none outline-none focus-within:shadow-none focus-within:outline-none focus-within:ring-0 focus:border-none focus:ring-0 sm:text-sm",null!=v&&"pr-6","neutral"===E||"search"===E?"bg-transparent":"bg-token-main-surface-primary text-token-text-primary"),placeholder:n,onBlur:F,onFocus:p,onChange:j,onKeyDown:O,autoComplete:x,autoFocus:b,disabled:k,maxLength:M},T)),null!=v&&(0,s.jsx)(f,{onClick:y,children:(0,s.jsx)(v,{className:"icon-sm"})})]})]})});let f=u.Z.button(n||(n=(0,o.Z)(["absolute right-0 top-1/2 -translate-y-1/2"])))},26361:function(e,t,r){r.d(t,{I:function(){return i},o:function(){return a}});let n=["xlsx","pptx","docx"],o={"application/vnd.google-apps.spreadsheet":"xlsx","application/vnd.google-apps.presentation":"pptx","application/vnd.google-apps.document":"docx"};function i(e){var t;return e&&null!==(t=o[e.split(";")[0]])&&void 0!==t?t:null}function a(e){return e&&n.includes(e)?e:null}},20151:function(e,t,r){r.d(t,{AJ:function(){return a},XX:function(){return u},xA:function(){return l}});var n,o,i=r(26361);let a=((n={})[n.None=0]="None",n[n.Multimodal=1]="Multimodal",n[n.Interpreter=2]="Interpreter",n[n.Retrieval=3]="Retrieval",n[n.ContextConnector=4]="ContextConnector",n[n.ProfilePicture=5]="ProfilePicture",n);function l(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:(0,i.o)(e.synthetic_extension),type:e.type}}let u=((o={}).Uploading="uploading",o.Ready="ready",o)},11655:function(e,t,r){r.d(t,{$H:function(){return h},$p:function(){return j},Ad:function(){return D},B:function(){return I},BV:function(){return P},CO:function(){return O},Iy:function(){return m},KL:function(){return U},L8:function(){return g},O6:function(){return w},Tu:function(){return L},VF:function(){return y},Vm:function(){return T},WI:function(){return N},YN:function(){return b},Z8:function(){return F},Zp:function(){return E},_0:function(){return M},kr:function(){return v},p0:function(){return C},s1:function(){return _},ww:function(){return x},xs:function(){return k}});var n=r(34608),o=r(88628),i=r(72988),a=r(73333),l=r(69923),u=r(7569),s=r(92379),c=r(75172),d=r(68306),f=r(31161),p=r(20151);function m(e){return e.replace("file-service://","")}function g(e){return"file-service://"+e}function h(e){return e.startsWith("file-service://")}function v(e,t,r){switch(t){case"file_zero_bytes":return e.formatMessage(S.fileZeroBytes,r);case"file_too_large":return e.formatMessage(S.fileTooLarge,r);case"over_user_quota":return e.formatMessage(S.overUserQuota,r);case"file_not_found":case"file_expired":return e.formatMessage(S.fileNotFound,r);case"file_timed_out":return e.formatMessage(S.fileTimedOut,r);case"ace_pod_expired":return e.formatMessage(S.codeInterpreterSessionTimeout,r);case"permission_error":return e.formatMessage(S.permissionError,r);case"default_upload_error":case"file_rejected":return e.formatMessage(S.defaultCreateEntryError,r);case"default_download_link_error":return e.formatMessage(S.defaultDownloadLinkError,r);case"file_empty":return e.formatMessage(S.fileEmpty,r);case"too_many_tokens":return e.formatMessage(S.fileTooManyTokens,r);case"file_encrypted":return e.formatMessage(S.fileEncrypted,r);case"file_corrupted":return e.formatMessage(S.fileCorrupted,r);case"failed_upload_to_blobstore":return e.formatMessage(S.failedUploadToBlobStore,r);default:return e.formatMessage(S.unknownError)}}function y(){let e=(0,c.Z)();return(0,s.useCallback)((t,r)=>v(e,t,r),[e])}function w(){let{session:e}=(0,l.kP)(),{isUnauthenticated:t}=(0,a.u)(),r=(0,c.Z)();return async(o,a)=>{if(!t&&null==e)return f.m.danger(r.formatMessage(S.fileDownloadFailed)),!1;try{var l;let e=await i.Z.getFileDownloadLink(o,void 0,t);if(e.status!==n.KF.Success)throw Error("File is not ready to download: "+JSON.stringify(e));let r=null===(l=e.metadata)||void 0===l||null===(l=l.context_connector)||void 0===l?void 0:l.url;if(null!=r)window.open(r,"_blank");else{let t=e.download_url,r=document.createElement("a");r.href=t,r.download=a,r.click(),window.open(t,"_blank")}}catch(e){return f.m.danger(r.formatMessage(S.fileDownloadFailed)),!1}return!0}}function x(e,t){if((null==t?void 0:t.kind)===o.OL.GizmoInteraction||(null==t?void 0:t.kind)===o.OL.GizmoTest){var r;return null===(r=t.gizmo)||void 0===r?void 0:r.product_features}return null==e?void 0:e.product_features}function b(e,t){var r,o,i,a;let l=x(e,t);return(null==l||null===(r=l.attachments)||void 0===r?void 0:r.type)===n.Cd.CodeInterpreter?p.AJ.Interpreter:(null==l||null===(o=l.attachments)||void 0===o?void 0:o.type)===n.Cd.Multimodal?p.AJ.Multimodal:(null==l||null===(i=l.attachments)||void 0===i?void 0:i.type)===n.Cd.Retrieval?p.AJ.Retrieval:(null==l||null===(a=l.attachments)||void 0===a?void 0:a.type)===n.Cd.ContextConnector?p.AJ.ContextConnector:p.AJ.None}function _(e){var t;let r=null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase();return({md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp"})[null!=r?r:""]||""}function k(e,t,r,n,o){if(null==o)return e;let i=_(t);i&&(r=i),n&&(r=function(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}(r));let{accepted_mime_types:a,can_accept_all_mime_types:l}=o;return null!=a&&0!==a.length&&l?a.includes(r)?e:p.AJ.Interpreter:e}function M(e,t,r){var o,i,a;let l=""!==t?t:_(r),u=null==e||null===(o=e.product_features)||void 0===o?void 0:o.attachments;return null==u?void 0:null!==(i=u.accepted_mime_types)&&void 0!==i&&i.includes(l)?u.type:null!==(a=u.image_mime_types)&&void 0!==a&&a.includes(l)?n.Cd.Multimodal:n.Cd.CodeInterpreter}function E(e,t){var r,n;let o=x(e,t);return null!=o&&null!==(r=o.attachments)&&void 0!==r&&r.can_accept_all_mime_types?void 0:null==o||null===(n=o.attachments)||void 0===n?void 0:n.accepted_mime_types}function C(e,t){let r=x(e,t),{attachments:n}=null!=r?r:{};if(null!=n&&n.image_mime_types)return n.image_mime_types;if((null==n?void 0:n.type)==="multimodal"){var o;return null!==(o=n.accepted_mime_types)&&void 0!==o?o:U}return[]}let U=["image/png","image/jpeg","image/gif","image/webp"];function F(e){return(0,s.useMemo)(()=>{if(void 0===e)return{};let t={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]};return{accept:e.reduce((e,r)=>(r in t?e[r]=t[r]:r.includes("/")&&(e[r]=[".".concat(r.split("/")[1])]),e),{})}},[e])}function j(e){var t;return null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()}function O(e){let t=j(e);return null!=t&&["jpg","jpeg","png","gif","webp"].includes(t)}function T(e){let t=j(e);return null!=t&&["xls","xlsx","csv"].includes(t)}function P(e){let t=j(e);return null!=t&&["xls","xlsx"].includes(t)}function L(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fit";return new Promise((n,o)=>{let i=new FileReader;i.onerror=e=>{u.U.addError(Error("File reading has failed:",{cause:e})),o(Error("Failed to read the file."))},i.onload=i=>{let a=new Image;a.onerror=e=>{u.U.addError(Error("Image loading has failed:",{cause:e})),o(Error("Failed to load the image."))},a.onload=()=>{let i=document.createElement("canvas"),l,s=0,c=0;switch(r){case"fill":case"square":l=t/Math.min(a.width,a.height);break;case"fit":l=t/Math.max(a.width,a.height)}let d=a.width*l,f=a.height*l;"square"===r?(i.width=t,i.height=t,s=(t-d)/2,c=(t-f)/2):(i.width=d,i.height=f);let p=i.getContext("2d");if(null==p){u.U.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),o(Error("Failed to create canvas context."));return}p.drawImage(a,s,c,d,f);let m=e.type||"image/png";i.toBlob(t=>{t?n(new File([t],e.name,{type:m})):(u.U.addError("Blob creation failed. Blob is null."),o(Error("Failed to create blob from image data.")))},m)},null==i.target?(u.U.addError("Event target is null. Failed to load image."),o("Failed to load image.")):a.src=i.target.result},i.readAsDataURL(e)})}function N(e,t){return L(e,t,"square")}function I(e){var t,r;let n=null!==(t=e.name.split("/"))&&void 0!==t?t:[];return(null!==(r=n[n.length-1])&&void 0!==r?r:"").replace(/[-_]/g," ").split(".")[0]}function D(e,t){return t?e.slice(0,-t.length-1):e}let S=(0,d.vU)({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}})},53642:function(e,t,r){r.d(t,{AA:function(){return l},FH:function(){return c},J8:function(){return s},L7:function(){return a},SX:function(){return d},ZV:function(){return o},cy:function(){return i},xj:function(){return u}});var n=r(96314);function o(e,t){return t?"/g/".concat((0,n.kX)(t),"/c/").concat(e):"/c/".concat(e)}function i(){return"/gpts"}function a(){return"/gpts/mine"}function l(e){return e?"/gpts/editor/".concat(e):"/gpts/editor"}function u(e){let t=l(void 0);return null==e?t:l(e)}function s(e){return l(e)}function c(e){try{let t=new URL(e);return t.hostname=t.hostname.replace(/^(www\.|web\.|mbasic\.|mobile\.)(secure\.)?/,""),t.pathname="",[...t.searchParams.keys()].forEach(e=>t.searchParams.delete(e)),t.toString()}catch(t){return e}}function d(e){let t=function(e){if(!e)return null;try{return new URL(e).hostname}catch(e){return null}}(e);return t?t.replace(/^www\./,""):e}}}]);
//# sourceMappingURL=6332-554a84ebdbff21a1.js.map