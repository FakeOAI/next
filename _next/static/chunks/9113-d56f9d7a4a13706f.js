"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9113],{38838:function(e,t,r){r.d(t,{Dz:function(){return a},Rp:function(){return c},Yf:function(){return u}});var n=r(19841),i=r(28146),o=r(651);function u(e){let{className:t}=e;return(0,o.jsx)(i.ob9,{className:(0,n.default)(t,"rtl:-scale-x-100")})}function a(e){let{className:t}=e;return(0,o.jsx)(i.Y1T,{className:(0,n.default)(t,"rtl:-scale-x-100")})}function c(e){let{className:t}=e;return(0,o.jsx)(i.Y4O,{className:(0,n.default)(t,"rtl:-scale-x-100")})}},39004:function(e,t,r){r.d(t,{AG:function(){return w},D2:function(){return U},DC:function(){return B},DS:function(){return T},Dq:function(){return j},EF:function(){return P},F0:function(){return R},Fi:function(){return q},HW:function(){return z},K7:function(){return J},K9:function(){return M},M0:function(){return F},N_:function(){return L},Sg:function(){return k},UQ:function(){return H},Vw:function(){return C},WL:function(){return x},Wd:function(){return G},Wz:function(){return D},YR:function(){return Z},Z1:function(){return Q},ZJ:function(){return N},b9:function(){return K},i6:function(){return S},kX:function(){return v},kb:function(){return W},m_:function(){return O},pJ:function(){return I},un:function(){return _},uy:function(){return b},z5:function(){return $}});var n=r(98601),i=r(16757),o=r(10080),u=r(24740),a=r(84760),c=r(19856),s=r(49166),l=r(42420),f=r(56032),p=r(85567),g=r(42906),y=r(99555),m=r(45334);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let z="GPT Builder";function b(e){if(e)return`ChatGPT - ${e}`}function v(e){return e.gizmo.short_url??e.gizmo.id??"-"}function _(e){return`/g/${e}`}function w(e){return`https://chatgpt.com${_(e)}`}function O(e){return _(v(e))}function P(e,t){let r=new URLSearchParams;return null!=t&&r.set(g.l,t),(0,p.I)(new URL(`${O(e)}?${r}`,"https://chatgpt.com"))}function S(e){return`/g/${v(e)}`}function k(e){return(0,m.S9)(e)&&0===e.gizmo.live_version||(0,m.WQ)(e)&&0===e.liveVersion}function $(e,t){return(0,a.a)({queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:async()=>y.U.getGizmoDiscovery(e,t)})}function q(e){let{cutId:t,locale:r,limit:n,cursor:i,enabled:o=!0}=e;return(0,c.N)({queryKey:["gizmos","discovery",{cutId:t,locale:r,limit:n}],queryFn:async e=>{let{pageParam:i}=e;return y.U.getGizmoDiscoveryCut(t,{locale:r,cursor:i,limit:n})},initialPageParam:i,getNextPageParam:e=>e.list.cursor??void 0,enabled:o})}function j(){return(0,a.a)({queryKey:["gizmos","pinned"],queryFn:async()=>y.U.getGizmoPinned()})}function E(){return(0,s.C)({queryKey:["gizmos","bootstrap"],queryFn:async()=>y.U.getGizmoBootstrap().then(e=>({gizmos:e.gizmos.map(e=>({resource:e.resource,flair:e.flair}))}))})}function D(){return(0,a.a)(E())}function A(e,t){let r=e.filter(e=>e.resource.gizmo.id!==t.resource.gizmo.id),n=r.findIndex(e=>e.flair.kind===o.JK.Recent);return -1===n&&(n=r.length),r.splice(n,0,t),r}let U={handleGizmoInteracted(e,t){let r=e.getQueryData(C(e,t).queryKey);null!=r&&e.setQueryData(E().queryKey,e=>{if(null==e)return e;let n=e.gizmos.find(e=>e.resource.gizmo.id===t);return n?.flair.kind===o.JK.FirstParty||n?.flair.kind===o.JK.SidebarKeep?e:{gizmos:A(e.gizmos,{resource:r,flair:{kind:o.JK.Recent}})}})},handleGizmoSidebarKeep(e,t){let r=e.getQueryData(C(e,t).queryKey);null!=r&&e.setQueryData(E().queryKey,e=>null==e?e:{gizmos:A(e.gizmos,{resource:r,flair:{kind:o.JK.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(E().queryKey,e=>e?.gizmos.some(e=>e.resource.gizmo.id===t)?{gizmos:e.gizmos.filter(e=>e.resource.gizmo.id!==t)}:e)}};function K(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,l.NL)();return(0,a.a)(C(r,e,t))}function B(e){let{gizmoId:t,draft:r,version:n}=e,i=(0,l.NL)(),o=n?{queryKey:["gizmo","version",{gizmoId:t,version:n}],queryFn:async()=>y.U.getVersion({gizmoId:t,version:n}),enabled:null!=t}:C(i,t,r);return(0,a.a)(o)}function G(e,t){return(0,a.a)({queryKey:["gizmo","userActionSettings",{gizmoId:e}],queryFn:async()=>y.U.getUserActionSettings(e),enabled:null!=e&&t})}function C(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,s.C)({queryKey:["gizmo",{gizmoId:t},{draft:r}],queryFn:async()=>y.U.getGizmo(t,r),enabled:null!=t,initialData:()=>{if(!0===r)return;let n=e.getQueryData(E().queryKey);if(null!=n)return n.gizmos.find(e=>e.resource.gizmo.id===t)?.resource;let i=e.getQueryData(["gizmos","discovery"]);if(null!=i)for(let e of i.cuts){let r=e.list.items.find(e=>e.resource.gizmo.id===t)?.resource;if(null!=r)return r}}})}function R(e,t){return e.fetchQuery(C(e,t))}function M(e){return(0,a.a)({queryKey:["gizmo",{search:e}],queryFn:async()=>y.U.getGizmoSearch(e),enabled:e.length>0})}function F(e,t){return(0,a.a)({queryKey:["gizmo-search-workspace",{search:e}],queryFn:async()=>y.U.getGizmoSearchForWorkspace(e),enabled:e.length>0&&t})}function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,c.N)({queryKey:[r?"gizmo-search-workspace":"gizmo",{query:e,cursor:n}],queryFn:async t=>{let{pageParam:i}=t;return r?y.U.getGizmoSearchForWorkspace(e,n=i):y.U.getGizmoSearch(e,n=i)},initialPageParam:n,getNextPageParam:e=>e.cursor??void 0,enabled:t})}function L(){let e=(0,l.NL)();return(0,f.D)({mutationFn:async e=>{let{gizmoId:t,editorData:r}=e,{instructions:n,name:i,description:u,profilePictureId:a,profilePictureUrl:c,promptStarters:s,tools:l,files:f,trainingDisabled:p}=r;return y.U.upsertDraft({instructions:n,display:{name:i,description:u,profile_pic_id:a,profile_picture_url:c,prompt_starters:s},tools:l,files:f.map(e=>h(h({},e),{},{location:o.Nh.FILE_SERVICE})),training_disabled:p},t)},onSettled:t=>{t&&(e.setQueryData(C(e,t.gizmo.id,!0).queryKey,t),e.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}})}function N(){let e=(0,l.NL)();return(0,f.D)({mutationFn:async e=>{let{gizmoId:t,data:r}=e,{sharingRecipient:n,categories:i}=r,u=await y.U.promoteDraft({sharing:r.sharingSubjects&&r.sharingSubjects.length>0?r.sharingSubjects:{recipient:n},categories:i},t);if(u.error)throw new o.DC(u);return u.resource},onSettled:t=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),e.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),t&&e.setQueryData(C(e,t.gizmo.id,!1).queryKey,t)}})}function W(){let e=(0,l.NL)();return(0,f.D)({mutationFn:async e=>{let{gizmoId:t}=e;return y.U.deleteGizmo(t)},onSettled:()=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}})}function I(){let e=(0,l.NL)();return(0,f.D)({mutationFn:async e=>{let{name:t,hideName:r,websiteUrl:n,willReceiveSupportEmails:i}=e;return y.U.updateBuilderProfile({name:t,hide_name:r,website_url:n,will_receive_support_emails:i})},onSuccess:t=>{e.setQueryData(["builderProfile"],t)},onError:e=>{u.m.warning(e.message)}})}function x(){return(0,a.a)({queryKey:["builderProfile"],queryFn:async()=>y.U.getBuilderProfile()})}function Z(){return(0,f.D)({mutationFn:async e=>{let{gizmoId:t}=e;return y.U.copyGizmo({gizmoId:t})}})}function Q(){return(0,a.a)({queryKey:["gizmoCategories"],queryFn:async()=>y.U.getCategories()})}function H(e,t){return!!(null!=t&&[i.OL.PrimaryAssistant,i.OL.GizmoInteraction].includes(t)&&e?.includes(i.S.GPT_4))}function J(e,t){let r=(0,l.NL)();return(0,f.D)({mutationFn:async t=>{let{rating:r,message:n,includeFrom:i}=t;await y.U.upsertUserReview(e,r,n,i)},onSuccess:async()=>{t?.(),r.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},onError:e=>{u.m.danger(e.message)}})}},99555:function(e,t,r){r.d(t,{U:function(){return s}});var n=r(98601),i=r(28438),o=r(72409),u=r(39004);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class s{static getMyGizmos(){return o.c.get(`${i.B}/gizmos?mine=true`)}static getGizmosByUser(e){return o.c.get(`${i.B}/gizmos/u/${e}`)}static getGizmo(e,t){return o.c.get(`${i.B}/gizmos/${e}${t?"?draft=true":""}`)}static shareGizmo(e,t){return o.c.post(`${i.B}/gizmos/${e}/share`,t)}static getGizmoDiscovery(e,t){let r=new URLSearchParams;return null!=e&&r.set("locale",e),o.c.get(t?`${i.k5}/gizmos/discovery_anon?${r}`:`${i.k5}/gizmos/discovery?${r}`,{authOption:i.FB.SendIfAvailable})}static async getGizmoDiscoveryCut(e,t){let r=r=>{let n={};null!=r&&(n.cursor=r),t?.limit!=null&&(n.limit=`${t.limit}`),t?.locale!=null&&(n.locale=t.locale);let u=`${i.k5}/gizmos/discovery/${e}`;return o.c.get(u,{params:n,authOption:i.FB.SendIfAvailable})},n=await r(t?.cursor);return 0===n.list.items.length&&null!=n.list.cursor?(await new Promise(e=>setTimeout(e,30*Math.random())),r(n.list.cursor)):n}static getGizmoBootstrap(){return o.c.get(`${i.B}/gizmos/bootstrap?limit=2`)}static getGizmoPinned(){return o.c.get(`${i.B}/gizmos/pinned`)}static getGizmoSearch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?o.c.get(`${i.B}/gizmos/search?q=${e}&cursor=${t} `):o.c.get(`${i.B}/gizmos/search?q=${e}`)}static getGizmoSearchForWorkspace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?o.c.get(`${i.B}/gizmos/search?q=${e}&workspace_only=true&cursor=${t}`):o.c.get(`${i.B}/gizmos/search?q=${e}&workspace_only=true`)}static async postGizmoAppeal(e,t,r,n,u){await o.c.post(`${i.B}/gizmos/${t}/appeal`,{reason:r,share_recipient:n,categories:u}),await e.invalidateQueries({queryKey:["gizmo",{gizmoId:t}]})}static async postGizmoCancelAppeal(e,t){await o.c.post(`${i.B}/gizmos/${t}/cancel_appeal`,{}),await e.invalidateQueries({queryKey:["gizmo",{gizmoId:t}]})}static upsertDraft(e,t){return void 0!==t?o.c.post(`${i.B}/gizmos?gizmo_id=${t}`,e):o.c.post(`${i.B}/gizmos`,e)}static promoteDraft(e,t){return o.c.post(`${i.B}/gizmos/${t}/promote`,e)}static deleteGizmo(e){return o.c.delete(`${i.B}/gizmos/${e}`)}static getBuilderProfile(){return o.c.get(`${i.B}/gizmo_creator_profile`)}static updateBuilderProfile(e){return o.c.post(`${i.B}/gizmo_creator_profile`,e)}static unverifySocialAuth(e){return o.c.delete(`${i.B}/gizmo_creator_profile/socials/${e}`)}static async updateGizmoSidebar(e,t,r){let n=await o.c.post(`${i.B}/gizmos/${t}/sidebar`,{action:r});switch(r){case"keep":u.D2.handleGizmoSidebarKeep(e,t);break;case"hide":u.D2.handleGizmoSidebarHide(e,t)}return n}static async removeFromRecent(e,t){let r=await o.c.post(`${i.B}/gizmos/${t}/remove_recent`,{});return e.invalidateQueries({queryKey:["gizmos","bootstrap"]}),e.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(e){return o.c.post(`${i.B}/gizmos/fetch_openapi`,{url:e})}static validateOpenAPISpec(e){return o.c.post(`${i.B}/gizmos/validate_openapi`,{raw_spec:e})}static transformToOpenAPISpec(e,t){return o.c.post(`${i.B}/gizmos/transform_openapi`,c(c({},e),{},{auth:t}))}static async doOAuthRedirect(e,t,r,n,u){let a=await o.c.post(`${i.B}/gizmos/oauth_redirect`,{gizmo_id:e,gizmo_action_id:t,domain:r,redirect_to:n,draft:u});window.location.href=a.redirect_uri}static async upsertUserActionSettings(e,t,r){return o.c.post(`${i.B}/gizmos/action_settings`,{gizmo_action_id:e,domain:t,action_settings:r})}static async getUserActionSettings(e){return o.c.get(`${i.B}/gizmos/user_action_settings?gizmo_id=${e}`)}static async generateCategory(e,t){return o.c.post(`${i.B}/gizmos/gen_category`,{name:e,instructions:t})}static async getCategories(){return o.c.get(`${i.B}/gizmos/categories`)}static async getUserReview(e){return o.c.get(`${i.B}/gizmo_reviews/${e}`)}static async upsertUserReview(e,t,r,n){return o.c.post(`${i.B}/gizmo_reviews/${e}`,{rating:t,message:r,include_from:n})}static async sendFeedbackEmail(e,t,r){return o.c.post(`${i.B}/gizmos/${e}/feedback`,{message:t,include_from:r})}static async getAbout(e){return o.c.get(`${i.B}/gizmos/${e}/about`)}static async getCreatorSlice(e){let{creatorId:t}=e;return o.c.get(`${i.B}/gizmo_creators/${t}/gizmos`)}static async getVersion(e){let{gizmoId:t,version:r}=e;return null==r?o.c.get(`${i.B}/gizmos/${t}/version/latest`):o.c.get(`${i.B}/gizmos/${t}/version/${r}`)}static async listVersions(e){let{gizmoId:t,limit:r,cursor:n}=e,u={};return r&&(u.limit=r),n&&(u.cursor=n),o.c.get(`${i.B}/gizmos/${t}/versions`,{params:u})}static async getRolodex(){return o.c.get(`${i.B}/rolodex`)}static async upsertToRolodex(e,t){let{gizmoId:r,usageDescription:n,remove:u}=t,a=await o.c.post(`${i.B}/rolodex`,{gizmo_id:r,usage_description:n,remove:u});return e.invalidateQueries({queryKey:["gizmoRolodex"],refetchType:"all"}),a}static async copyGizmo(e){let{gizmoId:t}=e;return await o.c.post(`${i.B}/gizmos/${t}/copy`)}}},10080:function(e,t,r){var n,i,o,u,a;r.d(t,{AR:function(){return O},CS:function(){return c},DC:function(){return w},EL:function(){return f},H$:function(){return v},JK:function(){return P},LA:function(){return l},Mj:function(){return _},Nh:function(){return h},U9:function(){return y},Zz:function(){return g},fV:function(){return p},h:function(){return z},q0:function(){return d},qL:function(){return s},yS:function(){return m}});let c="g-YyyyMT9XH",s="g-2fkFE8rbu",l=((n={})[n.USER=1]="USER",n[n.GROUP=2]="GROUP",n[n.WORKSPACE=3]="WORKSPACE",n[n.ALL=4]="ALL",n[n.PROJECT=5]="PROJECT",n[n.ORGANIZATION=6]="ORGANIZATION",n[n.SYSTEM=7]="SYSTEM",n[n.AGENT=8]="AGENT",n),f={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},p={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},g={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"},y=((i={}).FirstParty="first_party",i.UsesFunctionCalls="uses_function_calls",i.Reportable="reportable",i.Private="private",i.Workspace="workspace",i.Public="public",i.Beta="beta",i.Pinned="pinned",i.WorkspaceDisabled="workspace_disabled",i.Unreviewable="unreviewable",i),m=e=>e.gizmo.tags?.includes(y.FirstParty),d=e=>!e.gizmo.tags?.includes(y.Unreviewable),h=((o={}).FILE_SERVICE="fs",o);function z(e){return e.type===l.USER||e.type===l.GROUP}let b=[l.USER,l.GROUP,l.WORKSPACE,l.ALL];function v(e){return 0===e.length?null:e.reduce((e,t)=>b.indexOf(t.type)<b.indexOf(e.type)?e:t,e[0])}function _(e,t,r){return(t=t.filter(e=>e.type===g.User||e.type===g.Group),e===g.Private||e===g.User||e===g.Group)?[{type:g.Private,capabilities:f},...t]:[...t,{type:e,capabilities:r}]}class w{constructor(e){this.response=e}}let O=((u={}).ENGLISH="en",u.GLOBAL="global",u),P=((a={}).FirstParty="first_party",a.SidebarKeep="sidebar_keep",a.Mine="mine",a.Recent="recent",a.Workspace="workspace",a)},45334:function(e,t,r){r.d(t,{R2:function(){return a},S9:function(){return s},VN:function(){return f},WQ:function(){return l},XA:function(){return c},k1:function(){return u}});var n=r(10080),i=r(31498),o=r(75172);function u(e){return e.gizmo.current_user_permission?.can_write??!1}function a(e){return e.gizmo.current_user_permission?.can_view_config??!1}function c(e){let t=(0,o.Z)();return function(e,t,r){let i=t?.name;switch(e){case n.Zz.Link:return r.formatMessage(p.privacyAnyoneWithLink);case n.Zz.Private:return r.formatMessage(p.privacyOnlyMe);case n.Zz.Group:case n.Zz.User:return r.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case n.Zz.Marketplace:return r.formatMessage(p.privacyMarketplace);case n.Zz.Workspace:return r.formatMessage(p.privacyWorkspace,{workspaceName:i});case n.Zz.WorkspaceLink:return r.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:i})}}(e,(0,i.ec)(e=>e.currentWorkspace),t)}function s(e){return"gizmo"in e}function l(e){return"id"in e}function f(e){return`${e.replaceAll(".","_").replaceAll("-","_")}__jit_plugin`}let p=(0,r(68306).vU)({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}})},67437:function(e,t,r){r.d(t,{B9:function(){return A},Bv:function(){return B},Hb:function(){return j},L4:function(){return b},OX:function(){return q},Tg:function(){return $},WK:function(){return C},Xy:function(){return G},Y7:function(){return k},fm:function(){return U},iu:function(){return E},j8:function(){return R},kH:function(){return _},mx:function(){return v},vJ:function(){return K}});var n=r(98601),i=r(52088),o=r(93951),u=r(49166),a=r(84760),c=r(99976),s=r(34977),l=r(92379),f=r(16757),p=r(2721),g=r(92745),y=r(30478),m=r(3945);let d=["default_model","tagline","color","human_category_name","category","human_category_short_name","human_category_shorter_name","subscription_level","short_explainer"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let b="text-davinci-002-render-sha",v="gpt-4",_="gpt-4o",w=(0,m.H6)({slug:m.ge,max_tokens:4097,title:"Default",description:"",tags:[f.S.GPT_3_5],product_features:{}}),O=e=>{let{default_model:t,tagline:r,color:n,human_category_name:o,category:u,human_category_short_name:a,human_category_shorter_name:c,subscription_level:s,short_explainer:l}=e;return z({color:n,tagline:r,defaultModel:t,label:o,shortLabel:a,description:l,shorterLabel:c??a,subscriptionLevel:s,categoryId:u},(0,i.Z)(e,d))},P=e=>{let{icon:t,icon_filled_src:r,icon_outline_src:n}=e;return{iconName:t,iconFilledSrc:r,iconOutlineSrc:n}},S=e=>{let{group:t,human_group_name:r,human_group_short_name:n,model_ids:i}=e;return{group:t,label:r,shortLabel:n,modelIds:i}};function k(){let e=(0,y.V_)();return(0,a.a)((0,u.C)({retry:5,queryKey:["models",{isHistoryDisabled:e}],queryFn:async()=>await p.Z.getModels(e).then(e=>{let{models:t,internal_groups:r,categories:n}=e,i=t.map(m.H6);return{categories:n.concat().reverse().map(O),groups:r?.map(S)??[],modelsList:i,modelsMap:Object.fromEntries(i.map(e=>[e.id,e]))}})}))}function $(){return(0,a.a)((0,u.C)({retry:5,queryKey:["modelIcons"],queryFn:async()=>await p.Z.getModelIcons().then(e=>Object.fromEntries(Object.entries(e).map(e=>{let[t,r]=e;return[t,P(r)]})))}))}function q(){let{isRegen:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isLoading:t,data:{categories:r=[],groups:n=[]}={}}=k();return{isLoading:t,categories:(0,l.useMemo)(()=>e?r.filter(e=>!1!==e.is_regenerate_category):r.filter(e=>!e.is_regenerate_category),[r,e]),groups:n??[]}}function j(){let{categories:e}=q();return!!e.find(e=>{let{categoryId:t}=e;return t===m.ft.GPT4o})}function E(){let{data:e}=k();return(0,l.useMemo)(()=>new Set(e?Object.keys(e.modelsMap):[m.ge]),[e])}let D={[m.ge]:w};function A(){let{data:e}=k();return e?.modelsMap??D}function U(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.useRouter)(),{query:r}=t;return(0,l.useCallback)(n=>{let{location:i,modelId:o}=n,u={model:encodeURIComponent(o)},a=t.route.includes("/g/");if(e||a)c.A.logNewChatButtonClicked({location:i}),t.push({pathname:"/",query:u},void 0,{shallow:!0});else{let e=z(z({},r),u);c.A.logNewChatButtonClicked({location:i}),t.replace({pathname:t.basePath,query:e},void 0,{shallow:!0})}},[e,r,t])}function K(){let{data:{categories:e=[]}={}}=k(),{doesUserHaveAnyAccountsWithPlusFeatures:t}=(0,o.al)();if(t)return null;let r=e.find(m.q_);return r?.defaultModel??null}function B(e){return(0,g.y8)(e)}function G(e){let t=B(e),r=A();return(0,l.useMemo)(()=>null==t?w:r[t]??w,[t,r])}function C(e){return decodeURIComponent(e.model??"")||null}function R(){var e,t;let r;let{data:n}=k(),{doesUserHaveAnyAccountsWithPlusFeatures:i}=(0,o.al)(),u=(0,o.t)();return e=!!i,t=!!u?.isEnterprise(),r=f.S.GPT_3_5,t?r=f.S.GPT_4:e&&(r=f.S.GPT_4o),n?.modelsList.find(e=>e.tags.includes(r))??n?.modelsList[0]??w}},42906:function(e,t,r){r.d(t,{M:function(){return y},l:function(){return g}});var n=r(52088),i=r(16757),o=r(67437),u=r(92745),a=r(30474),c=r(85567),s=r(34977),l=r(92379),f=r(92054);function p(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let g="q";function y(e){var t;let{clientThreadId:r,currentLeafId:y,handleRequestCompletion:d}=e,h=(0,l.useRef)(!1),{isLoading:z}=(0,o.Y7)(),b=(0,s.useRouter)(),v=(0,l.useCallback)((e,t,n,o)=>{u.tQ.updateTree(r,r=>{r.addNode(e,n,t,i.uU.User,void 0,o)})},[r]),_=(0,l.useCallback)(async(e,t,r,n)=>{let{content:o,attachments:u}=t;v(e,y,o,u.length>0?{attachments:u}:{}),d({type:i.Os.Next,promptId:e,eventMetadata:r,cancelActiveRequests:!0,completionMetadata:n})},[v,d,y]),w=(0,a.L)(()=>window.location.pathname)??null,O=!z&&null!=(t=w)&&("/"===t||m(t)),P=u.iN.getConversationMode(r),S=(0,c.f)();m(w)&&void 0===S&&(O=!1),(0,l.useEffect)(()=>{if(!O||h.current)return;let e=b.query,{[g]:t,m:i}=e,o=(0,n.Z)(e,[g,"m"].map(p)),a=("string"==typeof t?t:null)??("string"==typeof i?i:null);if(!a||null!=u.tQ.getServerThreadId(r)||null==P)return;let c=(0,f.Z)();h.current=!0,b.replace({query:o},void 0,{shallow:!0}),_(c,{content:a,attachments:[]},{eventSource:"url"},{conversationMode:P,source:"instant-query"})},[O,b,_,r,P])}function m(e){return null!=e&&/^\/g\/[\w-]+$/.test(e)}},31498:function(e,t,r){r.d(t,{F_:function(){return d},aF:function(){return g},e2:function(){return z},ec:function(){return m},m0:function(){return h}});var n=r(98601),i=r(49166),o=r(84760),u=r(99333),a=r(2721),c=r(93951);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function f(){let e=await a.Z.getMe();return{id:e.id,email:e.email,name:e.name,picture:e.picture,created:e.created}}let p=(0,i.C)({queryKey:["user"],queryFn:f,staleTime:1/0});function g(){return(0,o.a)(p).data}let y={currentWorkspace:null,subscriptionStatus:null,workspaces:[]};function m(e){let t=(0,o.a)(l(l({},(0,c.KP)()),{},{select:e=>{let t=(0,c.EI)(e);return{currentWorkspace:t?.data??null,subscriptionStatus:t?.data.subscriptionStatus??null,workspaces:e.accountItems.map(e=>e.data)}}})).data??y;return e?e(t):t}let d={hasMultipleWorkspaces:e=>{let{workspaces:t}=e;return t.length>1},isPersonalWorkspace:e=>{let{currentWorkspace:t}=e;return t?.structure===u.CZ.PERSONAL},isBusinessWorkspace:e=>{let{currentWorkspace:t}=e;return null!=t?t.structure===u.CZ.WORKSPACE:void 0},isEnterprisePlan:e=>{let{subscriptionStatus:t}=e;return t?.planType===u.D8.ENTERPRISE},isEduPlan:e=>{let{subscriptionStatus:t}=e;return t?.planType===u.D8.EDU},isEnterpriseyPlan:e=>{let{subscriptionStatus:t}=e;return t?.planType===u.D8.ENTERPRISE||t?.planType===u.D8.EDU},isTeamPlan:e=>{let{subscriptionStatus:t}=e;return t?.planType===u.D8.TEAM},isAdmin:e=>{let{currentWorkspace:t}=e;return null!=t&&t.role===u.r3.ADMIN},isOwner:e=>{let{currentWorkspace:t}=e;return null!=t&&t.role===u.r3.OWNER},workspaceId:e=>{let{currentWorkspace:t}=e;return null!=t?t.id:null},businessWorkspace:e=>{let{currentWorkspace:t}=e;return t?.structure===u.CZ.WORKSPACE?t:void 0},businessWorkspaceId:e=>{let{currentWorkspace:t}=e;return t?.structure===u.CZ.WORKSPACE?t.id:void 0},hasPaidSubscription:e=>{let{subscriptionStatus:t}=e;return null!=t&&t.hasPaidSubscription},wasPaidCustomer:e=>{let{subscriptionStatus:t}=e;return null!=t&&t.wasPaidCustomer},hasCustomerObject:e=>{let{subscriptionStatus:t}=e;return null!=t&&t.hasCustomerObject},hasUnclaimedFreeTrial:e=>{let{currentWorkspace:t}=e;return t?.promoData?.has_claimed_free_trial},lastActiveSubscription:e=>{let{subscriptionStatus:t}=e;return null!=t?t.lastActiveSubscription:null},workspaces:e=>{let{workspaces:t}=e;return t},accountUserId:e=>{let{currentWorkspace:t}=e;return t?.accountUserId}};function h(){let e=(0,c.t)();if(null!=e)return e.hasPlusFeatures()}function z(){return c.t()?.data.subscriptionStatus.lastActiveSubscription}},85567:function(e,t,r){r.d(t,{I:function(){return a},f:function(){return c}});var n=r(84760);let i="client-correlated-secret";function o(){let e=localStorage.getItem(i);return null==e?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function u(){null==o()&&localStorage.setItem(i,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));let e=o();if(null==e)throw Error("Failed to get key from storage");return e}function a(e){let t=new URL(e),r=(0,n.a)({queryKey:[i,"generate-challenge",e.search],queryFn:async()=>[...new Uint8Array(await crypto.subtle.sign("HMAC",await u(),new TextEncoder().encode(e.search)))].map(e=>e.toString(16).padStart(2,"0")).join(""),staleTime:0});if(void 0!==r.data)return t.hash=r.data,t}function c(){let e=location?.search,t=location?.hash;return(0,n.a)({queryKey:[i,"verify-challenge",e,t],queryFn:async()=>"string"==typeof e&&"string"==typeof t&&crypto.subtle.verify("HMAC",await u(),function(e){let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++)t[r]=parseInt(e.substr(2*r,2),16);return t.buffer}(t.slice(1)),new TextEncoder().encode(e))}).data?new URLSearchParams(e):void 0}}}]);
//# sourceMappingURL=9113-d56f9d7a4a13706f.js.map