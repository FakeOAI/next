"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4993],{38838:function(e,t,r){r.d(t,{Dz:function(){return u},Rp:function(){return c},Yf:function(){return a}});var n=r(19841),i=r(11433),o=r(651);function a(e){let{className:t}=e;return(0,o.jsx)(i.ob9,{className:(0,n.default)(t,"rtl:-scale-x-100")})}function u(e){let{className:t}=e;return(0,o.jsx)(i.Y1T,{className:(0,n.default)(t,"rtl:-scale-x-100")})}function c(e){let{className:t}=e;return(0,o.jsx)(i.Y4O,{className:(0,n.default)(t,"rtl:-scale-x-100")})}},98095:function(e,t,r){r.d(t,{d:function(){return _}});var n=r(98601),i=r(52088),o=r(54089),a=r(19841),u=r(92379),c=r(38838),s=r(11433),l=r(50863),f=r(651);let g=["className","size","align"],m=["onSelect","icon","className","color","size"],p=["className"],d=["onSelect","children"],y=["className"],h=["icon","children"];function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let b=u.forwardRef(function(e,t){let{className:r,size:n="default",align:u}=e,c=(0,i.Z)(e,g);return(0,f.jsx)(l.w5,v({ref:t,$as:o.VY,sideOffset:4,align:u??"start",collisionPadding:10,className:(0,a.default)({"min-w-[280px]":"default"===n,"min-w-[340px]":"large"===n,"min-w-[125px]":"small"===n,"overflow-hidden":!0},r)},c))});function _(e){let{triggerButton:t,children:r,size:n="default",open:i,onOpenChange:a,contentAlign:u,side:c,sideOffset:s=0,alignOffset:l=0,contentClassName:g}=e;return(0,f.jsxs)(o.fC,{modal:!1,open:i,onOpenChange:a,children:[(0,f.jsx)(o.xz,{asChild:!0,children:t}),(0,f.jsx)(o.Uv,{children:(0,f.jsx)(b,{size:n,align:u,alignOffset:l,side:c,sideOffset:s,className:g,children:r})})]})}let w={Root:o.fC,Trigger:function(e){return(0,f.jsx)(l.J7,v(v({$as:o.xz},e),{},{onFocusCapture:t=>{t.stopPropagation(),e.onFocusCapture?.(t)}}))},Portal:o.Uv,Content:b,Item:u.forwardRef(function(e,t){let{onSelect:r,icon:n,className:c,color:s,size:g="default"}=e,p=(0,i.Z)(e,m);return n?(0,f.jsxs)(l.gG,v(v({$as:o.ck,ref:t,onSelect:r,className:(0,a.default)("danger"===s&&"text-token-text-error","large"===g&&"gap-3",c)},p),{},{children:[(0,f.jsx)("div",{className:(0,a.default)("flex items-center justify-center","danger"===s&&"text-token-text-error","danger"!==s&&"text-token-text-secondary","default"===g&&"h-5 w-5","large"===g&&"h-5 w-7"),children:(0,u.isValidElement)(n)?n:(0,f.jsx)(n,{className:"h-5 w-5 shrink-0"})}),p.children]})):(0,f.jsx)(l.gG,v({$as:o.ck,ref:t,onSelect:r,className:(0,a.default)("danger"===s&&"text-token-text-error",c)},p))}),Separator:function(e){let{className:t}=e,r=(0,i.Z)(e,p);return(0,f.jsx)(o.Z0,v({className:(0,a.default)("mx-5 my-1 h-px bg-token-border-light",t)},r))},RadioGroup:o.Ee,RadioItem:function(e){let{onSelect:t,children:r}=e,n=(0,i.Z)(e,d);return(0,f.jsxs)(l.aF,v(v({$as:o.Rk,onSelect:t},n),{},{children:[(0,f.jsx)(o.wU,{className:"absolute",children:(0,f.jsx)(s.$As,{className:"icon-sm"})}),(0,f.jsx)("span",{className:"ml-6",children:r})]}))},Sub:o.Tr,SubContent:function(e){let{className:t}=e,r=(0,i.Z)(e,y);return(0,f.jsx)(l.w5,v({$as:o.tu,className:(0,a.default)("mt-2 max-h-[calc(100vh-300px)] min-w-[100px] overflow-auto",t),sideOffset:8,alignOffset:-16,collisionPadding:20},r))},SubMenuTrigger:function(e){let{icon:t,children:r}=e,n=(0,i.Z)(e,h);return(0,f.jsxs)(l.gG,v(v({$as:o.fF},n),{},{children:[t&&(0,f.jsx)("div",{className:"flex h-5 w-5 items-center justify-center text-token-text-secondary",children:(0,f.jsx)(t,{className:"h-5 w-5 flex-shrink-0"})}),r,(0,f.jsx)("div",{className:"ml-auto flex items-center text-token-text-tertiary group-data-[disabled]:opacity-50",children:(0,f.jsx)(c.Yf,{className:"icon-md"})})]}))},Label:function(e){let{children:t}=e;return(0,f.jsx)(o.__,{className:"mx-2 my-0 px-2 text-xs font-semibold text-token-text-secondary",children:t})}};t.Z=w},39004:function(e,t,r){r.d(t,{AG:function(){return w},D2:function(){return B},DC:function(){return A},DS:function(){return F},Dq:function(){return x},EF:function(){return $},F0:function(){return D},Fi:function(){return j},HW:function(){return z},K7:function(){return J},K9:function(){return C},M0:function(){return E},N_:function(){return L},Sg:function(){return S},UQ:function(){return H},Vw:function(){return R},WL:function(){return I},Wd:function(){return K},Wz:function(){return U},YR:function(){return W},Z1:function(){return Q},ZJ:function(){return M},b9:function(){return N},i6:function(){return k},kX:function(){return b},kb:function(){return T},m_:function(){return O},pJ:function(){return Z},un:function(){return _},uy:function(){return v},z5:function(){return P}});var n=r(98601),i=r(16757),o=r(10080),a=r(24740),u=r(84760),c=r(19856),s=r(49166),l=r(42420),f=r(56032),g=r(85567),m=r(42906),p=r(99555),d=r(45334);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let z="GPT Builder";function v(e){if(e)return`ChatGPT - ${e}`}function b(e){return e.gizmo.short_url??e.gizmo.id??"-"}function _(e){return`/g/${e}`}function w(e){return`https://chatgpt.com${_(e)}`}function O(e){return _(b(e))}function $(e,t){let r=new URLSearchParams;return null!=t&&r.set(m.l,t),(0,g.I)(new URL(`${O(e)}?${r}`,"https://chatgpt.com"))}function k(e){return`/g/${b(e)}`}function S(e){return(0,d.S9)(e)&&0===e.gizmo.live_version||(0,d.WQ)(e)&&0===e.liveVersion}function P(e,t){return(0,u.a)({queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:async()=>p.U.getGizmoDiscovery(e,t)})}function j(e){let{cutId:t,locale:r,limit:n,cursor:i,enabled:o=!0}=e;return(0,c.N)({queryKey:["gizmos","discovery",{cutId:t,locale:r,limit:n}],queryFn:async e=>{let{pageParam:i}=e;return p.U.getGizmoDiscoveryCut(t,{locale:r,cursor:i,limit:n})},initialPageParam:i,getNextPageParam:e=>e.list.cursor??void 0,enabled:o})}function x(){return(0,u.a)({queryKey:["gizmos","pinned"],queryFn:async()=>p.U.getGizmoPinned()})}function q(){return(0,s.C)({queryKey:["gizmos","bootstrap"],queryFn:async()=>p.U.getGizmoBootstrap().then(e=>({gizmos:e.gizmos.map(e=>({resource:e.resource,flair:e.flair}))}))})}function U(){return(0,u.a)(q())}function G(e,t){let r=e.filter(e=>e.resource.gizmo.id!==t.resource.gizmo.id),n=r.findIndex(e=>e.flair.kind===o.JK.Recent);return -1===n&&(n=r.length),r.splice(n,0,t),r}let B={handleGizmoInteracted(e,t){let r=e.getQueryData(R(e,t).queryKey);null!=r&&e.setQueryData(q().queryKey,e=>{if(null==e)return e;let n=e.gizmos.find(e=>e.resource.gizmo.id===t);return n?.flair.kind===o.JK.FirstParty||n?.flair.kind===o.JK.SidebarKeep?e:{gizmos:G(e.gizmos,{resource:r,flair:{kind:o.JK.Recent}})}})},handleGizmoSidebarKeep(e,t){let r=e.getQueryData(R(e,t).queryKey);null!=r&&e.setQueryData(q().queryKey,e=>null==e?e:{gizmos:G(e.gizmos,{resource:r,flair:{kind:o.JK.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(q().queryKey,e=>e?.gizmos.some(e=>e.resource.gizmo.id===t)?{gizmos:e.gizmos.filter(e=>e.resource.gizmo.id!==t)}:e)}};function N(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,l.NL)();return(0,u.a)(R(r,e,t))}function A(e){let{gizmoId:t,draft:r,version:n}=e,i=(0,l.NL)(),o=n?{queryKey:["gizmo","version",{gizmoId:t,version:n}],queryFn:async()=>p.U.getVersion({gizmoId:t,version:n}),enabled:null!=t}:R(i,t,r);return(0,u.a)(o)}function K(e,t){return(0,u.a)({queryKey:["gizmo","userActionSettings",{gizmoId:e}],queryFn:async()=>p.U.getUserActionSettings(e),enabled:null!=e&&t})}function R(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,s.C)({queryKey:["gizmo",{gizmoId:t},{draft:r}],queryFn:async()=>p.U.getGizmo(t,r),enabled:null!=t,initialData:()=>{if(!0===r)return;let n=e.getQueryData(q().queryKey);if(null!=n)return n.gizmos.find(e=>e.resource.gizmo.id===t)?.resource;let i=e.getQueryData(["gizmos","discovery"]);if(null!=i)for(let e of i.cuts){let r=e.list.items.find(e=>e.resource.gizmo.id===t)?.resource;if(null!=r)return r}}})}function D(e,t){return e.fetchQuery(R(e,t))}function C(e){return(0,u.a)({queryKey:["gizmo",{search:e}],queryFn:async()=>p.U.getGizmoSearch(e),enabled:e.length>0})}function E(e,t){return(0,u.a)({queryKey:["gizmo-search-workspace",{search:e}],queryFn:async()=>p.U.getGizmoSearchForWorkspace(e),enabled:e.length>0&&t})}function F(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,c.N)({queryKey:[r?"gizmo-search-workspace":"gizmo",{query:e,cursor:n}],queryFn:async t=>{let{pageParam:i}=t;return r?p.U.getGizmoSearchForWorkspace(e,n=i):p.U.getGizmoSearch(e,n=i)},initialPageParam:n,getNextPageParam:e=>e.cursor??void 0,enabled:t})}function L(){let e=(0,l.NL)();return(0,f.D)({mutationFn:async e=>{let{gizmoId:t,editorData:r}=e,{instructions:n,name:i,description:a,profilePictureId:u,profilePictureUrl:c,promptStarters:s,tools:l,files:f,trainingDisabled:g}=r;return p.U.upsertDraft({instructions:n,display:{name:i,description:a,profile_pic_id:u,profile_picture_url:c,prompt_starters:s},tools:l,files:f.map(e=>h(h({},e),{},{location:o.Nh.FILE_SERVICE})),training_disabled:g},t)},onSettled:t=>{t&&(e.setQueryData(R(e,t.gizmo.id,!0).queryKey,t),e.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}})}function M(){let e=(0,l.NL)();return(0,f.D)({mutationFn:async e=>{let{gizmoId:t,data:r}=e,{sharingRecipient:n,categories:i}=r,a=await p.U.promoteDraft({sharing:r.sharingSubjects&&r.sharingSubjects.length>0?r.sharingSubjects:{recipient:n},categories:i},t);if(a.error)throw new o.DC(a);return a.resource},onSettled:t=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),e.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),t&&e.setQueryData(R(e,t.gizmo.id,!1).queryKey,t)}})}function T(){let e=(0,l.NL)();return(0,f.D)({mutationFn:async e=>{let{gizmoId:t}=e;return p.U.deleteGizmo(t)},onSettled:()=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}})}function Z(){let e=(0,l.NL)();return(0,f.D)({mutationFn:async e=>{let{name:t,hideName:r,websiteUrl:n,willReceiveSupportEmails:i}=e;return p.U.updateBuilderProfile({name:t,hide_name:r,website_url:n,will_receive_support_emails:i})},onSuccess:t=>{e.setQueryData(["builderProfile"],t)},onError:e=>{a.m.warning(e.message)}})}function I(){return(0,u.a)({queryKey:["builderProfile"],queryFn:async()=>p.U.getBuilderProfile()})}function W(){return(0,f.D)({mutationFn:async e=>{let{gizmoId:t}=e;return p.U.copyGizmo({gizmoId:t})}})}function Q(){return(0,u.a)({queryKey:["gizmoCategories"],queryFn:async()=>p.U.getCategories()})}function H(e,t){return!!(null!=t&&[i.OL.PrimaryAssistant,i.OL.GizmoInteraction].includes(t)&&e?.includes(i.S.GPT_4))}function J(e,t){let r=(0,l.NL)();return(0,f.D)({mutationFn:async t=>{let{rating:r,message:n,includeFrom:i}=t;await p.U.upsertUserReview(e,r,n,i)},onSuccess:async()=>{t?.(),r.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},onError:e=>{a.m.danger(e.message)}})}},99555:function(e,t,r){r.d(t,{U:function(){return c}});var n=r(98601),i=r(28438),o=r(72409);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class c{static getMyGizmos(){return o.c.get(`${i.B}/gizmos?mine=true`)}static getGizmosByUser(e){return o.c.get(`${i.B}/gizmos/u/${e}`)}static getGizmo(e,t){return o.c.get(`${i.B}/gizmos/${e}${t?"?draft=true":""}`)}static shareGizmo(e,t){return o.c.post(`${i.B}/gizmos/${e}/share`,t)}static getGizmoDiscovery(e,t){let r=new URLSearchParams;return null!=e&&r.set("locale",e),o.c.get(t?`${i.k5}/gizmos/discovery_anon?${r}`:`${i.k5}/gizmos/discovery?${r}`,{authOption:i.FB.SendIfAvailable})}static async getGizmoDiscoveryCut(e,t){let r=r=>{let n={};null!=r&&(n.cursor=r),t?.limit!=null&&(n.limit=`${t.limit}`),t?.locale!=null&&(n.locale=t.locale);let a=`${i.k5}/gizmos/discovery/${e}`;return o.c.get(a,{params:n,authOption:i.FB.SendIfAvailable})},n=await r(t?.cursor);return 0===n.list.items.length&&null!=n.list.cursor?(await new Promise(e=>setTimeout(e,30*Math.random())),r(n.list.cursor)):n}static getGizmoBootstrap(){return o.c.get(`${i.B}/gizmos/bootstrap?limit=2`)}static getGizmoPinned(){return o.c.get(`${i.B}/gizmos/pinned`)}static getGizmoSearch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?o.c.get(`${i.B}/gizmos/search?q=${e}&cursor=${t} `):o.c.get(`${i.B}/gizmos/search?q=${e}`)}static getGizmoSearchForWorkspace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?o.c.get(`${i.B}/gizmos/search?q=${e}&workspace_only=true&cursor=${t}`):o.c.get(`${i.B}/gizmos/search?q=${e}&workspace_only=true`)}static async postGizmoAppeal(e,t,r,n,a){await o.c.post(`${i.B}/gizmos/${t}/appeal`,{reason:r,share_recipient:n,categories:a}),await e.invalidateQueries({queryKey:["gizmo",{gizmoId:t}]})}static async postGizmoCancelAppeal(e,t){await o.c.post(`${i.B}/gizmos/${t}/cancel_appeal`,{}),await e.invalidateQueries({queryKey:["gizmo",{gizmoId:t}]})}static upsertDraft(e,t){return void 0!==t?o.c.post(`${i.B}/gizmos?gizmo_id=${t}`,e):o.c.post(`${i.B}/gizmos`,e)}static promoteDraft(e,t){return o.c.post(`${i.B}/gizmos/${t}/promote`,e)}static deleteGizmo(e){return o.c.delete(`${i.B}/gizmos/${e}`)}static getBuilderProfile(){return o.c.get(`${i.B}/gizmo_creator_profile`)}static updateBuilderProfile(e){return o.c.post(`${i.B}/gizmo_creator_profile`,e)}static unverifySocialAuth(e){return o.c.delete(`${i.B}/gizmo_creator_profile/socials/${e}`)}static async updateGizmoSidebar(e,t,r,n){let a=await o.c.post(`${i.B}/gizmos/${r}/sidebar`,{action:n});switch(n){case"keep":t.handleGizmoSidebarKeep(e,r);break;case"hide":t.handleGizmoSidebarHide(e,r)}return a}static async removeFromRecent(e,t){let r=await o.c.post(`${i.B}/gizmos/${t}/remove_recent`,{});return e.invalidateQueries({queryKey:["gizmos","bootstrap"]}),e.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(e){return o.c.post(`${i.B}/gizmos/fetch_openapi`,{url:e})}static validateOpenAPISpec(e){return o.c.post(`${i.B}/gizmos/validate_openapi`,{raw_spec:e})}static transformToOpenAPISpec(e,t){return o.c.post(`${i.B}/gizmos/transform_openapi`,u(u({},e),{},{auth:t}))}static async doOAuthRedirect(e,t,r,n,a){let u=await o.c.post(`${i.B}/gizmos/oauth_redirect`,{gizmo_id:e,gizmo_action_id:t,domain:r,redirect_to:n,draft:a});window.location.href=u.redirect_uri}static async upsertUserActionSettings(e,t,r){return o.c.post(`${i.B}/gizmos/action_settings`,{gizmo_action_id:e,domain:t,action_settings:r})}static async getUserActionSettings(e){return o.c.get(`${i.B}/gizmos/user_action_settings?gizmo_id=${e}`)}static async generateCategory(e,t){return o.c.post(`${i.B}/gizmos/gen_category`,{name:e,instructions:t})}static async getCategories(){return o.c.get(`${i.B}/gizmos/categories`)}static async getUserReview(e){return o.c.get(`${i.B}/gizmo_reviews/${e}`)}static async upsertUserReview(e,t,r,n){return o.c.post(`${i.B}/gizmo_reviews/${e}`,{rating:t,message:r,include_from:n})}static async sendFeedbackEmail(e,t,r){return o.c.post(`${i.B}/gizmos/${e}/feedback`,{message:t,include_from:r})}static async getAbout(e){return o.c.get(`${i.B}/gizmos/${e}/about`)}static async getCreatorSlice(e){let{creatorId:t}=e;return o.c.get(`${i.B}/gizmo_creators/${t}/gizmos`)}static async getVersion(e){let{gizmoId:t,version:r}=e;return null==r?o.c.get(`${i.B}/gizmos/${t}/version/latest`):o.c.get(`${i.B}/gizmos/${t}/version/${r}`)}static async listVersions(e){let{gizmoId:t,limit:r,cursor:n}=e,a={};return r&&(a.limit=r),n&&(a.cursor=n),o.c.get(`${i.B}/gizmos/${t}/versions`,{params:a})}static async getRolodex(){return o.c.get(`${i.B}/rolodex`)}static async upsertToRolodex(e,t){let{gizmoId:r,usageDescription:n,remove:a}=t,u=await o.c.post(`${i.B}/rolodex`,{gizmo_id:r,usage_description:n,remove:a});return e.invalidateQueries({queryKey:["gizmoRolodex"],refetchType:"all"}),u}static async copyGizmo(e){let{gizmoId:t}=e;return await o.c.post(`${i.B}/gizmos/${t}/copy`)}}},10080:function(e,t,r){var n,i,o,a,u;r.d(t,{AR:function(){return O},CS:function(){return c},DC:function(){return w},EL:function(){return f},H$:function(){return b},JK:function(){return $},LA:function(){return l},Mj:function(){return _},Nh:function(){return h},U9:function(){return p},Zz:function(){return m},fV:function(){return g},h:function(){return z},q0:function(){return y},qL:function(){return s},yS:function(){return d}});let c="g-YyyyMT9XH",s="g-2fkFE8rbu",l=((n={})[n.USER=1]="USER",n[n.GROUP=2]="GROUP",n[n.WORKSPACE=3]="WORKSPACE",n[n.ALL=4]="ALL",n[n.PROJECT=5]="PROJECT",n[n.ORGANIZATION=6]="ORGANIZATION",n[n.SYSTEM=7]="SYSTEM",n[n.AGENT=8]="AGENT",n),f={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},g={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},m={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"},p=((i={}).FirstParty="first_party",i.UsesFunctionCalls="uses_function_calls",i.Reportable="reportable",i.Private="private",i.Workspace="workspace",i.Public="public",i.Beta="beta",i.Pinned="pinned",i.WorkspaceDisabled="workspace_disabled",i.Unreviewable="unreviewable",i),d=e=>e.gizmo.tags?.includes(p.FirstParty),y=e=>!e.gizmo.tags?.includes(p.Unreviewable),h=((o={}).FILE_SERVICE="fs",o);function z(e){return e.type===l.USER||e.type===l.GROUP}let v=[l.USER,l.GROUP,l.WORKSPACE,l.ALL];function b(e){return 0===e.length?null:e.reduce((e,t)=>v.indexOf(t.type)<v.indexOf(e.type)?e:t,e[0])}function _(e,t,r){return(t=t.filter(e=>e.type===m.User||e.type===m.Group),e===m.Private||e===m.User||e===m.Group)?[{type:m.Private,capabilities:f},...t]:[...t,{type:e,capabilities:r}]}class w{constructor(e){this.response=e}}let O=((a={}).ENGLISH="en",a.GLOBAL="global",a),$=((u={}).FirstParty="first_party",u.SidebarKeep="sidebar_keep",u.Mine="mine",u.Recent="recent",u.Workspace="workspace",u)},45334:function(e,t,r){r.d(t,{R2:function(){return u},S9:function(){return s},VN:function(){return f},WQ:function(){return l},XA:function(){return c},k1:function(){return a}});var n=r(10080),i=r(31498),o=r(49764);function a(e){return e.gizmo.current_user_permission?.can_write??!1}function u(e){return e.gizmo.current_user_permission?.can_view_config??!1}function c(e){let t=(0,o.Z)();return function(e,t,r){let i=t?.name;switch(e){case n.Zz.Link:return r.formatMessage(g.privacyAnyoneWithLink);case n.Zz.Private:return r.formatMessage(g.privacyOnlyMe);case n.Zz.Group:case n.Zz.User:return r.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case n.Zz.Marketplace:return r.formatMessage(g.privacyMarketplace);case n.Zz.Workspace:return r.formatMessage(g.privacyWorkspace,{workspaceName:i});case n.Zz.WorkspaceLink:return r.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:i})}}(e,(0,i.ec)(e=>e.currentWorkspace),t)}function s(e){return"gizmo"in e}function l(e){return"id"in e}function f(e){return`${e.replaceAll(".","_").replaceAll("-","_")}__jit_plugin`}let g=(0,r(47584).vU)({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}})},67437:function(e,t,r){r.d(t,{B9:function(){return G},Bv:function(){return A},Hb:function(){return x},L4:function(){return v},OX:function(){return j},Tg:function(){return P},WK:function(){return R},Xy:function(){return K},Y7:function(){return S},fm:function(){return B},iu:function(){return q},j8:function(){return D},kH:function(){return _},mx:function(){return b},vJ:function(){return N}});var n=r(98601),i=r(52088),o=r(93951),a=r(49166),u=r(84760),c=r(99976),s=r(34977),l=r(92379),f=r(16757),g=r(2721),m=r(92745),p=r(30478),d=r(3945);let y=["default_model","tagline","color","human_category_name","category","human_category_short_name","human_category_shorter_name","subscription_level","short_explainer"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let v="text-davinci-002-render-sha",b="gpt-4",_="gpt-4o",w=(0,d.H6)({slug:d.ge,max_tokens:4097,title:"Default",description:"",tags:[f.S.GPT_3_5],product_features:{}}),O=e=>{let{default_model:t,tagline:r,color:n,human_category_name:o,category:a,human_category_short_name:u,human_category_shorter_name:c,subscription_level:s,short_explainer:l}=e;return z({color:n,tagline:r,defaultModel:t,label:o,shortLabel:u,description:l,shorterLabel:c??u,subscriptionLevel:s,categoryId:a},(0,i.Z)(e,y))},$=e=>{let{icon:t,icon_filled_src:r,icon_outline_src:n}=e;return{iconName:t,iconFilledSrc:r,iconOutlineSrc:n}},k=e=>{let{group:t,human_group_name:r,human_group_short_name:n,model_ids:i}=e;return{group:t,label:r,shortLabel:n,modelIds:i}};function S(){let e=(0,p.ns)();return(0,u.a)((0,a.C)({retry:5,queryKey:["models",{isHistoryDisabled:e}],queryFn:async()=>await g.Z.getModels(e).then(e=>{let{models:t,internal_groups:r,categories:n}=e,i=t.map(d.H6);return{categories:n.concat().reverse().map(O),groups:r?.map(k)??[],modelsList:i,modelsMap:Object.fromEntries(i.map(e=>[e.id,e]))}})}))}function P(){return(0,u.a)((0,a.C)({retry:5,queryKey:["modelIcons"],queryFn:async()=>await g.Z.getModelIcons().then(e=>Object.fromEntries(Object.entries(e).map(e=>{let[t,r]=e;return[t,$(r)]})))}))}function j(){let{isRegen:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isLoading:t,data:{categories:r=[],groups:n=[]}={}}=S();return{isLoading:t,categories:(0,l.useMemo)(()=>e?r.filter(e=>!1!==e.is_regenerate_category):r.filter(e=>!e.is_regenerate_category),[r,e]),groups:n??[]}}function x(){let{categories:e}=j();return!!e.find(e=>{let{categoryId:t}=e;return t===d.ft.GPT4o})}function q(){let{data:e}=S();return(0,l.useMemo)(()=>new Set(e?Object.keys(e.modelsMap):[d.ge]),[e])}let U={[d.ge]:w};function G(){let{data:e}=S();return e?.modelsMap??U}function B(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.useRouter)(),{query:r}=t;return(0,l.useCallback)(n=>{let{location:i,modelId:o}=n,a={model:encodeURIComponent(o)},u=t.route.includes("/g/");if(e||u)c.A.logNewChatButtonClicked({location:i}),t.push({pathname:"/",query:a},void 0,{shallow:!0});else{let e=z(z({},r),a);c.A.logNewChatButtonClicked({location:i}),t.replace({pathname:t.basePath,query:e},void 0,{shallow:!0})}},[e,r,t])}function N(){let{data:{categories:e=[]}={}}=S(),{doesUserHaveAnyAccountsWithPlusFeatures:t}=(0,o.al)();if(t)return null;let r=e.find(d.q_);return r?.defaultModel??null}function A(e){return(0,m.y8)(e)}function K(e){let t=A(e),r=G();return(0,l.useMemo)(()=>null==t?w:r[t]??w,[t,r])}function R(e){return decodeURIComponent(e.model??"")||null}function D(){var e,t;let r;let{data:n}=S(),{doesUserHaveAnyAccountsWithPlusFeatures:i}=(0,o.al)(),a=(0,o.t)();return e=!!i,t=!!a?.isEnterprise(),r=f.S.GPT_3_5,t?r=f.S.GPT_4:e&&(r=f.S.GPT_4o),n?.modelsList.find(e=>e.tags.includes(r))??n?.modelsList[0]??w}},42906:function(e,t,r){r.d(t,{M:function(){return p},l:function(){return m}});var n=r(52088),i=r(16757),o=r(67437),a=r(92745),u=r(30474),c=r(85567),s=r(34977),l=r(92379),f=r(92054);function g(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let m="q";function p(e){var t;let{clientThreadId:r,currentLeafId:p,handleRequestCompletion:y}=e,h=(0,l.useRef)(!1),{isLoading:z}=(0,o.Y7)(),v=(0,s.useRouter)(),b=(0,l.useCallback)((e,t,n,o)=>{a.tQ.updateTree(r,r=>{r.addNode(e,n,t,i.uU.User,void 0,o)})},[r]),_=(0,l.useCallback)(async(e,t,r,n)=>{let{content:o,attachments:a}=t;b(e,p,o,a.length>0?{attachments:a}:{}),y({type:i.Os.Next,promptId:e,eventMetadata:r,cancelActiveRequests:!0,completionMetadata:n})},[b,y,p]),w=(0,u.L)(()=>window.location.pathname)??null,O=!z&&null!=(t=w)&&("/"===t||d(t)),$=a.iN.getConversationMode(r),k=(0,c.f)();d(w)&&void 0===k&&(O=!1),(0,l.useEffect)(()=>{if(!O||h.current)return;let e=v.query,{[m]:t,m:i}=e,o=(0,n.Z)(e,[m,"m"].map(g)),u=("string"==typeof t?t:null)??("string"==typeof i?i:null);if(!u||null!=a.tQ.getServerThreadId(r)||null==$)return;let c=(0,f.Z)();h.current=!0,v.replace({query:o},void 0,{shallow:!0}),_(c,{content:u,attachments:[]},{eventSource:"url"},{conversationMode:$,source:"instant-query"})},[O,v,_,r,$])}function d(e){return null!=e&&/^\/g\/[\w-]+$/.test(e)}},3551:function(e,t,r){r.d(t,{AA:function(){return u},FH:function(){return l},J8:function(){return s},L7:function(){return a},SX:function(){return f},ZV:function(){return i},cy:function(){return o},xj:function(){return c}});var n=r(39004);function i(e,t){return t?`/g/${(0,n.kX)(t)}/c/${e}`:`/c/${e}`}function o(){return"/gpts"}function a(){return"/gpts/mine"}function u(e){return e?`/gpts/editor/${e}`:"/gpts/editor"}function c(e){let t=u(void 0);return null==e?t:u(e)}function s(e){return u(e)}function l(e){try{let t=new URL(e);return t.hostname=t.hostname.replace(/^(www\.|web\.|mbasic\.|mobile\.)(secure\.)?/,""),t.pathname="",[...t.searchParams.keys()].forEach(e=>t.searchParams.delete(e)),t.toString()}catch(t){return e}}function f(e){let t=function(e){if(!e)return null;try{return new URL(e).hostname}catch(e){return null}}(e);return t?t.replace(/^www\./,""):e}},85567:function(e,t,r){r.d(t,{I:function(){return u},f:function(){return c}});var n=r(84760);let i="client-correlated-secret";function o(){let e=localStorage.getItem(i);return null==e?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function a(){null==o()&&localStorage.setItem(i,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));let e=o();if(null==e)throw Error("Failed to get key from storage");return e}function u(e){let t=new URL(e),r=(0,n.a)({queryKey:[i,"generate-challenge",e.search],queryFn:async()=>[...new Uint8Array(await crypto.subtle.sign("HMAC",await a(),new TextEncoder().encode(e.search)))].map(e=>e.toString(16).padStart(2,"0")).join(""),staleTime:0});if(void 0!==r.data)return t.hash=r.data,t}function c(){let e=location?.search,t=location?.hash;return(0,n.a)({queryKey:[i,"verify-challenge",e,t],queryFn:async()=>"string"==typeof e&&"string"==typeof t&&crypto.subtle.verify("HMAC",await a(),function(e){let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++)t[r]=parseInt(e.substr(2*r,2),16);return t.buffer}(t.slice(1)),new TextEncoder().encode(e))}).data?new URLSearchParams(e):void 0}}}]);
//# sourceMappingURL=4993-83cfc69b59b3e42f.js.map