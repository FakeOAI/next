"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3969],{10727:function(e,t,n){n.d(t,{Z:function(){return y}});var r,i=n(41141),a=n(94521),s=n(81412),l=n(92379),o=n(25940),c=n(72256),u=n(74091),d=n(56505),h=n(62484),f=n(66246),p=n(651);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let m=(0,o.vU)({copy:{id:"CopyButton.copy",defaultMessage:"Copy"},copied:{id:"CopyButton.copied",defaultMessage:"Copied!"}});function y(e){let{buttonText:t,shouldChangeText:n=!0,iconClassName:r="icon-sm",onCopy:i,className:a}=e,{0:o,1:u}=(0,l.useState)(!1),x=(0,d.Z)(),y=(0,l.useCallback)(e=>{e.stopPropagation(),i(),u(!0),setTimeout(()=>{x()&&u(!1)},2e3)},[x,i]),v=t;return n&&o?v=(0,p.jsx)(c.Z,g({},m.copied)):!0===t&&(v=(0,p.jsx)(c.Z,g({},m.copy))),(0,p.jsxs)(p.Fragment,{children:[!o&&(0,p.jsx)(h.u,{label:(0,p.jsx)(c.Z,{id:"CopyButton.copyTooltip",defaultMessage:"Copy"}),sideOffset:0,children:(0,p.jsxs)(b,{onClick:y,className:a,children:[(0,p.jsx)(f.TIy,{className:r}),v]})}),o&&(0,p.jsxs)(b,{className:a,children:[(0,p.jsx)(s.oS,{className:r}),v]})]})}let b=u.Z.button(r||(r=(0,i.Z)(["flex gap-1 items-center"])))},62538:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(14816),i=n(59031),a=n(651);function s(e){let{url:t,size:n=16,minSize:r,fallback:s,className:c}=e,u=function(e,t){if(!e)return null;try{let{origin:n}=new URL(e);return"https://www.google.com/s2/favicons?domain=".concat(n,"&sz=").concat(t)}catch(e){return i.U.addError(e),null}}(t,n);return null==u?null!=s?s:null:null!=r?(0,a.jsx)(l,{faviconUrl:u,size:n,minSize:r,fallback:s,className:c}):(0,a.jsx)(o,{faviconUrl:u,size:n,className:c})}function l(e){let{faviconUrl:t,size:n,minSize:i,fallback:s,className:l}=e,{data:c,isLoading:u}=(0,r.a)({queryKey:["imageSize",t],queryFn:()=>new Promise((e,n)=>{let r=new Image;r.onload=()=>{e(Math.min(r.width,r.height))},r.onerror=()=>{n()},r.src=t})});return u?(0,a.jsx)("div",{className:l}):null==c||c<i?null!=s?s:null:(0,a.jsx)(o,{faviconUrl:t,size:n,className:l})}function o(e){let{faviconUrl:t,size:n,className:r}=e;return(0,a.jsx)("img",{src:t,alt:"Favicon",width:n,height:n,className:r})}},36209:function(e,t,n){n.d(t,{Z:function(){return m}});var r,i=n(41141),a=n(7290),s=n(556),l=n(61888),o=n(92379),c=n(26123),u=n(72256),d=n(74091),h=n(5443),f=n(65530),p=n(49217),x=n(81412),g=n(651);function m(e){let{tagOptions:t,onSubmit:n,onMoreClicked:r,onCancel:i,maxInlineTags:d=5,modalOnly:m=!1,modalTitle:b,multiple:v,children:j}=e,w=(0,c.Z)(),{0:k,1:C}=(0,o.useState)(m?"modal":"inline"),{0:O,1:T}=(0,o.useState)([]),{0:M,1:P}=(0,o.useState)(void 0),_=(0,o.useCallback)(e=>{n(e),C("submitted"),setTimeout(()=>{C("closed")},1500)},[n]),N=(0,o.useMemo)(()=>(0,l.debounce)(_,500),[_]),S=e=>{let t=[];return T(t=v?O.includes(e)?O.filter(t=>t!==e):[...O,e]:[e]),t},F=()=>{_({tags:O,textFeedback:M,tagChoices:E,source:"modal"})},E=t.map(e=>e.value),q=function(e){let t={};return e.forEach(e=>{var n;let r=null!==(n=e.group)&&void 0!==n?n:"Default";t[r]||(t[r]=[]),t[r].push(e)}),t}(t),D=Object.keys(q);return(0,g.jsxs)(g.Fragment,{children:[!m&&(0,g.jsx)(a.M,{children:"closed"!==k&&(0,g.jsxs)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"min-h-[96px] w-full",children:["submitted"===k&&(0,g.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-center",children:(0,g.jsx)("div",{className:"inline-flex rounded-lg border border-token-border-light p-4",children:(0,g.jsx)("div",{className:"text-sm",children:(0,g.jsx)(u.Z,{id:"ConversationTurnInlineMessageFeedback.submitted",defaultMessage:"Thanks for your feedback!"})})})}),["inline","modal"].includes(k)&&(0,g.jsxs)("div",{className:"relative mt-2 flex w-full flex-col gap-3 rounded-lg border border-token-border-light p-4",children:[(0,g.jsx)("button",{className:"absolute right-4 top-4 text-sm font-bold",onClick:()=>{C("closed"),N.cancel(),null==i||i()},children:(0,g.jsx)(x.v7,{className:"icon-md text-token-text-secondary hover:text-token-text-primary"})}),(0,g.jsx)("div",{className:"text-sm text-token-text-secondary",children:(0,g.jsx)(u.Z,{id:"ConversationTurnInlineMessageFeedback.inlineTitle",defaultMessage:"Tell us more:"})}),(0,g.jsxs)("div",{className:"flex flex-wrap gap-3",children:[t.slice(0,d).map(e=>(0,g.jsx)(y,{$selected:O.includes(e.value),onClick:()=>{N({tags:S(e.value),tagChoices:E,source:"inline"})},children:e.label},e.value)),(0,g.jsx)(y,{onClick:()=>{null==r||r(),N.cancel(),C("modal")},children:(0,g.jsx)(u.Z,{id:"ConversationTurnInlineMessageFeedback.moreOptions.1",defaultMessage:"More..."})})]})]})]},"main")}),"modal"===k&&(0,g.jsxs)(p.Z,{type:"success",isOpen:!0,className:"max-w-xl",size:"custom",title:null!=b?b:(0,g.jsx)(u.Z,{id:"ConversationTurnInlineMessageFeedback.modalTitle",defaultMessage:"Provide additional feedback"}),onClose:()=>{T([]),C(m?"closed":"inline"),m&&(null==i||i())},showCloseButton:!0,primaryButton:(0,g.jsx)(h.z,{color:"primary",disabled:0===O.length&&!M,onClick:F,children:(0,g.jsx)(u.Z,{id:"ConversationTurnInlineMessageFeedback.submit",defaultMessage:"Submit"})}),rootClassName:"z-50",children:[(0,g.jsx)("div",{className:"flex flex-col gap-6",children:D.map(e=>(0,g.jsxs)("div",{children:[D.length>1&&(0,g.jsx)("div",{className:"mb-3 text-sm font-semibold",children:e}),(0,g.jsx)("div",{className:"flex flex-wrap gap-3",children:q[e].map(e=>(0,g.jsx)(y,{$selected:O.includes(e.value),onClick:()=>S(e.value),children:e.label},e.value))},e)]},e))}),(0,g.jsx)(f.Z,{name:"feedback",type:"text",className:"mt-6",placeholder:w.formatMessage({id:"ConversationTurnInlineMessageFeedback.feedbackPlaceholder.1",defaultMessage:"(Optional) Feel free to add specific details"}),value:null!=M?M:"",onChange:e=>P(e.target.value),onPressEnter:F}),j]})]})}let y=d.Z.button(r||(r=(0,i.Z)(["\n  rounded-lg border border-token-border-light px-3 py-1 text-sm text-token-text-secondary hover:text-token-text-primary hover:bg-token-main-surface-secondary\n  ","\n"])),e=>{let{$selected:t}=e;return t&&"!bg-token-text-primary !text-token-main-surface-primary"})},94669:function(e,t,n){n.d(t,{Z:function(){return E},b:function(){return D}});var r,i,a,s=n(94521),l=n(17379),o=n(51308),c=n(63585),u=n(41141),d=n(21904),h=n(43852),f=n(48538),p=n(19841),x=n(92379),g=n(26123),m=n(72256),y=n(74091),b=n(10727),v=n(57548),j=n(76129),w=n(651);function k(e){let{children:t,className:n,language:r,content:i}=e,a=(0,x.useCallback)(()=>{(0,f.v)(i)},[i]),s=(0,g.Z)(),{isWithinDataAnalysisToolMessage:l}=(0,x.useContext)(j.cm);return(0,w.jsx)(O,{title:r,headerDecoration:(0,w.jsxs)("div",{className:"flex items-center",children:[l&&(0,w.jsx)(C,{}),(0,w.jsx)(b.Z,{buttonText:s.formatMessage({id:"zIa6ZQ",defaultMessage:"Copy code"}),onCopy:a})]}),codeClassName:n,children:t})}function C(){let e=(0,h.Gt)(),{data:t=!1}=(0,h.R1)(d.sh.ShowExpandedCodeView),n=(0,g.Z)();return(0,w.jsxs)("div",{className:"mr-2 flex items-center gap-2 border-r border-token-border-medium pr-2",children:[(0,w.jsx)("label",{htmlFor:"ada-always-show",children:(0,w.jsx)(m.Z,{defaultMessage:"Always show details",id:"message.tools.codeInterpreter.alwaysShowAnalysis"})}),(0,w.jsx)(v.Z,{id:"ada-always-show",size:"small",onChange:t=>{e.mutate({setting:d.sh.ShowExpandedCodeView,value:t})},enabled:t,label:t?n.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis on",id:"message.tools.codeInterpreter.alwaysShowAnalysis.enabled"}):n.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis off",id:"message.tools.codeInterpreter.alwaysShowAnalysis.disabled"})})]})}function O(e){let{children:t,title:n,headerDecoration:r,shouldWrapCode:i=!1,className:a,codeContainerClassName:s,codeClassName:l}=e;return(0,w.jsxs)(T,{className:a,children:[(null!=n||null!=r)&&(0,w.jsxs)(M,{children:[n&&(0,w.jsx)("span",{children:n}),r]}),(0,w.jsx)(P,{className:s,children:(0,w.jsx)(_,{$shouldWrap:i,className:l,children:t})})]})}let T=y.Z.div(r||(r=(0,u.Z)(["dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"]))),M=y.Z.div(i||(i=(0,u.Z)(["flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"]))),P=function(e){let{children:t,className:n}=e;return(0,w.jsx)("div",{className:(0,p.default)("overflow-y-auto p-4",n),dir:"ltr",children:t})},_=y.Z.code(a||(a=(0,u.Z)(["",""])),e=>e.$shouldWrap?"!whitespace-pre-wrap":"!whitespace-pre"),N=["node","className","children","inline"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(e){let{node:t,className:n,children:r,inline:i}=e,a=(0,l.Z)(e,N);if(i)return(0,w.jsx)("code",F(F({className:n},a),{},{children:r}));{var s;let e=null==n||null===(s=n.split(" ").filter(e=>e.startsWith("language-")))||void 0===s?void 0:s[0],i=e?e.split("-")[1]:"",a=t?(0,o.B)(t):"";return(0,w.jsx)(k,{language:i,className:n,content:a,children:r})}}function q(e){return"element"===e.type}function D(){return function(e){(0,c.Vn)(e,"element",function(e,t,n){q(e)&&"code"===e.tagName&&(n&&q(n)&&"pre"===n.tagName?e.properties.inline=!1:e.properties.inline=!0)})}}},97785:function(e,t,n){n.d(t,{R:function(){return c},k:function(){return o}});var r=n(76348),i=n(92379),a=n(63585),s=n(21925),l=n(651);let o=()=>e=>{(0,a.Vn)(e,e=>{var t,n;if(!(("textDirective"===e.type||"leafDirective"===e.type||"containerDirective"===e.type)&&"name"in e&&e.name===s.pV))return;let r=null!==(t=e.data)&&void 0!==t?t:e.data={},i=null===(n=e.attributes)||void 0===n?void 0:n.index;if(null==i)return;r.hName=s.pV,r.hProperties={index:i};let a="inline";switch(e.type){case"textDirective":a="inline";break;case"leafDirective":a="block";break;case"containerDirective":a="container"}r.hProperties.displayLayout=a})},c=e=>{let{index:t}=e,n=(0,i.useContext)(r.h7);if(null==n)return null;let{displayedCitations:a}=n,s=a[t];return(0,l.jsx)(r.s8,{index:t,displayInfo:s,displayType:n.displayType})}},87420:function(e,t,n){n.d(t,{O6:function(){return w},ZP:function(){return k},c7:function(){return C}});var r=n(94521),i=n(17379),a=n(58543),s=n(93223),l=n(86021),o=n(91208),c=n(35226),u=n(14816),d=n(92379),h=n(26123),f=n(72256),p=n(25940),x=n(50684),g=n(62484),m=n(94982),y=n(651);let b=["messageId","clientThreadId","href"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let w="sandbox:";function k(e){let{messageId:t,clientThreadId:n,href:r}=e,f=(0,i.Z)(e,b),p=(0,l.h9)(),v=(0,c.NL)(),{0:k,1:C}=(0,d.useState)(!1),M=r.substring(w.length),P=l.tQ.getServerThreadId(n),_=(0,h.Z)(),N=(0,d.useCallback)(e=>{let t=document.createElement("a");t.href=e,t.click(),C(!1)},[]),S=function(e,t,n,r,i,l){let c=(0,a.VF)();return(0,u.a)({queryKey:O(t,r),queryFn:()=>s.Z.downloadFromInterpreter(t,n,r).then(e=>((null==e?void 0:e.status)==="success"&&l(e.download_url),e)).catch(e=>{let t=c("default_download_link_error",{fileName:r});throw e instanceof o.vq&&null!=e.code&&(t=c(e.code)),null==i||i(t),e}),enabled:!!(e&&t&&n&&r)})}(k&&!p,t,P,M,(0,d.useCallback)(e=>{C(!1),m.m.danger(e)},[]),N).data,F=(0,d.useCallback)(async e=>{void 0!==n&&(e.preventDefault(),(void 0===S||(null==S?void 0:S.status)==="error")&&v.invalidateQueries({queryKey:O(t,M)}),(null==S?void 0:S.status)=="success"&&null!=S&&S.download_url?N(S.download_url):C(!0))},[n,S,v,t,M,N]);return(0,y.jsx)(g.u,{closeOnOutsideClick:!1,delayDuration:0,label:(0,y.jsxs)("span",{className:"flex items-center gap-1",children:[k?_.formatMessage(T.startingDownload):_.formatMessage(T.downloadFile),k&&(0,y.jsx)(x.Z,{})]}),side:"top",sideOffset:4,children:(0,y.jsx)("a",j(j({},f),{},{className:"cursor-pointer",onClick:e=>!k&&F(e)}))})}function C(e){return(0,y.jsx)(g.u,{closeOnOutsideClick:!1,delayDuration:0,label:(0,y.jsx)("span",{className:"flex items-center gap-1",children:(0,y.jsx)(f.Z,j({},T.downloadUnavailable))}),side:"top",sideOffset:4,children:(0,y.jsx)("span",j(j({},e),{},{className:"font-semibold text-token-text-secondary underline"}))})}function O(e,t){return["downloadSandboxLink",e,t]}let T=(0,p.vU)({downloadFile:{id:"SandboxDownload.downloadFile",defaultMessage:"Download file"},startingDownload:{id:"SandboxDownload.startingDownload",defaultMessage:"Starting download"},downloadUnavailable:{id:"SandboxDownload.downloadUnavailable",defaultMessage:"File download not supported in a shared chat"}})},21925:function(e,t,n){n.d(t,{pV:function(){return q},ff:function(){return D},Yu:function(){return E},Hf:function(){return F},SQ:function(){return S}});var r=n(26868),i=n(55975),a=n(46050),s=n(29874),l=n(8449),o=n(15472);let c={tokenize:function(e,t,n){let r=this,c=this.events[this.events.length-1],d=c&&c[1].type===o.V.linePrefix?c[2].sliceSerialize(c[1],!0).length:0,h=[];return function(t){return i.q.backslash,e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(r){return r===i.q.backslash||r===i.q.leftSquareBracket&&h[0]===i.q.backslash?(e.consume(r),h.push(r),t):(e.exit("mathFlowFenceSequence"),h.length<2?n(r):(0,a.f)(e,f,o.V.whitespace)(r))}(t)};function f(t){return t===i.q.eof||(0,s.Ch)(t)?p(t):(e.enter("mathFlowFenceMeta"),e.enter(o.V.chunkString,{contentType:l._.contentTypeString}),function t(r){return r===i.q.eof||(0,s.Ch)(r)?(e.exit(o.V.chunkString),e.exit("mathFlowFenceMeta"),p(r)):r===i.q.rightSquareBracket?n(r):(e.consume(r),t)}(t))}function p(n){return e.exit("mathFlowFence"),r.interrupt?t(n):function t(n){return n===i.q.eof?x(n):(0,s.Ch)(n)?e.attempt(u,e.attempt({tokenize:g,partial:!0},x,d?(0,a.f)(e,t,o.V.linePrefix,d+1):t),x)(n):(e.enter("mathFlowValue"),function n(r){return r===i.q.eof||(0,s.Ch)(r)?(e.exit("mathFlowValue"),t(r)):(e.consume(r),n)}(n))}(n)}function x(n){return e.exit("mathFlow"),t(n)}function g(e,t,n){let r=[];return(0,a.f)(e,function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(s){return s===i.q.backslash&&0===r.length||s===i.q.rightSquareBracket&&r[0]===i.q.backslash?(e.consume(s),r.push(s),t):r<h?n(s):(e.exit("mathFlowFenceSequence"),(0,a.f)(e,c,o.V.whitespace)(s))}(t)},o.V.linePrefix,l._.tabSize);function c(r){return r===i.q.eof||(0,s.Ch)(r)?(e.exit("mathFlowFence"),t(r)):n(r)}}},concrete:!0},u={tokenize:function(e,t,n){let r=this;return function(t){return e.enter(o.V.lineEnding),e.consume(t),e.exit(o.V.lineEnding),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},d={tokenize:function(e,t,n){let r=this,c=r.events[r.events.length-1],u=c&&c[1].type===o.V.linePrefix?c[2].sliceSerialize(c[1],!0).length:0,d=0;return function(t){return i.q.dollarSign,e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(r){return r===i.q.dollarSign?(e.consume(r),d++,t):(e.exit("mathFlowFenceSequence"),d<2?n(r):(0,a.f)(e,f,o.V.whitespace)(r))}(t)};function f(t){return t===i.q.eof||(0,s.Ch)(t)?p(t):(e.enter("mathFlowFenceMeta"),e.enter(o.V.chunkString,{contentType:l._.contentTypeString}),function t(r){return r===i.q.eof||(0,s.Ch)(r)?(e.exit(o.V.chunkString),e.exit("mathFlowFenceMeta"),p(r)):r===i.q.dollarSign?n(r):(e.consume(r),t)}(t))}function p(n){return e.exit("mathFlowFence"),r.interrupt?t(n):function t(n){return n===i.q.eof?x(n):(0,s.Ch)(n)?e.attempt(h,e.attempt({tokenize:g,partial:!0},x,u?(0,a.f)(e,t,o.V.linePrefix,u+1):t),x)(n):(e.enter("mathFlowValue"),function n(r){return r===i.q.eof||(0,s.Ch)(r)?(e.exit("mathFlowValue"),t(r)):(e.consume(r),n)}(n))}(n)}function x(n){return e.exit("mathFlow"),t(n)}function g(e,t,n){let r=0;return(0,a.f)(e,function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(s){return s===i.q.dollarSign?(e.consume(s),r++,t):r<d?n(s):(e.exit("mathFlowFenceSequence"),(0,a.f)(e,c,o.V.whitespace)(s))}(t)},o.V.linePrefix,l._.tabSize);function c(r){return r===i.q.eof||(0,s.Ch)(r)?(e.exit("mathFlowFence"),t(r)):n(r)}}},concrete:!0},h={tokenize:function(e,t,n){let r=this;return function(t){return(0,s.Ch)(t),e.enter(o.V.lineEnding),e.consume(t),e.exit(o.V.lineEnding),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0};function f(e){let t,n,r=e.length-4,i=3;if((e[3][1].type===o.V.lineEnding||"space"===e[i][1].type)&&(e[r][1].type===o.V.lineEnding||"space"===e[r][1].type)){for(t=i;++t<r;)if("mathTextData"===e[t][1].type){e[r][1].type="mathTextPadding",e[i][1].type="mathTextPadding",i+=2,r-=2;break}}for(t=i-1,r++;++t<=r;)void 0===n?t!==r&&e[t][1].type!==o.V.lineEnding&&(n=t):(t===r||e[t][1].type===o.V.lineEnding)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e}function p(e){return e!==i.q.backslash||this.events[this.events.length-1][1].type===o.V.characterEscape}function x(e){let t,n,r=e.length-4,i=3;if((e[3][1].type===o.V.lineEnding||"space"===e[i][1].type)&&(e[r][1].type===o.V.lineEnding||"space"===e[r][1].type)){for(t=i;++t<r;)if("mathTextData"===e[t][1].type){e[r][1].type="mathTextPadding",e[i][1].type="mathTextPadding",i+=2,r-=2;break}}for(t=i-1,r++;++t<=r;)void 0===n?t!==r&&e[t][1].type!==o.V.lineEnding&&(n=t):(t===r||e[t][1].type===o.V.lineEnding)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e}function g(e){return e!==i.q.dollarSign||this.events[this.events.length-1][1].type===o.V.characterEscape}function m(e){let t,n,r=e.length-4,i=3;if((e[3][1].type===o.V.lineEnding||"space"===e[i][1].type)&&(e[r][1].type===o.V.lineEnding||"space"===e[r][1].type)){for(t=i;++t<r;)if("mathTextData"===e[t][1].type){e[r][1].type="mathTextPadding",e[i][1].type="mathTextPadding",i+=2,r-=2;break}}for(t=i-1,r++;++t<=r;)void 0===n?t!==r&&e[t][1].type!==o.V.lineEnding&&(n=t):(t===r||e[t][1].type===o.V.lineEnding)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e}function y(e){return e!==i.q.backslash||this.events[this.events.length-1][1].type===o.V.characterEscape}var b=n(52620),v=n(55434),j=n(70229),w=n(91488),k=n(43131),C=n(15758),O=n(33549),T=n(81100),M=n(24932),P=n(94669),_=n(97785),N=n(87420);let S=e=>e.startsWith(N.O6)?e:(0,v.n)(e),F=[M.Z,[function(){let e=this.data();function t(t,n){(e[t]?e[t]:e[t]=[]).push(n)}t("micromarkExtensions",{flow:{[i.q.dollarSign]:d,[i.q.backslash]:c},text:{[i.q.dollarSign]:{tokenize:function(e,t,n){let r,a,l=0;return function(t){return e.enter("mathText"),e.enter("mathTextSequence"),function t(r){return r===i.q.dollarSign?(e.consume(r),l++,t):l<2?n(r):(e.exit("mathTextSequence"),c(r))}(t)};function c(d){return d===i.q.eof?n(d):d===i.q.dollarSign?(a=e.enter("mathTextSequence"),r=0,function n(s){return s===i.q.dollarSign?(e.consume(s),r++,n):r===l?(e.exit("mathTextSequence"),e.exit("mathText"),t(s)):(a.type="mathTextData",u(s))}(d)):d===i.q.space?(e.enter("space"),e.consume(d),e.exit("space"),c):(0,s.Ch)(d)?(e.enter(o.V.lineEnding),e.consume(d),e.exit(o.V.lineEnding),c):(e.enter("mathTextData"),u(d))}function u(t){return t===i.q.eof||t===i.q.space||t===i.q.dollarSign||(0,s.Ch)(t)?(e.exit("mathTextData"),c(t)):(e.consume(t),u)}},resolve:x,previous:g},[i.q.backslash]:[{tokenize:function(e,t,n){let r;let a=[],l=[],c=this;return function(t){return i.q.backslash,p.call(c,c.previous)&&c.previous,e.enter("mathText"),e.enter("mathTextSequence"),function t(r){return(a.join(","),r===i.q.backslash&&0===a.length||r===i.q.leftParenthesis&&1===a.length)?(e.consume(r),a.push(r),t):a.length<2?n(r):(e.exit("mathTextSequence"),u(r))}(t)};function u(c){return c===i.q.eof?n(c):c===i.q.backslash?(r=e.enter("mathTextSequence"),l=[],function n(s){return(a.join(","),s===i.q.backslash&&0===l.length||s===i.q.rightParenthesis&&1===l.length)?(e.consume(s),l.push(s),n):l.length===a.length?(e.exit("mathTextSequence"),e.exit("mathText"),t(s)):(r.type="mathTextData",d(s))}(c)):c===i.q.space?(e.enter("space"),e.consume(c),e.exit("space"),u):(0,s.Ch)(c)?(e.enter(o.V.lineEnding),e.consume(c),e.exit(o.V.lineEnding),u):(e.enter("mathTextData"),d(c))}function d(t){return t===i.q.eof||t===i.q.space||t===i.q.backslash||(0,s.Ch)(t)?(e.exit("mathTextData"),u(t)):(e.consume(t),d)}},resolve:f,previous:p},{tokenize:function(e,t,n){let r;let a=[],l=[],c=this;return function(t){return i.q.backslash,y.call(c,c.previous)&&c.previous,e.enter("mathText"),e.enter("mathTextSequence"),function t(r){return(a.join(","),r===i.q.backslash&&0===a.length||r===i.q.leftSquareBracket&&1===a.length)?(e.consume(r),a.push(r),t):a.length<2?n(r):(e.exit("mathTextSequence"),u(r))}(t)};function u(c){return c===i.q.eof?n(c):c===i.q.backslash?(r=e.enter("mathTextSequence"),l=[],function n(s){return(a.join(","),s===i.q.backslash&&0===l.length||s===i.q.rightSquareBracket&&1===l.length)?(e.consume(s),l.push(s),n):l.length===a.length?(e.exit("mathTextSequence"),e.exit("mathText"),t(s)):(r.type="mathTextData",d(s))}(c)):c===i.q.space?(e.enter("space"),e.consume(c),e.exit("space"),u):(0,s.Ch)(c)?(e.enter(o.V.lineEnding),e.consume(c),e.exit(o.V.lineEnding),u):(e.enter("mathTextData"),d(c))}function d(t){return t===i.q.eof||t===i.q.space||t===i.q.backslash||(0,s.Ch)(t)?(e.exit("mathTextData"),u(t)):(e.consume(t),d)}},resolve:m,previous:y}]}}),t("fromMarkdownExtensions",(0,r.N)()),t("toMarkdownExtensions",(0,r.O)())},{singleDollarTextMath:!1}],T.ZP,O.Z,_.k],E=[[w.Z,{languages:{mathematica:b.Z},detect:!0,subset:["arduino","bash","c","cpp","csharp","css","diff","go","graphql","java","javascript","json","kotlin","latex","less","lua","makefile","makefile","markdown","matlab","mathematica","nginx","objectivec","perl","pgsql","php-template","php","plaintext","python-repl","python","r","ruby","rust","scss","shell","sql","swift","typescript","vbnet","wasm","xml","yaml"],ignoreMissing:!0,aliases:{mathematica:"wolfram"}}],k.Z,[C.Z,{newlines:!0}],[j.Z,{target:"_new",rel:"noopener noreferrer"}],P.b],q="citation",D={code:P.Z,[q]:_.R}},26501:function(e,t,n){n.d(t,{Z:function(){return E}});var r=n(94521),i=n(17379),a=n(86021),s=n(6860),l=n(93747),o=n(15236),c=n(19841),u=n(64331),d=n(92379),h=n(55434),f=n(93223),p=n(89360),x=n(14816),g=n(61888),m=n(80179);async function y(e){let t=await n.e(7635).then(n.t.bind(n,47635,19));if(null!=p.B&&null!=e&&e.startsWith(p.B))return!0;try{let n=t.get(new URL(null!=e?e:"").hostname);if("openai.com"===n)return!0;return!1}catch{return!1}}var b=n(87420),v=n(21925),j=n(651);let w=["node","onClick","clientThreadId","messageId","href"],k=["src","clientThreadId"],C=["node"],O=["node"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let P={},_={};function N(e,t){return function(e,t){var n;let r=(0,a.qN)(n=>null!=e&&null!=t&&a.iN.isThreadUrlSafe(e,t,n)),{data:{safe:i}={}}=(n=r?void 0:t,(0,x.a)({queryKey:["safe-url",{serverThreadId:e,url:n}],queryFn:async()=>{var t;return await y(n)||null!==(t=a.tQ.getThreadSafeUrls(e))&&void 0!==t&&t.includes(n)?{safe:!0}:f.Z.getConversationSafeUrls(e,n,(0,m.YK)())},enabled:null!=e&&null!=n}));return r||i?t:void 0}(e,function(e,t){let{0:n,1:r}=(0,d.useState)(void 0),{0:i}=(0,d.useState)(()=>(0,g.debounce)(e=>{r(e)},500));return(0,d.useEffect)(()=>{i(e)},[i,e]),n===e?e:void 0}(t,0))}function S(e){var t;let{node:n,onClick:r,clientThreadId:s,messageId:c,href:u}=e,d=(0,i.Z)(e,w),h=r,f=null==n||null===(t=n.properties)||void 0===t?void 0:t.href,p=N((0,a.XK)(s),u);return null!=c&&"string"==typeof f&&f.includes("/bing/redirect")&&(P[c]||(l.A.logEvent(o.M.browsingShowBingLink,{id:c,content:f}),P[c]=!0),h=e=>{_[c]||(l.A.logEvent(o.M.browsingClickBingLink,{id:c,content:f}),_[c]=!0),null==r||r(e)}),(0,j.jsx)("a",M(M({onClick:h},d),{},{href:p,rel:"noreferrer"}))}function F(e){let{src:t,clientThreadId:n}=e,r=(0,i.Z)(e,k),s=N((0,a.XK)(n),t);return null==s?(0,j.jsx)("div",{}):(0,j.jsx)("img",M(M({},r),{},{src:s}))}function E(e){let{size:t="medium",children:n,className:r,clientThreadId:l,messageId:o,interpolateCitations:h=!1,componentOverrides:f}=e,{resolvedTheme:p}=(0,u.F)(),x=(0,a.h9)(),g=(0,d.useMemo)(()=>M(M({},v.ff),{},{a:e=>{var t;let{node:n}=e,r=(0,i.Z)(e,C),a=null==n||null===(t=n.properties)||void 0===t?void 0:t.href;return"string"==typeof a&&a.startsWith(b.O6)?x?(0,j.jsx)(b.c7,M({},r)):null!=l&&null!=o?(0,j.jsx)(b.ZP,M(M({},r),{},{clientThreadId:l,messageId:o,href:a})):null:(0,j.jsx)(S,M(M({},e),{},{clientThreadId:l,messageId:o,interpolateCitations:h}))},img:e=>{var t;let{node:n}=e,r=(0,i.Z)(e,O),a=null==n||null===(t=n.properties)||void 0===t?void 0:t.src;return"string"==typeof a&&(a.startsWith(b.O6)||a.startsWith("attachment:"))?null:(0,j.jsx)(F,M(M({},r),{},{clientThreadId:l}))}},f),[l,h,x,o,f]);return(0,j.jsx)(s.S,{name:"formatted_text_error",fallback:()=>(0,j.jsx)(j.Fragment,{children:n}),children:(0,j.jsx)(q,{rehypePlugins:v.Yu,remarkPlugins:v.Hf,className:(0,c.default)(r,"markdown prose w-full break-words dark:prose-invert","dark"===p?"dark":"light","small"===t&&"prose-xs"),urlTransform:v.SQ,components:g,children:n})})}let q=(0,d.memo)(h.U)},86980:function(e,t,n){n.d(t,{R3:function(){return c},Zl:function(){return h},fL:function(){return u}});var r=n(94521),i=n(61888),a=n(810);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}class l{constructor(e,t){(0,r.Z)(this,"requestUpdateRaf",null),(0,r.Z)(this,"_requestUpdate",()=>{this.requestUpdateRaf||(this.requestUpdateRaf=window.requestAnimationFrame(()=>{this._update(),this.requestUpdateRaf=null}))}),this.updateReactComponentDisplay=t}destroy(){this.requestUpdateRaf&&(window.cancelAnimationFrame(this.requestUpdateRaf),this.requestUpdateRaf=null)}}class o extends l{constructor(e,t){super(e,t),(0,r.Z)(this,"_update",()=>{this.updateReactComponentDisplay((0,a.$w)(this.textMessageParts,this.displayedTextLength))}),this.updateReactComponentDisplay=t,this.textMessageParts=e,this.textMessagePartsTextLength=(0,a.Vh)(this.textMessageParts).length,this.displayedTextLength=this.textMessagePartsTextLength,this.displayNextCharDelayMs=o.MAX_BUFFERING_MS_PER_CHAR}displayNextChar(){this.displayNextCharTimeout=void 0,this.isBuffering()&&(this.displayedTextLength++,this._requestUpdate(),this.displayNextCharTimeout=window.setTimeout(()=>this.displayNextChar(),this.displayNextCharDelayMs))}isBuffering(){return this.displayedTextLength<this.textMessagePartsTextLength}onMessagePartsUpdated(e){this.textMessageParts=e,this.textMessagePartsTextLength=(0,a.Vh)(this.textMessageParts).length;let t=this.textMessagePartsTextLength-this.displayedTextLength;if(t>0){let e=o.MAX_BUFFERING_LAG_MS/t;this.displayNextCharDelayMs=Math.min(e,o.MAX_BUFFERING_MS_PER_CHAR)}null==this.displayNextCharTimeout&&this.displayNextChar()}destroy(){super.destroy(),window.clearTimeout(this.displayNextCharTimeout)}}(0,r.Z)(o,"MAX_BUFFERING_LAG_MS",500),(0,r.Z)(o,"MAX_BUFFERING_MS_PER_CHAR",30);class c extends l{constructor(e,t){super(e,t),(0,r.Z)(this,"_update",()=>{this.updateReactComponentDisplay((0,a.$w)(this.textMessageParts,this.displayedTextLength))}),this.updateReactComponentDisplay=t,this.textMessageParts=e,this.textMessagePartsTextLength=(0,a.Vh)(this.textMessageParts).length,this.displayedTextLength=this.textMessagePartsTextLength,this.chunkLength=0}displayNextChunk(){this.displayNextChunkTimeout=void 0,this.isBuffering()&&(this.displayedTextLength=Math.min(this.displayedTextLength+this.chunkLength,this.textMessagePartsTextLength),this._requestUpdate(),this.displayNextChunkTimeout=window.setTimeout(()=>this.displayNextChunk(),c.UPDATE_FREQUENCY_MS))}isBuffering(){return this.displayedTextLength<this.textMessagePartsTextLength}onMessagePartsUpdated(e){this.textMessageParts=e,this.textMessagePartsTextLength=(0,a.Vh)(this.textMessageParts).length;let t=this.textMessagePartsTextLength-this.displayedTextLength;t>=c.MIN_CHARS_BEHIND_TO_CATCHUP?(this.chunkLength=Math.ceil(t*c.UPDATE_FREQUENCY_MS/c.CATCHUP_TIME_MS),null==this.displayNextChunkTimeout&&this.displayNextChunk()):(this.displayNextChunkTimeout=void 0,window.clearTimeout(this.displayNextChunkTimeout),this.displayedTextLength=this.textMessagePartsTextLength,this.updateReactComponentDisplay((0,a.$w)(this.textMessageParts,this.displayedTextLength)))}destroy(){super.destroy(),window.clearTimeout(this.displayNextChunkTimeout)}}(0,r.Z)(c,"MIN_CHARS_BEHIND_TO_CATCHUP",20),(0,r.Z)(c,"CATCHUP_TIME_MS",300),(0,r.Z)(c,"UPDATE_FREQUENCY_MS",30);class u extends l{constructor(e,t,n){var l;super(e,t),(0,r.Z)(this,"LAG_FACTORS",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({".":15,"!":15,"?":15,"\n":15,",":8,":":8,";":8,DEFAULT_LAG_FACTOR:.9,BUFFER_FACTOR:.08},window.__PUNCTUATION_BUFFER_LAG_FACTORS)),(0,r.Z)(this,"_update",()=>{let e=(0,a.$w)(this.textMessageParts,this.displayedTextLength);this.updateReactComponentDisplay(e)}),(0,r.Z)(this,"_throttledDebugLog",(0,i.throttle)(e=>{this.debug&&console.debug(e)},500,{leading:!0,trailing:!0})),this.updateReactComponentDisplay=t,this.textMessageParts=e,this.textMessagePartsTextLength=(0,a.Vh)(this.textMessageParts).length,this.displayedTextLength=this.textMessagePartsTextLength,this.concatenatedText=(0,a.Vh)(this.textMessageParts),this.isActivelyStreaming=!1,this.debug=null!==(l=null==n?void 0:n.debug)&&void 0!==l&&l,this.streamStartMs=0,this.averageMsPerChar=0,this.debug&&console.debug(["PunctuationBuffer:","[lagFactors: ".concat(JSON.stringify(this.LAG_FACTORS,null,2),"]")].join("\n"))}displayNextChar(){this.displayNextCharTimeout=void 0,this.isBuffering()&&(this.displayedTextLength++,this._requestUpdate(),this.displayNextCharTimeout=window.setTimeout(()=>this.displayNextChar(),this._getNextCharDelayMs()))}isBuffering(){return this.displayedTextLength<this.textMessagePartsTextLength}onMessagePartsUpdated(e,t){this.textMessageParts=e,this.isActivelyStreaming=t;let n=(0,a.Vh)(this.textMessageParts);this.concatenatedText=n,this.textMessagePartsTextLength=n.length,0===this.streamStartMs?this.streamStartMs=Date.now():this.averageMsPerChar=(Date.now()-this.streamStartMs)/this.textMessagePartsTextLength,this.displayNextCharTimeout||this.displayNextChar()}destroy(){super.destroy(),window.clearTimeout(this.displayNextCharTimeout)}_getNextCharDelayMs(){var e;let t=this.concatenatedText[this.displayedTextLength-1],n=this.textMessagePartsTextLength-this.displayedTextLength,r=1/Math.max(n*this.LAG_FACTORS.BUFFER_FACTOR,1),i=(null!==(e=this.LAG_FACTORS[t])&&void 0!==e?e:this.LAG_FACTORS.DEFAULT_LAG_FACTOR)*r,a=this.averageMsPerChar*i;return this._throttledDebugLog(["PunctuationBuffer:","[lagMs: ".concat(a,"]"),'[lastChar: "'.concat(t,'"]'),"[averageMsPerChar: ".concat(this.averageMsPerChar,"]"),"[lagFactor: ".concat(i,"]"),"[bufferLagFactor: ".concat(r,"]"),"[numBufferedChars: ".concat(n,"]"),"==="].join("\n")),a}}function d(e){return"text"===e.type}class h{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,r.Z)(this,"updateReactComponentDisplay",e=>{let t=e.filter(d).map(e=>e.text).join("");this.onFlush(t)}),this.buffer=new e([n],this.updateReactComponentDisplay),this.onFlush=t,this.text=n}appendText(e){this.text+=e,this.buffer.onMessagePartsUpdated([this.text],!0)}setText(e){this.text=e,this.buffer.onMessagePartsUpdated([this.text],!0)}isBuffering(){return this.buffer.isBuffering()}}},76129:function(e,t,n){n.d(t,{O1:function(){return j},XX:function(){return p},Xt:function(){return g},cm:function(){return f},i$:function(){return b},xB:function(){return x}});var r=n(85734),i=n(58543),a=n(26501),s=n(59031),l=n(19841),o=n(64331),c=n(92379),u=n(26123),d=n(97846),h=n(651);let f=(0,c.createContext)({isWithinDataAnalysisToolMessage:!1});function p(e){let{message:t}=e,{resolvedTheme:n}=(0,o.F)();return(0,h.jsx)(f.Provider,{value:{isWithinDataAnalysisToolMessage:!0},children:(0,h.jsx)(a.Z,{className:(0,l.default)("markdown prose w-full break-words dark:prose-invert","dark"===n?"dark":"light"),children:x(t)})})}function x(e){function t(e,t){return"```".concat(t,"\n").concat(e,"\n```")}if("code"===e.content.content_type)return t(e.content.text,"python");if("python"===e.recipient){if("text"!==e.content.content_type)throw Error("Unexpected content type for code message");let n=e.content.parts;if(1!==n.length||"string"!=typeof n[0])throw Error("Unexpected parts for code message");return t(n[0],"python")}throw Error("Unexpected code message format")}function g(e){var t;let{message:n}=e,i=(0,u.Z)();if(n.content.content_type!==r.PX.ExecutionOutput)return null;let a=null===(t=n.metadata)||void 0===t?void 0:t.aggregate_result;if(!a)return s.U.addError("Corrupt code execution result message"),null;let l=a.messages.filter(v),o=l.length>0,c=null!=a.final_expression_output,d=null!=a.in_kernel_exception;return(0,h.jsxs)(h.Fragment,{children:[o&&(0,h.jsx)(m,{label:"STDOUT/STDERR",output:l.map((e,t)=>(0,h.jsx)("span",{className:"stderr"===e.stream_name?"text-red-500":"",children:e.text},"".concat(t)))}),c&&(0,h.jsx)(m,{label:i.formatMessage({id:"codeInterpreterMessage.resultLabel",defaultMessage:"Result"}),output:a.final_expression_output}),d&&(0,h.jsx)(y,{traceback:a.in_kernel_exception.traceback.join("")})]})}function m(e){let{label:t,output:n}=e;return(0,h.jsxs)("div",{className:"bg-gray-700 p-4 text-xs",children:[(0,h.jsx)("div",{className:"mb-1 text-gray-400",children:t}),(0,h.jsx)("div",{className:"prose flex flex-col-reverse text-white",children:(0,h.jsx)("pre",{className:"shrink-0",children:n})})]})}function y(e){let{traceback:t}=e;return(0,h.jsx)("div",{className:"overflow-auto border-t border-gray-500 text-white",children:(0,h.jsx)("div",{className:"border-l-4 border-red-500 p-2 text-xs",children:(0,h.jsx)("div",{className:"scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-700 flex max-h-64 flex-col-reverse",children:(0,h.jsx)("pre",{className:"shrink-0",children:t})})})})}function b(e){var t;let{message:n}=e;if(n.content.content_type!==r.PX.ExecutionOutput)return null;let i=null===(t=n.metadata)||void 0===t?void 0:t.aggregate_result;return i?(0,h.jsx)(h.Fragment,{children:i.messages.filter(j).map((e,t)=>(0,h.jsx)(d.Z,{jupyterMessage:e},t))}):(s.U.addError("Corrupt code execution result message"),null)}function v(e){return"stream"===e.message_type}function j(e){return"image"===e.message_type||"image_url"in e&&(0,i.$H)(e.image_url+"")}},97846:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(94521),i=n(21904),a=n(66246),s=n(58543),l=n(93223),o=n(86021),c=n(14816),u=n(92379),d=n(26123),h=n(72256),f=n(25940),p=n(651);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){let{jupyterMessage:t}=e,n=(0,o.h9)(),i=(0,d.Z)();if(n)return(0,p.jsxs)("div",{className:"my-1 flex h-52 w-full max-w-xs flex-col items-center justify-center gap-2 rounded-md border-black/5 bg-gray-100 p-7 text-center text-token-text-tertiary dark:border-white/10",children:[(0,p.jsx)(a.zS0,{className:"icon-lg"}),(0,p.jsx)(h.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},b.imageNotSupported))]});if(null!=t.image_payload)return(0,p.jsx)("img",{className:"my-1",src:"data:image/png;base64,".concat(t.image_payload),alt:i.formatMessage(b.altText)});if(null!=t.image_url){let e=(0,s.Iy)(t.image_url);return(0,p.jsx)(y,{fileId:e})}return null}let m=Math.log(151)/Math.log(1.5);function y(e){let{fileId:t}=e,n=(0,d.Z)(),{data:r,isLoading:a,refetch:s}=(0,c.a)({queryKey:["getFileDownloadLink",t],queryFn:()=>l.Z.getFileDownloadLink(t),refetchInterval:e=>{var t;let n=e.state.dataUpdateCount;return(null===(t=e.state.data)||void 0===t?void 0:t.status)!==i.KF.Success&&!(n>m)&&e.state.status!==i.KF.Error&&100*Math.pow(1.5,n)}});return((0,u.useEffect)(()=>{if((null==r?void 0:r.status)===i.KF.Success){var e;let t=new Date(null!==(e=new URL(r.download_url).searchParams.get("se"))&&void 0!==e?e:"");!a&&new Date>t&&s()}},[r,a,s]),(null==r?void 0:r.status)!==i.KF.Success)?null:(0,p.jsx)("img",{src:r.download_url,className:"my-1 max-h-full max-w-full",alt:n.formatMessage(b.altText)})}let b=(0,f.vU)({imageNotSupported:{id:"CodeExecutionOutputImage.imageNotSupported",defaultMessage:"Image output is not supported in a shared chat"},altText:{id:"CodeExecutionOutputImage.altText",defaultMessage:"Output image"}})},810:function(e,t,n){n.d(t,{$w:function(){return s},Lm:function(){return l},Qq:function(){return a},Vh:function(){return i}});var r=n(85734);function i(e){return e.map(e=>"string"==typeof e?e:"").join("")}function a(e){return e.map(e=>"text"===e.type?e.text:"").join("\n")}function s(e,t){let n=[],i=0;for(let a=0;a<e.length;a++){let s=e[a];if("string"==typeof s){if(null!=t&&t<i+s.length){n.push({type:"text",text:s.slice(0,t-i)});break}n.push({type:"text",text:s}),i+=s.length}else if(s.content_type===r.wW.ImageAssetPointer){let e=a>0?n[a-1]:null;(null==e?void 0:e.type)==="images"?e.imageAssets.push(s):n.push({type:"images",imageAssets:[s]})}else s.content_type===r.wW.AudioTranscription&&n.push({type:"text",text:s.text})}return n}function l(e){let{isUserTurn:t,isFruitJuiceEnabled:n,parts:i}=e;if(!n||!t)return s(i);let a={text:[],images:[]};for(let e=0;e<i.length;e++){let t=i[e];"string"==typeof t?t.trim().length>0&&a.text.push(t):t.content_type===r.wW.AudioTranscription?a.text.push(t.text):t.content_type===r.wW.ImageAssetPointer&&a.images.push(t)}let l=[];return a.text.length>0&&l.push(...a.text.map(e=>({type:"text",text:e}))),a.images.length>0&&l.unshift({type:"images",imageAssets:a.images}),l}},76348:function(e,t,n){n.d(t,{QU:function(){return V},Zn:function(){return U},h7:function(){return R},s8:function(){return X},Xt:function(){return J},ij:function(){return $},vC:function(){return B},gP:function(){return ei},HY:function(){return z},tS:function(){return G}});var r,i,a=n(94521),s=n(66246),l=n(21925),o=n(55257),c=n(651);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e){return(0,c.jsxs)(o.A0,d(d({width:"19",height:"15",viewBox:"0 0 19 15",fill:"none"},e),{},{children:[(0,c.jsx)("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.16045 7.41534C5.32257 7.228 4.69638 6.47988 4.69638 5.58551C4.69638 4.54998 5.53584 3.71051 6.57136 3.71051C7.60689 3.71051 8.44635 4.54998 8.44635 5.58551C8.44635 5.8965 8.37064 6.1898 8.23664 6.448C8.22998 6.48984 8.21889 6.53136 8.20311 6.57208L6.77017 10.2702C6.63182 10.6272 6.18568 10.7873 5.7737 10.6276C5.36172 10.468 5.13991 10.0491 5.27826 9.69206L6.16045 7.41534ZM11.4177 7.41534C10.5798 7.228 9.95362 6.47988 9.95362 5.58551C9.95362 4.54998 10.7931 3.71051 11.8286 3.71051C12.8641 3.71051 13.7036 4.54998 13.7036 5.58551C13.7036 5.8965 13.6279 6.1898 13.4939 6.448C13.4872 6.48984 13.4761 6.53136 13.4604 6.57208L12.0274 10.2702C11.8891 10.6272 11.4429 10.7873 11.0309 10.6276C10.619 10.468 10.3971 10.0491 10.5355 9.69206L11.4177 7.41534Z",fill:"currentColor"})]}))}function f(e){return(0,c.jsxs)(o.A0,d(d({width:"19",height:"15",viewBox:"0 0 19 15",fill:"none"},e),{},{children:[(0,c.jsx)("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]}))}var p=n(8649),x=n(14975),g=n(26123),m=n(25940),y=n(76129);function b(e){let{codeMessage:t,codeExecutionOutputMessage:n,onDismiss:r}=e,i=(0,g.Z)();return(0,c.jsx)(p.Z.Root,{isOpen:!0,onClose:r,children:(0,c.jsx)(p.Z.Overlay,{children:(0,c.jsxs)(p.Z.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[(0,c.jsx)(p.Z.Header,{title:i.formatMessage(v.title),type:"success",closeButton:(0,c.jsx)(x.P,{onClick:r})}),(0,c.jsxs)("div",{className:"flex flex-1 flex-col overflow-auto bg-black",children:[(0,c.jsx)("div",{children:(0,c.jsx)(y.XX,{message:t})}),(0,c.jsx)("div",{children:(0,c.jsx)(y.Xt,{message:n})})]})]})})})}let v=(0,m.vU)({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis"}});var j=n(86021),w=n(29274),k=n(63584),C=n(93747),O=n(15236),T=n(48580),M=n(19841),P=n(61888),_=n(92379),N=n(72256),S=n(85734),F=n(62538),E=n(62484),q=n(58543),D=n(93249),Z=n(92524),L=n(34910);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let U=((r={})[r.Standard=0]="Standard",r[r.CodeExecution=1]="CodeExecution",r),V=((i={}).default="default",i.expandLink="expand-link",i.expandAll="expand-all",i),R=(0,_.createContext)(void 0),I="&#8203;";function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=[];if(t.length>0){let n=t.filter(t=>t.end_ix<=e.length),i=(0,L.J)(e);for(let e=n.length-1;e>=0;e--){let t=n[e],{citation_format_type:a,start_ix:s,end_ix:l,metadata:o,invalid_reason:c}=t;if("tether_markdown"===a){if(o&&"file"!==o.type){let e=i.slice(s,l).join("").replace(/\[(.*?)\]\((\d+)\)/g,"[$1](".concat(o.url,")"));i=i.slice(0,s).concat((0,L.J)(e),i.slice(l))}}else{let a={type:U.Standard};o?a.metadata=o:null!=c&&(a.invalid_reason=c);let u=!1;if(e>0){let r=n[e-1];null!=r.metadata&&null!=o&&en(r.metadata)===en(o)&&0===i.slice(r.end_ix,t.start_ix).join("").trim().length&&(i=i.slice(0,r.end_ix).concat(i.slice(t.end_ix)),u=!0)}if(!u){let e=r.length;i=i.slice(0,s).concat(H(e),i.slice(l)),r.push(a)}}}e=i.join("")}if(null!=n){let t=n.find(e=>(0,Z.rH)(e)===Z.Cs.CodeInterpreter),i=n.find(e=>(0,Z.rH)(e)===Z.Cs.CodeInterpreterTool);if(null!=t&&null!=i){let n=r.length;e=e+" "+H(n),r.push({type:U.CodeExecution,codeMessage:t,codeExecutionOutputMessage:i})}}return{text:e,displayedCitations:r}}function H(e){return"".concat(I,":").concat(l.pV,"[oaicite:").concat(e,"]{index=").concat(e,"}").concat(I)}function z(){let{value:e}=(0,T.sB)("chatgpt-contextual-answers-rollout"),t=(0,T.xb)("chatgpt-gizmo-enable-citations");return e?t.config.get("gizmo_ids",[],W):[]}function G(){let{value:e}=(0,T.sB)("chatgpt-contextual-answers-rollout"),t=(0,T.xb)("chatgpt-gizmo-enable-citations");return e?t.config.get("workspace_ids",[],W):[]}function W(e){return Array.isArray(e)&&e.every(e=>"string"==typeof e)}function X(e){let{index:t,displayInfo:n,displayType:r}=e;switch(n.type){case U.Standard:return(0,c.jsx)($,{index:t,displayInfo:n,displayType:r});case U.CodeExecution:return(0,c.jsx)(ee,{displayInfo:n})}}function K(e){return(0,P.pickBy)(e,P.isString)}function $(e){var t,n,r,i,a;let s,l;let{index:o,displayInfo:u,displayType:d,children:f}=e,p=(0,q.O6)(),x=(0,_.useContext)(R),g=(0,j.XK)(null!==(t=null==x?void 0:x.clientThreadId)&&void 0!==t?t:S.Zq),m=(0,j.WA)(null!==(n=null==x?void 0:x.clientThreadId)&&void 0!==n?n:S.Zq),y=z(),b=null==x||null===(r=x.message.metadata)||void 0===r?void 0:r.gizmo_id,v=!!b&&y.includes(b),{onCitationHovered:k,onCitationClicked:P}=null!=x?x:{},N=ei(v,u.metadata),F=(null==N?void 0:N.type)==="file",D=!F&&null!=x&&!x.isActivelyStreaming,Z=D?{conversation_id:null==g?void 0:g.toString(),model_slug:null==x||null===(i=x.message.metadata)||void 0===i?void 0:i.model_slug,message_id:null==x?void 0:x.message.id,url:null==N?void 0:N.url,citation_number:o,display_type:d}:null;(0,_.useEffect)(()=>{null!=Z&&(C.A.logEvent(O.M.browsingDisplayCitation,Z),T.m9.logEvent("chatgpt_browsing_display_citation",null,K(Z)))},[D]);let L=(null==m?void 0:m.kind)===S.OL.GizmoInteraction||(null==m?void 0:m.kind)===S.OL.GizmoTest||(null==m?void 0:m.kind)===S.OL.GizmoMagicCreate;return F&&(L&&!v||d===V.expandAll)||null==N&&(L||d===V.expandAll)||F&&null==N&&T.m9.getExperimentValue({experimentName:"retrieval_search_model",key:T.Hy.TREATMENT,defaultValue:"ba"})?null:d===V.expandAll&&null!=N?(0,c.jsx)(Y,{citationMetadata:N,children:f}):(d===V.expandLink&&N&&"webpage"===N.type?(s=Q(N.url,null==x?void 0:x.attributions),l=!0):(s=(0,c.jsx)(h,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"}),l=!1),(0,c.jsx)(E.u,{label:(0,c.jsx)(et,{citationMetadata:N,invalidReason:u.invalid_reason,onClick:()=>{null!=Z&&(C.A.logEvent(O.M.browsingClickCitation,Z),T.m9.logEvent("chatgpt_browsing_click_citation",null,K(Z))),N&&(null==P||P(N))}}),onOpenChange:e=>{e&&(null!=Z&&(C.A.logEvent(O.M.browsingHoverCitation,Z),T.m9.logEvent("chatgpt_browsing_hover_citation",null,K(Z))),N&&(null==k||k(N)))},side:"top",sideOffset:4,withArrow:!1,delayDuration:150,interactive:!0,wide:!0,children:N&&F?null!==(a=N.extra)&&void 0!==a&&a.cloud_doc_url?(0,c.jsxs)("a",{href:N.extra.cloud_doc_url,target:"_blank",rel:"noreferrer",className:"px-0.5 text-green-600",children:[s,f]}):(0,c.jsxs)("button",{onClick:()=>p(N.id,N.name),className:"px-0.5 text-green-600",children:[s,f]}):(0,c.jsxs)(c.Fragment,{children:[l&&(0,c.jsx)("span",{className:"text-token-text-secondary",children:" ("}),(0,c.jsxs)("a",{href:(0,w.k)(null==N?void 0:N.url),target:"_blank",rel:"noreferrer",className:(0,M.default)("text-green-600 !no-underline",!l&&"px-0.5"),onClick:()=>{null!=Z&&(C.A.logEvent(O.M.browsingClickCitation,Z),T.m9.logEvent("chatgpt_browsing_click_citation",null,K(Z)))},children:[s,f]}),l&&(0,c.jsx)("span",{className:"text-token-text-secondary",children:")"})]})}))}function Q(e,t){var n;return null!==(n=null==t?void 0:t.get(e))&&void 0!==n?n:(0,D.p)(e)}function Y(e){let{citationMetadata:t,children:n}=e,r=(0,_.useContext)(R);if("file"===t.type)return null;let i=Q(t.url,null==r?void 0:r.attributions);return(0,c.jsxs)("span",{className:"text-nowrap",children:[(0,c.jsx)("span",{className:"text-token-text-primary",children:"("}),(0,c.jsx)(J,{citationMetadata:t,className:"inline-block font-normal",children:(0,c.jsxs)("span",{className:"text-token-link underline-offset-2 hover:underline",children:[i,n]})}),(0,c.jsx)("span",{className:"text-token-text-primary",children:")"})]})}function J(e){let{citationMetadata:t,children:n,sideOffset:r,className:i}=e,a=(0,_.useContext)(R);if("file"===t.type)return null;let s=Q(t.url,null==a?void 0:a.attributions),{onCitationHovered:l,onCitationClicked:o}=null!=a?a:{};return(0,c.jsxs)(k.fC,{delayDuration:150,onOpenChange:e=>{e&&(null==l||l(t))},children:[(0,c.jsx)(k.xz,{asChild:!0,children:(0,c.jsx)("a",{href:t.url,onClick:()=>null==o?void 0:o(t),target:"_blank",rel:"noreferrer",className:i,children:n})}),(0,c.jsx)(k.h_,{children:(0,c.jsx)(k.VY,{side:"bottom",sideOffset:r,children:(0,c.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:(0,c.jsxs)("div",{className:"max-w-xs rounded-lg border border-token-border-light bg-token-main-surface-secondary p-1 shadow-sm",children:[(0,c.jsxs)("div",{className:(0,M.default)("flex items-center gap-2 text-xs text-token-text-secondary",null==t.title&&null==t.text?"mb-1 px-3 pt-2":"mb-0.5 px-2 pt-0.5"),children:[(0,c.jsx)(F.Z,{url:t.url,size:32,className:"icon-sm rounded"}),s]}),t.title&&(0,c.jsx)("div",{className:"mb-2 line-clamp-2 px-3 text-sm font-semibold",children:t.title}),t.text&&(0,c.jsx)("div",{className:"rounded-md border border-token-border-light bg-token-main-surface-secondary p-1",children:(0,c.jsx)("div",{className:"m-2 line-clamp-5 text-sm",children:t.text})})]})})})})]})}function ee(e){let{displayInfo:t}=e,{0:n,1:r}=(0,_.useState)(!1),i=(0,g.Z)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(E.u,{label:i.formatMessage(er.viewAnalysis),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,children:(0,c.jsx)("button",{onClick:()=>r(!0),children:(0,c.jsx)(f,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"})})}),n&&(0,c.jsx)(b,{codeMessage:t.codeMessage,codeExecutionOutputMessage:t.codeExecutionOutputMessage,onDismiss:()=>r(!1)})]})}function et(e){var t;let{citationMetadata:n,invalidReason:r,onClick:i}=e,l=(0,q.O6)(),o=(null==n?void 0:n.type)==="file",u=n?(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"flex shrink-0 items-center justify-center",children:o?(0,c.jsx)(s.h3O,{className:"icon-xs"}):(0,c.jsx)(F.Z,{url:n.url,className:"my-0"})}),(0,c.jsx)("div",{className:"max-w-xs truncate",children:o?n.name:n.title}),(0,c.jsx)("div",{className:"shrink-0",children:(0,c.jsx)(s.Pfi,{className:"icon-xs"})})]}):(0,c.jsx)("div",{className:"text-red-500",children:null!=r?r:(0,c.jsx)(N.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},er.invalid))});return o?null!==(t=n.extra)&&void 0!==t&&t.cloud_doc_url?(0,c.jsx)("a",{href:n.extra.cloud_doc_url,target:"_blank",rel:"noreferrer",className:"text-xs",children:u}):(0,c.jsx)("button",{onClick:()=>{l(n.id,n.name),null==i||i()},className:"text-xs",children:u}):(0,c.jsx)("a",{href:(0,w.k)(null==n?void 0:n.url),target:"_blank",rel:"noreferrer",className:"text-xs !no-underline",onClick:i,children:u})}function en(e){return"file"===e.type?e.id:e.url}let er=(0,m.vU)({invalid:{id:"citations.invalid",defaultMessage:"Invalid citation"},viewAnalysis:{id:"citations.viewAnalysis",defaultMessage:"View analysis"}});function ei(e,t){let n;if(!t||!e||"file"!==t.type)return t;let r=t.name.split("\xa4");if(3!==r.length)return t;let[i,a,s]=r,l=s,o=s.lastIndexOf(".");-1!==o&&(l=s.slice(0,o));let c="Google Drive";if("gdrive"===i)n="https://drive.google.com/file/d/".concat(a,"/view"),c="Google Drive";else if("gdoc"===i)n="https://docs.google.com/document/d/".concat(a),c="Google Docs";else{if("notion"!==i)return t;n="https://www.notion.so/openai/".concat(a),c="Notion"}return{type:"webpage",url:n,title:l,text:c}}},29274:function(e,t,n){n.d(t,{k:function(){return i}});let r=["https:","mailto:","tel:"],i=e=>{let t;if(void 0!==e){try{t=new URL(e,window.location.origin)}catch(e){return}if(!r.includes(t.protocol))return;return t.href}}},84466:function(e,t,n){function r(e,t){for(let[n,r]of Object.entries(t))e.addEventListener(n,r);return()=>{for(let[n,r]of Object.entries(t))e.removeEventListener(n,r)}}function i(e,t){for(let[n,r]of Object.entries(t))e.on(n,r);return()=>{for(let[n,r]of Object.entries(t))e.off(n,r)}}n.d(t,{LW:function(){return i},eR:function(){return r}})},93249:function(e,t,n){n.d(t,{p:function(){return r}});function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short";try{let n=new URL(e).hostname.replace("www.","");if("hostname"===t)return n;return n.replace(/\.[^.]*$/,"")}catch(t){return e}}},34910:function(e,t,n){n.d(t,{J:function(){return r}});function r(e){try{let t=new Intl.Segmenter("en-US",{granularity:"grapheme"}).segment(e),n=[];for(let e of t)n.push(e.segment);return n}catch{return e.split("")}}},91257:function(e,t,n){n.d(t,{d:function(){return h},u:function(){return f}});var r=n(43021),i=n(27860),a=n(35226),s=n(14816),l=n(37607),o=n(79208),c=n(61888),u=n(89360);let d=(0,c.memoize)(e=>o.Ue({fetcher:async t=>{let n=new Map;for await(let i of r.c.streamedJsonPost("".concat(u.B,"/attributions"),{urls:t}))i.attribution&&n.set(i.url,i.attribution),e.setQueryData(["attribution",{url:i.url}],i.attribution);return(0,c.compact)(t.map(e=>{let t=n.get(e);return t&&{url:e,attribution:t}}))},resolver:o.rp("url"),scheduler:o.ck(100)}));function h(e){let{useBaseUrl:t=!0,enabled:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t?(0,i.FH)(e):e,l=d((0,a.NL)());return(0,s.a)({queryKey:["attribution",{url:r}],queryFn:async()=>(await l.fetch(r)).attribution,enabled:n&&!!e})}function f(e){let{useBaseUrl:t=!0,enabled:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t?e.map(i.FH):e,s=d((0,a.NL)());return(0,l.h)({queries:r.map(e=>({queryKey:["attribution",{url:e}],queryFn:async()=>(await s.fetch(e)).attribution,enabled:r.length>0&&n})),combine:t=>{let n=new Map;for(let r=0;r<t.length;r++){let i=t[r].data;i&&n.set(e[r],i)}return n}})}},6037:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(92379);function i(e,t){let n=(0,r.useRef)(e);(0,r.useEffect)(()=>{n.current=e},[e]),(0,r.useEffect)(()=>{if(null!=t){let e=window.setInterval(function(){n.current()},t);return()=>clearInterval(e)}},[t])}},56505:function(e,t,n){var r=n(92379);t.Z=function(){let e=(0,r.useRef)(!1);return(0,r.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),(0,r.useCallback)(()=>e.current,[])}}}]);
//# sourceMappingURL=3969-34bccd399427006a.js.map