"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8104],{24421:function(e,t,n){n.d(t,{Z:function(){return a}});function a(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}},51516:function(e,t,n){n.d(t,{Z:function(){return a}});function a(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}},95638:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(24421),s=n(67629),r=n(51516);function o(e,t){(0,r.Z)(2,arguments);var n=(0,s.Z)(e),o=(0,s.Z)(t);return Math.round((n.getTime()-(0,a.Z)(n)-(o.getTime()-(0,a.Z)(o)))/864e5)}},26430:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(28734),s=n(51516);function r(e,t){return(0,s.Z)(2,arguments),(0,a.Z)(e).getTime()-(0,a.Z)(t).getTime()}},21508:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(28734),s=n(51516);function r(e){(0,s.Z)(1,arguments);var t=(0,a.Z)(e);return t.setHours(23,59,59,999),t}},12654:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(21508);function s(){return(0,a.Z)(Date.now())}},44043:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(28734),s=n(51516);function r(e){return(0,s.Z)(1,arguments),(0,a.Z)(e).getMonth()}},82187:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(28734),s=n(51516);function r(e){return(0,s.Z)(1,arguments),(0,a.Z)(e).getFullYear()}},69262:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(28734),s=n(51516);function r(e){return(0,s.Z)(1,arguments),function(e,t){(0,s.Z)(2,arguments);var n=(0,a.Z)(e),r=(0,a.Z)(t);return n.getFullYear()===r.getFullYear()}(e,Date.now())}},67629:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(28734),s=n(51516);function r(e){(0,s.Z)(1,arguments);var t=(0,a.Z)(e);return t.setHours(0,0,0,0),t}},28734:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(51516);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){(0,a.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===s(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},31231:function(e,t,n){var a;n.d(t,{w:function(){return s}});let s=((a={}).Personal="chat",a.Workspace="workspace",a.Team="team",a)},64216:function(e,t,n){var a=n(79746),s=n(11550),r=n(77748),o=n(651);t.Z=e=>{let{label:t,value:n,onCopied:i}=e,l=()=>{(0,a.v)(n),i()};return(0,o.jsxs)("div",{className:"flex flex-col space-y-2",children:[void 0!==t&&(0,o.jsx)("label",{className:"font-semibold",children:t}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{onClick:l,className:"w-full cursor-pointer break-all rounded-lg bg-token-main-surface-tertiary px-4 py-2 font-mono text-sm text-token-text-primary",children:n}),(0,o.jsx)(s.z,{color:"ghost",onClick:l,icon:r.TIy})]})]})}},76608:function(e,t,n){n.d(t,{x:function(){return i}});var a=n(19841),s=n(62984),r=n(77748),o=n(651);function i(e){let{type:t,onClick:n}=e,i="more"===t?r.eOB:r.BZB;return(0,o.jsx)("div",{className:(0,a.default)("group flex w-full items-center justify-start","less"===t&&"z-20","more"===t&&"mt-1"),children:(0,o.jsxs)("button",{className:"flex flex-1 select-none items-center rounded-lg py-1 pl-4 text-sm tracking-tight hover:bg-token-sidebar-surface-secondary focus:ring-0",onClick:n,children:[(0,o.jsx)(i,{className:"icon-2xl -ml-3 mr-1 font-semibold text-token-text-secondary"}),"more"===t?(0,o.jsx)(s.Z,{id:"25xE8F",defaultMessage:"See more"}):(0,o.jsx)(s.Z,{id:"1poXLj",defaultMessage:"See less"})]})})}},17893:function(e,t,n){var a,s,r,o,i,l,c;n.r(t);let d={fragment:{argumentDefinitions:[a={defaultValue:null,kind:"LocalArgument",name:"after"},s={defaultValue:null,kind:"LocalArgument",name:"expand"},r={defaultValue:null,kind:"LocalArgument",name:"first"},o={defaultValue:null,kind:"LocalArgument",name:"isArchived"},i={defaultValue:null,kind:"LocalArgument",name:"order"}],kind:"Fragment",metadata:null,name:"useConversationHistoryQuery",selections:c=[{alias:null,args:[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"expand",variableName:"expand"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"is_archived",variableName:"isArchived"},{kind:"Variable",name:"order",variableName:"order"}],concreteType:"ConversationDisplayConnection",kind:"LinkedField",name:"conversationDisplayHistory",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationDisplayEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ConversationDisplay",kind:"LinkedField",name:"node",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"updateTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currentNodeId",storageKey:null},{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"primaryGizmo",plural:!1,selections:[l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"asyncStatus",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,a,i,s,o],kind:"Operation",name:"useConversationHistoryQuery",selections:c},params:{cacheID:"097c1fc0342383d3ae16a1757d2b9664",id:"5f5770417560c56ba8fa929b84900b53f40cdcc3906d5197003e9ecf7adf3bb7",metadata:{},name:"useConversationHistoryQuery",operationKind:"query",text:"query useConversationHistoryQuery(\n  $first: Int\n  $after: Cursor\n  $order: String\n  $expand: Boolean\n  $isArchived: Boolean\n) {\n  conversationDisplayHistory(first: $first, after: $after, order: $order, expand: $expand, is_archived: $isArchived) {\n    edges {\n      node {\n        id\n        title\n        updateTime\n        createTime\n        currentNodeId\n        primaryGizmo {\n          id\n        }\n        asyncStatus\n      }\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n      startCursor\n      hasPreviousPage\n    }\n  }\n}\n"}};d.hash="377edfb04902b17f5e9aab4e1df62db0",t.default=d},31292:function(e,t,n){n.d(t,{M:function(){return u}});var a=n(98601),s=n(99333),r=n(11550),o=n(62984),i=n(68306),l=n(651);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let u=e=>{let{entry:t,isConnected:n,onDisconnect:a,onConnect:i}=e;return n?(0,l.jsx)(r.z,{onClick:()=>a(null==t?void 0:t.type),color:"danger-outline",size:"small",children:(0,l.jsx)(o.Z,d({},f.disconnect))}):(0,l.jsx)(r.z,{onClick:()=>i({id:t.id},"settings_connected_apps",t.type===s.PO.GDRIVE_SYNC_CONNECTOR?"".concat(window.location.origin,"/ca/").concat(t.id,"/oauth/callback"):"".concat(window.location.origin,"/ccc/").concat(t.id,"/oauth/callback"),"#settings/ConnectorSettings"),color:"secondary",size:"small",children:(0,l.jsx)(o.Z,d({},f.connect))})},f=(0,i.vU)({connect:{id:"connectorSettings.connect",defaultMessage:"Connect"},disconnect:{id:"connectorSettings.disconnect",defaultMessage:"Disconnect"}})},8591:function(e,t,n){n.d(t,{Z:function(){return T}});var a,s=n(98601),r=n(59144),o=n(2721),i=n(93951),l=n(31498),c=n(69769),d=n(19841),u=n(91530),f=n.n(u),m=n(34977),g=n(92379),x=n(62984),h=n(75172),p=n(68306),y=n(59725),j=n(32378),v=n(25162),b=n(77748),M=n(24434),w=n(47807),k=n(86741),O=n(651);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let Z=e=>{let{value:t,isSelected:n,onSelect:a}=e;return(0,O.jsxs)("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-none lg:text-left",onClick:()=>a(t),children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)("div",{className:"flex-shrink-0",children:"transfer"===t?(0,O.jsx)(b.ccP,{}):(0,O.jsx)(b.V0P,{})}),(0,O.jsxs)("div",{className:"flex flex-col text-left",children:[(0,O.jsx)("div",{className:"font-semibold",children:"transfer"===t?(0,O.jsx)(x.Z,P({},E.teamAccountTransferModalTransferLabel)):(0,O.jsx)(x.Z,P({},E.teamAccountTransferModalCreateLabel))}),(0,O.jsx)("div",{className:"flex-wrap text-sm text-token-text-secondary",children:"transfer"===t?(0,O.jsx)(x.Z,P({},E.teamAccountTransferModalTransferDetail)):(0,O.jsx)(x.Z,P({},E.teamAccountTransferModalCreateDetail))})]})]}),(0,O.jsx)("div",{className:(0,d.default)("flex h-4 w-4 flex-shrink-0 items-center justify-center rounded-full border",{"bg-black":n}),children:n&&(0,O.jsx)(b.$As,{className:"h-3 w-3 scale-x-75 stroke-[4] text-white"})})]})},N=e=>{let{setCurrentStep:t,setHasSeenOnboarding:n}=e,{0:a,1:s}=(0,g.useState)(""),o=(0,h.Z)();return(0,O.jsx)(M.Z,{isOpen:!0,onClose:f(),type:"warning",title:o.formatMessage(E.teamAccountTransferModalTitle),primaryButton:(0,O.jsx)(r.m,{title:o.formatMessage(E.teamAccountTransferModalConfirm),onClick:()=>{"transfer"===a?t(S.TransferModal):"create"===a&&n&&n()},color:"primary",className:"ml-4"}),children:(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,O.jsx)("div",{className:"text-md mb-2 text-token-text-primary",children:(0,O.jsx)(x.Z,P({},E.teamAccountTransferModalExplanation))}),(0,O.jsx)(Z,{value:"transfer",isSelected:"transfer"===a,onSelect:s}),(0,O.jsx)(j.b,{}),(0,O.jsx)(Z,{value:"create",isSelected:"create"===a,onSelect:s})]})})},D=e=>{let{currentWorkspace:t,setCurrentStep:n,fromSettings:a,setHasSeenOnboarding:s,onClose:i=f()}=e,d=(0,h.Z)(),u=(0,l.aF)(),g=(0,m.useRouter)(),p=null==u?void 0:u.name;return(0,O.jsx)(M.Z,{isOpen:!0,onClose:s?f():i,type:"success",title:d.formatMessage(E.selectedModalTitle),primaryButton:(0,O.jsx)(r.m,{title:a?d.formatMessage(E.mergeModalConfirm):d.formatMessage(E.teamTransferModalConfirm),color:"primary",onClick:async()=>{let e=await o.Z.transferAccount(t.id);if(s&&s(),e.success)(0,c.M)();else{let e=(0,k.M5)(k.LT.ACCOUNT_TRANSFER_ERROR,"/",void 0);g.push(e)}}}),secondaryButton:(0,O.jsx)(r.m,{title:d.formatMessage(E.selectedModalBack),color:"secondary",onClick:a?i:async()=>{n(S.InitialModal)}}),children:(0,O.jsxs)("div",{className:"flex flex-col justify-center gap-4",children:[(0,O.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,O.jsx)(y.Yt,{user:u,size:"large",roundedStyle:"rounded-full"}),(0,O.jsxs)("div",{className:"pt-2",children:[(0,O.jsx)("div",{className:"font-semibold",children:p}),(0,O.jsx)("div",{className:"mb-2 text-sm text-token-text-secondary",children:(0,O.jsx)(x.Z,P({},E.tansferModalPersonalAccount))})]})]}),(0,O.jsx)("div",{className:"-mb-2 -mt-3 flex justify-start pl-3",children:(0,O.jsx)(b.veu,{className:"icon-sm"})}),(0,O.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,O.jsx)(y.B0,{src:t.profilePictureUrl,size:"large"}),(0,O.jsx)("div",{className:"font-semibold",children:t.name})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"mb-2 text-base font-semibold",children:(0,O.jsx)(x.Z,P({},E.teamTransferModalConfirmTitle))}),(0,O.jsxs)("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[(0,O.jsx)("li",{className:"mb-2",children:(0,O.jsx)(x.Z,P({},E.teamTransferModalMigrateData))}),(0,O.jsx)("li",{className:"mb-2",children:(0,O.jsx)(x.Z,P({},E.teamTransferModalDeleteData))}),(0,O.jsx)("li",{children:(0,O.jsx)(x.Z,P({},E.teamTransferModalCancelPlus))})]})]}),(0,O.jsx)("div",{className:"mx-auto mb-2 flex max-w-5xl items-center rounded-md border border-token-border-medium bg-token-main-surface-secondary px-2 py-2 md:px-2 lg:px-4 lg:py-3",children:(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsx)(v.FE,{className:"flex-shrink-0 text-red-500"}),(0,O.jsx)("p",{className:"ml-4 text-sm",children:(0,O.jsx)(x.Z,P(P({},E.teamTransferModalWarning),{},{values:{link:e=>(0,O.jsx)("a",{href:"https://help.openai.com/en/articles/8801890 ",target:"_blank",className:"underline",rel:"noreferrer",children:e})}}))})]})})]})})};var S=((a=S||{})[a.InitialModal=0]="InitialModal",a[a.TransferModal=1]="TransferModal",a);function T(e){var t;let{onClose:n=f(),fromSettings:a=!1}=e,{0:s,1:r}=(0,g.useState)(a?S.TransferModal:S.InitialModal),o=null===(t=(0,i.t)())||void 0===t?void 0:t.data,{setHasSeenTeamOwnerOnboarding:l}=(0,w.Yc)(),c=a?void 0:l;switch(s){case S.InitialModal:return(0,O.jsx)(N,{setCurrentStep:r,setHasSeenOnboarding:c});case S.TransferModal:return(0,O.jsx)(D,{setCurrentStep:r,currentWorkspace:o,onClose:n,fromSettings:a,setHasSeenOnboarding:c})}}let E=(0,p.vU)({teamAccountTransferModalTitle:{id:"teamAccountTransferModal.title",defaultMessage:"Your ChatGPT Team workspace is ready"},teamAccountTransferModalExplanation:{id:"teamAccountTransferModal.explanation",defaultMessage:"Do you want to transfer your chat history and GPTs to the Team workspace?"},teamAccountTransferModalConfirm:{id:"teamAccountTransferModal.confirm",defaultMessage:"Continue"},teamAccountTransferModalTransferLabel:{id:"teamAccountTransferModal.transferLabel",defaultMessage:"Transfer chat history and GPTs"},teamAccountTransferModalTransferDetail:{id:"teamAccountTransferModal.transferDetail",defaultMessage:"Carry over existing data from your personal workspace"},teamAccountTransferModalCreateLabel:{id:"teamAccountTransferModal.createLabel",defaultMessage:"Start as empty workspace"},teamAccountTransferModalCreateDetail:{id:"teamAccountTransferModal.createDetail",defaultMessage:"Keep your personal workspace separate. If you’re on Plus, you will maintain your subscription until you cancel"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},tansferModalPersonalAccount:{id:"teamTransferModal.personalAccount",defaultMessage:"Personal workspace"},teamTransferModalConfirmTitle:{id:"teamTransferModal.confirmTitle",defaultMessage:"Transfer of existing data is permanent and can't be undone."},teamTransferModalMigrateData:{id:"teamTransferModal.migrateData",defaultMessage:"Your chat history and GPTs in your personal workspace will be migrated to the Team workspace."},teamTransferModalDeleteData:{id:"teamTransferModal.deleteData",defaultMessage:"Your Plugins and custom instructions in your personal workspace will be deleted."},teamTransferModalCancelPlus:{id:"teamTransferModal.cancelPlus",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon merging."},teamTransferModalWarning:{id:"teamTransferModal.warning",defaultMessage:"You will lose access to your data if you leave or are removed from the Team workspace, or if the workspace is deactivated. <link>Learn more</link>"},teamTransferModalConfirm:{id:"teamTransferModal.confirm",defaultMessage:"Confirm transfer"},mergeModalConfirm:{id:"mergerModal.confirm",defaultMessage:"Confirm merge"}})},98303:function(e,t,n){n.d(t,{C:function(){return s}});var a=n(93951);function s(e){var t,n;let s=(0,a.hz)();return!(null===(t=(0,a.t)())||void 0===t?void 0:t.isWorkspaceAccount())||null!==(n=null==s?void 0:s.includes(e))&&void 0!==n&&n}},88491:function(e,t,n){n.d(t,{Z:function(){return C}});var a,s=n(98601),r=n(99333),o=n(11550),i=n(64216),l=n(6440),c=n(59144),d=n(36792),u=n(77748),f=n(24434),m=n(24740),g=n(2721),x=n(42420),h=n(56032),p=n(92379),y=n(75172),j=n(62984),v=n(68306),b=n(12310),M=n(651);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O=((a=O||{})[a.INITIAL=0]="INITIAL",a[a.PENDING=1]="PENDING",a[a.FINAL=2]="FINAL",a);function C(e){let{workspaceId:t,isOpen:n,onClose:a,currentDomain:s,domains:o=[],showUnverifiedDomains:l=!1,onVerifyDomain:d}=e,u=(0,y.Z)(),{mutateAsync:v,isPending:b}=function(e){let t=(0,x.NL)();return(0,h.D)({mutationFn:t=>{let{hostname:n}=t;return g.Z.addDomainToWorkspace(e,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:e=>{m.m.danger(e.message)}})}(t),{mutateAsync:w,isPending:C}=function(e){let t=(0,x.NL)();return(0,h.D)({mutationFn:t=>{let{domainId:n}=t;return g.Z.checkDomainForWorkspace(e,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:e=>{m.m.danger(e.message)}})}(t),{0:P,1:D}=(0,p.useState)(null!=s?s:void 0),{0:S,1:T}=(0,p.useState)(null==s?void 0:s.hostname),{0:E,1:A}=(0,p.useState)((null==s?void 0:s.status)===void 0?O.INITIAL:(null==s?void 0:s.status)===r.pT.PENDING?O.PENDING:O.FINAL),L=()=>{s||(D(void 0),A(O.INITIAL))},_=async()=>{if(void 0===S)return;let e=o.find(e=>e.hostname===S&&e.status===r.pT.PENDING);if(e)D(e),A(O.PENDING);else{let e=await v({hostname:S});"id"in e&&D(e),A(O.PENDING)}},B=(0,M.jsx)(c.Z.Button,{title:u.formatMessage(N.check),color:"primary",disabled:(null==P?void 0:P.id)===void 0||C,onClick:async()=>{if(null!=P&&P.id){let e=await w({domainId:P.id});"error"in e&&m.m.danger(u.formatMessage(N.domainCheckError,{message:e.error.message})),"id"in e&&(d&&d(e),e.status===r.pT.VERIFIED&&A(O.FINAL))}}}),I=(0,M.jsx)(c.Z.Button,{title:u.formatMessage(N.submit),color:"primary",disabled:void 0===S||b,onClick:_}),F=(0,M.jsx)(c.Z.Button,{title:u.formatMessage(N.done),color:"primary",onClick:()=>{L(),a()}});return(0,M.jsxs)(f.Z,{isOpen:n,onClose:()=>{L(),a()},type:"success",className:"text-token-text-secondary",title:u.formatMessage(E===O.INITIAL?N.newTitle:N.editTitle),primaryButton:E===O.INITIAL?I:E===O.PENDING?B:F,secondaryButton:(0,M.jsx)(c.Z.Button,{title:u.formatMessage(N.cancel),color:"secondary",onClick:()=>{L(),a()}}),children:[E===O.INITIAL&&(0,M.jsx)(Z,{hostname:S,onSetHostname:T,onSubmit:_,unverifiedDomains:l?o:[],onVerifyDomain:e=>{A(O.PENDING),D(e)},workspaceId:t}),E===O.PENDING&&(0,M.jsxs)("div",{className:"flex flex-col gap-3",children:[u.formatMessage(N.verificationTokenMessage,{hostname:null==P?void 0:P.hostname}),(null==P?void 0:P.dns_verification_token_string)&&(0,M.jsx)(i.Z,{value:P.dns_verification_token_string,onCopied:()=>{m.m.success(u.formatMessage(N.copiedTXTRecordToClipboard),{duration:3})}}),(0,M.jsx)(j.Z,k({},N.verificationTokenFooter))]}),E===O.FINAL&&(0,M.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,M.jsx)(j.Z,k(k({},N.successfulVerification),{},{values:{hostname:null==P?void 0:P.hostname}})),(null==P?void 0:P.dns_verification_token_string)&&(0,M.jsx)(i.Z,{value:P.dns_verification_token_string,onCopied:()=>{m.m.success(u.formatMessage(N.copiedTXTRecordToClipboard),{duration:3})}})]})]})}function P(e){let{unverifiedDomains:t,onVerifyDomain:n,workspaceId:a}=e,{mutateAsync:s}=(0,b.Bd)(a);return(0,M.jsxs)(d.Z.Root,{fixed:!0,size:"compact",className:"mb-6 border-b border-token-border-light",children:[(0,M.jsxs)(d.Z.Header,{children:[(0,M.jsx)(d.Z.HeaderCell,{children:(0,M.jsx)(j.Z,k({},N.unverifiedDomainsTableHeader))}),(0,M.jsx)(d.Z.HeaderCell,{textAlign:"right"})]}),t.map(e=>(0,M.jsxs)(d.Z.Row,{children:[(0,M.jsx)(d.Z.Cell,{children:e.hostname}),(0,M.jsx)(d.Z.Cell,{textAlign:"right",children:(0,M.jsxs)("div",{className:"flex gap-2",children:[(0,M.jsx)(o.z,{color:"secondary",size:"small",onClick:()=>n(e),children:(0,M.jsx)(j.Z,k({},N.verifyDomainButton))}),(0,M.jsx)(o.z,{color:"secondary",size:"small",onClick:()=>s({domainId:e.id}),icon:u.XHJ})]})})]},e.id))]})}function Z(e){let{hostname:t,onSetHostname:n,onSubmit:a,unverifiedDomains:s,onVerifyDomain:r,workspaceId:o}=e,i=(0,y.Z)();return(0,M.jsxs)(M.Fragment,{children:[s&&s.length>0&&(0,M.jsx)(P,{workspaceId:o,unverifiedDomains:s,onVerifyDomain:r}),(0,M.jsx)("form",{onSubmit:e=>{e.preventDefault(),a()},children:(0,M.jsxs)("div",{className:"mb-4",children:[(0,M.jsx)("label",{className:"mb-2 flex items-center text-sm font-semibold",children:(0,M.jsx)(j.Z,k({},N.domainInput))}),(0,M.jsx)(l.Z,{name:"hostname",placeholder:i.formatMessage(N.placeholder),value:null!=t?t:"",onChange:e=>{n(e.target.value)}})]})})]})}let N=(0,v.vU)({newTitle:{id:"domainModal.newTitle.0",defaultMessage:"Verify a new domain"},editTitle:{id:"domainModal.editTitle",defaultMessage:"Manage Domain"},submit:{id:"domainModal.submit",defaultMessage:"Submit"},check:{id:"domainModal.check",defaultMessage:"Check"},done:{id:"domainModal.done",defaultMessage:"Done"},cancel:{id:"domainModal.cancel",defaultMessage:"Cancel"},domainInput:{id:"domainModal.domainInput.0",defaultMessage:"Add a new domain"},placeholder:{id:"domainModal.placeholder",defaultMessage:"openai.com"},domainCheckError:{id:"domainModal.domainCheckError",defaultMessage:"Your domain could not be verified: {message}"},verificationTokenMessage:{id:"domainModal.verificationTokenMessage",defaultMessage:"To verify ownership of {hostname}, navigate to your DNS provider and add a TXT record with this value:"},verificationTokenFooter:{id:"domainModal.verificationTokenFooter",defaultMessage:"Then, check the record to complete the verification."},successfulVerification:{id:"domainModal.successfulVerification.0",defaultMessage:'Your domain, "{hostname}" has been successfully verified'},copiedTXTRecordToClipboard:{id:"domainModal.copiedTXTRecordToClipboard",defaultMessage:"Copied DNS TXT record to clipboard"},verifyDomainButton:{id:"domainModal.verifyDomainButton",defaultMessage:"Verify"},unverifiedDomainsTableHeader:{id:"domainModal.unverifiedDomainsTableHeader",defaultMessage:"Your unverified domains"}})},12310:function(e,t,n){n.d(t,{Bd:function(){return j},DD:function(){return M},Fc:function(){return b},HH:function(){return y},Ji:function(){return p},OR:function(){return w},VG:function(){return x},f_:function(){return g},sd:function(){return O},uo:function(){return h},z0:function(){return k}});var a,s=n(2346),r=n(99333),o=n(24740),i=n(2721),l=n(31498),c=n(84760),d=n(56032),u=n(42420),f=n(75172),m=n(68306);function g(e,t){return(0,c.a)({queryKey:["workspace/identity",e],queryFn:async()=>{if(void 0!==e)return await i.Z.getWorkspaceIdentitySettings(e)},enabled:t})}function x(){let e=(0,l.ec)(l.F_.workspaceId),{data:t}=g(null!=e?e:void 0,null!=e);return null==t?void 0:t.allow_external_domain_invites}function h(){let e=(0,l.ec)(l.F_.workspaceId),{data:t}=g(null!=e?e:void 0,null!=e);return(null==t?void 0:t.domains)&&(null==t?void 0:t.domains.filter(e=>"verified"==e.status))}function p(e){let t=(0,f.Z)();return(0,d.D)({mutationFn:n=>{let{shouldAutoProvision:a}=n;return i.Z.setWorkspaceShouldAutoProvision(e,a).then(e=>{let n=a?C.autoProvisionEnabledToast:C.autoProvisionDisabledToast;return o.m.success(t.formatMessage(n),{duration:3}),e}).catch(e=>{throw o.m.danger(e.message),e})}})}function y(e){let t=(0,f.Z)();return(0,d.D)({mutationFn:async n=>{let{shouldAllowExternalDomainInvites:a}=n;try{let n=await i.Z.setWorkspaceShouldDisableExternalDomainInvites(e,a),s=a?C.allowExternalDomainInvitesToast:C.disableExternalDomainInvitesToast;return o.m.success(t.formatMessage(s),{duration:3}),n}catch(e){throw o.m.danger(e.message),e}}})}function j(e){let t=(0,u.NL)();return(0,d.D)({mutationFn:t=>{let{domainId:n}=t;return i.Z.removeDomainFromWorkspace(e,n)},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]}),t.refetchQueries({queryKey:["builderProfile"]})}})}function v(e){let t=e;return t.startsWith("-----BEGIN")||(t="-----BEGIN CERTIFICATE-----\n".concat(t)),t.endsWith("CERTIFICATE-----")||(t="".concat(t,"\n-----END CERTIFICATE-----")),t}function b(e){let t=(0,u.NL)();return(0,d.D)({mutationFn:t=>{let{signInEndpoint:n,cert:a}=t;return i.Z.createSAMLConnection(e,n,v(a))},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function M(e){let t=(0,u.NL)();return(0,d.D)({mutationFn:t=>{let{connectionId:n,signInEndpoint:a,cert:s,active:r,enforcedClients:o}=t;return i.Z.updateSAMLConnection(e,n,{signInEndpoint:a,cert:void 0!==s?v(s):void 0,active:r,enforcedClients:o})},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function w(e){let t=(0,u.NL)();return(0,d.D)({mutationFn:t=>{let{connectionId:n}=t;return i.Z.deleteSAMLConnection(e,n)},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}let k=n(15478).Z.div(a||(a=(0,s.Z)(["text-md mb-4 text-token-text-secondary"]))),O={[r.pT.VERIFIED]:(0,m.Em)({id:"i7FkyS",defaultMessage:"Verified"}),[r.pT.PENDING]:(0,m.Em)({id:"THBv/l",defaultMessage:"Pending"}),[r.pT.EXPIRED]:(0,m.Em)({id:"+sjWGK",defaultMessage:"Expired"})},C=(0,m.vU)({autoProvisionEnabledToast:{id:"workspaceIdentity.autoProvisionEnabledToast",defaultMessage:"Auto provisioning enabled for this workspace"},autoProvisionDisabledToast:{id:"workspaceIdentity.autoProvisionDisabledToast",defaultMessage:"Auto provisioning disabled for this workspace"},allowExternalDomainInvitesToast:{id:"j0jI/4",defaultMessage:"External domain invites are allowed for this workspace"},disableExternalDomainInvitesToast:{id:"67yB97",defaultMessage:"External domain invites are disabled for this workspace"}})},5691:function(e,t,n){n.d(t,{AJ:function(){return i},JQ:function(){return u},L_:function(){return c},Ul:function(){return d},e6:function(){return l},i5:function(){return f}});var a=n(99333),s=n(82920),r=n(68306),o=n(651);let i=(0,r.Em)({defaultMessage:"Microsoft OneDrive (personal)",id:"ContextConnector.OneDrivePersonal.name"}),l=(0,r.Em)({defaultMessage:"Microsoft OneDrive (work/school)",id:"ContextConnector.OneDriveBusiness.name"}),c=(0,r.vU)({includesSharePoint:{id:"ContextConnectorPicker.o365BusinessIncludesSharePoint",defaultMessage:"Includes SharePoint"}});function d(e,t){var n,s;switch(e){case a.PO.GDRIVE_SYNC_CONNECTOR:case a.PO.GDRIVE:return"Google Drive";case a.PO.O365:return"Microsoft OneDrive";case a.PO.O365_PERSONAL:return null!==(n=null==t?void 0:t.formatMessage(i))&&void 0!==n?n:"Microsoft OneDrive (personal)";case a.PO.O365_BUSINESS:return null!==(s=null==t?void 0:t.formatMessage(l))&&void 0!==s?s:"Microsoft OneDrive (work/school)"}}function u(e,t){switch(e){case a.PO.GDRIVE_SYNC_CONNECTOR:case a.PO.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case a.PO.O365:case a.PO.O365_PERSONAL:case a.PO.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}}(0,s.ZP)(e)}function f(e){let{contextConnector:t,extension:n}=e;return(0,o.jsx)(o.Fragment,{children:u(t,n)})}},92683:function(e,t,n){n.d(t,{aB:function(){return h},fK:function(){return j},g2:function(){return x}});var a=n(99333),s=n(70663),r=n(59358),o=n(2721),i=n(93951),l=n(86025),c=n(84760),d=n(82363),u=n(18939),f=n.n(u),m=n(92379);let g=new Map;function x(){let{gdriveLinkStatus:e,o365BusinessLinkStatus:t,o365PersonalLinkStatus:n}=(0,s.r)();return y(e,t,n)}function h(){let{gdriveStatus:e,o365Status:t}=(0,s.r)();return y(e,t,t)}let p=[a.PO.GDRIVE,a.PO.O365_PERSONAL,a.PO.O365_BUSINESS];function y(e,t,n){var s,o,l;let c=(0,i.t)(),d=null==c?void 0:c.getWorkspaceId(),{connectors:u,isLoading:g}=j(p),{data:x,isLoading:h}=(0,r.C)(d),y=!d||(null==x||null===(s=x.beta_settings)||void 0===s?void 0:s.context_connector_gdrive),v=!d||(null==x||null===(o=x.beta_settings)||void 0===o?void 0:o.context_connector_o365_personal),b=!d||(null==x||null===(l=x.beta_settings)||void 0===l?void 0:l.context_connector_o365_business),M=u.get(a.PO.GDRIVE),w=u.get(a.PO.O365_PERSONAL),k=u.get(a.PO.O365_BUSINESS),O=(e,t)=>"true"===e||"ifConnected"===e&&t;return{connectorConfig:(0,m.useMemo)(()=>{var s;let r=O(e,!!(null!=M&&M.access_token)),o=!!(null!==(s=null==w?void 0:w.access_token)&&void 0!==s?s:null==k?void 0:k.access_token),i=O(t,o),l=O(n,o),c=[r&&M&&y?[a.PO.GDRIVE,M]:null,l&&w&&v?[a.PO.O365_PERSONAL,w]:null,i&&k&&b?[a.PO.O365_BUSINESS,k]:null];return new Map(f()(c))},[M,e,w,k,t,n,y,v,b]),isLoading:g||h}}function j(e){let{0:t,1:n}=(0,m.useState)(g),{isUnauthenticated:a}=(0,l.u)(),{isSuccess:s,data:r,isLoading:o}=(0,c.a)({queryKey:["fetchConnectorData",e],queryFn:v,refetchInterval:18e5,enabled:!a});return(0,m.useEffect)(()=>{s&&n(new Map(r.map(e=>[e.type,e])))},[s,r]),{connectors:t,isLoading:o}}async function v(e){let{queryKey:t}=e,[n,s]=t,r=null;try{r=await o.Z.checkConnectorAPI(s)}catch(e){d.U.addError(Error("Error while retrieving context connector entry",{cause:e}))}return r?r.connectors.map(e=>{if(!e.access_token)return e;if(e.type===a.PO.O365_PERSONAL)e.onedrive_endpoint_hint={type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"};else if(e.type===a.PO.O365_BUSINESS){var t;let n=null===(t=e.onedrive_business_metadata)||void 0===t?void 0:t.base_url;if(n){let t=new URL(n);e.onedrive_endpoint_hint={type:"business",baseUrl:n,parsedUrl:"https://".concat(t.hostname,"/_layouts/15/FilePicker.aspx")}}}return e}):[]}},70663:function(e,t,n){n.d(t,{r:function(){return o}});var a=n(31498),s=n(88667),r=n(92379);function o(){let e=(0,a.aF)(),t=(0,s.xb)("1967546325").config,n=t.get("gdrivePicker",!1),o=t.get("o365Picker",!1),l=t.get("gdriveLink",!1),c=t.get("o365PersonalLink",!1),d=t.get("o365BusinessLink",!1),u=t.get("gdrivePercentage",0),f=t.get("o365Percentage",0),m=t.get("loadTestPercentage",0),g=t.get("showWorkspaceSettings",!1),x=e?Math.abs(function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return t}(e.id)%100):null;return(0,r.useMemo)(()=>({gdriveStatus:i(n,x,u),o365Status:i(o,x,f),gdriveLinkStatus:i(l,x,u),o365PersonalLinkStatus:i(c,x,f),o365BusinessLinkStatus:i(d,x,f),loadTest:"true"===i(!0,x,m),showWorkspaceSettings:g}),[n,x,u,o,f,l,c,d,m,g])}function i(e,t,n){return e&&null!=t?t<n?"true":"ifConnected":"false"}},44395:function(e,t,n){n.d(t,{O:function(){return o},Z:function(){return r}});var a=n(19841),s=n(651);function r(e){let{percentage:t,thickness:n=1/12,className:r,sizeOverride:o,backgroundStrokeClassName:i="stroke-gray-400",transitionDuration:l,transitionTimingFunction:c,onTransitionEnd:d}=e,u=null!=o?o:120,f=u*n,m=(u-f)/2,g=2*Math.PI*m;return(0,s.jsxs)("svg",{width:u,height:u,viewBox:"0 0 ".concat(u," ").concat(u),className:r,children:[(0,s.jsx)("circle",{className:(0,a.default)("origin-[50%_50%] -rotate-90",i),strokeWidth:f,fill:"transparent",r:m,cx:u/2,cy:u/2}),(0,s.jsx)("circle",{className:"origin-[50%_50%] -rotate-90 transition-[stroke-dashoffset]",stroke:"currentColor",strokeWidth:f,strokeDashoffset:g-t/100*g,strokeDasharray:"".concat(g," ").concat(g),fill:"transparent",r:m,cx:u/2,cy:u/2,style:{transitionDuration:l,transitionTimingFunction:c},onTransitionEnd:d})]})}let o=e=>{let{size:t=40,className:n="text-blue-selection"}=e;return(0,s.jsx)("div",{className:(0,a.default)("relative",n),style:{width:t,height:t},children:(0,s.jsxs)("svg",{className:"absolute h-full w-full animate-spin",viewBox:"0 0 50 50",children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"spinner-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,s.jsx)("stop",{offset:"0%",style:{stopColor:"currentColor",stopOpacity:1}}),(0,s.jsx)("stop",{offset:"100%",style:{stopColor:"currentColor",stopOpacity:0}})]})}),(0,s.jsx)("circle",{cx:"25",cy:"25",r:"20",stroke:"url(#spinner-gradient)",strokeWidth:"8",strokeLinecap:"round",fill:"none",strokeDasharray:"75,150",strokeDashoffset:"0"})]})})}},81522:function(e,t,n){n.d(t,{B$:function(){return u},Yk:function(){return d},hx:function(){return f}});var a=n(98601),s=n(68029),r=n(68810);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let l=(0,s.M)(()=>({activeRequests:{}})),c=e=>(0,r.oR)(l,e);function d(e){return c(t=>null!=t.activeRequests[e])}function u(){return c(e=>Object.keys(e.activeRequests).length>0)}let f={addRequest(e,t){l.setState(n=>({activeRequests:i(i({},n.activeRequests),{},{[e]:{id:e,abortController:t}})}))},removeRequest(e){l.setState(t=>{let n=i({},t.activeRequests);return delete n[e],{activeRequests:n}})},clear(){l.setState({activeRequests:{}})},abortRequest(e){let{activeRequests:t}=l.getState();return null!=t[e]&&(t[e].abortController.abort(),f.removeRequest(e),!0)},abortRequests(e){let{activeRequests:t}=l.getState(),n=i({},t);for(let t of e)null!=n[t]&&(n[t].abortController.abort(),delete n[t]);l.setState({activeRequests:n})},abortAllRequests(){let{activeRequests:e}=l.getState();Object.values(e).forEach(e=>{e.abortController.abort()}),f.clear()}}},98095:function(e,t,n){n.d(t,{d:function(){return b}});var a=n(98601),s=n(52088),r=n(54089),o=n(19841),i=n(92379),l=n(38838),c=n(77748),d=n(50863),u=n(651);let f=["className","size","align"],m=["onSelect","icon","className","color","size"],g=["className"],x=["onSelect","children"],h=["className"],p=["icon","children"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let v=i.forwardRef(function(e,t){let{className:n,size:a="default",align:i}=e,l=(0,s.Z)(e,f);return(0,u.jsx)(d.w5,j({ref:t,$as:r.VY,sideOffset:4,align:null!=i?i:"start",collisionPadding:10,className:(0,o.default)({"min-w-[280px]":"default"===a,"min-w-[340px]":"large"===a,"min-w-[125px]":"small"===a,"overflow-hidden":!0},n)},l))});function b(e){let{triggerButton:t,children:n,size:a="default",open:s,onOpenChange:o,contentAlign:i,side:l,sideOffset:c=0,alignOffset:d=0,contentClassName:f}=e;return(0,u.jsxs)(r.fC,{modal:!1,open:s,onOpenChange:o,children:[(0,u.jsx)(r.xz,{asChild:!0,children:t}),(0,u.jsx)(r.Uv,{children:(0,u.jsx)(v,{size:a,align:i,alignOffset:d,side:l,sideOffset:c,className:f,children:n})})]})}let M={Root:r.fC,Trigger:function(e){return(0,u.jsx)(d.J7,j(j({$as:r.xz},e),{},{onFocusCapture:t=>{var n;t.stopPropagation(),null===(n=e.onFocusCapture)||void 0===n||n.call(e,t)}}))},Portal:r.Uv,Content:v,Item:i.forwardRef(function(e,t){let{onSelect:n,icon:a,className:l,color:c,size:f="default"}=e,g=(0,s.Z)(e,m);return a?(0,u.jsxs)(d.gG,j(j({$as:r.ck,ref:t,onSelect:n,className:(0,o.default)("danger"===c&&"text-token-text-error","large"===f&&"gap-3",l)},g),{},{children:[(0,u.jsx)("div",{className:(0,o.default)("flex items-center justify-center","danger"===c&&"text-token-text-error","danger"!==c&&"text-token-text-secondary","default"===f&&"h-5 w-5","large"===f&&"h-5 w-7"),children:(0,i.isValidElement)(a)?a:(0,u.jsx)(a,{className:"h-5 w-5 shrink-0"})}),g.children]})):(0,u.jsx)(d.gG,j({$as:r.ck,ref:t,onSelect:n,className:(0,o.default)("danger"===c&&"text-token-text-error",l)},g))}),Separator:function(e){let{className:t}=e,n=(0,s.Z)(e,g);return(0,u.jsx)(r.Z0,j({className:(0,o.default)("mx-5 my-1 h-px bg-token-border-light",t)},n))},RadioGroup:r.Ee,RadioItem:function(e){let{onSelect:t,children:n}=e,a=(0,s.Z)(e,x);return(0,u.jsxs)(d.aF,j(j({$as:r.Rk,onSelect:t},a),{},{children:[(0,u.jsx)(r.wU,{className:"absolute",children:(0,u.jsx)(c.$As,{className:"icon-sm"})}),(0,u.jsx)("span",{className:"ml-6",children:n})]}))},Sub:r.Tr,SubContent:function(e){let{className:t}=e,n=(0,s.Z)(e,h);return(0,u.jsx)(d.w5,j({$as:r.tu,className:(0,o.default)("mt-2 max-h-[calc(100vh-300px)] min-w-[100px] overflow-auto",t),sideOffset:8,alignOffset:-16,collisionPadding:20},n))},SubMenuTrigger:function(e){let{icon:t,children:n}=e,a=(0,s.Z)(e,p);return(0,u.jsxs)(d.gG,j(j({$as:r.fF},a),{},{children:[t&&(0,u.jsx)("div",{className:"flex h-5 w-5 items-center justify-center text-token-text-secondary",children:(0,u.jsx)(t,{className:"h-5 w-5 flex-shrink-0"})}),n,(0,u.jsx)("div",{className:"ml-auto flex items-center text-token-text-tertiary group-data-[disabled]:opacity-50",children:(0,u.jsx)(l.Yf,{className:"icon-md"})})]}))},Label:function(e){let{children:t}=e;return(0,u.jsx)(r.__,{className:"mx-2 my-0 px-2 text-xs font-semibold text-token-text-secondary",children:t})}};t.Z=M},94668:function(e,t,n){n.d(t,{Z:function(){return d}});var a,s=n(2346),r=n(19841),o=n(92379),i=n(15478),l=n(77748),c=n(651);function d(e){let t,{type:n="info",children:a,isDismissible:s=!1,onDismiss:i,className:d,isElevated:f=!1}=e,{0:m,1:g}=(0,o.useState)(!1);return m?null:("none"!==n&&(t=l.szr),(0,c.jsxs)(u,{$type:n,className:(0,r.default)("flex w-full items-start gap-3 rounded-2xl border text-sm","warning"===n||"danger"===n?"bg-opacity-5":"bg-opacity-10",s?"py-2.5 pl-3 pr-2 md:py-3 md:pl-4 md:pr-3":"px-3 py-2.5 md:p-4",f&&"shadow-xxs",d),children:[t&&(0,c.jsx)(t,{className:(0,r.default)("icon-lg shrink-0",s&&"mt-[2px] md:mt-px",("info"===n||"none"===n)&&"text-token-text-secondary")}),(0,c.jsx)("div",{className:(0,r.default)("grow",s?"pt-[4px] md:pt-[3px]":"pt-[2px]",!t&&"pl-1"),children:a}),s&&(0,c.jsx)("button",{onClick:()=>{g(!0),null==i||i()},className:(0,r.default)("flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-transparent text-token-text-primary",("info"===n||"none"===n)&&"hover:bg-token-main-surface-secondary","danger"===n&&"hover:bg-token-surface-error/10","warning"===n&&"hover:bg-orange-400/10"),children:(0,c.jsx)(l.tPq,{className:"icon-md"})})]}))}let u=i.Z.div(a||(a=(0,s.Z)(["\n",""])),e=>{let{$type:t}=e;switch(t){case"danger":return"text-token-text-error border-token-surface-error/15 bg-token-surface-error bg-opacity-0";case"warning":return"text-orange-600 bg-orange-400 bg-opacity-0 border-orange-400/15";case"success":return"text-green-500 border-green-500 bg-green-500 bg-opacity-0";default:return"text-token-text-primary border-token-border-light bg-token-main-surface-primary bg-opacity-0"}})},73062:function(e,t,n){n.d(t,{g:function(){return x}});var a=n(98601),s=n(52088),r=n(54198),o=n(19841),i=n(92379),l=n(77748),c=n(50863),d=n(651);let u=["children"],f=["children","className"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e){let{options:t,value:n,onValueChange:a,disabled:s,defaultValue:r,placeholder:o}=e;return(0,d.jsxs)(h.Root,{value:n,onValueChange:a,disabled:s,defaultValue:r,children:[(0,d.jsxs)(h.Trigger,{children:[(0,d.jsx)(h.Value,{placeholder:o}),(0,d.jsx)(h.Icon,{})]}),(0,d.jsx)(h.Portal,{children:(0,d.jsx)(h.Content,{children:t.map(e=>(0,d.jsx)(h.Item,{value:e.value,children:e.label},e.value))})})]})}let h={Root:r.fC,Trigger:function(e){return(0,d.jsx)(c.J7,g({$as:r.xz},e))},Value:r.B4,Icon:function(){return(0,d.jsx)(r.JO,{children:(0,d.jsx)(l.Tg4,{className:"icon-sm"})})},Portal:r.h_,Content:function(e){let{children:t,className:n}=e,a=(0,s.Z)(e,f);return(0,d.jsxs)(c.w5,g(g({$as:r.VY,side:"bottom",sideOffset:4,position:"popper",className:(0,o.default)("min-w-[220px] overflow-auto",n)},a),{},{children:[(0,d.jsx)(r.u_,{className:"flex h-8 cursor-default items-center justify-center text-token-text-primary",children:(0,d.jsx)(l.r0F,{className:"icon-sm"})}),(0,d.jsx)(r.l_,{children:t}),(0,d.jsx)(r.$G,{className:"flex h-8 cursor-default items-center justify-center text-token-text-primary",children:(0,d.jsx)(l.Tg4,{className:"icon-sm"})})]}))},Item:i.forwardRef(function(e,t){let{children:n}=e,a=(0,s.Z)(e,u);return(0,d.jsxs)(c.gG,g(g({$as:r.ck,ref:t,className:"flex justify-between"},a),{},{children:[(0,d.jsx)(r.eT,{children:n}),(0,d.jsx)(r.wU,{className:"",children:(0,d.jsx)(l.kvR,{className:"icon-sm"})})]}))}),ItemText:r.eT,ItemIndicator:r.wU,Separator:function(){return(0,d.jsx)(r.Z0,{className:"mx-5 my-1 h-px bg-token-border-light"})},Label:function(e){let{children:t}=e;return(0,d.jsx)(r.__,{className:"mx-2 my-0 px-2 text-xs font-semibold text-token-text-secondary",children:t})},Group:r.ZA};t.Z=h},36792:function(e,t,n){var a=n(98601),s=n(52088),r=n(19841),o=n(92379),i=n(651);let l=["children"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let u=(0,o.createContext)({rootBordered:!1}),f=(0,o.forwardRef)(function(e,t){let{children:n,disabled:a=!1,onClick:s,className:o}=e;return(0,i.jsx)("tr",d(d({ref:t},a?{"data-disabled":!0}:{}),{},{className:(0,r.default)(a?"pointer-events-none":"",o),onClick:s,children:n}))});t.Z={Root:function(e){let{children:t,fixed:n=!1,className:a,size:s="normal",bordered:l=!1}=e,c=(0,o.useRef)(null),d=(0,o.useRef)(null),{0:f,1:m}=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=c.current,t=d.current;if(e&&t){let n=new ResizeObserver(()=>{m(t.scrollHeight>e.clientHeight)});return n.observe(e),()=>n.disconnect()}},[]),(0,i.jsx)(u.Provider,{value:{rootBordered:l},children:(0,i.jsx)("div",{className:(0,r.default)("overflow-y-auto text-token-text-primary",l&&"rounded-lg border border-token-border-light","normal"===s?"text-base":"text-sm",f&&"pr-1",a),ref:c,children:(0,i.jsx)("table",{className:(0,r.default)("w-full border-separate border-spacing-0",n&&"table-fixed"),ref:d,children:t})})})},Header:function(e){let{children:t}=e;return(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:t})})},HeaderCell:function(e){let{textAlign:t="left",children:n,className:a=""}=e,{rootBordered:s}=(0,o.useContext)(u);return(0,i.jsx)("th",{className:(0,r.default)("text-token sticky top-0 z-10 border-b-[0.5px] border-token-border-medium bg-token-main-surface-primary py-2 font-semibold",s?"px-3":"pr-4 last:pr-0","left"===t?"text-left":"right"===t?"text-right":"text-center",a),children:n})},Body:function(e){let{children:t}=e,n=(0,s.Z)(e,l);return(0,i.jsx)("tbody",d(d({},n),{},{children:t}))},Row:f,Cell:function(e){let{textAlign:t="left",children:n,className:a,colSpan:s}=e,{rootBordered:l}=(0,o.useContext)(u);return(0,i.jsx)("td",{className:(0,r.default)("border-b-[0.5px] border-token-border-medium align-top",l?"px-3":"pr-4 last:pr-0 [tr:last-child_&]:border-b-0",t&&"text-"+t,a),colSpan:s,children:(0,i.jsx)("div",{className:(0,r.default)("flex min-h-[40px] items-center [tr[data-disabled=true]_&]:opacity-50","right"===t&&"justify-end","center"===t&&"justify-center"),children:n})})},Actions:function(e){let{children:t}=e;return(0,i.jsx)("div",{className:"text-md flex items-center justify-end gap-2",children:t})}}},50863:function(e,t,n){n.d(t,{J7:function(){return d},M4:function(){return g},aF:function(){return u},gG:function(){return f},w5:function(){return m}});var a,s,r,o,i,l=n(2346),c=n(15478);let d=c.Z.button(a||(a=(0,l.Z)(["\ntext-token-text-primary border border-transparent inline-flex h-9 items-center justify-center gap-1 rounded-lg bg-white px-3 text-sm dark:transparent dark:bg-transparent\nleading-none outline-none cursor-pointer\nhover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-secondary\nfocus-visible:bg-token-main-surface-secondary\nradix-state-active:text-token-text-secondary\nradix-disabled:cursor-auto radix-disabled:bg-transparent radix-disabled:text-token-text-tertiary dark:radix-disabled:bg-transparent\n"]))),u=c.Z.div(s||(s=(0,l.Z)(["flex gap-2 items-center m-1.5 rounded p-2.5 text-sm cursor-pointer focus-visible:outline-0 hover:bg-token-main-surface-secondary focus-visible:bg-token-main-surface-secondary radix-disabled:pointer-events-none radix-disabled:opacity-50 group relative"]))),f=(0,c.Z)(u)(r||(r=(0,l.Z)(["","\nhover:bg-[#f5f5f5] focus-visible:bg-[#f5f5f5]\nradix-state-open:bg-[#f5f5f5]\ndark:hover:bg-token-main-surface-secondary\ndark:focus-visible:bg-token-main-surface-secondary\nrounded-md my-0 px-3 mx-2\ndark:radix-state-open:bg-token-main-surface-secondary gap-2.5 py-3"])),e=>e.spoofHovered?"bg-[#f5f5f5]":""),m=c.Z.div(o||(o=(0,l.Z)(["max-w-xs rounded-2xl popover bg-token-main-surface-primary shadow-lg will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade border border-token-border-light py-2"]))),g=c.Z.div(i||(i=(0,l.Z)(["popover overflow-auto rounded-xl border border-token-border-light bg-token-main-surface-primary p-2 shadow-xl"])))},83036:function(e,t,n){n.d(t,{Z:function(){return g}});var a,s=n(2346),r=n(42110),o=n(10449);n(82363);var i=n(88667),l=n(92379),c=n(62984),d=n(15478),u=n(77748),f=n(651);let m=d.Z.div(a||(a=(0,s.Z)(["text-sm text-token-text-tertiary"])));function g(e){let t,n,{gizmo:a,builderName:s,builderUrl:o,className:l,socials:d,hideLink:g=!1}=e,{value:h}=(0,i.sB)("2256850471");a&&"gizmo"in a?(t=a.gizmo.author.display_name,n=a.gizmo.author.link_to):(t=s,n=o),(""===t||null==t)&&(t="community builder");let p=null==d?void 0:d.filter(e=>e.verified),y=(0,f.jsxs)("div",{className:"w-48 space-y-4 text-sm",children:[n&&(0,f.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[(0,f.jsx)(u.n9J,{className:"icon-md"}),(0,f.jsx)("span",{children:(0,f.jsx)(c.Z,{id:"gizmo.author.websiteLabel",defaultMessage:"Website"})})]}),(0,f.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:n,className:"text-token-text-tertiary hover:cursor-pointer",children:(0,f.jsx)(u.Pfi,{className:"icon-sm"})})]}),h&&(null==p?void 0:p.map((e,t)=>e.verified?(0,f.jsx)(r.lD,{socialData:e},t):null)),(0,f.jsxs)("div",{className:"text-xs text-token-text-tertiary",children:[(n||p&&p.length>0)&&(0,f.jsx)("hr",{className:"my-2 border-token-border-light"}),(0,f.jsx)(c.Z,{id:"gizmo.author.cannotViewLabel",defaultMessage:"The builder of this GPT cannot view your conversations."})]})]});return(0,f.jsxs)("div",{className:"flex flex-row items-center space-x-1",children:[(0,f.jsx)(m,{className:l,children:(0,f.jsx)(c.Z,{id:"gizmo.author.byLabel",defaultMessage:"By {displayName}",values:{displayName:t}})}),!g&&(0,f.jsx)(x,{socials:d,website:n,children:y})]})}function x(e){let{website:t,socials:n,children:a}=e,{0:s,1:r}=(0,l.useState)(!1),i=[];t&&i.push((0,f.jsx)(u.n9J,{className:"icon-xs text-token-text-secondary"})),n&&n.forEach(e=>{e.verified&&("twitter"===e.type?i.push((0,f.jsx)(u.suT,{className:"icon-xs text-token-text-secondary"})):"linkedin"===e.type?i.push((0,f.jsx)(u.O9,{className:"icon-xs text-token-text-secondary"})):"github"===e.type&&i.push((0,f.jsx)(u.C2$,{className:"icon-xs text-token-text-secondary"})))});let c=i.length-2;return i=i.slice(0,2),c>0&&i.push((0,f.jsxs)("span",{className:"text-xs font-semibold text-token-text-secondary",children:["+",c]},"overflow")),(0,f.jsx)(o.fC,{open:s,onOpenChange:r,children:(0,f.jsxs)("div",{onPointerLeave:()=>r(!1),children:[(0,f.jsx)(o.xz,{asChild:!0,children:(0,f.jsx)("div",{onPointerEnter:()=>r(!0),children:i.length>0?(0,f.jsx)("div",{className:"flex items-center gap-1 rounded-xl bg-token-main-surface-secondary px-2 py-1",children:i}):(0,f.jsx)(u.tBG,{className:"icon-xs text-token-text-secondary"})})}),(0,f.jsx)(o.VY,{side:"top",sideOffset:8,align:"center",className:"z-10 rounded-lg bg-token-main-surface-primary p-4 drop-shadow-md",children:a})]})})}},12128:function(e,t,n){n.d(t,{M:function(){return c},Z:function(){return l}});var a=n(25162),s=n(77748),r=n(39004),o=n(10080),i=n(651);function l(e){let{isFirstParty:t,src:n,alt:r,className:o}=e;return(0,i.jsx)("div",{className:o,children:null!=n?(0,i.jsx)("div",{className:"gizmo-shadow-stroke overflow-hidden rounded-full",children:(0,i.jsx)("img",{src:n,className:"h-full w-full bg-token-main-surface-secondary",alt:null!=r?r:"GPT",width:80,height:80})}):(0,i.jsx)("div",{className:"gizmo-shadow-stroke relative flex h-full items-center justify-center rounded-full bg-token-main-surface-primary text-token-text-primary",children:t?(0,i.jsx)(a.nI,{className:"h-2/3 w-2/3"}):(0,i.jsx)(s.uy2,{className:"h-2/3 w-2/3 text-gray-400"})})})}function c(e){var t,n;let{gizmoId:a,className:s}=e,{data:c}=(0,r.b9)(a);return(0,i.jsx)(l,{src:null==c?void 0:c.gizmo.display.profile_picture_url,isFirstParty:null!==(t=null==c||null===(n=c.gizmo.tags)||void 0===n?void 0:n.includes(o.U9.FirstParty))&&void 0!==t&&t,className:s})}},42110:function(e,t,n){n.d(t,{lD:function(){return k},s6:function(){return O},tw:function(){return w}});var a=n(98601),s=n(88491),r=n(12310),o=n(11550),i=n(98095),l=n(77748),c=n(99555),d=n(81690),u=n(97537),f=n(93951),m=n(54089),g=n(42420),x=n(56032),h=n(19841),p=n(92379),y=n(62984),j=n(68306),v=n(651);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e){var t,n;let{selectedDomain:a,verifiedDomains:o,domains:c,onChangeDomain:d}=e,{0:u,1:g}=(0,p.useState)(!1),x=o.length>0,h=null===(t=(0,f.t)())||void 0===t?void 0:t.id,j=null===(n=(0,f.t)())||void 0===n?void 0:n.isEnterprisey(),{mutateAsync:b}=(0,r.Bd)(h);return(0,v.jsxs)("div",{className:"font-normal",children:[(0,v.jsxs)(i.Z.Root,{children:[(0,v.jsx)(m.xz,{children:(0,v.jsxs)("span",{className:"flex items-center gap-2 py-2",children:[null!=a?a:(0,v.jsx)(y.Z,M({},C.selectADomain)),(0,v.jsx)(l.T2M,{className:"icon-md"})]})}),(0,v.jsx)(i.Z.Portal,{children:(0,v.jsxs)(i.Z.Content,{children:[(0,v.jsx)(i.Z.RadioGroup,{value:a,onValueChange:e=>{e!==a&&d(e)},children:o.map(e=>{let{id:t,hostname:n}=e;return(0,v.jsx)(i.Z.RadioItem,{value:n,children:(0,v.jsxs)("div",{className:"flex flex-row",children:[(0,v.jsx)("span",{children:n}),(0,v.jsx)("span",{onClick:()=>{b({domainId:t}),d("")},children:(0,v.jsx)(l.XHJ,{className:"icon-sm fixed right-4"})})]})},t)})}),x&&(0,v.jsx)(i.Z.Separator,{}),(0,v.jsx)(i.Z.Item,{onClick:()=>{g(!0)},icon:l.Vz5,children:(0,v.jsx)(y.Z,M({},C.addDomain))})]})})]}),h&&!j&&(0,v.jsx)(s.Z,{domains:c,isOpen:u,onClose:()=>g(!1),workspaceId:h,showUnverifiedDomains:!0,onVerifyDomain:e=>{d(e.hostname)}})]})}function k(e){let{socialData:t}=e,{type:n,display_name:a,verified_data:s}=t,r="twitter"===n?l.suT:"linkedin"===n?l.O9:"github"===n?l.C2$:null;return r?(0,v.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,v.jsxs)("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[r({className:"icon-md"}),(0,v.jsx)("span",{children:a})]}),(null==s?void 0:s.link_to)&&(0,v.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:s.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:(0,v.jsx)(l.Pfi,{className:"icon-sm"})})]}):null}function O(e){let{socialData:t,icon:n}=e,{id:a,type:s,display_name:r,verified:i,verified_data:f}=t,{0:m,1:j}=(0,p.useState)(!1),b=function(){let e=(0,g.NL)();return(0,x.D)({mutationFn:e=>{let{verifierType:t}=e;return c.U.unverifySocialAuth(t)},onSuccess:()=>{e.refetchQueries({queryKey:["builderProfile"]})}})}();return(0,v.jsxs)("div",{className:"flex flex-row items-center justify-between space-y-1",children:[(0,v.jsxs)("div",{className:(0,h.default)("flex items-center space-x-2"),children:[(0,v.jsx)(n,{className:"icon-sm"}),(0,v.jsx)("span",{children:r}),i&&(null==f?void 0:f.username)&&(0,v.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:f.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:null==f?void 0:f.username})]}),i?(0,v.jsx)("div",{className:"py-1 font-semibold hover:cursor-pointer",onClick:()=>{b.mutate({verifierType:s})},children:b.isPending?(0,v.jsx)(u.Z,{}):(0,v.jsx)(l.tPq,{className:"icon-sm text-token-text-tertiary"})}):(0,v.jsx)(o.z,{size:"small",color:"secondary",loading:m,onClick:async()=>{j(!0),await (0,d.Up)({id:a},"#settings/BuilderProfile"),j(!1)},children:(0,v.jsx)(y.Z,M({},C.verify))})]})}let C=(0,j.vU)({verify:{defaultMessage:"Add",id:"GizmoSocialRow.add"},addDomain:{id:"GizmoSocialRow.addDomain",defaultMessage:"Verify new domain"},selectADomain:{id:"GizmoSocialRow.selectADomain",defaultMessage:"Select a domain"}})},47807:function(e,t,n){n.d(t,{PV:function(){return p},Yc:function(){return y},ZP:function(){return j}});var a=n(98601),s=n(31231),r=n(60682),o=n(92379),i=n(75172),l=n(62984),c=n(68306),d=n(25162),u=n(59144),f=n(77748),m=n(651);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let h=r.pm.Onboarding,p=()=>{let{eligible:e,markAsViewed:t,isLoading:n}=(0,r.qg)(h);return{setHasSeenOnboarding:t,hasSeenOnboardingDate:n?null:!e}},y=()=>{let{eligible:e,markAsViewed:t,isLoading:n}=(0,r.qg)(r.pm.TeamOwnerOnboarding);return{setHasSeenTeamOwnerOnboarding:t,hasSeenTeamOwnerOnboardingDate:n?null:!e}};function j(e){let{onClose:t,scope:n}=e,{setHasSeenOnboarding:a}=p(),r=(0,o.useCallback)(()=>{t(!0),a()},[t,a]);return n===s.w.Personal?(0,m.jsx)(b,{onSubmit:r}):(0,m.jsx)(M,{onSubmit:()=>{t(!0)}})}let v=e=>{let{icon:t,title:n,body:a}=e;return(0,m.jsxs)("div",{className:"flex flex-col gap-2 md:w-1/3",children:[(0,m.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,m.jsx)("div",{children:t}),(0,m.jsx)("div",{className:"font-semibold text-token-text-primary",children:n})]}),(0,m.jsx)("div",{className:"text-sm text-token-text-secondary",children:a})]})},b=e=>{let{onSubmit:t}=e,n=(0,i.Z)();return(0,m.jsxs)("div",{className:"flex flex-col gap-3 p-4 md:p-6",children:[(0,m.jsxs)("div",{className:"flex flex-col gap-6 md:flex-row",children:[(0,m.jsx)(v,{icon:(0,m.jsx)(f.kBi,{isSolid:!0,className:"icon-md text-green-600"}),title:(0,m.jsx)(l.Z,x({},w.askAway)),body:(0,m.jsx)(l.Z,x({},w.askAwayBody))}),(0,m.jsx)(v,{icon:(0,m.jsx)(d.NJ,{className:"icon-md text-brand-purple"}),title:(0,m.jsx)(l.Z,x({},w.warning)),body:(0,m.jsx)(l.Z,x(x({},w.warningBody),{},{values:{article:e=>(0,m.jsx)("a",{href:"https://help.openai.com/en/articles/7039943-data-usage-for-consumer-services-faq",target:"_blank",className:"underline",rel:"noopener noreferrer",children:e})}}))}),(0,m.jsx)(v,{icon:(0,m.jsx)(d.FE,{className:"icon-md text-orange-300"}),title:(0,m.jsx)(l.Z,x({},w.accuracy)),body:(0,m.jsx)(l.Z,x({},w.accuracyBody))})]}),(0,m.jsx)("div",{className:"flex flex-row justify-end",children:(0,m.jsx)(u.m,{title:n.formatMessage(w.gettingStartedButton),onClick:t,color:"primary","data-testid":"getting-started-button"})})]})},M=e=>{let{onSubmit:t}=e,n=(0,i.Z)();return(0,m.jsxs)("div",{className:"flex flex-col gap-6 p-4 md:p-6",children:[(0,m.jsxs)("div",{className:"flex flex-col gap-6 md:flex-row",children:[(0,m.jsx)(v,{icon:(0,m.jsx)(f.oVl,{className:"icon-md text-brand-purple"}),title:(0,m.jsx)(l.Z,x({},w.workUse)),body:(0,m.jsx)(l.Z,x({},w.workUseBody))}),(0,m.jsx)(v,{icon:(0,m.jsx)(f.kBi,{className:"icon-md text-green-600"}),title:(0,m.jsx)(l.Z,x({},w.askAway)),body:(0,m.jsx)(l.Z,x({},w.askAwayBody))}),(0,m.jsx)(v,{icon:(0,m.jsx)(d.FE,{className:"icon-md text-orange-300"}),title:(0,m.jsx)(l.Z,x({},w.accuracy)),body:(0,m.jsx)(l.Z,x({},w.accuracyBody))})]}),(0,m.jsx)("div",{className:"flex flex-row justify-end",children:(0,m.jsx)(u.m,{title:n.formatMessage(w.gettingStartedButton),onClick:t,color:"primary"})})]})},w=(0,c.vU)({askAway:{id:"onboarding.askAway",defaultMessage:"Ask away"},askAwayBody:{id:"onboarding.askAwayBody",defaultMessage:"ChatGPT can answer questions, help you learn, write code, brainstorm together, and much more."},warning:{id:"onboarding.warning",defaultMessage:"Don’t share sensitive info"},warningBody:{id:"onboarding.warningBody",defaultMessage:"Chat history may be reviewed or used to improve our services. Learn more about your choices in our <article>Help Center</article>."},accuracy:{id:"onboarding.accuracy",defaultMessage:"Check your facts"},accuracyBody:{id:"onboarding.accuracyBody",defaultMessage:"While we have safeguards, ChatGPT may give you inaccurate information. It’s not intended to give advice."},gettingStartedButton:{id:"onboarding.gettingStartedButton",defaultMessage:"Okay, let’s go"},workspaceWelcome:{id:"onboarding.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} Workspace"},workspaceWelcomeNoName:{id:"onboarding.workspaceWelcomeNoName",defaultMessage:"Welcome to the your Workspace"},workspaceWelcomeBody:{id:"onboarding.workspaceWelcomeBody",defaultMessage:"Here you can use our latest models, with more capabilities, and fewer limits."},workUse:{id:"onboarding.workUse",defaultMessage:"Made for use at work"},workUseBody:{id:"onboarding.workUseBody",defaultMessage:"By default, chats in this workspace are not used to train our AI models."}})},81690:function(e,t,n){n.d(t,{Up:function(){return r},doConnectorOauthRedirect:function(){return o},wP:function(){return l},wW:function(){return i}});var a=n(16757),s=n(2721);async function r(e,t){let n="".concat("https://chat.openai.com","/aip/").concat(e.id,"/oauth/callback"),a=await s.Z.pluginOauthRedirect(e.id,n,t);window.location.href=a.redirect_uri}async function o(e,t,n,a){let r=await s.Z.connectorOauthRedirect(e.id,n,t,a);window.location.href=r.redirect_uri}function i(e){switch(e){case a.NA.Link:return"link_paste_popover";case a.NA.Picker:return"file_upload_menu"}}async function l(e){await s.Z.deleteUserConnectedApp(e),window.location.reload()}},385:function(e,t,n){n.d(t,{Z:function(){return E}});var a,s=n(2346),r=n(2721),o=n(31498),i=n(83963),l=n(33221),c=n(42420),d=n(56032),u=n(84760),f=n(90372),m=n.n(f),g=n(92379),x=n(75172),h=n(62984),p=n(15478),y=n(11550),j=n(98095),v=n(36792),b=n(30853),M=n(77748),w=n(53128),k=n(24434),O=n(12128),C=n(24740),P=n(71744),Z=n(58890),N=n(651);function D(e){var t;let{gizmo:n,memory:a}=e,s=(0,x.Z)(),o=(0,c.NL)(),{mutate:i,isPending:u}=(0,d.D)({mutationFn:e=>r.Z.deleteMemory(e,null==n?void 0:n.id),onSettled:()=>{o.invalidateQueries({queryKey:(0,l.Lq)(null==n?void 0:n.id)})},onError:()=>{C.m.danger(s.formatMessage({id:"MemoriesModal.deleteFailed",defaultMessage:"Failed to forget memory"}),{id:"memoryDeleteFailed"})}}),{0:f,1:p}=(0,g.useState)(!1),y=s.formatMessage({id:"z2CNgB",defaultMessage:"Forget"});return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(v.Z.Row,{disabled:u,children:[(0,N.jsx)(v.Z.Cell,{children:(0,N.jsx)("div",{className:"whitespace-pre-wrap py-2",children:a.content})}),(0,N.jsx)(v.Z.Cell,{textAlign:"right",children:(0,N.jsx)(v.Z.Actions,{children:(0,N.jsx)("button",{onClick:()=>p(!0),"aria-label":y,className:"text-token-text-tertiary hover:text-token-text-secondary",children:(0,N.jsx)(b.u,{className:"leading-none",label:y,sideOffset:4,side:"top",children:(0,N.jsx)(M.XHJ,{className:"icon-sm"})})})})})]}),f&&(0,N.jsx)(w.Z,{isOpen:!0,primaryButtonColor:"danger",title:y,confirmText:s.formatMessage({id:"fCn0ar",defaultMessage:"Forget"}),onConfirm:()=>{i(a.id),p(!1)},onClose:()=>{p(!1)},children:(0,N.jsx)(h.Z,{id:"pZ/TCe",defaultMessage:'{name} will forget "{title}". This cannot be undone. <link>Learn more</link>',values:{name:null!==(t=null==n?void 0:n.name)&&void 0!==t?t:"ChatGPT",title:(0,N.jsx)("strong",{children:m()(a.content,{length:130,omission:"..."})}),link:e=>(0,N.jsx)("a",{href:"https://help.openai.com/en/articles/8590148-memory-faq#h_41527f643d",target:"_blank",className:"underline",rel:"noreferrer",children:e})}})})]})}function S(e){let{selectedGizmoId:t,onSelect:n,items:a}=e,s=a.find(e=>e.id===t);function r(e){var t;return(0,N.jsx)(O.Z,{isFirstParty:void 0===e.id,src:null!==(t=e.iconUrl)&&void 0!==t?t:null,className:"icon-md"})}return(0,N.jsx)("div",{className:"mb-2 inline-flex rounded-md border border-token-border-medium",children:(0,N.jsxs)(j.Z.Root,{children:[(0,N.jsx)(j.Z.Trigger,{children:(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[s?(0,N.jsxs)(N.Fragment,{children:[r(s),(0,N.jsx)("span",{className:"text-token-text-primary",children:null==s?void 0:s.name})]}):(0,N.jsx)(h.Z,{id:"MemoriesModal.unknownGizmo",defaultMessage:"Unknown GPT"}),(0,N.jsx)(M.Tg4,{className:"icon-sm text-token-text-tertiary"})]})}),(0,N.jsx)(j.Z.Portal,{children:(0,N.jsx)(j.Z.Content,{children:a.map(e=>(0,N.jsxs)(j.Z.Item,{className:"flex items-center gap-3",onClick:()=>{n(e.id)},children:[r(e),e.name]},e.id))})})]})})}let T=p.Z.div(a||(a=(0,s.Z)(["flex h-full items-center justify-center pb-8 text-sm text-token-text-tertiary rounded-lg border border-token-border-light"])));function E(e){var t,n,a,s;let d;let{onClose:f,initialGizmoId:m}=e,p=(0,x.Z)(),j=(0,c.NL)(),b=(0,i.tW)(),{0:M,1:w}=(0,g.useState)(m),O=(0,o.m0)(),{data:C,isLoading:E,isError:A,refetch:L}=(0,l.HL)(M,!0,b),_=null==C?void 0:C.memories,{data:B,refetch:I}=(0,u.a)({queryKey:["memory_gizmos"],queryFn:()=>r.Z.getGizmosWithMemory(),refetchOnMount:"always"}),F=[{id:void 0,name:"ChatGPT",iconUrl:null},...null!==(t=null==B||null===(n=B.items)||void 0===n?void 0:n.map(e=>{let{gizmo:t}=e;return{id:t.id,name:t.display.name,iconUrl:t.display.profile_picture_url}}))&&void 0!==t?t:[]],R=F.find(e=>e.id===M);return d=E?(0,N.jsx)(T,{children:(0,N.jsx)(h.Z,{id:"MemoriesModal.loading",defaultMessage:"Loading..."})}):A?(0,N.jsx)(T,{children:(0,N.jsxs)("div",{className:"max-w-sm text-center",children:[(0,N.jsx)("div",{className:"mb-4 text-red-500",children:(0,N.jsx)(h.Z,{id:"MemoriesModal.somethingWentWrong",defaultMessage:"Something went wrong..."})}),(0,N.jsx)("div",{children:(0,N.jsx)(y.z,{color:"secondary",onClick:()=>{L()},children:(0,N.jsx)(h.Z,{id:"MemoriesModal.retry",defaultMessage:"Retry"})})})]})}):_&&0!==_.length?(0,N.jsx)(v.Z.Root,{className:"h-full",size:"compact",bordered:!0,children:(0,N.jsx)(v.Z.Body,{children:_.map(e=>(0,N.jsx)(D,{gizmo:R?{id:R.id,name:R.name}:void 0,memory:e},e.id))})}):(0,N.jsx)(T,{children:(0,N.jsx)("div",{className:"max-w-sm text-center",children:b?(0,N.jsx)(h.Z,{id:"MemoriesModal.noMemories.1",defaultMessage:"As you chat with {name}, the details and preferences it remembers will be shown here.",values:{name:null!==(s=null==R?void 0:R.name)&&void 0!==s?s:"ChatGPT"}}):(0,N.jsx)(h.Z,{id:"MemoriesModal.noMemoriesAndDisabled",defaultMessage:"Memory is disabled. ChatGPT won't use or create memories."})})}),(0,N.jsxs)(k.Z,{isOpen:!0,onClose:f,size:"custom",className:"max-w-5xl",type:"success",title:p.formatMessage({id:"MemoriesModal.title",defaultMessage:"Memory"}),showCloseButton:!0,children:[O&&F.length>1&&(0,N.jsx)("div",{className:"mb-4",children:(0,N.jsx)(S,{selectedGizmoId:M,items:F,onSelect:e=>{j.invalidateQueries({queryKey:(0,l.Lq)(e)}),w(e)}})}),(0,N.jsx)(P.s,{memoryFullPct:null==C?void 0:C.memoryFullPct,className:"mb-5"}),(0,N.jsx)("div",{className:"h-[24rem]",children:d}),(0,N.jsx)("div",{className:"mt-5 flex justify-end",children:(0,N.jsx)(Z.n,{onReset:()=>{L(),I(),M&&w(void 0)},gizmoId:M,memoryName:null!==(a=null==R?void 0:R.name)&&void 0!==a?a:"ChatGPT"})})]})}},71744:function(e,t,n){n.d(t,{b:function(){return g},s:function(){return x}});var a=n(83963),s=n(33221),r=n(19841),o=n(88600),i=n(62984),l=n(30853),c=n(77748),d=n(651);function u(e){return e<100?"bg-[#fcf6e0] text-yellow-500 dark:bg-yellow-600 dark:text-yellow-100":"bg-orange-100 text-[#f48c15] dark:bg-orange-800 dark:text-orange-100"}function f(e){return(0,a.u1)()&&null!=e&&e>=91}function m(e){let{memoryFullPct:t,className:n,children:a}=e;return f(t)?(0,d.jsx)("div",{className:(0,r.default)("rounded-lg border border-token-border-light p-1 text-sm",n),children:(0,d.jsxs)(o.E.div,{className:(0,r.default)("flex items-center overflow-hidden whitespace-nowrap rounded px-2 py-1.5",u(t)),initial:{width:0},animate:{width:"".concat(t,"%")},transition:{duration:.5},children:[(0,d.jsx)(i.Z,{id:"6D2etG",defaultMessage:"{memoryFullPct}% full",values:{memoryFullPct:t}}),a]})}):null}function g(e){let{memoryFullPct:t}=e;return f(t)?(0,d.jsxs)("div",{className:"flex items-center justify-center",children:[(0,d.jsx)("div",{className:(0,r.default)("relative -mr-1 h-2 w-2 rotate-45 transform border-white/10",u(t))}),(0,d.jsxs)("div",{className:(0,r.default)("flex items-center rounded-lg px-3 py-1.5",u(t)),children:[(0,d.jsx)(i.Z,{id:"x7M6HK",defaultMessage:"{memoryFullPct}%",values:{memoryFullPct:t}}),(0,d.jsx)(l.u,{label:t<100?(0,d.jsx)(i.Z,{id:"VXohcH",defaultMessage:"Memory is almost full. Once memory is full, new memories won’t be created. You can forget existing memories to make space."}):(0,d.jsx)(i.Z,{id:"pQ9dnt",defaultMessage:"Memory is full. New memories won’t be created. You can forget existing memories to make space."}),children:(0,d.jsx)(c.F3p,{className:"icon-sm ml-1 text-token-text-secondary"})})]})]}):null}function x(e){let{memoryFullPct:t,className:n}=e;return f(t)?(0,d.jsxs)("div",{className:(0,r.default)("flex flex-col gap-2",n),children:[(0,d.jsx)(m,{memoryFullPct:t}),(0,d.jsx)("div",{className:"pl-3 text-sm text-token-text-secondary",children:t<100?(0,d.jsx)(i.Z,{id:"z3LYM2",defaultMessage:"<strong>Memory almost full</strong>. Once memory is full, new memories won’t be created. You can forget existing memories to make space. <a>Learn more</a>.",values:{strong:e=>(0,d.jsx)("strong",{children:e}),a:e=>(0,d.jsx)("a",{href:s.Fx,target:"_blank",rel:"noopener noreferrer",className:"underline",children:e})}}):(0,d.jsx)(i.Z,{id:"6rc4Jv",defaultMessage:"<strong>Memory is full</strong>. New memories won’t be created. You can forget existing memories to make space. <a>Learn more</a>.",values:{strong:e=>(0,d.jsx)("strong",{children:e}),a:e=>(0,d.jsx)("a",{href:s.Fx,target:"_blank",rel:"noopener noreferrer",className:"underline",children:e})}})})]}):null}},58890:function(e,t,n){n.d(t,{n:function(){return m}});var a=n(2721),s=n(92379),r=n(75172),o=n(62984),i=n(11550),l=n(59144),c=n(24434),d=n(24740),u=n(651);function f(e){let{description:t,onClose:n,onConfirm:a}=e,s=(0,r.Z)();return(0,u.jsx)(c.Z,{isOpen:!0,onClose:n,type:"success",title:s.formatMessage({id:"MemoriesModal.resetModalTitle",defaultMessage:"Are you sure?"}),description:t,primaryButton:(0,u.jsx)(l.Z.Button,{title:s.formatMessage({id:"MemoriesModal.resetModalConfirm",defaultMessage:"Clear memory"}),color:"danger",onClick:a}),secondaryButton:(0,u.jsx)(l.Z.Button,{title:s.formatMessage({id:"MemoriesModal.resetModalCancel",defaultMessage:"Cancel"}),color:"secondary",onClick:n})})}function m(e){let{onReset:t,gizmoId:n,memoryName:l}=e,{0:c,1:m}=(0,s.useState)(!1),g=(0,r.Z)(),x=async()=>{try{await a.Z.clearUserMemory(n),d.m.success(g.formatMessage({id:"ResetMemoriesButton.resetSuccess",defaultMessage:"Memory cleared."})),null==t||t(),m(!1)}catch(e){d.m.danger(g.formatMessage({id:"ResetMemoriesButton.resetFailed",defaultMessage:"Failed to clear memory."}))}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.z,{color:"danger-outline",onClick:()=>m(!0),children:n?(0,u.jsx)(o.Z,{id:"ResetMemoriesButton.resetGizmo",defaultMessage:"Clear this GPT's memory"}):(0,u.jsx)(o.Z,{id:"ResetMemoriesButton.resetChatGPT",defaultMessage:"Clear ChatGPT's memory"})}),c&&(0,u.jsx)(f,{description:g.formatMessage({id:"MemoriesModal.resetGizmoModalDescription",defaultMessage:"{name} will forget everything it has remembered from your chats. This cannot be undone."},{name:l}),onClose:()=>m(!1),onConfirm:x})]})}},49950:function(e,t,n){n.r(t),n.d(t,{GlobalSettingsModal:function(){return tw},UnauthSettingsModal:function(){return tP}});var a,s,r=n(2346),o=n(98601),i=n(99333),l=n(97537),c=n(92683),d=n(77748),u=n(81690),f=n(12622),m=n(2721),g=n(88667),x=n(38482),h=n.n(x),p=n(92379),y=n(62984),j=n(75172),v=n(68306),b=n(5691),M=n(94668),w=n(31292),k=n(651);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let P=h()(()=>n.e(8682).then(n.bind(n,60345)).then(e=>e.ConnectorEntrySettingsRow).catch(()=>()=>null),{loadableGenerated:{webpack:()=>[60345]}});function Z(e){let{isGdriveEnabled:t,isO365Enabled:n}=e,{connectorConfig:a,isLoading:s}=(0,c.aB)();return s?(0,k.jsx)("div",{className:"flex justify-center",children:(0,k.jsx)(l.Z,{})}):a.size?(0,k.jsx)(N,{connectorConfig:a,isGdriveEnabled:t,isO365Enabled:n}):(0,k.jsx)(M.Z,{type:"info",children:(0,k.jsx)(y.Z,C({},S.noConnectorSettings))})}function N(e){let{connectorConfig:t,isGdriveEnabled:n,isO365Enabled:a}=e,s=t.get(i.PO.GDRIVE),r=t.get(i.PO.O365_PERSONAL),o=t.get(i.PO.O365_BUSINESS),l=n&&!!s,c=a&&!!r,d=a&&!!o,{config:u}=(0,g.xb)("1001765573"),x=u.get("ca_enabled",!1),{0:h,1:j}=(0,p.useState)(!0);return(0,p.useEffect)(()=>{(async()=>{if(x)try{let e=await m.Z.checkOrgExist();j(e.exist)}catch(e){j(!1)}})()},[x]),(0,k.jsxs)("div",{className:"flex flex-col",children:[(0,k.jsx)(f.ZR,{children:(0,k.jsx)("div",{className:"my-2",children:(0,k.jsx)(y.Z,C({},S.connectorsTitle))})}),s&&l&&(0,k.jsx)(D,{entry:s,description:S.googleDriveDesc}),r&&c&&(0,k.jsx)(D,{entry:r,description:S.o365Desc}),o&&d&&(0,k.jsx)(D,{entry:o,description:S.o365BusinessDesc}),x&&h&&(0,k.jsx)(P,{type:i.PO.GDRIVE_SYNC_CONNECTOR})]})}function D(e){let t,{entry:n,description:a}=e;switch(n.type){case i.PO.GDRIVE_SYNC_CONNECTOR:case i.PO.GDRIVE:t=d.Gle;break;case i.PO.O365:case i.PO.O365_PERSONAL:case i.PO.O365_BUSINESS:t=d.ur6}let s=(0,j.Z)();return(0,k.jsx)(f.ZR,{children:(0,k.jsxs)("div",{className:"flex flex-col gap-2 pb-1 pt-3",children:[(0,k.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,k.jsx)(t,{className:"icon-lg"}),(0,k.jsx)("p",{className:"text-md flex-1 font-semibold text-token-text-primary",children:(0,b.Ul)(n.type,s)}),(0,k.jsx)(w.M,{entry:n,isConnected:!!n.access_token,onDisconnect:u.wP,onConnect:u.doConnectorOauthRedirect})]}),(0,k.jsx)("p",{className:"text-token-text-secondary",children:(0,k.jsx)(y.Z,C({},a))})]})})}let S=(0,v.vU)({connectorsTitle:{id:"connectorSettings.connectorsTitle",defaultMessage:"Connect apps to access their information in ChatGPT."},googleDriveDesc:{id:"connectorSettings.googleDriveDesc.1",defaultMessage:"Upload Google Docs, Sheets, Slides and other files."},o365Desc:{id:"connectorSettings.o365Desc.1",defaultMessage:"Upload Microsoft Word, Excel, PowerPoint and other files."},o365BusinessDesc:{id:"connectorSettings.o365BusinessDesc.1",defaultMessage:"Upload Microsoft Word, Excel, PowerPoint, and other files, including those from SharePoint sites."},noConnectorSettings:{id:"connectorSettings.noConnectorSettings",defaultMessage:"Unable to get connected apps"}});var T=n(98303),E=n(87040),A=n(58025),L=n(73062),_=n(24740),B=n(11550),I=n(94371),F=n(38431);function R(e){let{voice:t}=e,{0:n,1:a}=(0,p.useState)(!1),s=(0,j.Z)(),r=(0,I.xm)(),o=t.voice,i=t.preview_url,l=(0,p.useRef)({playPromise:null}).current,c=(0,I.Hs)(e=>e.isPlaying&&e.sourceUrl===i),u=(0,p.useCallback)(async()=>{if(!r)return;let e={voice:o,source:i};F.w.previews.click(e);try{a(!0),r.changeSource(i),l.playPromise=r.play(),a(!1)}catch(t){F.w.previews.error(t,e),_.m.danger(s.formatMessage({id:"DeIYxH",defaultMessage:"Something went wrong playing preview"}))}},[s,r,i,o,l]),f=(0,p.useCallback)(()=>{r&&(l.playPromise?l.playPromise.then(()=>{r.stop(),l.playPromise=null}):r.stop())},[r,l]),m=(0,p.useCallback)(()=>{c?f():n||u()},[f,u,n,c]);return(0,p.useEffect)(()=>()=>{c&&f()},[t,c,f]),(0,k.jsx)(B.z,{onClick:m,color:"secondary",className:"flex flex-row flex-nowrap items-center gap-1 border-none font-normal",loading:n,icon:c?d.STQ:d.o1U,children:c?(0,k.jsx)(y.Z,{id:"yGpEMJ",defaultMessage:"Stop"}):(0,k.jsx)(y.Z,{id:"JwYDVp",defaultMessage:"Play"})})}let G={Trigger:function(){return W()?(0,k.jsx)(f.aG,{value:f.u5.Speech,icon:(0,k.jsx)(d.uAs,{className:"icon-sm"}),label:(0,k.jsx)(y.Z,{id:"speechSettings.trigger",defaultMessage:"Speech"})}):null},Content:function(){var e;let t=W(),n=null===(e=(0,g.sB)("1426009137"))||void 0===e?void 0:e.value;return t?(0,k.jsxs)(f.a7,{value:f.u5.Speech,children:[(0,k.jsx)(f.ZR,{children:(0,k.jsx)(U,{})}),n?(0,k.jsx)(f.ZR,{children:(0,k.jsx)(H,{})}):null]}):null}};function W(){var e;return null===(e=(0,g.sB)("174366048"))||void 0===e?void 0:e.value}function z(e){let{data:t,isLoading:n}=(0,A.R1)(e)||{},a=(0,A.Gt)();return{isLoading:n,value:t,setValue:t=>{a.mutate({setting:e,value:t})}}}function U(){let{isLoading:e,value:t,setValue:n}=z(i.sh.VoiceName),a=(0,E.hE)(),s=(0,E.qn)(),r=e?"":(0,E.$N)(t,s),o=a.find(e=>{let{voice:t}=e;return t===r});return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"flex flex-col flex-nowrap gap-2",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsx)("div",{children:(0,k.jsx)(y.Z,{id:"speechSettings.content.voice",defaultMessage:"Voice"})}),(0,k.jsxs)("div",{className:"flex flex-row flex-nowrap items-center gap-1",children:[o?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(R,{voice:o}),(0,k.jsx)("div",{className:"h-4 border-l"})]}):null,(0,k.jsxs)(L.Z.Root,{value:r,onValueChange:e=>n(e),disabled:e,children:[(0,k.jsxs)(L.Z.Trigger,{children:[(0,k.jsx)(L.Z.Value,{}),(0,k.jsx)(L.Z.Icon,{})]}),(0,k.jsx)(L.Z.Portal,{children:(0,k.jsx)(L.Z.Content,{children:a.map(e=>{let{voice:t,name:n}=e;return(0,k.jsx)(L.Z.Item,{value:t,children:n},t)})})})]})]})]})})})}function H(){let{isLoading:e,value:t,setValue:n}=z(i.sh.VoiceMainLanguage);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsx)("div",{children:(0,k.jsx)(y.Z,{id:"speechSettings.content.language",defaultMessage:"Main Language"})}),(0,k.jsxs)(L.Z.Root,{value:e?"":null!=t?t:i.P9.Auto,onValueChange:e=>n(e),disabled:e,children:[(0,k.jsxs)(L.Z.Trigger,{children:[(0,k.jsx)(L.Z.Value,{}),(0,k.jsx)(L.Z.Icon,{})]}),(0,k.jsx)(L.Z.Portal,{children:(0,k.jsxs)(L.Z.Content,{position:"popper",style:{maxHeight:"calc(var(--radix-select-content-available-height) - 5rem)"},children:[(0,k.jsx)(L.Z.Item,{value:i.P9.Auto,children:(0,k.jsx)(y.Z,{id:"speechSettings.content.autoDetect",defaultMessage:"Auto-Detect"})}),Object.entries(i.P9).filter(e=>{let[t,n]=e;return n!==i.P9.Auto}).map(e=>{let[t,n]=e;return(0,k.jsx)(L.Z.Item,{value:n,className:"capitalize",children:t},n)})]})})]})]}),(0,k.jsx)(f.yk,{children:(0,k.jsx)(y.Z,{id:"speechSettings.content.autoDetectDescription",defaultMessage:"For best results, select the language you mainly speak. If it's not listed, it may still be supported via auto-detection."})})]})}var V=n(93951),q=n(41987),Y=n(84760);let K=((a={}).DISABLED="DISABLED",a.ENABLED="ENABLED",a.LOADING="LOADING",a);var $=n(31438),Q=n(31498),J=n(99242),X=n(83963),ee=n(10481),et=n(70893),en=n(15913),ea=n(86741),es=n(58695),er=n(4132),eo=n(177),ei=n(87161);function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let ed=new Set(["google-oauth2","windowslive","apple"]);function eu(e){return null!=e&&e.idp&&ed.has(e.idp)?{connection:e.idp,login_hint:e.email}:null!=e&&e.email?{login_hint:e.email}:{}}function ef(e){if(!e)throw Error("No session found, cannot enable MFA");if("mocked"===e.authProvider)throw Error("Mock users can't enable MFA! Please setup Auth0 following the instructions in the README")}var em=n(30757),eg=n(42420),ex=n(99976),eh=n(61619),ep=n(82363),ey=n(19841),ej=n(99661),ev=n(24098),eb=n.n(ev),eM=n(34977),ew=n(15478),ek=n(30478),eO=n(6440),eC=n(43878),eP=n(8591),eZ=n(59144),eN=n(24434),eD=n(16779),eS=n(55963),eT=n(30853),eE=n(39004),eA=n(42110),eL=n(91496),e_=n(12128),eB=n(83036);let eI=()=>{let{openSettings:e}=(0,eL.F)();return(0,k.jsx)("button",{onClick:()=>e(f.u5.BuilderProfile),children:(0,k.jsx)(d.vdY,{className:"icon-sm"})})};function eF(e){let{gizmoId:t,gizmoName:n,gizmoAvatar:a,canEdit:s,socials:r}=e,{data:o,isLoading:i}=(0,eE.WL)();return i?null:o?(0,k.jsxs)(k.Fragment,{children:[s&&t&&(0,k.jsx)("span",{className:"absolute right-2 top-2",children:(0,k.jsx)(eI,{})}),(0,k.jsx)(e_.Z,{src:a,isFirstParty:!1,className:"h-8 w-8"}),(0,k.jsx)("div",{className:"mt-1 text-center text-sm font-semibold text-token-text-primary",children:n}),(0,k.jsx)(eB.Z,{builderName:o.display_name,builderUrl:o.website_url,socials:r,className:"text-xs"})]}):(0,k.jsx)(M.Z,{type:"info",children:(0,k.jsx)(y.Z,{id:"gizmo.builderProfile.unableToLoadProfile",defaultMessage:"Unable to load your builder profile"})})}function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function eG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eW(){let{data:e,isLoading:t}=(0,eE.WL)(),n=(0,V.t)();return t?(0,k.jsx)("div",{className:"flex justify-center",children:(0,k.jsx)(l.Z,{})}):void 0===e||(null==n?void 0:n.canInteractWithGizmos())===!1?(0,k.jsx)(M.Z,{type:"info",children:(0,k.jsx)(y.Z,eG({},eH.noCreatorProfile))}):(0,k.jsx)(eU,{data:e})}function ez(e){let{gizmoName:t,canEdit:n,gizmoAvatar:a}=e,s=(0,j.Z)(),{openSettings:r}=(0,eL.F)(),{data:o}=(0,eE.WL)();return o?(0,k.jsxs)("div",{className:"relative flex w-full flex-col items-center justify-stretch rounded-lg bg-token-main-surface-primary p-4",children:[(0,k.jsx)(eF,{gizmoAvatar:a,gizmoName:null!=t?t:s.formatMessage(eH.placeholderGPT),canEdit:n,socials:[o.socials.linkedin,o.socials.github,o.socials.twitter]}),(0,k.jsx)("div",{className:"absolute right-4 top-3 text-xs text-token-text-tertiary",children:n?(0,k.jsx)("button",{onClick:()=>{r(f.u5.BuilderProfile)},children:(0,k.jsx)(d.vdY,{className:"icon-sm"})}):(0,k.jsx)(y.Z,eG({},eH.preview))})]}):null}function eU(e){var t,n;let{data:a}=e,s=(0,j.Z)(),r=(0,eE.pJ)(),o=null===(t=(0,V.t)())||void 0===t?void 0:t.isEnterprisey(),i=null===(n=(0,V.t)())||void 0===n?void 0:n.isWorkspaceAccount(),l=(0,Q.aF)(),c=a.domains.reduce((e,t)=>"verified"===t.status?[...e,{id:t.id,hostname:t.hostname,url:t.hostname}]:e,[]),u=function(e,t){if(e.website_url&&t.length>0){let n=t.find(t=>t.url===e.website_url);return n?n.hostname:t[0].hostname}if(t.length>0)return t[0].hostname;if(e.website_url)return}(a,c),{value:m}=(0,g.sB)("2256850471"),x=null==a.name||r.isPending,h=(0,k.jsx)(eD.Z,{size:"small",onChange:e=>{r.mutateAsync({hideName:!e})},disabled:x,enabled:!a.hide_name,label:a.hide_name?s.formatMessage(eH.showNameToggle):s.formatMessage(eH.hideNameToggle)});return(0,k.jsxs)("div",{className:"flex flex-col items-stretch",children:[(0,k.jsx)("div",{className:"mb-2",children:(0,k.jsx)(y.Z,eG({},eH.creatorProfileDescription))}),(0,k.jsx)(ez,{canEdit:!1}),(0,k.jsx)(f.ZR,{children:(0,k.jsxs)("div",{className:"flex flex-col",children:[!a.is_verified&&(0,k.jsxs)(M.Z,{type:"info",children:[(0,k.jsx)("div",{children:(0,k.jsx)(y.Z,eG({},eH.creatorProfileUnverifiedDisclaimer))}),(0,k.jsx)("div",{children:i?(0,k.jsx)(y.Z,eG({},eH.creatorProfileBusinessUnverifiedDisclaimer)):(0,k.jsx)(y.Z,eG({},eH.creatorProfilePersonalUnverifiedDisclaimer))})]}),a.name&&(0,k.jsxs)("div",{className:"mt-4 flex flex-col gap-2",children:[(0,k.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,k.jsx)("b",{children:(0,k.jsx)(y.Z,eG({},eH.creatorProfileNameLabel))}),x?(0,k.jsx)(eT.u,{side:"left",label:s.formatMessage(eH.linkDisabledTooltip),children:h}):h]}),(0,k.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,k.jsx)("span",{children:a.name}),(0,k.jsx)(eT.u,{side:"top",className:"ml-auto",label:s.formatMessage(eH.nameSourceReason),children:(0,k.jsx)(d.szr,{className:"icon-sm text-token-text-tertiary"})})]})]}),!o&&(0,k.jsxs)("div",{className:"flex flex-col justify-center gap-2",children:[(0,k.jsx)("hr",{className:"my-3 border-token-border-light"}),(0,k.jsx)("div",{className:"flex flex-row justify-between",children:(0,k.jsx)("b",{children:(0,k.jsx)(y.Z,eG({},eH.creatorProfileLinkHeader))})}),(0,k.jsxs)("div",{className:"flex flex-row items-center justify-between space-x-2",children:[(0,k.jsx)(d.n9J,{className:"icon-sm"}),(0,k.jsx)("div",{children:(0,k.jsx)(eA.tw,{selectedDomain:u,domains:a.domains,verifiedDomains:c,onChangeDomain:e=>{r.mutateAsync({websiteUrl:e})}})})]}),m&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(eA.s6,{socialData:a.socials.linkedin,icon:d.O9}),(0,k.jsx)(eA.s6,{socialData:a.socials.github,icon:d.C2$}),(0,k.jsx)(eA.s6,{socialData:a.socials.twitter,icon:d.suT})]})]}),!o&&l&&(0,k.jsxs)("div",{className:"flex flex-col justify-center gap-2",children:[(0,k.jsx)("hr",{className:"my-3 border-token-border-light"}),(0,k.jsx)("div",{className:"flex flex-row justify-between",children:(0,k.jsx)("b",{children:(0,k.jsx)(y.Z,eG({},eH.creatorProfileEmailHeader))})}),(0,k.jsxs)("div",{className:"my-1 flex flex-row items-center space-x-2",children:[(0,k.jsx)(d.LQS,{className:"icon-sm"}),(0,k.jsx)("span",{children:l.email})]}),(0,k.jsx)(eT.u,{label:s.formatMessage(eH.feedbackEmailTooltip),children:(0,k.jsx)(eS.Z,{className:"rounded-xl",id:"receive-support-emails",onChange:e=>{r.mutateAsync({willReceiveSupportEmails:e.currentTarget.checked})},checked:a.will_receive_support_emails,label:s.formatMessage(eH.receiveFeedbackEmails)})})]})]})})]})}let eH=(0,v.vU)({gizmoTab:{id:"settingsModal.gizmoTab",defaultMessage:"Builder profile"},creatorProfileDescription:{id:"settingsModal.creatorProfileDescription",defaultMessage:"Personalize your builder profile to connect with users of your GPTs. These settings apply to publicly shared GPTs."},creatorProfileUnverifiedDisclaimer:{id:"settingsModal.createrProfileUnverifiedDisclaimer",defaultMessage:"Complete verification to publish GPTs to everyone."},creatorProfilePersonalUnverifiedDisclaimer:{id:"settingsModal.creatorProfilePersonalUnverifiedDisclaimer",defaultMessage:"Verify your identity by adding billing details or verifying ownership of a public domain name."},creatorProfileBusinessUnverifiedDisclaimer:{id:"settingsModal.creatorProfileBusinessUnverifiedDisclaimer",defaultMessage:"Contact your workspace administrator to set up a builder profile"},creatorProfileNameLabel:{id:"settingsModal.creatorProfileNameLabel",defaultMessage:"Name"},placeholderGPT:{id:"settingsModal.placeholderGPT",defaultMessage:"PlaceholderGPT"},byName:{id:"settingsModal.byName",defaultMessage:"by {name}"},preview:{id:"settingsModal.preview",defaultMessage:"Preview"},noCreatorProfile:{id:"settingsModal.noCreatorProfile",defaultMessage:"Unable to retrieve builder profile"},creatorProfileLinkHeader:{id:"settingsModal.creatorProfileLinkHeader.1",defaultMessage:"Links"},creatorProfileEmailHeader:{id:"settingsModal.creatorProfileEmailHeader.0",defaultMessage:"Email"},nameDisabledTooltip:{id:"settingsModal.nameDisabledTooltip",defaultMessage:"You must have a verified name to enable displaying a name"},linkDisabledTooltip:{id:"settingsModal.linkDisabledTooltip",defaultMessage:"You must have a verified domain to enable displaying a link"},addDomain:{id:"settingsModal.addDomain",defaultMessage:"Verify new domain"},nameSourceReason:{id:"settingsModal.nameSourceReason",defaultMessage:"Name is populated from your billing details"},hideNameToggle:{id:"settingsModal.hideNameToggle",defaultMessage:"Hide your name in your builder profile"},showNameToggle:{id:"settingsModal.showNameToggle",defaultMessage:"Show your name in your builder profile"},hideWebsiteToggle:{id:"settingsModal.hideWebsiteToggle",defaultMessage:"Hide your website in your builder profile"},showWebsiteToggle:{id:"settingsModal.showWebsiteToggle",defaultMessage:"Show your website in your builder profile"},feedbackEmailTooltip:{id:"settingsModal.feedbackEmailTooltip",defaultMessage:"Allow users of your GPTs to send feedback to your ChatGPT login email. Your email will never be shared publicly."},receiveFeedbackEmails:{id:"settingsModal.receiveFeedbackEmails.1",defaultMessage:"Receive feedback emails"}});function eV(){return(0,k.jsx)(y.Z,eG({},eH.gizmoTab))}var eq=n(25025),eY=n(24241),eK=n(52088),e$=n(56032),eQ=n(19856),eJ=n(36792),eX=n(4160);let e0=["conversationId"];function e1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function e2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e1(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let e5=["archivedConversations"];function e3(e){let{conversation:t,elementRef:n}=e,a=(0,j.Z)(),s=(0,eg.NL)(),{mutate:r,isPending:o}=(0,e$.D)({mutationFn:async e=>{let{conversationId:t}=e,n=(0,eK.Z)(e,e0);return m.Z.patchConversation(t,n)},onSettled:()=>{s.invalidateQueries({queryKey:[e5]}),s.invalidateQueries({queryKey:[eY.wT]})},onError:()=>{_.m.danger(a.formatMessage(e6.deleteFailed))}}),{0:i,1:l}=(0,p.useState)(!1),c="/c/".concat(t.id);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(eJ.Z.Row,{disabled:o,children:[(0,k.jsx)(eJ.Z.Cell,{children:(0,k.jsxs)("a",{href:c,rel:"noreferrer",className:"inline-flex items-center gap-2 align-top text-blue-500 dark:text-blue-400",ref:n,children:[(0,k.jsx)(d.kBi,{className:"icon-md flex-shrink-0"}),t.title]})}),(0,k.jsx)(eJ.Z.Cell,{children:null!=t.create_time?(0,k.jsx)(v.Ji,{value:t.create_time,month:"long",year:"numeric",day:"numeric"}):null}),(0,k.jsx)(eJ.Z.Cell,{textAlign:"right",children:(0,k.jsxs)(eJ.Z.Actions,{children:[(0,k.jsx)(eT.u,{label:a.formatMessage(e6.unarchiveConversation),sideOffset:4,side:"top",children:(0,k.jsx)("button",{"aria-label":a.formatMessage(e6.unarchiveConversation),className:"cursor-pointer text-[18px] text-token-text-tertiary hover:text-token-text-secondary",onClick:()=>{r({conversationId:t.id,is_archived:!1})},children:(0,k.jsx)(d.s5y,{className:"icon-sm"})})}),(0,k.jsx)(eT.u,{label:a.formatMessage(e6.deleteConversation),sideOffset:4,side:"top",children:(0,k.jsx)("button",{onClick:()=>l(!0),"aria-label":a.formatMessage(e6.deleteConversation),className:"text-token-text-tertiary hover:text-token-text-secondary",children:(0,k.jsx)(d.XHJ,{className:"icon-sm"})})})]})})]}),i&&(0,k.jsx)(eX.V,{title:t.title,handleDelete:()=>{r({conversationId:t.id,is_visible:!1})},onClose:()=>{l(!1)}})]})}function e4(e){let t,{onClose:n}=e,{data:a,isLoading:s,isError:r,refetch:o,fetchNextPage:i,hasNextPage:l}=(0,eQ.N)({queryKey:[e5],queryFn:e=>{let{pageParam:t}=e;return m.Z.getConversations({offset:t,limit:30,isArchived:!0})},initialPageParam:0,getNextPageParam:e=>{let t=e.offset+e.limit;return t<e.total?t:void 0},refetchOnMount:"always"}),c=(0,p.useRef)(null),d=(0,p.useCallback)(e=>{var t;s||null==e||(null===(t=c.current)||void 0===t||t.disconnect(),c.current=new IntersectionObserver(e=>{e[0].isIntersecting&&l&&i()}),c.current.observe(e))},[s,l,i]);(0,p.useEffect)(()=>()=>{var e;null===(e=c.current)||void 0===e||e.disconnect()},[]);let u=(0,p.useMemo)(()=>{var e;return null!==(e=null==a?void 0:a.pages.flatMap(e=>e.items))&&void 0!==e?e:[]},[a]),f=(0,j.Z)();return t=s?(0,k.jsx)("div",{className:"pb-8 text-token-text-secondary",children:(0,k.jsx)(y.Z,e2({},e6.loading))}):r?(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"mb-4 text-red-500",children:(0,k.jsx)(y.Z,e2({},e6.somethingWentWrong))}),(0,k.jsx)("div",{children:(0,k.jsx)(B.z,{color:"secondary",onClick:()=>{o()},children:(0,k.jsx)(y.Z,e2({},e6.retry))})})]}):0===u.length?(0,k.jsx)("div",{className:"pb-8 text-token-text-tertiary",children:(0,k.jsx)(y.Z,e2({},e6.noArchivedConversations))}):(0,k.jsxs)(eJ.Z.Root,{className:"max-h-[28rem]",size:"compact",children:[(0,k.jsxs)(eJ.Z.Header,{children:[(0,k.jsx)(eJ.Z.HeaderCell,{children:(0,k.jsx)(y.Z,e2({},e6.name))}),(0,k.jsx)(eJ.Z.HeaderCell,{children:(0,k.jsx)(y.Z,e2({},e6.dateCreated))}),(0,k.jsx)(eJ.Z.HeaderCell,{})]}),(0,k.jsx)(eJ.Z.Body,{children:u.map((e,t)=>(0,k.jsx)(e3,{conversation:e,elementRef:t===u.length-3?d:void 0},e.id))})]}),(0,k.jsx)(eN.Z,{isOpen:!0,onClose:n,size:"custom",className:"max-w-5xl",type:"success",title:f.formatMessage(e6.title),showCloseButton:!0,children:t})}let e6=(0,v.vU)({name:{id:"archivedConversationsModal.name",defaultMessage:"Name"},dateCreated:{id:"archivedConversationsModal.dateCreated",defaultMessage:"Date created"},loading:{id:"archivedConversationsModal.loading",defaultMessage:"Loading..."},somethingWentWrong:{id:"archivedConversationsModal.somethingWentWrong",defaultMessage:"Something went wrong..."},retry:{id:"archivedConversationsModal.retry",defaultMessage:"Retry"},noArchivedConversations:{id:"archivedConversationsModal.noArchivedConversations",defaultMessage:"You have no archived conversations."},title:{id:"archivedConversationsModal.title",defaultMessage:"Archived Chats"},unarchiveConversation:{id:"archivedConversationsModal.unarchiveConversation",defaultMessage:"Unarchive conversation"},deleteConversation:{id:"archivedConversationsModal.deleteConversation",defaultMessage:"Delete conversation"},deleteFailed:{id:"archivedConversationsModal.deleteFailed",defaultMessage:"Deleting failed"}});var e8=n(88414),e9=n(33221),e7=n(59578),te=n(385),tt=n(71744),tn=n(58890);function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tr(e){let{children:t}=e;return(0,k.jsxs)("li",{children:["“",t,"”"]})}function to(){let{0:e,1:t}=(0,p.useState)(!1),n=(0,j.Z)(),a=(0,X.tW)(),{isLoading:s,data:r}=(0,e7.Xu)(!0),o=(0,A.Gt)(),{value:c}=(0,g.sB)("804300613"),{data:d}=(0,e9.HL)(void 0,!1,a);return s?(0,k.jsx)("div",{className:"flex justify-center",children:(0,k.jsx)(l.Z,{})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(f.ZR,{children:(0,k.jsx)(f.c0,{label:(0,k.jsx)(y.Z,ts({},tl.customInstructions)),stateLabel:null!=r&&r.enabled?n.formatMessage(tl.on):n.formatMessage(tl.off),onClick:()=>$.vm.openModal($.B.UserContext)})}),(0,k.jsxs)(f.ZR,{children:[(0,k.jsx)(f.wy,{label:n.formatMessage(tl.toggleLabel),enabled:a,onChange:e=>{o.mutate({setting:i.sh.Sunshine,value:e})},description:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("p",{children:(0,k.jsx)(y.Z,ts(ts({},tl.exampleDescription1),{},{values:{link:e=>(0,k.jsx)("a",{href:"https://help.openai.com/en/articles/8590148-memory-in-chatgpt-faq",target:"_blank",className:"underline",rel:"noreferrer",children:e})}}))}),(0,k.jsx)("p",{className:"mt-3",children:(0,k.jsx)(y.Z,ts({},tl.exampleDescription2))}),(0,k.jsxs)("ul",{className:"my-2 flex list-disc flex-col gap-1 pl-5",children:[(0,k.jsx)(tr,{children:(0,k.jsx)(y.Z,ts({},tl.exampleMessage1))}),(0,k.jsx)(tr,{children:(0,k.jsx)(y.Z,ts({},tl.exampleMessage2))}),(0,k.jsx)(tr,{children:(0,k.jsx)(y.Z,ts({},tl.exampleMessage3))}),(0,k.jsx)(tr,{children:(0,k.jsx)(y.Z,ts({},tl.exampleMessage4))})]})]})}),(0,k.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,k.jsx)(B.z,{onClick:()=>{t(!0)},color:"secondary",children:(0,k.jsx)(y.Z,ts({},tl.manageMemoriesButton))}),(0,k.jsx)(tt.b,{memoryFullPct:null==d?void 0:d.memoryFullPct}),e&&(0,k.jsx)(te.Z,{onClose:()=>t(!1)})]})]}),(0,k.jsx)("span",{children:(0,k.jsx)(tn.n,{memoryName:"ChatGPT"})}),c&&(0,k.jsx)(ti,{})]})}let ti=h()(()=>Promise.all([n.e(8682),n.e(3776)]).then(n.bind(n,68710)).then(e=>e.GizmoRolodex),{loadableGenerated:{webpack:()=>[68710]}}),tl=(0,v.vU)({toggleLabel:{id:"settingsModal.myChagtGptToggleLabel.2",defaultMessage:"Memory"},exampleDescription1:{id:"settingsModal.exampleDescription1.1",defaultMessage:"ChatGPT will become more helpful as you chat, picking up on details and preferences to tailor its responses to you. <link>Learn more</link>"},exampleDescription2:{id:"settingsModal.exampleDescription2.2",defaultMessage:"To understand what ChatGPT remembers or teach it something new, just chat with it:"},exampleMessage1:{id:"settingsModal.exampleMessage1.1",defaultMessage:"Remember that I like concise responses."},exampleMessage2:{id:"settingsModal.exampleMessage2.1",defaultMessage:"I just got a puppy!"},exampleMessage3:{id:"settingsModal.exampleMessage3.2",defaultMessage:"What do you remember about me?"},exampleMessage4:{id:"settingsModal.exampleMessage4",defaultMessage:"Where did we leave off on my last project?"},reset:{id:"settingsModal.reset",defaultMessage:"Reset memories"},resetModalTitle:{id:"settingsModal.resetModalTitle",defaultMessage:"Are you sure?"},resetModalDescription:{id:"settingsModal.resetModalDescription",defaultMessage:"Your GPT will forget what it has learned from your previous chats. This can't be undone."},resetModalConfirm:{id:"settingsModal.resetModalConfirm",defaultMessage:"Confirm reset"},resetModalCancel:{id:"settingsModal.resetModalCancel",defaultMessage:"Cancel"},resetSuccessful:{id:"settingsModal.resetSuccessful",defaultMessage:"Your GPT's memory has been reset."},resetFailed:{id:"settingsModal.resetFailed",defaultMessage:"Failed to reset your GPT's memory."},on:{id:"personalizationSettings.on",defaultMessage:"On"},off:{id:"personalizationSettings.off",defaultMessage:"Off"},customInstructions:{id:"personalizationSettings.customInstructions",defaultMessage:"Custom instructions"},manageMemoriesButton:{id:"personalizationSettings.manageMemoriesButton",defaultMessage:"Manage"}});var tc=n(3551),td=n(98095);function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let tm=["sharedConversations"],tg=(0,v.vU)({name:{id:"sharedConversationModal.name",defaultMessage:"Name"},dateShared:{id:"sharedConversationModal.dateShared",defaultMessage:"Date shared"},loading:{id:"sharedConversationModal.loading",defaultMessage:"Loading..."},somethingWentWrong:{id:"sharedConversationModal.somethingWentWrong",defaultMessage:"Something went wrong..."},retry:{id:"sharedConversationModal.retry",defaultMessage:"Retry"},noSharedConversations:{id:"sharedConversationModal.noSharedConversations",defaultMessage:"You have no shared links."},title:{id:"sharedConversationModal.title",defaultMessage:"Shared Links"},goToOriginConversation:{id:"sharedConversationModal.goToOriginConversation",defaultMessage:"View source chat"},deleteSharedLink:{id:"sharedConversationModal.deleteSharedLink",defaultMessage:"Delete shared link"},deleteSharedLinkFailed:{id:"sharedConversationModal.deleteSharedLinkFailed",defaultMessage:"Deleting shared link failed"},deleteAllSharedLinks:{id:"sharedConversationModal.deleteSharedAllConversations",defaultMessage:"Delete all shared links"},deleteAllSharedLinksConfirm:{id:"sharedConversationModal.deleteSharedAllConversationsConfirm",defaultMessage:"Are you sure you want to delete all your shared links?"},deleteAllSharedLinksFailed:{id:"sharedConversationModal.deleteSharedAllConversationsFailed",defaultMessage:"Deleting shared links failed"}});function tx(){let e=(0,eg.NL)(),t=(0,j.Z)(),{mutate:n}=(0,e$.D)({mutationFn:()=>m.Z.deleteAllSharedConversations(),onSettled:()=>{e.invalidateQueries({queryKey:tm})},onError:()=>{_.m.danger(t.formatMessage(tg.deleteAllSharedLinksFailed))}});return(0,k.jsx)(td.d,{side:"bottom",sideOffset:4,triggerButton:(0,k.jsx)("button",{className:"text-token-text-tertiary hover:text-token-text-secondary radix-state-open:text-token-text-tertiary dark:radix-state-open:text-gray-400",children:(0,k.jsx)(d.nWS,{className:"icon-sm"})}),children:(0,k.jsx)(td.Z.Item,{onClick:()=>{window.confirm(t.formatMessage(tg.deleteAllSharedLinksConfirm))&&n()},color:"danger",children:(0,k.jsx)(y.Z,tf({},tg.deleteAllSharedLinks))})})}function th(){return m.Z.getSharedConversations()}function tp(e){let{sharedConversation:t}=e,n=(0,j.Z)(),a=(0,eg.NL)(),{mutate:s,isPending:r}=(0,e$.D)({mutationFn:async e=>{let{sharedConversationId:t}=e;return m.Z.deleteShareLink({share_id:t})},onSettled:()=>{a.invalidateQueries({queryKey:tm})},onError:()=>{_.m.danger(n.formatMessage(tg.deleteSharedLinkFailed))}}),o=null!=t.workspace_id?"/share/e/".concat(t.id):"/share/".concat(t.id);return(0,k.jsxs)(eJ.Z.Row,{disabled:r,children:[(0,k.jsx)(eJ.Z.Cell,{children:(0,k.jsxs)("a",{href:o,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 align-top text-blue-500 dark:text-blue-400",children:[(0,k.jsx)(d.xPt,{className:"icon-sm flex-shrink-0"}),t.title]})}),(0,k.jsx)(eJ.Z.Cell,{children:null!=t.create_time?(0,k.jsx)(v.Ji,{value:t.create_time,month:"long",year:"numeric",day:"numeric"}):null}),(0,k.jsx)(eJ.Z.Cell,{textAlign:"right",children:(0,k.jsxs)(eJ.Z.Actions,{children:[(0,k.jsx)(eT.u,{label:n.formatMessage(tg.goToOriginConversation),sideOffset:4,side:"top",children:(0,k.jsx)("a",{href:(0,tc.ZV)(t.conversation_id),target:"_blank",rel:"noreferrer","aria-label":n.formatMessage(tg.goToOriginConversation),className:"cursor-pointer text-token-text-tertiary hover:text-token-text-secondary",children:(0,k.jsx)(d.kBi,{className:"icon-sm"})})}),(0,k.jsx)(eT.u,{label:n.formatMessage(tg.deleteSharedLink),sideOffset:4,side:"top",children:(0,k.jsx)("button",{onClick:()=>{s({sharedConversationId:t.id})},"aria-label":n.formatMessage(tg.deleteSharedLink),className:"text-token-text-tertiary hover:text-token-text-secondary",children:(0,k.jsx)(d.XHJ,{className:"icon-sm"})})})]})})]})}function ty(e){let t,{onClose:n}=e,{data:a,isLoading:s,isError:r,refetch:o}=(0,Y.a)({queryKey:tm,queryFn:th,refetchOnMount:"always"}),i=(0,j.Z)();return t=s?(0,k.jsx)("div",{className:"pb-8 text-token-text-secondary",children:(0,k.jsx)(y.Z,tf({},tg.loading))}):r?(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"mb-4 text-red-500",children:(0,k.jsx)(y.Z,tf({},tg.somethingWentWrong))}),(0,k.jsx)("div",{children:(0,k.jsx)(B.z,{color:"secondary",onClick:()=>{o()},children:(0,k.jsx)(y.Z,tf({},tg.retry))})})]}):(null==a?void 0:a.total)===0?(0,k.jsx)("div",{className:"pb-8 text-token-text-tertiary",children:(0,k.jsx)(y.Z,tf({},tg.noSharedConversations))}):(0,k.jsxs)(eJ.Z.Root,{className:"max-h-[28rem]",size:"compact",children:[(0,k.jsxs)(eJ.Z.Header,{children:[(0,k.jsx)(eJ.Z.HeaderCell,{children:(0,k.jsx)(y.Z,tf({},tg.name))}),(0,k.jsx)(eJ.Z.HeaderCell,{children:(0,k.jsx)(y.Z,tf({},tg.dateShared))}),(0,k.jsx)(eJ.Z.HeaderCell,{textAlign:"right",children:(0,k.jsx)(tx,{})})]}),(0,k.jsx)(eJ.Z.Body,{children:null==a?void 0:a.items.map(e=>(0,k.jsx)(tp,{sharedConversation:e},e.id))})]}),(0,k.jsx)(eN.Z,{isOpen:!0,onClose:n,size:"custom",className:"max-w-5xl",type:"success",title:i.formatMessage(tg.title),showCloseButton:!0,children:t})}function tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tj(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let tb="https://help.openai.com/en/articles/5722486";function tM(){let e=(0,j.Z)(),t=(0,Q.ec)(Q.F_.isBusinessWorkspace),{0:n,1:a}=(0,p.useState)(!1),s=(0,Q.ec)(Q.F_.isTeamPlan),r=(0,Q.ec)(Q.F_.isEnterprisePlan),{data:o}=(0,A.R1)(i.sh.TrainingAllowed),l=(0,A.Gt)(),c=!t&&!!o;return(0,k.jsxs)(f.ZR,{children:[(0,k.jsx)(f.c0,{onClick:()=>a(!0),label:e.formatMessage(tE.chatTrainingAllowedToggleLabel),stateLabel:c?e.formatMessage({id:"settingsModal.trainingEnabled",defaultMessage:"On"}):e.formatMessage({id:"settingsModal.trainingDisabled",defaultMessage:"Off"})}),n&&(0,k.jsx)(eN.Z,{isOpen:!0,onClose:()=>a(!1),title:e.formatMessage({id:"settingsModal.trainingToggleModalTitle",defaultMessage:"Model improvement"}),type:"success",secondaryButton:(0,k.jsx)(B.z,{color:"secondary",onClick:()=>a(!1),children:(0,k.jsx)(y.Z,{id:"settingsModal.trainingToggleModalDoneButton",defaultMessage:"Done"})}),children:(0,k.jsx)(f.wy,{label:e.formatMessage(tE.chatTrainingAllowedToggleLabel),disabled:t,enabled:!t&&!!o,onChange:e=>{l.mutate({setting:i.sh.TrainingAllowed,value:e})},toggleTooltip:t?(0,k.jsx)(y.Z,tv({},s?tE.chatTrainingTeamsTooltip:r?tE.chatTrainingEnterpriseTooltip:tE.chatTrainingEduTooltip)):null,description:(0,k.jsx)(y.Z,tv(tv({},tE.trainingAllowedDescription),{},{values:{link:e=>(0,k.jsx)("a",{href:tb,target:"_blank",className:"underline",rel:"noreferrer",children:e})}}))})})]})}let tw=()=>{var e;let t=(0,j.Z)(),n=(0,en.w$)(),a=(0,eM.useRouter)(),{closeSettings:s,currentTab:r,openSettings:o}=(0,eL.F)(),{0:l,1:u}=(0,p.useState)(!1),{0:g,1:x}=(0,p.useState)(!1),{0:h,1:v}=(0,p.useState)(!1),{0:b,1:M}=(0,p.useState)(!1),{0:w,1:O}=(0,p.useState)(!1),{0:C,1:P}=(0,p.useState)(!1),{0:N,1:D}=(0,p.useState)(!1),{0:S,1:E}=(0,p.useState)(!1),{0:L,1:B}=(0,p.useState)(!1),{setupMfa:I,removeMfa:F}=function(){var e,t;let{session:n}=(0,es.kP)(),a=(null==n||null===(e=n.user)||void 0===e?void 0:e.idp)==="auth0",s=!!(null!=n&&null!==(t=n.user)&&void 0!==t&&t.mfa);return{setupMfa:(0,p.useCallback)(async()=>{ef(n);let e=new URL((0,ea.M5)(ea.LT.MFA_ENABLED,"/#settings"),window.location.origin).toString();(0,ei.signIn)(null==n?void 0:n.authProvider,{callbackUrl:e},ec(ec({},(null==n?void 0:n.authProvider)===es.Ho.OpenAI?{login_hint:(0,es.W_)({oai_enforce_mfa:!0,idp:"openai"})}:ec(ec({},eu(null==n?void 0:n.user)),{},{max_age:"0",oai_enforce_mfa:"true"})),(0,er.gk)((0,eo.f3)())))},[n]),isUsernamePassword:a,isLoggedInWithMfa:s,removeMfa:(0,p.useCallback)(async()=>{ef(n);let e=new URL("/auth/disable_mfa",window.location.origin).toString();(0,ei.signIn)(null==n?void 0:n.authProvider,{callbackUrl:e},ec(ec({},(null==n?void 0:n.authProvider)===es.Ho.OpenAI?{login_hint:(0,es.W_)({idp:"openai"})}:ec(ec({},eu(null==n?void 0:n.user)),{},{max_age:"0"})),(0,er.gk)((0,eo.f3)())))},[n])}}(),R=function(){var e,t;let n=function(){let e=(0,V.hz)(),t=null==e?void 0:e.includes(q.i);return(0,Y.a)({queryKey:["mfaInfo"],queryFn:()=>m.Z.getMfaInfo(),enabled:t})}();return{status:n.isLoading?K.LOADING:null!==(e=n.data)&&void 0!==e&&e.mfa_enabled?K.ENABLED:K.DISABLED,otherProvidersWithoutMfa:null===(t=n.data)||void 0===t?void 0:t.other_providers_without_mfa}}(),W=R.status,z=R.otherProvidersWithoutMfa&&R.otherProvidersWithoutMfa.length>0,{session:U}=(0,es.kP)(),H=null==U?void 0:U.user,et=null==H?void 0:H.idp,el=null!==(e=et?J.w[et]:void 0)&&void 0!==e?e:(0,k.jsx)(y.Z,{id:"confirmEnableMfaForByPassModal.yourAccount",defaultMessage:"your current account"}),ed=(0,V.t)(),ex=null==ed?void 0:ed.features,eh=(0,Q.ec)(Q.F_.isBusinessWorkspace),{connectorConfig:ej}=(0,c.aB)(),ev=ej.has(i.PO.GDRIVE),eb=ej.has(i.PO.O365_PERSONAL)||ej.has(i.PO.O365_BUSINESS),ew=(0,T.C)(q.L0.WorkspaceShareLinks),eO=(0,$.EV)($.B.CookieManagement),{data:eC}=(0,A.R1)(i.sh.ShowExpandedCodeView),eZ=void 0===eC,{0:eD,1:eS}=(0,p.useState)(!eZ&&eC),eT=(0,A.Gt)(),eE=(0,X.ll)(),eA=null==ed?void 0:ed.isTeam(),{data:e_}=(0,V.rk)(),eB=null==e_?void 0:e_.accountItems.some(e=>e.isPersonalAccount()),eI=(null==ex?void 0:ex.includes(q.i))&&(W===K.LOADING||W===K.DISABLED)||W===K.ENABLED;(0,p.useEffect)(()=>{void 0!==eC&&eS(eC)},[eC]);let eF=(0,p.useCallback)(()=>{u(!1)},[]),eR=(0,p.useCallback)(()=>{x(!1)},[]),eG=(0,p.useCallback)(()=>{M(!1)},[]),ez=(0,p.useCallback)(()=>{u(!0)},[]),eU=(0,p.useCallback)(()=>{x(!0)},[]),eH=(0,p.useCallback)(()=>{v(!0)},[]),eq=(0,p.useCallback)(()=>{M(!0)},[]),eK=(0,p.useCallback)(()=>{B(!0)},[]),e$=(0,p.useCallback)(()=>{E(!0),m.Z.logoutAll().then(()=>{_.m.success(t.formatMessage(tE.logoutAllSuccess)),(0,es.w7)()}).catch(e=>{ep.U.addError(Error("Failed logging out all accounts: ",{cause:e})),_.m.danger(t.formatMessage(tE.logoutAllFailed),{hasCloseButton:!0}),E(!1)})},[t]),eQ=(0,eg.NL)();if(l)return(0,k.jsx)(tD,{onClose:eF});if(g)return(0,k.jsx)(tZ,{onClose:eR,onDeleteHistory:()=>{m.Z.deleteConversations().then(()=>{(0,eY.aM)(eQ)}),"/"!==a.asPath&&a.replace({pathname:"/"},void 0,{shallow:!0})}});if(h)return(0,k.jsx)(tN,{onClose:()=>v(!1),onArchiveHistory:()=>{m.Z.archiveConversations().then(()=>{_.m.info(t.formatMessage(tE.archiveHistorySuccess)),(0,eY.aM)(eQ)}),"/"!==a.asPath&&a.replace({pathname:"/"},void 0,{shallow:!0})}});if(b)return(0,k.jsx)(tS,{onClose:eG});if(w)return(0,k.jsx)(ty,{onClose:()=>{O(!1)}});if(L)return(0,k.jsx)(e8.nB,{mfaInfo:R,onCancel:()=>{B(!1)},onEnableMFA:I});if(C)return(0,k.jsx)(eP.Z,{onClose:()=>{P(!1)},fromSettings:!0});else if(N)return(0,k.jsx)(e4,{onClose:()=>{D(!1)}});else if(eO)return null;else return(0,k.jsx)(eN.Z,{isOpen:!0,onClose:()=>{s(),ek._P.unsetModifiedSettings()},size:"custom",className:"md:max-w-[680px]",type:"success",title:t.formatMessage(tE.settings),showCloseButton:!0,noPadding:!0,children:(0,k.jsxs)(em.fC,{className:"flex flex-col gap-6 md:flex-row",defaultValue:r,orientation:n?"vertical":void 0,onValueChange:e=>{o(e)},children:[(0,k.jsxs)(em.aV,{className:(0,ey.default)("m-2 md:m-0 md:px-4 md:pl-6 md:pt-4","flex flex-shrink-0 md:ml-[-8px] md:min-w-[180px]",n?"max-w-[200px] flex-col gap-2":"flex-row overflow-x-auto rounded-lg bg-token-main-surface-secondary"),children:[(0,k.jsx)(f.aG,{value:f.u5.General,icon:(0,k.jsx)(d.SWE,{className:"icon-sm"}),label:(0,k.jsx)(y.Z,tv({},tE.generalTab))}),eE&&(0,k.jsx)(f.aG,{value:f.u5.Personalization,icon:(0,k.jsx)(d.z6V,{className:"icon-sm"}),label:(0,k.jsx)(y.Z,tv({},tE.personalizationTab))}),(0,k.jsx)(G.Trigger,{}),(0,k.jsx)(f.aG,{value:f.u5.DataControls,icon:(0,k.jsx)(d.JGH,{className:"icon-sm"}),label:(0,k.jsx)(y.Z,tv({},tE.dataControlsTab))}),(null==ed?void 0:ed.canInteractWithGizmos())&&(0,k.jsx)(f.aG,{value:f.u5.BuilderProfile,icon:(0,k.jsx)(d.Yu0,{className:"icon-sm"}),label:(0,k.jsx)(eV,{})}),(ev||eb)&&(0,k.jsx)(f.aG,{value:f.u5.ConnectorSettings,icon:(0,k.jsx)(d.frp,{className:"icon-sm"}),label:(0,k.jsx)(y.Z,tv({},tE.connectorsTab))}),(0,k.jsx)(f.aG,{value:f.u5.Security,icon:(0,k.jsx)(d.kaz,{className:"icon-sm"}),label:(0,k.jsx)(y.Z,tv({},tE.securityTab))})]}),(0,k.jsxs)(f.a7,{value:f.u5.General,children:[(0,k.jsx)(f.ZR,{children:(0,k.jsx)(tO,{})}),(0,k.jsx)(f.ZR,{children:(0,k.jsx)(f.wy,{label:t.formatMessage(tE.alwaysExpandCodeOutput),enabled:eD,isLoading:eZ,onChange:e=>{eT.mutate({setting:i.sh.ShowExpandedCodeView,value:e}),eS(e)}})}),(0,k.jsx)(f.ZR,{children:(0,k.jsx)(tC,{})}),(0,k.jsx)(f.ZR,{children:(0,k.jsx)(f.ls,{label:t.formatMessage(tE.archivedConversations),buttonLabel:t.formatMessage(tE.manageButton),onClick:()=>{D(!0)}})}),(0,k.jsx)(f.ZR,{children:(0,k.jsx)(f.ls,{label:t.formatMessage(tE.archiveChatsLabel),buttonLabel:t.formatMessage(tE.archiveChatsButton),onClick:eH})}),(0,k.jsx)(f.ZR,{children:(0,k.jsx)(f.ls,{color:"danger",label:t.formatMessage(tE.deleteChatLabel),buttonLabel:t.formatMessage(tE.deleteChatButton),onClick:eU})})]}),!eh&&(0,k.jsx)(f.a7,{value:f.u5.BetaFeatures,children:(0,k.jsx)(tk,{})}),(0,k.jsxs)(f.a7,{value:f.u5.DataControls,children:[(0,k.jsx)(tM,{}),ew&&(0,k.jsx)(f.ZR,{children:(0,k.jsx)(f.ls,{label:t.formatMessage(tE.sharedConversations),buttonLabel:t.formatMessage(tE.manageButton),onClick:()=>{O(!0)}})}),eA&&eB&&(0,k.jsx)(f.ZR,{children:(0,k.jsx)(f.ls,{label:t.formatMessage(tE.mergePersonalData),buttonLabel:t.formatMessage(tE.mergeButton),onClick:()=>{P(!0)}})}),!eh&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(f.ZR,{children:(0,k.jsx)(f.ls,{label:t.formatMessage(tE.exportData),buttonLabel:t.formatMessage(tE.exportButton),onClick:ez})}),(0,k.jsx)(f.ZR,{children:(0,k.jsx)(f.ls,{label:t.formatMessage(tE.deleteAccount),buttonLabel:t.formatMessage(tE.deleteAccountButton),color:"danger",onClick:eq})})]})]}),eE&&(0,k.jsx)(f.a7,{value:f.u5.Personalization,children:(0,k.jsx)(to,{})}),(0,k.jsx)(f.a7,{value:f.u5.BuilderProfile,children:(0,k.jsx)(eW,{})}),(ev||eb)&&(0,k.jsx)(f.a7,{value:f.u5.ConnectorSettings,children:(0,k.jsx)(Z,{isGdriveEnabled:ev,isO365Enabled:eb})}),(0,k.jsx)(G.Content,{}),(0,k.jsxs)(f.a7,{value:f.u5.Security,children:[eI&&(0,k.jsx)(f.ZR,{children:(0,k.jsx)(f.ls,{label:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(y.Z,{id:"settingsModal.toggleMfa",defaultMessage:"Multi-factor authentication"}),W===K.ENABLED&&(0,k.jsx)("span",{className:"mx-1.5 rounded bg-green-50 px-1 py-0.5 text-xs font-semibold text-green-700",children:(0,k.jsx)(y.Z,{id:"settingsModal.mfaEnabled",defaultMessage:"Enabled"})})]}),disabled:W===K.LOADING,buttonLabel:(0,k.jsxs)(k.Fragment,{children:[W===K.LOADING&&(0,k.jsx)(y.Z,{id:"settingsModal.loadingMfa",defaultMessage:"Loading..."}),W===K.ENABLED&&(0,k.jsx)(y.Z,{id:"settingsModal.disable",defaultMessage:"Disable"}),W===K.DISABLED&&(0,k.jsx)(y.Z,{id:"settingsModal.enable",defaultMessage:"Enable"})]}),onClick:()=>{W===K.ENABLED?F():W===K.DISABLED&&z?eK():W===K.DISABLED&&I()},description:(0,k.jsxs)(k.Fragment,{children:[W===K.DISABLED&&(0,k.jsx)(y.Z,{id:"settingsModal.toggleMfaDescriptionDisabled",defaultMessage:"Require an extra security challenge when logging in. If you are unable to pass this challenge, you will have the option to recover your account via email."}),W===K.ENABLED&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(y.Z,{id:"settingsModal.toggleMfaDescriptionEnabled",defaultMessage:"You'll only be able to log in using {currentIdp} while this is on.",values:{currentIdp:el}}),"\xa0",(0,k.jsx)("a",{className:"underline",target:"_blank",rel:"noreferrer",href:ee.l,children:(0,k.jsx)(y.Z,{id:"settingsModal.toggleMfaDescriptionLearnMore",defaultMessage:"Learn more"})}),"."]})]})})}),(0,k.jsx)(f.ZR,{children:(0,k.jsx)(f.ls,{label:(0,k.jsx)(y.Z,{id:"settingsModal.logoutAllLabel",defaultMessage:"Log out of all devices"}),buttonLabel:(0,k.jsx)("div",{style:{whiteSpace:"nowrap"},children:(0,k.jsx)(y.Z,{id:"settingsModal.logoutAllButton",defaultMessage:"Log out all"})}),description:(0,k.jsx)(y.Z,{id:"settingsModal.logoutAllDescription",defaultMessage:"Log out of all active sessions across all devices, including your current session. It may take up to 30 minutes for other devices to be logged out."}),onClick:e$,disabled:S})})]})]})})};function tk(){return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(f.ZR,{children:(0,k.jsx)("p",{children:(0,k.jsx)(y.Z,tv({},tE.betaIntro))})})})}function tO(){let{theme:e,setTheme:t}=(0,ej.F)(),n=(0,j.Z)();return(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsx)("div",{children:(0,k.jsx)(y.Z,tv({},tE.theme))}),(0,k.jsx)(L.g,{value:e,onValueChange:e=>t(e),options:[{label:n.formatMessage(tE.system),value:"system"},{label:n.formatMessage(tE.dark),value:"dark"},{label:n.formatMessage(tE.light),value:"light"}]})]})}function tC(){let{localeList:e,localPreferenceLocale:t,setLocale:n,suggestedLocale:a,currentLocale:s,unsanitizedBrowserLocale:r}=(0,eC.b)(),o=[...new Set([t,a])].filter(e=>null!=e),i=e.filter(e=>!o.includes(e));return(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsx)("div",{children:(0,k.jsx)(y.Z,tv({},tE.locale))}),(0,k.jsxs)(L.Z.Root,{value:null!=t?t:"auto",onValueChange:e=>{ex.A.logEvent(eh.M.localeUpdatedByUser,{from_locale:s,to_locale:e,raw_browser_locale:null!=r?r:"",suggested_locale:null!=a?a:""}),g.m9.logEvent("chatgpt_locale_updated_by_user",e,{from_locale:s,to_locale:e,raw_browser_locale:null!=r?r:"",suggested_locale:null!=a?a:""}),"auto"===e?n(null):n(e)},children:[(0,k.jsxs)(L.Z.Trigger,{children:[(0,k.jsx)(L.Z.Value,{}),(0,k.jsx)(L.Z.Icon,{})]}),(0,k.jsx)(L.Z.Portal,{children:(0,k.jsxs)(L.Z.Content,{side:void 0,sideOffset:void 0,position:"item-aligned",children:[(0,k.jsx)(L.Z.Item,{value:"auto",children:(0,k.jsx)(y.Z,tv({},tE.localeAuto))}),o.map(e=>{var t;return(0,k.jsx)(L.Z.Item,{value:e,children:null!==(t=et.gi[e])&&void 0!==t?t:e},e)}),(0,k.jsx)(L.Z.Separator,{}),i.map(e=>{var t;return(0,k.jsx)(L.Z.Item,{value:e,children:null!==(t=et.gi[e])&&void 0!==t?t:e},e)})]})})]})]})}function tP(){let e=(0,j.Z)(),t=(0,ek.V_)(),{closeSettings:n}=(0,eL.F)(),a=(0,p.useCallback)(()=>{ek._P.toggleHistoryDisabled()},[]);return(0,p.useEffect)(()=>{g.m9.logEvent("chatgpt_unauthenticated_settings_modal_shown"),ex.A.logEvent(eh.M.unauthSettingsModal)},[]),(0,k.jsx)(eN.Z,{isOpen:!0,onClose:n,type:"success",showCloseButton:!0,title:e.formatMessage(tE.settings),children:(0,k.jsx)(f.ZR,{children:(0,k.jsx)(f.wy,{label:e.formatMessage({id:"settingsModal.unauthChatTrainingToggleLabel",defaultMessage:"Improve the model for everyone"}),enabled:!t,onChange:a,description:(0,k.jsx)(y.Z,{id:"rtxsI1",defaultMessage:"Allow your content to be used to train our models, which makes ChatGPT better for you and everyone who uses it. We take steps to protect your privacy. <link>Learn more</link>.",values:{link:e=>(0,k.jsx)("a",{href:tb,target:"_blank",className:"underline",rel:"noreferrer",children:e})}})})})})}function tZ(e){let{onClose:t,onDeleteHistory:n}=e,a=(0,j.Z)(),s=(0,X.ll)();return(0,k.jsx)(eN.Z,{isOpen:!0,onClose:t,type:"success",title:a.formatMessage(tE.deleteHistoryModalTitle),description:s&&(0,k.jsx)(y.Z,{id:"settingsModal.deleteHistoryModalMemoryDisclaimer",defaultMessage:"To clear any memories from your chats, visit your <link>settings</link>.",values:{link:e=>(0,k.jsx)(eb(),{onClick:()=>t(),href:"#settings/Personalization",shallow:!0,className:"underline",children:e})}}),primaryButton:(0,k.jsx)(eZ.Z.Button,{title:a.formatMessage(tE.deleteHistoryModalConfirm),color:"danger",onClick:()=>{n(),t()}}),secondaryButton:(0,k.jsx)(eZ.Z.Button,{title:a.formatMessage(tE.deleteHistoryModalCancel),color:"secondary",onClick:t})})}function tN(e){let{onClose:t,onArchiveHistory:n}=e,a=(0,j.Z)();return(0,k.jsx)(eN.Z,{isOpen:!0,onClose:t,type:"success",title:a.formatMessage(tE.archiveHistoryModalTitle),primaryButton:(0,k.jsx)(eZ.Z.Button,{title:a.formatMessage(tE.archiveHistoryModalConfirm),color:"primary",onClick:()=>{n(),t()}}),secondaryButton:(0,k.jsx)(eZ.Z.Button,{title:a.formatMessage(tE.archiveHistoryModalCancel),color:"secondary",onClick:t})})}function tD(e){let{onClose:t}=e,n=(0,j.Z)(),a=(0,p.useCallback)(()=>{try{m.Z.submitDataExport().then(()=>{_.m.success(n.formatMessage(tE.dataExportRequested)),t()})}catch(e){_.m.warning(n.formatMessage(tE.dataExportFailed),{hasCloseButton:!0})}},[n,t]);return(0,k.jsx)(eN.Z,{isOpen:!0,onClose:t,type:"success",title:n.formatMessage(tE.dataExportModalTitle),primaryButton:(0,k.jsx)(eZ.Z.Button,{title:n.formatMessage(tE.dataExportModalConfirm),color:"primary",onClick:a}),secondaryButton:(0,k.jsx)(eZ.Z.Button,{title:n.formatMessage(tE.dataExportModalCancel),color:"secondary",onClick:t}),children:(0,k.jsxs)("div",{className:"text-sm",children:[(0,k.jsxs)("ul",{className:"my-3 flex list-disc flex-col gap-1 pl-3",children:[(0,k.jsx)("li",{children:(0,k.jsx)(y.Z,tv({},tE.dataExportModalDescription1))}),(0,k.jsx)("li",{children:(0,k.jsx)(y.Z,tv({},tE.dataExportModalDescription2))}),(0,k.jsx)("li",{children:(0,k.jsx)(y.Z,tv({},tE.dataExportModalDescription3))}),(0,k.jsx)("li",{children:(0,k.jsx)(y.Z,tv({},tE.dataExportModalDescription4))})]}),(0,k.jsx)("div",{children:(0,k.jsx)(y.Z,tv({},tE.dataExportModalDescription5))})]})})}function tS(e){let{onClose:t}=e,n=(0,j.Z)(),{session:a}=(0,es.kP)(),s=(0,Q.aF)(),r=null==s?void 0:s.email,{0:o,1:i}=(0,p.useState)(""),{0:l,1:c}=(0,p.useState)(""),u=(0,p.useCallback)(()=>{var e;let t=null==a||null===(e=a.user)||void 0===e?void 0:e.iat;return void 0===t||Date.now()/1e3-t<600},[a]),f=(0,p.useCallback)(()=>{try{u()?m.Z.deactivateAccount().then(()=>{(0,es.w7)()}):_.m.warning(n.formatMessage(tE.deleteAccountSessionTooOld),{hasCloseButton:!0})}catch(e){_.m.warning(n.formatMessage(tE.deleteAccountFailed),{hasCloseButton:!0})}},[n,u]),g=(0,p.useCallback)(()=>{(0,es.w7)()},[]),x="DELETE"===l&&(void 0===r||o.toLowerCase()===r.toLowerCase()),{0:h}=(0,p.useState)(()=>u()),v=(0,Q.e2)();return(0,k.jsx)(eN.Z,{isOpen:!0,onClose:t,type:"success",title:n.formatMessage(tE.deleteAccountTitle),showCloseButton:!0,children:(0,k.jsxs)("div",{className:"text-sm",children:[(0,k.jsxs)("ul",{className:"mb-6 mt-4 flex list-disc flex-col gap-1 pl-3",children:[(0,k.jsx)("li",{children:(0,k.jsx)(y.Z,tv({},tE.deleteAccountWarning))}),(0,k.jsx)("li",{children:(0,k.jsx)(y.Z,tv({},tE.apiAccessDeletionWarning))}),(0,k.jsx)("li",{children:(0,k.jsx)(y.Z,tv({},tE.reuseEmailPhoneWarning))}),(0,k.jsx)("li",{children:(0,k.jsx)(y.Z,tv({},tE.dataRemovalWarning))}),(null==v?void 0:v.purchase_origin_platform)===eq._4.MOBILE_IOS&&(0,k.jsx)("li",{children:(0,k.jsx)(y.Z,tv({},tE.iapSubscriptionWarning))}),(null==v?void 0:v.purchase_origin_platform)===eq._4.MOBILE_ANDROID&&(0,k.jsx)("li",{children:(0,k.jsx)(y.Z,tv({},tE.playStoreSubscriptionWarning))}),(0,k.jsx)("li",{children:(0,k.jsx)(y.Z,tv(tv({},tE.deleteHelpCenter),{},{values:{article:e=>(0,k.jsx)("a",{href:"https://help.openai.com/en/articles/6378407-how-to-delete-your-account",target:"_blank",className:"underline",rel:"noopener noreferrer",children:e})}}))})]}),h?(0,k.jsxs)(k.Fragment,{children:[void 0!==r?(0,k.jsxs)("div",{className:"mb-4",children:[(0,k.jsx)(tT,{children:(0,k.jsx)(y.Z,tv({},tE.typeEmailLabel))}),(0,k.jsx)(eO.Z,{value:o,placeholder:r,name:"email",onChange:e=>{i(e.target.value)}})]}):null,(0,k.jsxs)("div",{className:"mb-4",children:[(0,k.jsx)(tT,{children:(0,k.jsx)(y.Z,tv({},tE.typeDeleteInputLabel))}),(0,k.jsx)(eO.Z,{value:l,onChange:e=>{c(e.target.value)},name:"delete",className:"mb-4"})]}),(0,k.jsx)(B.z,{color:x?"danger":"disabled",onClick:f,disabled:!x,fullWidth:!0,icon:x?d.ETw:d.oVl,children:x?(0,k.jsx)(y.Z,tv({},tE.deleteAccountButtonLabel)):(0,k.jsx)(y.Z,tv({},tE.lockedButtonLabel))})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("p",{className:"pb-4 text-xs text-token-text-tertiary",children:(0,k.jsx)(y.Z,tv({},tE.recentLoginMessage))}),(0,k.jsx)(B.z,{color:"primary",onClick:g,fullWidth:!0,children:(0,k.jsx)(y.Z,tv({},tE.refreshLoginButtonLabel))})]})]})})}let tT=ew.Z.label(s||(s=(0,r.Z)(["block text-sm font-semibold mb-1"]))),tE=(0,v.vU)({settings:{id:"settingsModal.settings",defaultMessage:"Settings"},theme:{id:"settingsModal.theme",defaultMessage:"Theme"},system:{id:"settingsModal.system",defaultMessage:"System"},dark:{id:"settingsModal.dark",defaultMessage:"Dark"},light:{id:"settingsModal.light",defaultMessage:"Light"},locale:{id:"settingsModal.locale_alpha",defaultMessage:"Language"},localeAuto:{id:"settingsModal.localeAuto",defaultMessage:"Auto-detect"},archivedConversations:{id:"settingsModal.archivedConversations",defaultMessage:"Archived chats"},sharedConversations:{id:"settingsModal.sharedConversations",defaultMessage:"Shared links"},manageButton:{id:"settingsModal.manageButton",defaultMessage:"Manage"},mergePersonalData:{id:"settingsModal.mergePersonalData",defaultMessage:"Merge data from your personal workspace"},mergeButton:{id:"settingsModal.mergeButton",defaultMessage:"Merge"},cookieManagement:{id:"settingsModal.cookieManagement",defaultMessage:"Cookie preferences"},cookieManagementButton:{id:"settingsModal.cookieManagementButton",defaultMessage:"Manage"},exportData:{id:"settingsModal.exportData",defaultMessage:"Export data"},exportButton:{id:"settingsModal.exportButton",defaultMessage:"Export"},deleteAccount:{id:"settingsModal.deleteAccount",defaultMessage:"Delete account"},deleteAccountButton:{id:"settingsModal.deleteButton",defaultMessage:"Delete"},alwaysExpandCodeOutput:{id:"settingsModal.alwaysShowDataAnalystOutput",defaultMessage:"Always show code when using data analyst"},trainingAllowedDescription:{id:"Qalmv5",defaultMessage:"Allow your content to be used to train our models, which makes ChatGPT better for you and everyone who uses it. We take steps to protect your privacy. <link>Learn more</link>"},deleteHistoryModalTitle:{id:"settingsModal.deleteHistoryModalTitle",defaultMessage:"Clear your chat history - are you sure?"},deleteHistoryModalConfirm:{id:"settingsModal.deleteHistoryModalConfirm",defaultMessage:"Confirm deletion"},deleteHistoryModalCancel:{id:"settingsModal.deleteHistoryModalCancel",defaultMessage:"Cancel"},archiveHistoryModalTitle:{id:"settingsModal.archiveHistoryModalTitle",defaultMessage:"Archive your chat history - are you sure?"},archiveHistoryModalConfirm:{id:"settingsModal.archiveHistoryModalConfirm",defaultMessage:"Confirm archive"},archiveHistoryModalCancel:{id:"settingsModal.archiveHistoryModalCancel",defaultMessage:"Cancel"},archiveHistorySuccess:{id:"settingsModal.archiveHistorySuccess",defaultMessage:"Successfully archived chats. You can view your archived chats in Settings."},dataExportRequested:{id:"settingsModal.dataExportRequested",defaultMessage:"Successfully exported data. You should receive an email shortly with your data."},dataExportFailed:{id:"settingsModal.dataExportFailed",defaultMessage:"We were unable to process your export at this time. Please try again later."},dataExportModalTitle:{id:"settingsModal.dataExportModalTitle",defaultMessage:"Request data export - are you sure?"},dataExportModalConfirm:{id:"settingsModal.dataExportModalConfirm",defaultMessage:"Confirm export"},dataExportModalCancel:{id:"settingsModal.dataExportModalCancel",defaultMessage:"Cancel"},dataExportModalDescription1:{id:"settingsModal.dataExportModalDescription1",defaultMessage:"Your account details and chats will be included in the export."},dataExportModalDescription2:{id:"settingsModal.dataExportModalDescription2",defaultMessage:"The data will be sent to your registered email in a downloadable file."},dataExportModalDescription3:{id:"settingsModal.dataExportModalDescription3",defaultMessage:"The download link will expire 24 hours after you receive it."},dataExportModalDescription4:{id:"settingsModal.dataExportModalDescription4",defaultMessage:"Processing may take some time. You'll be notified when it's ready."},dataExportModalDescription5:{id:"settingsModal.dataExportModalDescription5",defaultMessage:'To proceed, click "Confirm export" below.'},deleteAccountSessionTooOld:{id:"settingsModal.deleteAccountSessionTooOld",defaultMessage:"Your login session is too old. Please log in again before deleting your account."},deleteAccountFailed:{id:"settingsModal.deleteAccountFailed",defaultMessage:"Failed to delete account. Please try again later."},deleteAccountTitle:{id:"settingsModal.deleteAccountTitle",defaultMessage:"Delete account - are you sure?"},deleteAccountWarning:{id:"settingsModal.deleteAccountWarning",defaultMessage:"Deleting your account is permanent and cannot be undone."},reuseEmailPhoneWarning:{id:"settingsModal.reuseEmailPhoneWarning-2",defaultMessage:"You cannot create a new account using the same email address."},dataRemovalWarning:{id:"settingsModal.dataRemovalWarning-2",defaultMessage:"Your data will be deleted within 30 days, except we may retain a limited set of data for longer where required or permitted by law."},apiAccessDeletionWarning:{id:"settingsModal.apiAccessDeletionWarning-2",defaultMessage:"Deletion will prevent you from accessing OpenAI services, including ChatGPT, API, and DALL\xb7E."},deleteHelpCenter:{id:"settingsModal.deleteHelpCenter",defaultMessage:"Read our <article>help center article</article> for more information."},iapSubscriptionWarning:{id:"settingsModal.iapSubscriptionWarning",defaultMessage:"You will need to cancel your in-app purchase subscription in the Apple App Store. We cannot cancel your subscription for you."},playStoreSubscriptionWarning:{id:"settingsModal.playStoreSubscriptionWarning",defaultMessage:"You will need to cancel your in-app purchase subscription in the Google Play Store. We cannot cancel your subscription for you."},typeEmailLabel:{id:"settingsModal.typeEmailLabel",defaultMessage:"Please type your account email."},typeDeleteInputLabel:{id:"settingsModal.typeDeleteInputLabel",defaultMessage:'To proceed, type "DELETE" in the input field below.'},lockedButtonLabel:{id:"settingsModal.lockedButtonLabel",defaultMessage:"Locked"},deleteAccountButtonLabel:{id:"settingsModal.deleteAccountButtonLabel",defaultMessage:"Permanently delete my account"},recentLoginMessage:{id:"settingsModal.recentLoginMessage",defaultMessage:"You may only delete your account if you have logged in within the last 10 minutes. Please log in again, then return here to continue."},refreshLoginButtonLabel:{id:"settingsModal.refreshLoginButtonLabel",defaultMessage:"Refresh login"},chatTrainingAllowedToggleLabel:{id:"settingsModal.trainingAllowedToggleLabel",defaultMessage:"Improve the model for everyone"},chatTrainingEnterpriseTooltip:{id:"settingsModal.chatTrainingEnterpriseTooltip",defaultMessage:"ChatGPT Enterprise automatically disables training."},chatTrainingEduTooltip:{id:"settingsModal.chatTrainingEduTooltip",defaultMessage:"ChatGPT Edu automatically disables training."},chatTrainingTeamsTooltip:{id:"settingsModal.chatTrainingTeamsTooltip",defaultMessage:"ChatGPT Team automatically disables training."},dataControlsTab:{id:"settingsModal.dataControls",defaultMessage:"Data controls"},cookiesTab:{id:"settingsModal.cookies",defaultMessage:"Cookie Preferences"},personalizationTab:{id:"settingsModal.personalization",defaultMessage:"Personalization"},betaIntro:{id:"settingsModal.betaIntro",defaultMessage:"As a Plus user, enjoy early access to experimental new features, which may change during development."},betaSettingsUpdateFailed:{id:"settingsModal.betaSettingsUpdateFailed",defaultMessage:"Failed to update your beta setting"},generalTab:{id:"settingsModal.generalTab",defaultMessage:"General"},betaTab:{id:"settingsModal.betaTab",defaultMessage:"Beta features"},connectorsTab:{id:"settingsModal.connectorsTab",defaultMessage:"Connected apps"},securityTab:{id:"settingsModal.securityTab",defaultMessage:"Security"},logoutAllSuccess:{id:"settingsModal.logoutAllSuccess",defaultMessage:"Successfully logged out of all devices."},logoutAllFailed:{id:"settingsModal.logoutAllFailed",defaultMessage:"We were unable to process your request at this time. Please try again later."},deleteChatLabel:{id:"settingsModal.deleteChatLabel",defaultMessage:"Delete all chats"},deleteChatButton:{id:"settingsModal.deleteChatButton",defaultMessage:"Delete all"},archiveChatsLabel:{id:"settingsModal.archiveChatsLabel",defaultMessage:"Archive all chats"},archiveChatsButton:{id:"settingsModal.archiveChatsButton",defaultMessage:"Archive all"},chatHistoryDescription:{id:"settingsModal.chatHistoryDescription",defaultMessage:"Save new chats on this browser to your history and allow them to be used to improve our models. Unsaved chats will be deleted from our systems within 30 days. This setting does not sync across browsers or devices. <link>Learn more</link>"}})},24241:function(e,t,n){n.d(t,{MO:function(){return p},aM:function(){return y},wT:function(){return h}});var a,s=n(98601),r=n(2721),o=n(93951),i=n(53132),l=n(19856),c=n(88667),d=n(92379),u=n(6522),f=n(67566),m=n(41987);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let h="conversationHistory";function p(){var e;let t=(0,o.hz)(),n=null!==(e=null==t?void 0:t.includes(m.Ud))&&void 0!==e&&e,a=(0,o.t)(),s=!n&&!!(null!=a&&a.data),g=(0,u.useRelayEnvironment)(),{value:p}=(0,c.sB)("2893406386"),y=function(e,t){let{data:n,fetchNextPage:a,hasNextPage:s,isInitialLoading:r,isFetchingNextPage:o,isError:i}=(0,l.N)({queryKey:[h],queryFn:t=>{let{pageParam:n}=t;return(0,f.fetchQuery_DEPRECATED)(e,j,{after:n,first:28,order:"updated",expand:!1,isArchived:!1})},initialPageParam:"aWR4Oi0x",getNextPageParam:e=>{var t,n;return null!==(t=e.conversationDisplayHistory)&&void 0!==t&&t.pageInfo.hasNextPage?null===(n=e.conversationDisplayHistory)||void 0===n?void 0:n.pageInfo.endCursor:void 0},enabled:t});return{conversations:(0,d.useMemo)(()=>{var e;return null!==(e=null==n?void 0:n.pages.flatMap(e=>{var t,n;return(null!==(t=null===(n=e.conversationDisplayHistory)||void 0===n?void 0:n.edges)&&void 0!==t?t:[]).flatMap(e=>{var t,n;return null!=e&&e.node?[{id:e.node.id,title:null!==(t=e.node.title)&&void 0!==t?t:"",create_time:e.node.createTime,update_time:e.node.updateTime,conversation_template_id:null===(n=e.node.primaryGizmo)||void 0===n?void 0:n.id,async_status:e.node.asyncStatus}]:[]})}))&&void 0!==e?e:[]},[n]),data:n,fetchNextPage:a,hasNextPage:s,isInitialLoading:r,isFetchingNextPage:o,isError:i}}(g,s&&p),v=function(e){let{data:t,fetchNextPage:n,hasNextPage:a,isInitialLoading:s,isFetchingNextPage:o,isError:i}=(0,l.N)({queryKey:[h],queryFn:e=>{let{pageParam:t}=e;return r.Z.getConversations({offset:t,limit:28})},initialPageParam:0,getNextPageParam:e=>{let t=e.offset+e.limit;return t<e.total?t:void 0},enabled:e});return{conversations:(0,d.useMemo)(()=>{var e;return null!==(e=null==t?void 0:t.pages.flatMap(e=>e.items))&&void 0!==e?e:[]},[t]),data:t,fetchNextPage:n,hasNextPage:a,isInitialLoading:s,isFetchingNextPage:o,isError:i}}(s&&!p),{conversations:b,data:M,fetchNextPage:w,hasNextPage:k,isInitialLoading:O,isFetchingNextPage:C,isError:P}=p?y:v,{setStatusMap:Z,getState:N}=i.p.useStore();return(0,d.useEffect)(()=>{if(b.length){let{statusMap:e}=N();Z(x(x({},b.reduce((e,t)=>(e[t.id]=t.async_status,e),{})),e))}},[b,Z,N]),{data:M,conversations:b,fetchNextPage:w,hasNextPage:k,isLoading:O,isFetchingNextPage:C,isError:s&&P}}function y(e){e.invalidateQueries({queryKey:[h]})}let j=void 0!==a?a:a=n(17893)},22591:function(e,t,n){n.d(t,{j:function(){return o}});var a=n(88667),s=n(92379),r=n(24241);function o(){let{conversations:e}=(0,r.MO)(),t=(0,s.useMemo)(()=>!(e.length<=5)&&a.m9.checkGate("4277113861"),[e]);return{canUseHistoryIsCollapsible:t,isCollapsible:t&&e.length>5,recentConversationLimit:5}}},87040:function(e,t,n){n.d(t,{$N:function(){return m},SK:function(){return d},hE:function(){return f},qn:function(){return u}});var a=n(99333),s=n(43878),r=n(58025),o=n(2721),i=n(84760),l=n(58695),c=n(92379);function d(){var e,t;let n=null===(e=(0,r.R1)(a.sh.VoiceName))||void 0===e?void 0:e.data,s=null===(t=(0,r.R1)(a.sh.VoiceMainLanguage))||void 0===t?void 0:t.data;return{voiceName:m(n,u()),voiceMainLanguage:null!=s?s:a.P9.Auto}}function u(){let e=f(),{currentLocale:t}=(0,s.b)();return(0,c.useCallback)(()=>{if(0===e.length)return"juniper";let n=e[0].voice;return t.startsWith("zh")&&(n="cove"),n},[e,t])}function f(){let{session:e}=(0,l.kP)(),{data:t}=(0,i.a)({queryKey:["getUserSettingVoices"],queryFn:()=>o.Z.getUserSettingVoices(),enabled:null!=e});return t?t.voices:[]}function m(e,t){return"sky"===e?"juniper":null!=e?e:t()}},53132:function(e,t,n){n.d(t,{p:function(){return l}});var a=n(98601),s=n(99333),r=n(25579);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class l extends(0,r.R)()(()=>({statusMap:{}})){constructor(){super(...arguments),(0,a.Z)(this,"setStatusMap",e=>{this.setState({statusMap:e})}),(0,a.Z)(this,"setConversationStatus",(e,t)=>{this.setState(n=>({statusMap:i(i({},n.statusMap),{},{[e]:t})}))})}}(0,a.Z)(l,"selectStatusMap",e=>e),(0,a.Z)(l,"selectConversationStatus",e=>t=>e.statusMap[t]),(0,a.Z)(l,"hasUnreadConversations",e=>Object.values(e.statusMap).some(e=>e===s.w2.FINISHED))},49763:function(e,t,n){n.d(t,{V:function(){return o}});var a=n(98601),s=n(36560),r=n.n(s);class o{constructor(){(0,a.Z)(this,"emitter",new(r())),this.emitter.setMaxListeners(1e3)}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}publish(e){this.emitter.emit(e.kind,e),this.emitter.emit("anyEvent",e)}}},33221:function(e,t,n){n.d(t,{Fx:function(){return l},HL:function(){return d},Lq:function(){return c}});var a=n(98601),s=n(2721),r=n(84760);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let l="https://help.openai.com/en/articles/8590148-memory-faq";function c(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return["memories",{gizmoId:e,includeMemoryEntries:t}]}function d(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return(0,r.a)({queryKey:c(e,t),queryFn:async()=>{let n=await s.Z.getMemories(e,t),a=Math.min(Math.floor(100*n.memory_num_tokens/n.memory_max_tokens),100);return i(i({},n),{},{memoryFullPct:a})},refetchOnMount:"always",enabled:n})}},3551:function(e,t,n){n.d(t,{AA:function(){return i},FH:function(){return d},J8:function(){return c},L7:function(){return o},SX:function(){return u},ZV:function(){return s},cy:function(){return r},xj:function(){return l}});var a=n(39004);function s(e,t){return t?"/g/".concat((0,a.kX)(t),"/c/").concat(e):"/c/".concat(e)}function r(){return"/gpts"}function o(){return"/gpts/mine"}function i(e){return e?"/gpts/editor/".concat(e):"/gpts/editor"}function l(e){let t=i(void 0);return null==e?t:i(e)}function c(e){return i(e)}function d(e){try{let t=new URL(e);return t.hostname=t.hostname.replace(/^(www\.|web\.|mbasic\.|mobile\.)(secure\.)?/,""),t.pathname="",[...t.searchParams.keys()].forEach(e=>t.searchParams.delete(e)),t.toString()}catch(t){return e}}function u(e){let t=function(e){if(!e)return null;try{return new URL(e).hostname}catch(e){return null}}(e);return t?t.replace(/^www\./,""):e}},15174:function(e,t,n){var a=n(92379);t.Z=function(){let e=(0,a.useRef)(!1);return(0,a.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),(0,a.useCallback)(()=>e.current,[])}},27393:function(e,t,n){n.d(t,{Ef:function(){return g},UG:function(){return x},dG:function(){return c},gb:function(){return h},mK:function(){return m}});var a,s=n(98601),r=n(37671),o=n(82363),i=n(92379);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}let c=((a={}).SonicHome="sonic.web.home",a.SonicServer="sonic.ssr.search",a.ChatPageLoad="chatgpt.web.pageLoad",a.CompletionRequest="chatgpt.web.completionRequest",a.ProofOfWork="chatgpt.web.proofOfWork",a);class d{constructor(e,t){var n,a;(0,s.Z)(this,"expectedTimingLogTimeouts",{}),(0,s.Z)(this,"startMs",-1),(0,s.Z)(this,"lastLogMs",-1),(0,s.Z)(this,"loggedTimings",new Set),(0,s.Z)(this,"timingBlocks",{}),(0,s.Z)(this,"debug",!1),this.namespace=e,this.expectedTimingLogs=null!==(n=null==t?void 0:t.expectedTimingLogs)&&void 0!==n?n:[],this.debug=null!==(a=null==t?void 0:t.debug)&&void 0!==a&&a,this.reset()}reset(){for(let e of(this.startMs=this.lastLogMs=performance.now(),this.timingBlocks={},this.loggedTimings=new Set,Object.values(this.expectedTimingLogTimeouts)))clearTimeout(e);for(let e of(this.expectedTimingLogTimeouts={},this.expectedTimingLogs)){let t=setTimeout(()=>{var t;o.U.addAction("".concat(this.namespace,".").concat(e.name,".timed_out"),null!==(t=e.initializationInfo)&&void 0!==t?t:{})},e.expectedInMs);this.expectedTimingLogTimeouts[e.name]=t,this.debug&&console.debug("[DatadogProfiler] Expecting ".concat(this.namespace,".").concat(e.name," to be logged within ").concat(e.expectedInMs,"ms"))}}logTiming(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromLastLog:!1};if(this.loggedTimings.has(e)){console.warn("[DatadogProfiler] Timing ".concat(this.namespace,".").concat(e," already logged"));return}let n=performance.now()-(t.fromLastLog?this.lastLogMs:this.startMs);o.U.addAction("".concat(this.namespace,".").concat(e),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({durationMs:n},t.context)),this.lastLogMs=performance.now(),this.loggedTimings.add(e),e in this.expectedTimingLogTimeouts&&(clearTimeout(this.expectedTimingLogTimeouts[e]),delete this.expectedTimingLogTimeouts[e]),this.debug&&console.debug("[DatadogProfiler] ".concat(this.namespace,".").concat(e,": ").concat(n,"ms"))}startBlock(e){this.timingBlocks[e]=performance.now()}endBlock(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{throwError:!0},n=this.timingBlocks[e];if(void 0===n&&t.throwError)throw Error("Block ".concat(e," not started"));let a=performance.now()-n;o.U.addAction("".concat(this.namespace,".").concat(e),{durationMs:a}),delete this.timingBlocks[e]}}let u={},f="__global__";function m(e){let{namespace:t,key:n=f,opts:a}=e;void 0===u[t]&&(u[t]={});let s=(0,r.S)(u[t]);return void 0!==s[n]&&o.U.addError("Profiler already exists for namespace ".concat(t," and key ").concat(n)),s[n]=new d(t,a),s[n]}function g(e){let{namespace:t,key:n=f}=e;if(void 0!==u[t])return(0,r.S)(u[t])[n]}function x(e){let{namespace:t,key:n=f}=e;if(void 0!==u[t]){let e=(0,r.S)(u[t]);delete e[n]}}function h(e){let{namespace:t,key:n=f,opts:a}=e,{0:s}=(0,i.useState)(()=>m({namespace:t,key:n,opts:a}));return s}},157:function(e,t,n){n.d(t,{S:function(){return d}});var a=n(92379),s=n(10542);let r=(0,a.createContext)(null);var o=n(9321);let i=e=>!e.isLayoutDirty&&e.willUpdate(!1),l=e=>!0===e,c=e=>l(!0===e)||"id"===e,d=({children:e,id:t,inherit:n=!0})=>{let d=(0,a.useContext)(s.p),u=(0,a.useContext)(r),[f,m]=(0,o.N)(),g=(0,a.useRef)(null),x=d.id||u;null===g.current&&(c(n)&&x&&(t=t?x+"-"+t:x),g.current={id:t,group:l(n)&&d.group||function(){let e=new Set,t=new WeakMap,n=()=>e.forEach(i);return{add:a=>{e.add(a),t.set(a,a.addEventListener("willUpdate",n))},remove:a=>{e.delete(a);let s=t.get(a);s&&(s(),t.delete(a)),n()},dirty:n}}()});let h=(0,a.useMemo)(()=>({...g.current,forceRender:f}),[m]);return a.createElement(s.p.Provider,{value:h},e)}}}]);
//# sourceMappingURL=8104.d03f22ed0050b67f.js.map