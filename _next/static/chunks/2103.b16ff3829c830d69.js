(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2103],{89678:function(e,t,r){var n=r(6627),s=r(85365),o=r(67948),i=Math.max,a=Math.min;e.exports=function(e,t,r){var l,c,u,d,f,p,h=0,m=!1,x=!1,g=!0;if("function"!=typeof e)throw TypeError("Expected a function");function j(t){var r=l,n=c;return l=c=void 0,h=t,d=e.apply(n,r)}function v(e){var r=e-p,n=e-h;return void 0===p||r>=t||r<0||x&&n>=u}function y(){var e,r,n,o=s();if(v(o))return b(o);f=setTimeout(y,(e=o-p,r=o-h,n=t-e,x?a(n,u-r):n))}function b(e){return(f=void 0,g&&l)?j(e):(l=c=void 0,d)}function w(){var e,r=s(),n=v(r);if(l=arguments,c=this,p=r,n){if(void 0===f)return h=e=p,f=setTimeout(y,t),m?j(e):d;if(x)return clearTimeout(f),f=setTimeout(y,t),j(p)}return void 0===f&&(f=setTimeout(y,t)),d}return t=o(t)||0,n(r)&&(m=!!r.leading,u=(x="maxWait"in r)?i(o(r.maxWait)||0,t):u,g="trailing"in r?!!r.trailing:g),w.cancel=function(){void 0!==f&&clearTimeout(f),h=0,l=p=c=f=void 0},w.flush=function(){return void 0===f?d:b(s())},w}},85365:function(e,t,r){var n=r(73401);e.exports=function(){return n.Date.now()}},89905:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n,s,o,i=r(2346),a=r(99333),l=r(58025),c=r(79746),u=r(19841),d=r(92379),f=r(75172),p=r(62984),h=r(15478),m=r(39358),x=r(16779),g=r(41871),j=r(651);function v(e){let{children:t,className:r,language:n,content:s,shouldWrapCode:o}=e,i=(0,d.useCallback)(()=>{(0,c.v)(s)},[s]),a=(0,f.Z)(),{isWithinDataAnalysisToolMessage:l}=(0,d.useContext)(g.cm);return(0,j.jsx)(b,{title:n,shouldWrapCode:o,headerDecoration:(0,j.jsxs)("div",{className:"flex items-center",children:[l&&(0,j.jsx)(y,{}),(0,j.jsx)(m.Z,{buttonText:a.formatMessage({id:"zIa6ZQ",defaultMessage:"Copy code"}),onCopy:i})]}),codeClassName:r,children:t})}function y(){let e=(0,l.Gt)(),{data:t=!1}=(0,l.R1)(a.sh.ShowExpandedCodeView),r=(0,f.Z)();return(0,j.jsxs)("div",{className:"mr-2 flex items-center gap-2 border-r border-token-border-medium pr-2",children:[(0,j.jsx)("label",{htmlFor:"ada-always-show",children:(0,j.jsx)(p.Z,{defaultMessage:"Always show details",id:"message.tools.codeInterpreter.alwaysShowAnalysis"})}),(0,j.jsx)(x.Z,{id:"ada-always-show",size:"small",onChange:t=>{e.mutate({setting:a.sh.ShowExpandedCodeView,value:t})},enabled:t,label:t?r.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis on",id:"message.tools.codeInterpreter.alwaysShowAnalysis.enabled"}):r.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis off",id:"message.tools.codeInterpreter.alwaysShowAnalysis.disabled"})})]})}function b(e){let{children:t,title:r,headerDecoration:n,shouldWrapCode:s=!1,className:o,codeContainerClassName:i,codeClassName:a}=e;return(0,j.jsxs)(w,{className:o,children:[(null!=r||null!=n)&&(0,j.jsxs)(O,{children:[r&&(0,j.jsx)("span",{children:r}),n]}),(0,j.jsx)(Z,{className:i,children:(0,j.jsx)(k,{$shouldWrap:s,className:a,children:t})})]})}let w=h.Z.div(n||(n=(0,i.Z)(["dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"]))),O=h.Z.div(s||(s=(0,i.Z)(["flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"]))),Z=function(e){let{children:t,className:r}=e;return(0,j.jsx)("div",{className:(0,u.default)("overflow-y-auto p-4",r),dir:"ltr",children:t})},k=h.Z.code(o||(o=(0,i.Z)(["",""])),e=>e.$shouldWrap?"!whitespace-pre-wrap":"!whitespace-pre")},39358:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n,s=r(2346),o=r(98601),i=r(92379),a=r(68306),l=r(62984),c=r(15478),u=r(15174),d=r(30853),f=r(13490),p=r(651);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let x=(0,a.vU)({copy:{id:"CopyButton.copy",defaultMessage:"Copy"},copied:{id:"CopyButton.copied",defaultMessage:"Copied!"}});function g(e){let{buttonText:t,shouldChangeText:r=!0,iconClassName:n="icon-sm",onCopy:s,className:o}=e,{0:a,1:c}=(0,i.useState)(!1),h=(0,u.Z)(),g=(0,i.useCallback)(e=>{e.stopPropagation(),s(),c(!0),setTimeout(()=>{h()&&c(!1)},2e3)},[h,s]),v=t;return r&&a?v=(0,p.jsx)(l.Z,m({},x.copied)):!0===t&&(v=(0,p.jsx)(l.Z,m({},x.copy))),(0,p.jsxs)(p.Fragment,{children:[!a&&(0,p.jsx)(d.u,{label:(0,p.jsx)(l.Z,{id:"CopyButton.copyTooltip",defaultMessage:"Copy"}),sideOffset:0,children:(0,p.jsxs)(j,{onClick:g,className:o,children:[(0,p.jsx)(f.TIy,{className:n}),v]})}),a&&(0,p.jsxs)(j,{className:o,children:[(0,p.jsx)(f.$As,{className:n}),v]})]})}let j=c.Z.button(n||(n=(0,s.Z)(["flex gap-1 items-center"])))},82175:function(e,t,r){"use strict";r.r(t),r.d(t,{FormattedText:function(){return I},UserFormattedText:function(){return D}});var n=r(98601),s=r(52088),o=r(92745),i=r(25009),a=r(99976),l=r(61619),c=r(19841),u=r(99661),d=r(92379),f=r(50895),p=r(2721),h=r(28438),m=r(84760),x=r(89678),g=r.n(x),j=r(30478);async function v(e){let t=await r.e(7635).then(r.t.bind(r,47635,19));if(null!=h.B&&null!=e&&e.startsWith(h.B))return!0;try{let r=t.get(new URL(null!=e?e:"").hostname);if("openai.com"===r)return!0;return!1}catch{return!1}}var y=r(22440),b=r(4777),w=r(651);let O=["node","onClick","clientThreadId","messageId","href"],Z=["src","clientThreadId"],k=["node"],C=["node"];function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let P={},N={};function M(e,t){return function(e,t){var r;let n=(0,o.qN)(r=>null!=e&&null!=t&&o.iN.isThreadUrlSafe(e,t,r)),{data:{safe:s}={}}=(r=n?void 0:t,(0,m.a)({queryKey:["safe-url",{serverThreadId:e,url:r}],queryFn:async()=>{var t;return await v(r)||null!==(t=o.tQ.getThreadSafeUrls(e))&&void 0!==t&&t.includes(r)?{safe:!0}:p.Z.getConversationSafeUrls(e,r,(0,j.YK)())},enabled:null!=e&&null!=r}));return n||s?t:void 0}(e,function(e,t){let{0:r,1:n}=(0,d.useState)(void 0),{0:s}=(0,d.useState)(()=>g()(e=>{n(e)},500));return(0,d.useEffect)(()=>{s(e)},[s,e]),r===e?e:void 0}(t,0))}function W(e){var t;let{node:r,onClick:n,clientThreadId:i,messageId:c,href:u}=e,d=(0,s.Z)(e,O),f=n,p=null==r||null===(t=r.properties)||void 0===t?void 0:t.href,h=M((0,o.XK)(i),u);return null!=c&&"string"==typeof p&&p.includes("/bing/redirect")&&(P[c]||(a.A.logEvent(l.M.browsingShowBingLink,{id:c,content:p}),P[c]=!0),f=e=>{N[c]||(a.A.logEvent(l.M.browsingClickBingLink,{id:c,content:p}),N[c]=!0),null==n||n(e)}),(0,w.jsx)("a",S(S({onClick:f},d),{},{href:h,rel:"noreferrer"}))}function E(e){let{src:t,clientThreadId:r}=e,n=(0,s.Z)(e,Z),i=M((0,o.XK)(r),t);return null==i?(0,w.jsx)("div",{}):(0,w.jsx)("img",S(S({},n),{},{src:i}))}function I(e){let{size:t="medium",children:r,className:n,clientThreadId:a,messageId:l,interpolateCitations:f=!1,componentOverrides:p}=e,{resolvedTheme:h}=(0,u.F)(),m=(0,o.h9)(),x=(0,d.useMemo)(()=>S(S({},b.ff),{},{a:e=>{var t;let{node:r}=e,n=(0,s.Z)(e,k),o=null==r||null===(t=r.properties)||void 0===t?void 0:t.href;return"string"==typeof o&&o.startsWith(y.O6)?m?(0,w.jsx)(y.c7,S({},n)):null!=a&&null!=l?(0,w.jsx)(y.ZP,S(S({},n),{},{clientThreadId:a,messageId:l,href:o})):null:(0,w.jsx)(W,S(S({},e),{},{clientThreadId:a,messageId:l,interpolateCitations:f}))},img:e=>{var t;let{node:r}=e,n=(0,s.Z)(e,C),o=null==r||null===(t=r.properties)||void 0===t?void 0:t.src;return"string"==typeof o&&(o.startsWith(y.O6)||o.startsWith("attachment:"))?null:(0,w.jsx)(E,S(S({},n),{},{clientThreadId:a}))}},p),[a,f,m,l,p]);return(0,w.jsx)(i.S,{name:"formatted_text_error",fallback:()=>(0,w.jsx)(w.Fragment,{children:r}),children:(0,w.jsx)(_,{rehypePlugins:b.Yu,remarkPlugins:b.Hf,className:(0,c.default)(n,"markdown prose w-full break-words dark:prose-invert","dark"===h?"dark":"light","small"===t&&"prose-xs"),urlTransform:b.SQ,components:x,children:r})})}function D(e){let{text:t}=e;return(0,w.jsx)(i.S,{name:"formatted_text_error",fallback:()=>(0,w.jsx)(w.Fragment,{children:t}),children:(0,w.jsx)(F,{text:t})})}let F=e=>{let{text:t}=e,r=t.split(/(```[\s\S]*?```|`[^`\n]+`|```[\s\S]*|`[^`\n]*\n|`[^`\n]*$)/g).map((e,t)=>e.startsWith("```")&&e.endsWith("```")?(0,w.jsx)("pre",{className:"overflow-x-auto",children:(0,w.jsx)("code",{children:e.slice(3,-3).trim()})},t):e.startsWith("```")?(0,w.jsx)("pre",{className:"overflow-x-auto",children:(0,w.jsx)("code",{children:e.slice(3).trim()})},t):e.startsWith("`")&&e.endsWith("`")?(0,w.jsx)("code",{children:e.slice(1,-1)},t):e.startsWith("`")?(0,w.jsx)("code",{children:e.slice(1)},t):e);return(0,w.jsx)("div",{children:r})},_=(0,d.memo)(f.U)},15174:function(e,t,r){"use strict";var n=r(92379);t.Z=function(){let e=(0,n.useRef)(!1);return(0,n.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),(0,n.useCallback)(()=>e.current,[])}}}]);
//# sourceMappingURL=2103.b16ff3829c830d69.js.map