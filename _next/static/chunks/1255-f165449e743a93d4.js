"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1255],{41854:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(94521),s=r(17379),i=r(19841),a=r(651);let o=["className"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){let{className:t}=e,r=(0,s.Z)(e,o);return(0,a.jsx)("textarea",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:(0,i.default)("form-textarea w-full rounded-lg border border-token-border-light bg-token-main-surface-secondary text-sm text-token-text-primary focus:border-token-text-primary focus:shadow-none focus:outline-none focus:ring-token-text-primary",t)},r))}},81816:function(e,t,r){r.d(t,{C:function(){return s}});var n=r(4702);function s(e){var t,r;let s=(0,n.hz)();return!(null===(t=(0,n.t)())||void 0===t?void 0:t.isWorkspaceAccount())||null!==(r=null==s?void 0:s.includes(e))&&void 0!==r&&r}},2915:function(e,t,r){r.d(t,{N:function(){return o}});var n=r(82823),s=r(71126),i=r.n(s),a=r(651);function o(e){let{gizmo:t}=e,r=(0,n.uy)(t.gizmo.display.name);return(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:r}),(0,a.jsx)("meta",{name:"title",content:r},"title"),(0,a.jsx)("meta",{property:"og:site_name",content:"ChatGPT"},"og:site_name"),(0,a.jsx)("meta",{property:"og:type",content:"website"},"og:type"),(0,a.jsx)("meta",{property:"og:title",content:r},"og:title"),(0,a.jsx)("meta",{property:"og:url",content:(0,n.i6)(t)},"og:url"),t.gizmo.display.description&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("meta",{name:"description",content:t.gizmo.display.description},"description"),(0,a.jsx)("meta",{property:"og:description",content:t.gizmo.display.description},"og:description")]}),t.gizmo.display.profile_picture_url&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("meta",{property:"og:image",content:t.gizmo.display.profile_picture_url},"og:image"),(0,a.jsx)("meta",{property:"og:image:width",content:"512"},"og:image:width"),(0,a.jsx)("meta",{property:"og:image:height",content:"512"},"og:image:height")]})]})}},46868:function(e,t,r){r.d(t,{X:function(){return x},r:function(){return f}});var n=r(83252),s=r(16645),i=r(98506),a=r(19841),o=r(51469),l=r(73746),d=r(32241),u=r(15133),c=r(61885),m=r(75438),g=r(651);function f(e){let{gizmo:t,hideOwner:r=!1,children:n,className:s,avatarClassName:i,showStarterPrompts:o=!1}=e;return null==t?null:(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:(0,a.default)("flex h-full flex-col items-center justify-center text-token-text-primary",s),children:[(0,g.jsx)(x,{gizmo:t,avatarClassName:i}),(0,g.jsx)(v,{gizmo:t,hideOwner:r,showStarterPrompts:o}),n]})})}function x(e){var t;let{gizmo:r,avatarClassName:i}=e,o=!!(null!=r&&(0,m.S9)(r)&&(null==r||null===(t=r.gizmo.tags)||void 0===t?void 0:t.includes(s.U9.FirstParty)));return(0,g.jsx)("div",{className:"relative",children:(0,g.jsx)(n.Z,{isFirstParty:o||!r,src:null!=r&&(0,m.WQ)(r)?r.profilePictureUrl:null==r?void 0:r.gizmo.display.profile_picture_url,className:(0,a.default)("mb-3 h-12 w-12",i)})})}function p(e){let{gizmo:t}=e,r=(0,u.O)(t),n=(0,d.fZ)(),s=(0,i.BL)();if(null==r||0===r.length)return null;let a=r.slice(0,s?2:4);return(0,g.jsx)(o.xY,{starterPrompts:a,onSelectStarterPrompt:n})}function v(e){let{gizmo:t,hideOwner:r,showStarterPrompts:n}=e,s=(0,l.Qr)(),i=null!=t&&(0,m.WQ)(t)?t.name:null==t?void 0:t.gizmo.display.name,a=null!=t&&(0,m.WQ)(t)?t.description:null==t?void 0:t.gizmo.display.description;return(0,g.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,g.jsx)("div",{className:"text-center text-2xl font-semibold",children:i}),!r&&(0,g.jsx)("div",{className:"flex items-center gap-1 text-token-text-tertiary",children:(0,g.jsx)(g.Fragment,{children:t&&(0,m.WQ)(t)?(0,g.jsx)(c.Z,{gizmo:t}):(0,g.jsx)(c.Z,{gizmo:t,socials:t.gizmo.author.display_socials})})}),a&&(0,g.jsx)("div",{className:"max-w-md text-center text-sm font-normal text-token-text-primary",children:a}),s&&n&&(0,g.jsx)(p,{gizmo:t})]})}},70410:function(e,t,r){r.d(t,{H:function(){return z}});var n=r(94521),s=r(5443),i=r(41854),a=r(49217),o=r(56029),l=r(94982),d=r(55371),u=r(24040),c=r(14816),m=r(93747),g=r(15236),f=r(19841),x=r(92379),p=r(26123),v=r(72256),h=r(25940),j=r(62484),b=r(82823),y=r(81412),w=r(16645),O=r(651);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let z=e=>{let{rating:t,onRating:r,className:n}=e,{0:s,1:i}=(0,x.useState)(),a=(0,p.Z)();return(0,O.jsx)("div",{className:(0,f.default)("flex flex-row",n),children:[1,2,3,4,5].map(e=>{var n;let o=(0,O.jsx)(y.p$,{className:(0,f.default)("icon-2xl cursor-pointer",(null!==(n=null!=s?s:t)&&void 0!==n?n:0)>=e?function(e,t){var r;let n=null!==(r=null!=e?e:t)&&void 0!==r?r:0;return(0,f.default)(null!=e&&e!=t&&"opacity-50 dark:opacity-60",n>4?"text-brand-purple":n>3?"text-green-500":n>2?"text-yellow-500":n>1?"text-orange-500":"text-red-500")}(s,t):"text-token-main-surface-tertiary")}),l=function(e){switch(e){case 1:return N.hoverRating1;case 2:return N.hoverRating2;case 3:return N.hoverRating3;case 4:return N.hoverRating4;case 5:return N.hoverRating5}}(null!=s?s:0),d=l&&a.formatMessage(l);return(0,O.jsx)("div",{onClick:()=>{r(e)},onMouseEnter:()=>{i(e)},onMouseLeave:()=>{i(void 0)},className:"p-1",children:l?(0,O.jsx)(j.u,{label:d,side:"top",sideOffset:4,children:o}):o},e)})})},R=e=>{var t,r,n;let{gizmo:h}=e,y=(0,u.aF)(),M=()=>d.vm.closeModal(d.B.GPTReview),R=(0,p.Z)(),{0:_,1:P}=(0,x.useState)(""),{0:Z,1:C}=(0,x.useState)(!1),E=(n=h.gizmo.id,(0,c.a)({queryFn:async()=>o.U.getUserReview(n),queryKey:["gizmo","review",{gizmoId:n}],enabled:null!=n})),S=(0,b.K7)(h.gizmo.id),{0:F,1:G}=(0,x.useState)(),D=F===(null===(t=E.data)||void 0===t?void 0:t.rating);(0,x.useEffect)(()=>{null!=E.data&&null==F&&G(E.data.rating)},[E.data,F]),(0,x.useEffect)(()=>{m.A.logEvent(g.M.showRatingModal,{gizmo_id:h.gizmo.id})},[h.gizmo.id]);let T=null!=E.data,U=!(null!==(r=h.gizmo.tags)&&void 0!==r&&r.includes(w.U9.FirstParty))&&h.gizmo.author.will_receive_support_emails;return(0,O.jsx)(a.Z,{type:"success",title:(0,O.jsxs)("div",{children:[(0,O.jsx)(v.Z,k({},N.title)),(0,O.jsxs)("div",{className:"align-end mt-2 flex text-sm font-normal",children:[T?(0,O.jsx)(v.Z,k({},N.subtitleChange)):(0,O.jsx)(v.Z,k({},N.subtitle)),(0,O.jsx)(j.u,{label:R.formatMessage(N.subtitleTooltip),className:"ml-1 flex cursor-pointer items-center pl-1",sideOffset:0,children:(0,O.jsx)("div",{className:"icon-xs flex items-center justify-center rounded-full border border-token-text-tertiary text-[8px] font-bold text-token-text-tertiary",children:"i"})})]})]}),isOpen:!0,onClose:M,size:"custom",showCloseButton:!0,className:"max-w-xl overflow-y-auto",hideSeparator:!0,children:(0,O.jsxs)("div",{className:"flex flex-grow flex-col space-y-8",children:[(0,O.jsx)(z,{rating:F,onRating:G,className:"mx-auto flex flex-row items-center"}),U&&(0,O.jsxs)("div",{children:[(0,O.jsx)(i.Z,{className:"mb-1 w-full resize-none overflow-y-auto rounded-md bg-transparent focus:border-gray-200 focus:ring-gray-200 dark:focus:border-white dark:focus:ring-white",placeholder:R.formatMessage(N.messagePlaceholder),value:_,rows:1,onChange:e=>P(e.target.value)}),(0,O.jsxs)("div",{className:(0,f.default)("flex flex-row items-center space-x-2 self-start",_.length>0?"text-token-text-primary":"text-token-text-tertiary"),children:[(0,O.jsx)("input",{type:"checkbox",className:"rounded",checked:Z,onChange:e=>C(e.target.checked)}),y&&(0,O.jsx)("span",{className:"text-sm",children:(0,O.jsx)(v.Z,k(k({},N.includeFrom),{},{values:{email:(0,O.jsx)("strong",{children:y.email})}}))})]})]}),(0,O.jsx)(s.z,{color:"primary",disabled:D,onClick:async()=>{if(null==F){l.m.warning("Please select a rating");return}m.A.logEvent(g.M.submitRatingModal,{gizmo_id:h.gizmo.id,rating:F}),await S.mutateAsync({rating:F,message:_.length>0?_:void 0,includeFrom:_.length>0?Z:void 0}),l.m.success(R.formatMessage(N.successToast),{duration:3}),M()},children:(0,O.jsx)(v.Z,k({},N.submit))})]})})},N=(0,h.vU)({title:{id:"GizmoReviewModal.title",defaultMessage:"Leave Feedback"},subtitle:{id:"GizmoReviewModal.subtitle",defaultMessage:"How would you rate this GPT?"},subtitleChange:{id:"GizmoReviewModal.subtitleChange",defaultMessage:"Would you like to change your rating?"},subtitleTooltip:{id:"GizmoReviewModal.subtitleTooltip",defaultMessage:"Stars will be public and anonymous"},messagePlaceholder:{id:"GizmoReviewModal.messagePlaceholder",defaultMessage:"Add an optional private email to the creator"},submit:{id:"GizmoReviewModal.submit",defaultMessage:"Submit"},successToast:{id:"GizmoReviewModal.successToast",defaultMessage:"Review sent"},includeFrom:{id:"GizmoReviewModal.includeFrom",defaultMessage:"Include my email address {email}"},hoverRating1:{id:"GizmoReviewModal.hoverRating1",defaultMessage:"Bad"},hoverRating2:{id:"GizmoReviewModal.hoverRating2",defaultMessage:"Okay"},hoverRating3:{id:"GizmoReviewModal.hoverRating3",defaultMessage:"Good"},hoverRating4:{id:"GizmoReviewModal.hoverRating4",defaultMessage:"Great!"},hoverRating5:{id:"GizmoReviewModal.hoverRating5",defaultMessage:"Excellent!"}});t.Z=e=>{let{gizmo:t}=e;return(0,d.EV)(d.B.GPTReview)?(0,O.jsx)(R,{gizmo:t}):null}},80006:function(e,t,r){r.d(t,{p:function(){return a}});var n=r(5443),s=r(93747),i=r(651);function a(e){let{href:t,children:r,onClickTrackingEventName:a,onClick:o}=e;return(0,i.jsx)(n.z,{as:"link",to:t,onClick:function(){a&&s.A.logEvent(a),null==o||o()},size:"giant",children:r})}},7050:function(e,t,r){r.d(t,{E:function(){return f},c:function(){return g}});var n=r(21904),s=r(11181),i=r(55371),a=r(23653),o=r(48580),l=r(92379),d=r(26123),u=r(94982),c=r(70604),m=r(651);function g(e){var t;let{serverThreadId:r,clientThreadId:n,isStaticSharedThread:a}=e,c=(0,i.EV)(i.B.ReportConversation),g=(null===(t=(0,o.sB)("conversations_are_reportable"))||void 0===t?void 0:t.value)||a,x=(0,s.XK)(n),p=null!=r?r:x,v=(0,d.Z)();return((0,l.useEffect)(()=>{null==p&&c&&g&&(u.m.danger(v.formatMessage({id:"gizmo.report.conversationModal.emptyConversationError",defaultMessage:"Empty conversations cannot be reported"})),i.vm.closeModal(i.B.ReportConversation))},[p,c,g,v]),c&&g&&null!=p)?(0,m.jsx)(f,{serverThreadId:p,onClose:()=>i.vm.closeModal(i.B.ReportConversation),isStaticSharedThread:a}):null}function f(e){let{serverThreadId:t,onClose:r,isStaticSharedThread:s}=e,{data:i}=(0,a.sQ)(s?n.CD.ShareableConversation:n.CD.Conversation),o=(0,d.Z)(),l=(0,a.gm)(o,t,s?n.CD.ShareableConversation:n.CD.Conversation);return null==i||null==t?null:(0,m.jsx)(c.UM,{reasons:i.reasons,submitReport:l,title:o.formatMessage({id:"gizmo.report.conversationModal.title",defaultMessage:"Report a conversation"}),onClose:r,header:i.header,subHeader:i.header_explanation})}},70604:function(e,t,r){r.d(t,{Ag:function(){return w},Rh:function(){return k},UM:function(){return _},_4:function(){return y}});var n,s,i,a,o=r(41141),l=r(21904),d=r(23653),u=r(44529),c=r(92379),m=r(72256),g=r(26123),f=r(74091),x=r(5443),p=r(65530),v=r(41854),h=r(33481),j=r(49217),b=r(651);let y=f.Z.div(n||(n=(0,o.Z)(["divide-y overflow-hidden rounded-md border border-token-border-medium"]))),w=f.Z.button(s||(s=(0,o.Z)(["w-full border-token-border-medium p-2 text-left text-sm hover:bg-token-main-surface-secondary"]))),O=f.Z.div(i||(i=(0,o.Z)(["text-sm font-semibold"]))),M=f.Z.div(a||(a=(0,o.Z)(["text-sm text-token-text-secondary"])));function k(e){let{header:t,subHeader:r}=e;return null==t&&null==r?null:(0,b.jsxs)("div",{className:"mb-4",children:[null!=t&&(0,b.jsx)(O,{children:t}),null!=r&&(0,b.jsx)(M,{children:r})]})}function z(e){let{reasons:t,onSelectReason:r}=e;return(0,b.jsx)(y,{children:t.map(e=>(0,b.jsx)(w,{onClick:()=>{r(e)},children:e.cta},e.id))})}function R(e){var t,r;let{reason:n,submitReport:s}=e,{0:i,1:a}=(0,c.useState)(""),{0:o,1:d}=(0,c.useState)(""),{0:u,1:g}=(0,c.useState)(""),f=null===(t=n.additional_fields)||void 0===t?void 0:t.map(e=>e.id),h=null==f?void 0:f.includes(l.kg.UserName),j=null==f?void 0:f.includes(l.kg.UserEmail),y=h||j;return(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[y&&(0,b.jsxs)("div",{className:"flex flex-col gap-4 text-sm",children:[h&&(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)(m.Z,{id:"report.loggedOut.name",defaultMessage:"Your name"}),(0,b.jsx)(p.Z,{name:"name",type:"text",value:o,onChange:e=>d(e.target.value)})]}),j&&(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)(m.Z,{id:"report.loggedOut.email",defaultMessage:"Your email address"}),(0,b.jsx)(p.Z,{name:"email",type:"email",value:u,onChange:e=>g(e.target.value)})]})]}),(0,b.jsx)(v.Z,{value:i,onChange:e=>a(e.target.value),placeholder:null!==(r=n.details_placeholder)&&void 0!==r?r:void 0,autoFocus:!0,className:"!bg-token-main-surface-primary"}),null!=n.subtext&&(0,b.jsx)("div",{className:"text-sm text-token-text-secondary",children:n.subtext}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)(x.z,{onClick:()=>{let e;y&&(e={},h&&(e.user_name=o),j&&(e.user_email=u)),s.mutateAsync({reason:{id:n.id,details:i},additional_fields_values:e})},disabled:s.isPending,children:(0,b.jsx)(m.Z,{id:"report.submitReport",defaultMessage:"Submit"})})})]})}function N(e){let{reason:t}=e;return(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("div",{className:"mb-2",children:t.link_explanation}),null!=t.link_attachment&&(0,b.jsx)("div",{children:(0,b.jsx)("a",{href:t.link_attachment,target:"_blank",rel:"noreferrer",className:"break-words underline",children:t.link_attachment})})]})}function _(e){var t,r,n,s,i,a,o;let l,m;let{reasons:f,submitReport:x,title:p,onClose:v,header:y,subHeader:w}=e,{0:O,1:M}=(0,c.useState)([]),_=(0,g.Z)(),P=f;for(let e of O)P=null!==(i=null===(a=l=P.find(t=>t.id===e))||void 0===a?void 0:a.sub_reasons)&&void 0!==i?i:[];let Z=null!=l&&(0,b.jsx)("div",{className:"mb-2 flex gap-1 text-sm",children:(0,b.jsxs)("button",{onClick:()=>{M(e=>e.slice(0,-1))},className:"flex items-center gap-2 p-1",children:[(0,b.jsx)(h.DUf,{className:"icon-sm"}),(0,b.jsx)("div",{children:l.cta})]})}),C=(null===(t=l)||void 0===t?void 0:t.subtext)!=null&&(0,b.jsx)("div",{className:"text-sm text-token-text-secondary",children:l.subtext}),E=_.formatMessage({id:"report.submittedModal.header",defaultMessage:"Report submitted"}),S=_.formatMessage({id:"report.submittedModal.subHeader",defaultMessage:"You report has been submitted. Thank you for letting us know about this issue."});return x.isSuccess?m=(0,b.jsx)(k,{header:E,subHeader:S}):(null===(r=l)||void 0===r?void 0:r.details_placeholder)!=null?m=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k,{header:y,subHeader:w}),Z,(0,b.jsx)(R,{reason:l,submitReport:x})]}):(null===(n=l)||void 0===n?void 0:n.link_attachment)!=null?m=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k,{header:y,subHeader:w}),Z,(0,b.jsx)(N,{reason:l}),C]}):P.length>0?m=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k,{header:y,subHeader:w}),Z,P.length>0&&(0,b.jsx)(z,{reasons:P,onSelectReason:async e=>{(0,d.bx)(e)?x.mutateAsync({reason:{id:e.id}}):M(t=>[...t,e.id])}}),C]}):(null===(s=l)||void 0===s?void 0:s.subtext)!=null?m=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k,{header:y,subHeader:w}),Z,(0,b.jsx)("div",{className:"text-sm",children:null===(o=l)||void 0===o?void 0:o.subtext})]}):(u.U.addError("Reporting: arrived at empty leaf reason",l),m=(0,b.jsx)(k,{header:E,subHeader:S})),(0,b.jsx)(j.Z,{title:p,onClose:v,isOpen:!0,showCloseButton:!0,type:"success",children:m})}},23653:function(e,t,r){r.d(t,{bx:function(){return c},gm:function(){return m},sQ:function(){return g}});var n=r(94521),s=r(94982),i=r(93223),a=r(96053),o=r(14816),l=r(44529);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e){return 0===e.sub_reasons.length&&null==e.details_placeholder&&null==e.link_attachment&&null==e.subtext}function m(e,t,r){return(0,a.D)({mutationFn:e=>i.Z.postReport(u(u({},e),{},{entity_type:r,entity_id:t})),onError:n=>{l.U.addError(Error("Error occurred while reporting",{cause:n}),{entityType:r,id:t}),s.m.danger(e.formatMessage({id:"report.submitError",defaultMessage:"Error reporting: {detail}"},{detail:n.message}))}})}function g(e){return(0,o.a)({queryKey:["reportReasons",{entityType:e}],queryFn:()=>i.Z.getReportReasons(e)})}}}]);
//# sourceMappingURL=1255-f165449e743a93d4.js.map