"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5553],{48268:function(e,t,n){n.d(t,{U:function(){return l}});var r=n(24312),i=n(16602),s=n(8025);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let l={filePickerStarted:e=>{i.A.logEvent(s.M.contextConnectorsPickerStarted,{contextConnector:e})},filePickerLoaded:e=>{i.A.logEvent(s.M.contextConnectorsPickerLoaded,{contextConnector:e})},filePickerPicked:(e,t)=>{i.A.logEvent(s.M.contextConnectorsPickerPicked,{contextConnector:e,numFiles:t})},filePickerCancelled:e=>{i.A.logEvent(s.M.contextConnectorsPickerCancelled,{contextConnector:e})},linkPasted:e=>{i.A.logEvent(s.M.contextConnectorsLinkPasted,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))}}},48907:function(e,t,n){n.d(t,{$:function(){return o},V:function(){return l}});var r=n(95312),i=n(82920),s=n(651);function o(e,t){switch(e){case r.PO.GDRIVE_SYNC_CONNECTOR:case r.PO.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case r.PO.O365:case r.PO.O365_PERSONAL:case r.PO.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}}(0,i.ZP)(e)}function l(e){let{contextConnector:t,extension:n}=e;return(0,s.jsx)(s.Fragment,{children:o(t,n)})}},37938:function(e,t,n){var r;n.d(t,{D6:function(){return o},JO:function(){return s},XS:function(){return a},dQ:function(){return i},eA:function(){return l}});let i="77377267392",s="AIzaSyAOHzpLbFWAcLwrOn1IvQeVd0jHRntTlPk",o="203712390664",l="AIzaSyCECDrDXDU460DD1WTHtz8jSkyuGjgsI8w",a=((r={}).OneDrive_BUSINESS_DRIVE_ITEMS="https://graph.microsoft.com/v1.0/me/drive/items",r.OneDrive_BUSINESS_DRIVE_ROOT="https://graph.microsoft.com/v1.0/me/drive/root",r.OneDrive_PERSONAL_DRIVE_ITEMS="https://api.onedrive.com/v1.0/drives",r)},12932:function(e,t,n){n.d(t,{X:function(){return s}});var r=n(37938);let i=null;function s(e){return null==i&&(i=new Promise((e,t)=>{let n=document.createElement("script");n.src="https://apis.google.com/js/api.js",n.onload=e,n.onerror=t,document.documentElement.appendChild(n)}).then(()=>Promise.all([new Promise(e=>gapi.load("client",e)),new Promise(e=>gapi.load("client:picker",e))])).then(()=>(gapi.client.setToken({access_token:e}),gapi.client.init({apiKey:r.JO,scope:"https://www.googleapis.com/auth/drive.file",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]})))),i}},55136:function(e,t,n){n.d(t,{j:function(){return a}});var r=n(95312),i=n(48268),s=n(40758),o=n(37938),l=n(12932);async function a(e,t,n,a){async function d(e){switch(e.action){case google.picker.Action.PICKED:i.U.filePickerPicked(r.PO.GDRIVE,e.docs.length),a(e.docs.map(e=>({connector:t,id:e.id,title:e.name,mimeType:e.mimeType,url:e.url,syntheticExtension:"document"===e.type?(0,s.I)(e.mimeType):null})));break;case google.picker.Action.CANCEL:i.U.filePickerCancelled(r.PO.GDRIVE);return;case"loaded":i.U.filePickerLoaded(r.PO.GDRIVE);return}}await (0,l.X)(n);let u=new google.picker.DocsView(google.picker.ViewId.DOCS).setIncludeFolders(!0).setSelectFolderEnabled(t===r.PO.GDRIVE_SYNC_CONNECTOR).setMode(google.picker.DocsViewMode.LIST);t===r.PO.GDRIVE_SYNC_CONNECTOR&&u.setMimeTypes("application/vnd.google-apps.folder");let p="en";c.includes(e)?p=e:c.includes(e.split("-")[0])&&(p=e.split("-")[0]);let f=new google.picker.PickerBuilder().enableFeature(google.picker.Feature.MULTISELECT_ENABLED).enableFeature(google.picker.Feature.SUPPORT_DRIVES).setDeveloperKey(t===r.PO.GDRIVE_SYNC_CONNECTOR?o.eA:o.JO).setAppId(t===r.PO.GDRIVE_SYNC_CONNECTOR?o.D6:o.dQ).setOAuthToken(n).addView(u).setCallback(d).setLocale(p).build();i.U.filePickerStarted(r.PO.GDRIVE),f.setVisible(!0);let m=function(){var e;let t=null!==(e=window.document.body.querySelector("div.picker-dialog-bg"))&&void 0!==e?e:window.document.body.querySelector("div.oai-picker-dialog-bg");return null==t||t.classList.add("oai-picker-dialog-bg","bg-black/50","dark:bg-black/80","absolute","inset-0","z-[1000]"),null==t||t.classList.remove("picker-dialog-bg"),t}(),h=()=>{i.U.filePickerCancelled(r.PO.GDRIVE),f.setVisible(!1),null==m||m.removeEventListener("click",h)};null==m||m.addEventListener("click",h)}let c=["af","am","ar","bg","bn","ca","cs","da","de","el","en","en-GB","es","es-419","et","eu","fa","fi","fil","fr","fr-CA","gl","gu","hi","hr","hu","id","is","it","iw","ja","kn","ko","lt","lv","ml","mr","ms","nl","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","sw","ta","te","th","tr","uk","ur","vi","zh-CN","zh-HK","zh-TW","zu"]},9690:function(e,t,n){n.d(t,{l:function(){return u}});var r=n(21292),i=n(79931);n(34470);var s=n(19841),o=n(92379),l=n(88041),a=n(94695),c=n(29757),d=n(651);function u(e){let t=(0,l.Z)(),{0:n,1:a}=(0,o.useState)({width:0,height:0}),u=n.width/n.height,f=n.width>0&&n.height>0;return(0,o.useEffect)(()=>{if(!e.src)throw Error("ExpandableImage requires a src");let t=new Image;t.onload=()=>{a({width:t.naturalWidth,height:t.naturalHeight})},t.onerror=()=>{},t.src=e.src},[e.src]),(0,d.jsxs)(i.fC,{children:[(0,d.jsx)(i.xz,{className:e.className,disabled:!f,children:e.children}),(0,d.jsx)(i.h_,{children:(0,d.jsxs)(i.aV,{className:"fixed inset-0 flex items-center justify-center overflow-hidden bg-black/90 radix-state-open:animate-show dark:bg-black/80",children:[(0,d.jsx)(i.x8,{asChild:!0,children:(0,d.jsx)("button",{className:"absolute right-4 top-4",children:(0,d.jsx)(c.tPq,{className:"h-5 w-5 text-gray-100"})})}),(0,d.jsxs)(i.VY,{className:"shadow-xl focus:outline-none radix-state-open:animate-contentShow",children:[(0,d.jsx)("div",{className:(0,s.default)("relative max-h-[85vh] max-w-[90vw]"),style:{aspectRatio:u},children:(0,d.jsx)("img",{src:e.src,alt:e.alt,className:"h-full w-full object-contain"})}),e.contextConnectorSourceUrl&&(0,d.jsx)("div",{className:"absolute right-14 top-4",children:(0,d.jsx)(r.u,{label:t.formatMessage(p.openOriginal),children:(0,d.jsx)("a",{href:e.contextConnectorSourceUrl,target:"_blank",children:(0,d.jsx)(c.ReP,{className:"h-5 w-5 rotate-180 text-gray-100"})})})})]})]})})]})}let p=(0,a.vU)({openOriginal:{id:"ExpandableImage.openOriginal",defaultMessage:"Open original image"}})},50797:function(e,t,n){n.d(t,{Sv:function(){return L},UJ:function(){return M},ZP:function(){return D}});var r,i=n(81669),s=n(24312),o=n(10454),l=n(16602),a=n(8025),c=n(92379),d=n(72349),u=n(94695),p=n(88041),f=n(84551),m=n(74091),h=n(21633),g=n(43446),x=n(72169),j=n(64800),v=n(30279),b=n(79626),y=n(76762),k=n(80005),w=n(48687),P=n(13400),O=n(651);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let T=(0,u.vU)({dragInstructions:{id:"FileDropZone.dragInstructions",defaultMessage:"Add anything"},dragAllAccepted:{id:"FileDropZone.dragAllAccepted",defaultMessage:"Drop any file here to add it to the conversation"}});function D(e){var t;let{className:n,children:r,clientThreadId:i,currentModelConfig:s}=e,l=(0,p.Z)(),a=(0,x.W)(i),c=(0,P.YN)(s,a),u=c!==y.AJ.None,m=(0,w.gF)(e=>e.files),g=(c===y.AJ.Multimodal?b.Ql:b.dO)-m.length,{getGizmoId:v}=(0,h.Q)(),{handleFileAccepted:k}=L(l,(0,P.YN)(s,a),(0,P.p0)(s,a),"drag",v,null===(t=(0,P.ww)(s,a))||void 0===t?void 0:t.attachments),C=(0,o.TX)(),D=(0,P.Z8)((0,P.Zp)(s,a)),{getRootProps:S,isDragActive:_}=(0,d.uI)(N({maxFiles:g,disabled:!u||g<=0||null!=C,noClick:!0,onDropAccepted:k,onDropRejected:e=>M(e,l,c),multiple:!0,maxSize:b.xC},D)),I=function(){if(!D.accept||0===Object.keys(D.accept).length)return[];let e=[];return Object.values(D.accept).forEach(t=>e.push(...t)),e.sort()}();return(0,O.jsxs)("div",N(N({},S({className:n})),{},{children:[r,_&&(0,O.jsxs)(E,{children:[(0,O.jsx)(j.Fk,{}),(0,O.jsx)("h3",{children:(0,O.jsx)(f.Z,N({},T.dragInstructions))}),(0,O.jsx)("h4",{className:"w-2/3 text-center",children:I.length>0?I.join(", "):(0,O.jsx)(f.Z,N({},T.dragAllAccepted))})]})]}))}function M(e,t,n){let{errors:r}=e[0];r.forEach(e=>{let r=(0,v.s)(e);"string"==typeof r?g.m.danger(r,{hasCloseButton:!0}):g.m.danger(t.formatMessage(r,{size:b.EZ,maxNum:n===y.AJ.Multimodal?b.Ql:b.dO}),{hasCloseButton:!0})})}function L(e,t,n,r,i,s){return{handleFileAccepted:(0,c.useCallback)(async(o,c)=>{l.A.logEvent(a.M.uploadFile,{client:"web",eventSource:r,intent:t.toString()});let d=null!=i?await i():void 0;o.length>0&&o.forEach(r=>{w.Dw.uploadFile((0,k.W7)(r),r,t,n,e,{gizmoId:d},s)})},[r,t,i,n,e,s])}}let E=m.Z.div(r||(r=(0,i.Z)(["absolute inset-0 opacity-80 flex gap-2 flex-col justify-center items-center bg-token-main-surface-primary text-token-text-primary"])))},64800:function(e,t,n){n.d(t,{Fk:function(){return s},LO:function(){return c},N:function(){return a},OD:function(){return o},pC:function(){return d},tf:function(){return l},yc:function(){return u}});var r=n(52337),i=n(651);let s=e=>{let{className:t}=e;return(0,i.jsxs)(r.A0,{width:"132",height:"108",viewBox:"0 0 132 108",fill:"none",className:t,children:[(0,i.jsx)("g",{clipPath:"url(#clip0_3605_64419)",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.2025 29.3514C10.778 33.2165 8.51524 37.1357 11.8281 49.4995L13.4846 55.6814C16.7975 68.0453 20.7166 70.308 35.1411 66.443L43.3837 64.2344C57.8082 60.3694 60.0709 56.4502 56.758 44.0864L55.1016 37.9044C51.7887 25.5406 47.8695 23.2778 33.445 27.1428L29.3237 28.2471L25.2025 29.3514ZM18.1944 42.7244C18.8572 41.5764 20.325 41.1831 21.4729 41.8459L27.3517 45.24C28.4996 45.9027 28.8929 47.3706 28.2301 48.5185L24.836 54.3972C24.1733 55.5451 22.7054 55.9384 21.5575 55.2757C20.4096 54.613 20.0163 53.1451 20.6791 51.9972L22.8732 48.1969L19.0729 46.0028C17.925 45.3401 17.5317 43.8723 18.1944 42.7244ZM29.4091 56.3843C29.066 55.104 29.8258 53.7879 31.1062 53.4449L40.3791 50.9602C41.6594 50.6172 42.9754 51.377 43.3184 52.6573C43.6615 53.9376 42.9017 55.2536 41.6214 55.5967L32.3485 58.0813C31.0682 58.4244 29.7522 57.6646 29.4091 56.3843Z",fill:"#AFC1FF"})}),(0,i.jsx)("g",{clipPath:"url(#clip1_3605_64419)",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86.8124 13.4036C81.0973 11.8722 78.5673 13.2649 77.0144 19.0603L68.7322 49.97C67.1793 55.7656 68.5935 58.2151 74.4696 59.7895L97.4908 65.958C103.367 67.5326 105.816 66.1184 107.406 60.1848L115.393 30.379C115.536 29.8456 115.217 29.2959 114.681 29.16C113.478 28.8544 112.435 28.6195 111.542 28.4183C106.243 27.2253 106.22 27.2201 109.449 20.7159C109.73 20.1507 109.426 19.4638 108.816 19.3004L86.8124 13.4036ZM87.2582 28.4311C86.234 28.1567 85.1812 28.7645 84.9067 29.7888C84.6323 30.813 85.2401 31.8658 86.2644 32.1403L101.101 36.1158C102.125 36.3902 103.178 35.7824 103.453 34.7581C103.727 33.7339 103.119 32.681 102.095 32.4066L87.2582 28.4311ZM82.9189 37.2074C83.1934 36.1831 84.2462 35.5753 85.2704 35.8497L100.107 39.8252C101.131 40.0996 101.739 41.1524 101.465 42.1767C101.19 43.201 100.137 43.8088 99.1132 43.5343L84.2766 39.5589C83.2523 39.2844 82.6445 38.2316 82.9189 37.2074ZM83.2826 43.2683C82.2584 42.9939 81.2056 43.6017 80.9311 44.626C80.6567 45.6502 81.2645 46.703 82.2888 46.9775L89.7071 48.9652C90.7313 49.2396 91.7841 48.6318 92.0586 47.6076C92.333 46.5833 91.7252 45.5305 90.7009 45.256L83.2826 43.2683Z",fill:"#7989FF"})}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.4004 71.8426C40.4004 57.2141 44.0575 53.5569 61.1242 53.5569H66.0004H70.8766C87.9432 53.5569 91.6004 57.2141 91.6004 71.8426V79.1569C91.6004 93.7855 87.9432 97.4426 70.8766 97.4426H61.1242C44.0575 97.4426 40.4004 93.7855 40.4004 79.1569V71.8426ZM78.8002 67.4995C78.8002 70.1504 76.6512 72.2995 74.0002 72.2995C71.3492 72.2995 69.2002 70.1504 69.2002 67.4995C69.2002 64.8485 71.3492 62.6995 74.0002 62.6995C76.6512 62.6995 78.8002 64.8485 78.8002 67.4995ZM60.7204 70.8597C60.2672 70.2553 59.5559 69.8997 58.8004 69.8997C58.045 69.8997 57.3337 70.2553 56.8804 70.8597L47.2804 83.6597C46.4851 84.72 46.7 86.2244 47.7604 87.0197C48.8208 87.8149 50.3251 87.6 51.1204 86.5397L58.8004 76.2997L66.4804 86.5397C66.8979 87.0962 67.5363 87.4443 68.2303 87.4936C68.9243 87.5429 69.6055 87.2887 70.0975 86.7967L74.8004 82.0938L79.5034 86.7967C80.4406 87.734 81.9602 87.734 82.8975 86.7967C83.8347 85.8595 83.8347 84.3399 82.8975 83.4026L76.4975 77.0026C75.5602 76.0653 74.0406 76.0653 73.1034 77.0026L68.6601 81.4459L60.7204 70.8597Z",fill:"#3C46FF"}),(0,i.jsxs)("defs",{children:[(0,i.jsx)("clipPath",{id:"clip0_3605_64419",children:(0,i.jsx)("rect",{width:"56",height:"56",fill:"white",transform:"translate(0 26.9939) rotate(-15)"})}),(0,i.jsx)("clipPath",{id:"clip1_3605_64419",children:(0,i.jsx)("rect",{width:"64",height:"64",fill:"white",transform:"translate(69.5645 0.5) rotate(15)"})})]})]})},o=e=>{let{className:t}=e;return(0,i.jsxs)(r.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,i.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#10A37F"}),(0,i.jsx)("path",{d:"M15.5 10.5H12.1667C11.2462 10.5 10.5 11.2462 10.5 12.1667V13.5V18M15.5 10.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V18M15.5 10.5V25.5M15.5 25.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V18M15.5 25.5H12.1667C11.2462 25.5 10.5 24.7538 10.5 23.8333V18M10.5 18H25.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},l=e=>{let{className:t}=e;return(0,i.jsxs)(r.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,i.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#FF5588"}),(0,i.jsx)("path",{d:"M19.6663 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V14.6666L19.6663 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M19.667 9.66663V14.6666H24.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M21.3337 18.8334H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M21.3337 22.1666H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M16.3337 15.5H15.5003H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},a=e=>{let{className:t}=e;return(0,i.jsxs)(r.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,i.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#F8CA27"}),(0,i.jsx)("path",{d:"M10.5 14V13.5V12.1667C10.5 11.2462 11.2462 10.5 12.1667 10.5H15.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V14M10.5 14V23.8333C10.5 24.7538 11.2462 25.5 12.1667 25.5H15.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V14M10.5 14H25.5M14 21.5L16.5 19L19 20.5L22 17.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},c=e=>{let{className:t}=e;return(0,i.jsxs)(r.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,i.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#B161FD"}),(0,i.jsx)("path",{d:"M26.3337 23.8333C26.3337 24.2754 26.1581 24.6993 25.8455 25.0118C25.5329 25.3244 25.109 25.5 24.667 25.5H11.3337C10.8916 25.5 10.4677 25.3244 10.1551 25.0118C9.84259 24.6993 9.66699 24.2754 9.66699 23.8333V12.1667C9.66699 11.7246 9.84259 11.3007 10.1551 10.9882C10.4677 10.6756 10.8916 10.5 11.3337 10.5H15.5003L17.167 13H24.667C25.109 13 25.5329 13.1756 25.8455 13.4882C26.1581 13.8007 26.3337 14.2246 26.3337 14.6667V23.8333Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},d=e=>{let{className:t}=e;return(0,i.jsxs)(r.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,i.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#0000FF"}),(0,i.jsx)("path",{d:"M18.833 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V15.5L18.833 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M18.833 9.66663V15.5H24.6663",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},u=e=>{let{className:t}=e;return(0,i.jsxs)(r.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,i.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#FF6E3C"}),(0,i.jsx)("path",{d:"M21.333 23L26.333 18L21.333 13",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M14.667 13L9.66699 18L14.667 23",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})}},45317:function(e,t,n){n.d(t,{Y:function(){return m}});var r=n(30407),i=n(91092),s=n(81542),o=n(63584),l=n(16602),a=n(19841),c=n(84551),d=n(73581),u=n(23981),p=n(96590),f=n(651);function m(e){let{fileUploadRateLimit:t,children:n}=e,r=(0,i.t)();return(0,f.jsx)(f.Fragment,{children:t?(0,f.jsxs)(o.fC,{delayDuration:150,onOpenChange:e=>{if(null!=t&&e){var n;l.A.logPopoverHover({type:"rate_limit",location:"file_upload",plan_type:null!==(n=null==r?void 0:r.planType)&&void 0!==n?n:"unknown"})}},children:[(0,f.jsx)(o.xz,{children:n}),(0,f.jsx)(o.h_,{children:(0,f.jsx)(u.M4,{$as:o.VY,side:"top",sideOffset:4,className:"max-w-[260px]",children:(0,f.jsx)(h,{className:"text-sm",featureRateLimit:t})})})]}):n})}function h(e){let{className:t,featureRateLimit:n}=e,o=(0,i.t)(),{display_description:u}=n,m=(0,f.jsx)(c.Z,{id:"U5qAWP",defaultMessage:"You've reached your daily upload limit. Get ChatGPT Plus to unlock more."}),h=!0,g="popover";return u&&(m=u.description||m,h=n.call_to_action===r.Pt.GET_PLUS,g=u.type),(0,f.jsxs)("div",{className:(0,a.default)("p-2 text-token-text-primary",t),children:[(0,f.jsx)("div",{children:m}),h?(0,f.jsx)(d.z,{size:"small",color:"secondary",className:"mt-3",onClick:()=>{var e;(0,p.MG)(),l.A.logRateLimitGetPlusButtonClicked({type:(0,s.EJ)(n),location:g,plan_type:null!==(e=null==o?void 0:o.planType)&&void 0!==e?e:"unknown"})},children:(0,f.jsx)(c.Z,{id:"TeyLcp",defaultMessage:"Get Plus"})}):null]})}},25176:function(e,t,n){n.d(t,{l:function(){return Z},Z:function(){return S}});var r,i=n(81669),s=n(95312),o=n(73581),l=n(59791),a=n(66267),c=n(33168),d=n(34470),u=n(19841),p=n(92379),f=n(88041),m=n(94695),h=n(74091),g=n(43547),x=n(9690),j=n(21292),v=n(29757),b=n(66187),y=n(64800),k=n(651);let w=e=>{let{className:t,contextConnector:n,extension:r}=e,i=y.pC;switch(n){case s.PO.GDRIVE:case s.PO.GDRIVE_SYNC_CONNECTOR:switch(r){case"doc":case"docx":i=v.UkS;break;case"xls":case"xlsx":i=v.UWy;break;case"ppt":case"pptx":i=v.rJj;break;default:i=v.Gle}break;case s.PO.O365_BUSINESS:case s.PO.O365_PERSONAL:case s.PO.O365:switch(r){case"doc":case"docx":i=v.TLO;break;case"xls":case"xlsx":i=v.$7;break;case"ppt":case"pptx":i=v.Y5F;break;default:i=v.Vpj}}return(0,k.jsx)("div",{className:"".concat(t," flex items-center justify-center rounded-md border border-gray-100 bg-gray-50 dark:border-white/10 dark:bg-token-main-surface-secondary"),children:(0,k.jsx)(i,{className:"w-[20px]"})})};var P=n(48907),O=n(13400);function C(e){var t,n;let{fileName:r,icon:i,loadingPercentage:s,contextConnectorInfo:o}=e,l=(0,f.Z)(),a=void 0!==s&&s<100,c=(0,O.$p)(r),d=null!==(t=null==o?void 0:o.syntheticExtension)&&void 0!==t?t:null,p=null!=o&&o.contextConnector?(0,k.jsx)(P.V,{contextConnector:o.contextConnector,extension:null!==(n=null!=d?d:c)&&void 0!==n?n:null}):function(e){if((0,O.CO)(e))return l.formatMessage(M.fileDescImage);switch(c){case"py":return"Python";case"js":case"jsx":return"JavaScript";case"ts":case"tsx":return"TypeScript";case"pdf":return"PDF";case"doc":case"docx":case"txt":return l.formatMessage(M.fileDescDocument);case"zip":return l.formatMessage(M.fileDescZip);case"xls":case"xlsx":case"csv":return l.formatMessage(M.fileDescSpreadsheet);case"ppt":case"pptx":case"key":return l.formatMessage(M.fileDescPresentation);default:return l.formatMessage(M.fileDescFile)}}(r);return(0,k.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[null!=i&&!1!==i?(0,k.jsxs)("div",{className:"relative h-10 w-10 overflow-hidden rounded-md border border-token-border-heavy",children:[i,a&&(0,k.jsx)(N,{percentage:s,blurBackground:!0})]}):(0,k.jsx)("div",{className:"relative h-10 w-10 shrink-0 overflow-hidden rounded-md",children:a?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:(0,u.default)("inset-0",T,function(e,t){if(t)return"bg-gray-50 dark:bg-token-main-surface-secondary border rounded-md border-gray-100 dark:border-white/10";switch((0,O.$p)(e)){case"py":case"js":case"jsx":case"ts":case"tsx":return"bg-[#FF6E3C]";case"doc":case"docx":case"txt":case"pdf":return"bg-[#FF5588]";case"zip":return"bg-[#B161FD]";case"ppt":case"pptx":case"key":return"bg-[#F8CA27]";case"xls":case"xlsx":case"csv":return"bg-[#10A37F]";default:return"bg-blue"}}(r,null==o?void 0:o.contextConnector))}),(0,k.jsx)(N,{percentage:o?null:s})]}):(0,k.jsx)(D,{filename:r,contextConnectorInfo:o})}),(0,k.jsxs)("div",{className:"overflow-hidden",children:[(0,k.jsx)("div",{className:"truncate font-semibold",children:(0,O.Ad)(r,d)}),(0,k.jsx)("div",{className:"truncate text-token-text-tertiary",children:p})]})]})}function N(e){let{percentage:t,blurBackground:n=!1}=e;return(0,k.jsx)("div",{className:(0,u.default)("absolute inset-0 flex items-center justify-center text-white",n&&"bg-black/5 backdrop-blur-sm"),children:t?(0,k.jsx)(g.Z,{percentage:t,className:"h-6 w-6"}):(0,k.jsx)(b.Z,{className:"h-6 w-6 text-token-text-secondary"})})}let T="h-10 w-10 flex-shrink-0";function D(e){let{filename:t,contextConnectorInfo:n}=e;if(n){var r,i;return(0,k.jsx)(w,{contextConnector:n.contextConnector,extension:null!==(r=null!==(i=n.syntheticExtension)&&void 0!==i?i:(0,O.$p)(t))&&void 0!==r?r:null,className:T})}switch((0,O.$p)(t)){case"py":case"js":case"jsx":case"ts":case"tsx":return(0,k.jsx)(y.yc,{className:T});case"doc":case"docx":case"txt":case"pdf":return(0,k.jsx)(y.tf,{className:T});case"zip":return(0,k.jsx)(y.LO,{className:T});case"ppt":case"pptx":case"key":return(0,k.jsx)(y.N,{className:T});case"xls":case"xlsx":case"csv":return(0,k.jsx)(y.OD,{className:T});default:return(0,k.jsx)(y.pC,{className:T})}}let M=(0,m.vU)({fileDescDocument:{id:"FileDataView.fileDescDocument",defaultMessage:"Document"},fileDescZip:{id:"FileDataView.fileDescZip",defaultMessage:"Zip Archive"},fileDescSpreadsheet:{id:"FileDataView.fileDescSpreadsheet",defaultMessage:"Spreadsheet"},fileDescPresentation:{id:"FileDataView.fileDescPresentation",defaultMessage:"Presentation"},fileDescImage:{id:"FileDataView.fileDescImage",defaultMessage:"Image"},fileDescFile:{id:"FileDataView.fileDescFile",defaultMessage:"File"}});function L(e){return e instanceof File}function E(e){let{downloadLink:t}=e,n=(0,p.useCallback)(()=>{var e;let n=document.createElement("a");n.href=t,n.setAttribute("download",null!==(e=t.split("/").pop())&&void 0!==e?e:"downloaded_file"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},[t]);return(0,k.jsx)(o.z,{onClick:n,color:"light",size:"small",children:(0,k.jsx)(v._8t,{className:"icon-sm"})})}function S(e){let{onRemoveFileClick:t,file:n,fileId:r,gizmoId:i,loadingPercentage:s,contextConnectorInfo:o,width:a="normal",alwaysShowData:c=!1,showDownloadButton:d=!1,downloadLink:p=""}=e,m=(0,f.Z)(),h=void 0!==s&&s<100,x=L(n)?n.name:n,v=L(n)&&(null==n?void 0:n.type.startsWith("image/"))||(0,O.CO)(x)&&null!=r,b=v&&(0,k.jsx)(Z,{file:n,fileId:r,gizmoId:i,contextConnectorInfo:o}),y=v?void 0:null==o?void 0:o.sourceUrl;return(0,k.jsxs)("div",{className:"group relative inline-block text-sm text-token-text-primary",children:[(0,k.jsx)(F,{showTooltip:!t,sourceUrl:y,className:"relative overflow-hidden rounded-xl border border-token-border-light bg-token-main-surface-primary",children:v&&!c?(0,k.jsxs)("div",{className:"h-14 w-14",children:[b,h&&(0,k.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5 text-white",children:(0,k.jsx)(g.Z,{percentage:s,className:"h-6 w-6"})})]}):(0,k.jsxs)("div",{className:(0,u.default)("p-2","wide"===a?"w-80":"w-60"),children:[(0,k.jsx)(C,{fileName:x,icon:b,loadingPercentage:s,contextConnectorInfo:o}),d&&""!==p&&(0,k.jsx)("div",{className:"absolute right-1 top-1",children:(0,k.jsx)(E,{downloadLink:p})})]})}),null!=t&&(0,k.jsx)("button",{onClick:t,className:"absolute right-1 top-1 -translate-y-1/2 translate-x-1/2 rounded-full border border-token-border-heavy bg-token-main-surface-secondary p-0.5 text-token-text-primary transition-colors hover:opacity-100 group-hover:opacity-100 md:opacity-0",children:(0,k.jsx)(j.u,{label:m.formatMessage(G.removeFile),side:"top",sideOffset:4,children:(0,k.jsx)(l.v7,{className:"icon-sm"})})})]})}let _=h.Z.span(r||(r=(0,i.Z)(["flex items-center h-full w-full justify-center bg-gray-500 dark:bg-gray-700 bg-cover bg-center text-white"])));function I(){return(0,k.jsx)(_,{})}function Z(e){let{file:t,fileId:n,gizmoId:r,contextConnectorInfo:i}=e,o=(0,f.Z)(),l=L(t)?t.name:t,c=function(e,t,n,r,i){let{0:o,1:l}=(0,p.useState)(void 0);return(0,p.useEffect)(()=>{async function o(e){try{let t=await a.Z.getFileDownloadLink(e,r);t.status===s.KF.Success?l(t.download_url):d.U.addError("Error fetching URL for file ".concat(e,": ").concat(t.status))}catch(t){d.U.addError(Error("Error fetching URL for file ".concat(e,")"),{cause:t}))}}if(i)n&&o(n);else if(null!=e&&e.type.startsWith("image/")&&!i){let t=new FileReader;t.addEventListener("load",()=>{let e=t.result;l("string"==typeof e?e:void 0)}),t.readAsDataURL(e)}else(0,O.CO)(t)&&null!=n?o(n):l(void 0)},[e,t,n,r,i]),o}(L(t)?t:null,l,n,r,i);return null==c?(0,k.jsx)(I,{}):(0,k.jsx)(x.l,{src:c,alt:o.formatMessage(G.userUploadedImage),contextConnectorSourceUrl:null==i?void 0:i.sourceUrl,className:"h-full w-full",children:(0,k.jsx)(_,{style:{backgroundImage:"url(".concat(c,")")}})})}let G=(0,m.vU)({removeFile:{id:"FileTile.removeFile",defaultMessage:"Remove file"},userUploadedImage:{id:"FileTile.userUploadedImage",defaultMessage:"User uploaded image"}});function F(e){let{showTooltip:t,sourceUrl:n,children:r,className:i}=e,s=(0,c.yA)();if(!n)return(0,k.jsx)("div",{className:i,children:r});let o=(0,k.jsx)("a",{href:n,target:"_blank",children:(0,k.jsx)("div",{className:i,children:r})});return t&&s?(0,k.jsx)(j.u,{wide:!0,interactive:!0,sideOffset:0,label:(0,k.jsxs)("a",{href:n,target:"_blank",className:"flex w-full items-center gap-2",children:[(0,k.jsx)("p",{className:"line-clamp-1 flex-1 text-ellipsis",children:n.split("").join("â€‹")}),(0,k.jsx)(v.Pfi,{className:"icon-sm"})]}),side:"top",children:o}):o}},74710:function(e,t,n){n.d(t,{K:function(){return s}});var r,i=n(81669);let s=n(74091).Z.button(r||(r=(0,i.Z)(["flex items-center justify-center text-black text-token-text-primary juice:h-8 juice:w-8 dark:text-white juice:rounded-full focus-visible:outline-black dark:focus-visible:outline-white"])))},30279:function(e,t,n){n.d(t,{Z:function(){return m},s:function(){return h}});var r=n(24312),i=n(10454),s=n(16602),o=n(8025),l=n(17485),a=n(88041),c=n(94695),d=n(45317),u=n(74710),p=n(651);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){let{getInputProps:t,openFileDialog:n,uploadType:l,icon:c}=e,m=(0,a.Z)(),h=(0,i.TX)(),g=null!=h,x=(0,p.jsx)(u.K,{className:"juice:mb-1 juice:ml-[3px]",disabled:g,onClick:e=>{e.preventDefault(),s.A.logEvent(o.M.openFileViewer,{intent:l.toString()}),n()},"aria-label":m.formatMessage({id:"PromptFilePicker.attachFiles",defaultMessage:"Attach files"}),children:c}),j=(0,p.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({disabled:g},t({className:"hidden"}))),v=(0,p.jsxs)("div",{className:"flex",children:[x,j]});return(0,p.jsx)(d.Y,{fileUploadRateLimit:h,children:v})}function h(e){let{code:t,message:n}=e;switch(t){case l.jK.FileTooLarge:return g.errorFileTooLarge;case l.jK.TooManyFiles:return s.A.logEvent(o.M.uploadedMaxFilesError),g.errorTooManyFiles;default:return n}}let g=(0,c.vU)({attachImages:{id:"PromptFilePicker.attachImages",defaultMessage:"Attach images"},attachFiles:{id:"PromptFilePicker.attachFiles",defaultMessage:"Attach files"},errorFileTooLarge:{id:"PromptFilePicker.errorFileTooLarge",defaultMessage:"Your file is too large. The maximum file size is {size}MB."},errorTooManyFiles:{id:"PromptFilePicker.errorTooManyFiles",defaultMessage:"You may only upload {maxNum} files at a time."},defaultFileUploadRateLimited:{id:"U5qAWP",defaultMessage:"You've reached your daily upload limit. Get ChatGPT Plus to unlock more."},getPlusButton:{id:"TeyLcp",defaultMessage:"Get Plus"}})},36647:function(e,t,n){n.d(t,{a:function(){return x},q:function(){return g}});var r=n(24312),i=n(95312),s=n(73581),o=n(51891),l=n(8200),a=n(25553),c=n(16128),d=n(92379),u=n(84551),p=n(29757),f=n(651);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e){var t,n,r;let{gizmoEditorData:s,onOpen:o}=e,l=null==s||null===(t=s.tools)||void 0===t?void 0:t.find(e=>e.type===i.qK.INTENT&&"prompt_config"in e.settings),{0:u}=(0,d.useState)(null!==(n=null==l?void 0:l.settings.prompt_config)&&void 0!==n?n:[]),{0:p}=(0,d.useState)(null!==(r=null==l?void 0:l.settings.state_keys)&&void 0!==r?r:[]);return(0,f.jsxs)(a.hj,{children:[(0,f.jsx)("div",{className:"text-sm",children:(0,f.jsx)(a.lX,{label:"Blocks + State",description:"Blocks and State for your GPT"})}),(0,f.jsxs)("div",{className:"mb space-y-1",children:[!(u||p)&&(0,f.jsx)("div",{className:"flex text-token-text-primary",children:"Add prompt blocks and state keys to your GPT"}),(0,f.jsx)(c.cY,{onClick:()=>o(),children:u||p?"Show Blocks & State":"Add Blocks & State"})]})]})}function x(e){var t,n,r;let{gizmoEditorData:o,updateGizmo:l,onClose:m}=e,g=null==o||null===(t=o.tools)||void 0===t?void 0:t.find(e=>e.type===i.qK.INTENT&&"prompt_config"in e.settings),{0:x,1:b}=(0,d.useState)(null!==(n=null==g?void 0:g.settings.prompt_config)&&void 0!==n?n:[]),{0:y,1:k}=(0,d.useState)(null!==(r=null==g?void 0:g.settings.state_keys)&&void 0!==r?r:[]),w={key_name:"",description:""},P={prompt_key:"",prompt:"",continuation:"",hidden:!1},O=()=>{l(e=>h(h({},e),{},{tools:g?e.tools.map(e=>e.type===i.qK.INTENT?h(h({},e),{},{settings:h(h({},e.settings),{},{prompt_config:x,state_keys:y})}):e):[...e.tools,{type:i.qK.INTENT,settings:{prompt_config:x,state_keys:y}}]}))};return(0,f.jsxs)("div",{className:"h-full overflow-auto px-4 pb-12 text-sm",children:[(0,f.jsxs)("div",{className:"relative flex flex-col items-center px-16 py-6 text-center",children:[(0,f.jsx)("div",{className:"absolute left-0 top-6",children:(0,f.jsx)(s.z,{color:"secondary",onClick:m,children:(0,f.jsx)(p.DUf,{className:"icon-md"})})}),(0,f.jsx)("div",{className:"text-xl font-semibold",children:(0,f.jsx)(u.Z,{id:"eIFoMg",defaultMessage:"Blocks & State"})}),(0,f.jsx)("div",{className:"text-sm text-token-text-tertiary",children:(0,f.jsx)(u.Z,{id:"rdK8Dl",defaultMessage:"Construct your GPT with instruction blocks and state."})}),(0,f.jsx)(a.lX,{label:(0,f.jsx)("div",{className:"text-sm font-semibold text-token-text-tertiary",children:"Learn more"}),description:(0,f.jsxs)("div",{className:"space-y-2 text-sm font-normal",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Blocks"})," allow you to break up your GPT's instructions into smaller sections, letting the GPT decide which to load up in what scenario."]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"State"})," gives the GPT a per-user storage for data, that will be provided at the start of all new conversations."]})]})})]}),(0,f.jsx)(a.hj,{children:(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsxs)("div",{className:"mb-4 space-y-5 text-lg",children:[(0,f.jsx)(a.lX,{label:(0,f.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,f.jsx)("span",{children:"Instruction Blocks"}),(0,f.jsx)(p.szr,{className:"icon-sm"})]}),description:(0,f.jsxs)("div",{className:"space-y-2",children:[(0,f.jsx)("div",{children:"Instruction Blocks are added to the end of your GPT's instructions when the GPT decides to use them."}),(0,f.jsx)("div",{children:"The GPT only knows these blocks by their name. and your initial GPT instructions must describe how to use at least one of these blocks."})]})}),(0,f.jsxs)("div",{className:"space-y-5 text-sm",children:[x.map((e,t)=>(0,f.jsx)(j,{promptKey:e.prompt_key,prompt:e.prompt,continuation:e.continuation,hidden:e.hidden,visible:!1,isDuplicate:x.filter(t=>t.prompt_key===e.prompt_key).length>1,onChange:e=>{let{promptKey:n,prompt:r,continuation:i,hidden:s}=e;b(e=>{let o=[...e];return o[t]={prompt_key:n,prompt:r,continuation:i,hidden:s},o}),O()},onDelete:e=>{let{promptKey:t}=e;b(e=>e.filter(e=>e.prompt_key!==t)),O()}},t)),(0,f.jsx)(c.cY,{onClick:()=>{b(e=>[...e,P])},children:"Add Block"})]}),(0,f.jsx)(a.lX,{label:(0,f.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,f.jsx)("span",{children:"Saved State"}),(0,f.jsx)(p.szr,{className:"icon-sm"})]}),description:(0,f.jsxs)("div",{className:"space-y-2",children:[(0,f.jsx)("div",{children:"State the GPT can save per-user, that will be provided at the start of all new conversations"}),(0,f.jsx)("div",{children:"Your GPT has access to write to these state entries, and read from them."}),(0,f.jsx)("div",{children:"The user can see this data."})]})}),y.map((e,t)=>(0,f.jsx)(v,{keyName:e.key_name,description:e.description,isDuplicate:y.filter(t=>t.key_name===e.key_name).length>1,onChange:e=>{let{keyName:n,description:r}=e;k(e=>{let i=[...e];return i[t]={key_name:n,description:r},i}),O()},onDelete:e=>{let{keyName:t}=e;k(e=>e.filter(e=>e.key_name!==t)),O()}},t))]}),(0,f.jsx)(c.cY,{onClick:()=>{k(e=>[...e,w])},children:"Add State Data"})]})})]})}function j(e){let{promptKey:t,prompt:n,continuation:r,hidden:i,visible:s,isDuplicate:c,onChange:u,onDelete:m}=e,{0:h,1:g}=(0,d.useState)(i),{0:x,1:j}=(0,d.useState)(s),v=[];t.length>20&&v.push({msg:"Block names work best when they are short"}),c&&v.push({msg:"Block names must be unique"});let y=v.length>0?p.ETw:void 0;return(0,f.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,f.jsxs)("div",{className:"flex space-x-2 text-sm",children:[(0,f.jsx)(a.lX,{collapsed:!x,label:"Block",onClick:()=>{j(!x)}}),(0,f.jsx)(o.Z,{name:"promptKey",value:t,onChange:e=>u({promptKey:e.target.value,prompt:n,continuation:r}),icon:y,className:"max-w-xs grow-0",placeholder:"Block name"})]}),v.map(e=>(0,f.jsx)("div",{className:"text-xs text-token-text-secondary",children:e.msg},e.msg)),x&&(0,f.jsxs)("div",{className:"mb-4 space-y-1",children:[(0,f.jsx)(l.Z,{rows:5,name:"prompt",value:n,onChange:e=>u({promptKey:t,prompt:e.target.value,continuation:r}),className:"grow",placeholder:"Block Text"}),b&&(0,f.jsxs)("div",{className:"flex space-x-2 text-sm",children:[(0,f.jsx)("div",{role:"button",className:"flex items-center space-x-2",onClick:()=>{u({promptKey:t,prompt:n,continuation:r,hidden:!h}),g(!h)},children:h?(0,f.jsx)(p.Xl7,{className:"icon-sm"}):(0,f.jsx)(p.tEF,{className:"icon-sm"})}),(0,f.jsx)(a.lX,{label:"Continue on to:",description:"When set, the GPT will automatically go to the that block after this one."}),(0,f.jsx)(o.Z,{name:"continuation",value:r,onChange:e=>u({promptKey:t,prompt:n,continuation:e.target.value}),className:"max-w-xs grow-0",placeholder:"Continuation"})]}),(0,f.jsx)("div",{role:"button",className:"flex items-center space-x-2",onClick:()=>{m({promptKey:t})},children:(0,f.jsx)(p.XHJ,{className:"icon-sm"})})]})]})}function v(e){let{keyName:t,description:n,isDuplicate:r,onChange:i,onDelete:s}=e,l=[];t.length>20&&l.push({msg:"State names work best when they are short"}),r&&l.push({msg:"State names must be unique"});let a=l.length>0?p.ETw:void 0;return(0,f.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,f.jsxs)("div",{className:"flex space-x-2 text-sm",children:[(0,f.jsx)(o.Z,{name:"key",value:t,onChange:e=>i({keyName:e.target.value,description:n}),icon:a,className:"max-w-xs grow-0",placeholder:"State Name"}),(0,f.jsx)(o.Z,{name:"description",value:n,onChange:e=>i({keyName:t,description:e.target.value}),className:"max-w-s flex-grow",placeholder:"Description"}),(0,f.jsx)("div",{role:"button",className:"flex items-center space-x-2",onClick:()=>{s({keyName:t})},children:(0,f.jsx)(p.XHJ,{className:"icon-sm"})})]}),l.map(e=>(0,f.jsx)("div",{className:"text-xs text-token-text-secondary",children:e.msg},e.msg))]})}let b=!1},25553:function(e,t,n){n.d(t,{yt:function(){return ej},lX:function(){return eP},hj:function(){return eb},B1:function(){return ey},r:function(){return eC},cK:function(){return eD},rv:function(){return ew},sY:function(){return eL}});var r,i,s,o,l=n(24312),a=n(81669),c=n(95312),d=n(14886),u=n(35667),p=n(21292),f=n(36647),m=n(13920),h=n(67809),g=n(92379),x=n(72349),j=n(88041),v=n(84551),b=n(43547),y=n(66187),k=n(29757),w=n(50797),P=n(25176),O=n(79626),C=n(76762),N=n(80005),T=n(13400),D=n(21335),M=n(651);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(){return(0,M.jsx)("div",{className:"relative flex h-full w-full items-center justify-center rounded-full border-2 border-dashed border-token-border-medium",children:(0,M.jsx)(y.Z,{className:"h-1/4 w-1/4"})})}function _(e){let{gizmoEditorData:t,onFileChange:n,generateProfilePic:r,isGeneratingProfilePic:i,setIsGeneratingProfilePic:s}=e,o=(0,j.Z)(),{0:l,1:a}=(0,g.useState)(void 0),d=(0,g.useRef)(n);async function u(e){if(e.length>0){s(!1);let t=await (0,T.WI)(e[0],512),n=(0,N.W7)(t);a({tempId:n,file:t,status:C.XX.Uploading,progress:1,fileId:null,cdnUrl:null}),d.current("uploading"),(0,N.lU)(n,t,o,c.Ei.ProfilePicture,{onFileCreated(e,t,n){a(r=>"initial"!==r&&(null==r?void 0:r.tempId)===e&&r.status===C.XX.Uploading?E(E({},r),{},{progress:10,fileId:t,cdnUrl:n}):r)},onFileUploadProgress(e,t){a(n=>"initial"!==n&&(null==n?void 0:n.tempId)===e&&n.status===C.XX.Uploading?E(E({},n),{},{progress:t}):n)},onFileUploaded(e,t,n){a(t=>"initial"!==t&&(null==t?void 0:t.tempId)===e?(d.current(t),E(E({},t),{},{status:C.XX.Ready,progress:100,fileSpec:E({name:t.file.name,id:t.fileId,size:t.file.size},null!=n?n:{})})):t)},onError(e){a(t=>{if("initial"!==t&&(null==t?void 0:t.tempId)===e){d.current(void 0);return}return t})}})}}(0,g.useEffect)(()=>{d.current=n});let{open:p,getInputProps:f}=(0,x.uI)(E({disabled:!1,noClick:!0,onDropAccepted:u,onDropRejected:e=>(0,w.UJ)(e,o,C.AJ.ProfilePicture),multiple:!0,maxSize:O.xC},(0,T.Z8)(T.KL)));return(0,M.jsxs)("div",{className:"flex w-full items-center justify-center gap-4",children:[(0,M.jsxs)(h.d,{sideOffset:8,triggerButton:(0,M.jsx)("button",{className:"h-20 w-20",children:i?(0,M.jsx)(S,{}):null!=l&&"initial"!=l&&l.status!=C.XX.Ready?(0,M.jsxs)("div",{className:"relative h-full w-full overflow-hidden rounded-full",children:[(0,M.jsx)(P.l,{file:l.file}),l.status===C.XX.Uploading&&l.progress<90?(0,M.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5 text-white",children:(0,M.jsx)(b.Z,{percentage:l.progress,className:"h-6 w-6"})}):null]}):(null==t?void 0:t.profilePictureUrl)!=null&&(null==t?void 0:t.profilePictureUrl)!==""?(0,M.jsx)(D.Z,{isFirstParty:!1,src:t.profilePictureUrl}):(0,M.jsx)("div",{className:"flex h-full w-full items-center justify-center rounded-full border-2 border-dashed border-token-border-medium",children:(0,M.jsx)(k.Vz5,{className:"text-4xl"})})}),children:[(0,M.jsx)(h.Z.Item,{onClick:p,children:(0,M.jsx)(v.Z,{id:"ERQwXg",defaultMessage:"Upload Photo"})}),(0,M.jsx)(h.Z.Item,{onClick:r,children:(0,M.jsx)(v.Z,{id:"NXAog/",defaultMessage:"Use DALL\xb7E"})})]}),(0,M.jsx)("input",E({},f()))]})}var I=n(59791),Z=n(73581),G=n(16128);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z(e){var t,n,r;let{gizmoEditorData:i,updateGizmo:s}=e,o=null==i||null===(t=i.tools)||void 0===t?void 0:t.find(e=>e.type===c.qK.INTENT&&"intents"in e.settings),{0:l,1:a}=(0,g.useState)(null!==(n=null==o?void 0:o.settings.intents)&&void 0!==n?n:""),{0:d,1:u}=(0,g.useState)(null!==(r=null==o?void 0:o.settings.intent_hook)&&void 0!==r?r:""),{0:p,1:f}=(0,g.useState)(!1),m=(0,j.Z)(),h=()=>{s(e=>A(A({},e),{},{tools:o?e.tools.map(e=>e.type===c.qK.INTENT?A(A({},e),{},{settings:A(A({},e.settings),{},{intents:l,intent_hook:d})}):e):[...e.tools,{type:c.qK.INTENT,settings:{intents:l,intent_hook:d}}]})),f(!1)};return(0,M.jsxs)(eb,{children:[(0,M.jsx)(eP,{label:"GPT Script",description:m.formatMessage({id:"gizmo.gptScriptExplanation",defaultMessage:"Code and Intents to save GPT state"})}),p&&(0,M.jsxs)("div",{className:"mb-4",children:[(0,M.jsx)(eP,{label:"Intent Hook"}),(0,M.jsx)(ey,{value:d,rows:20,onChange:e=>u(e.target.value),placeholder:'def f(input):\nreturn {\n  "instructions": str(input.intent),\n  "conversation_state": input.conversation_state,\n  "user_state": input.user_state,\n  "pinned": {},\n}',className:"h-50 mb-4 block w-full resize-none rounded-md border border-gray-300 p-2 font-mono text-xs shadow-sm focus:border-blue-500 focus:ring-blue-500",spellCheck:"false"}),(0,M.jsx)(eP,{label:"Intents"}),(0,M.jsx)(ey,{value:l,rows:20,onChange:e=>a(e.target.value),placeholder:"Enter Intent",className:"h-50 mb-4"}),(0,M.jsx)(Z.z,{color:"dark",onClick:()=>{h()},children:"Update"})]}),!p&&(0,M.jsx)(G.cY,{onClick:()=>f(!0),children:d?"Update Script":"Add Script"})]})}var U=n(43446),R=n(66267),V=n(91092),B=n(87357),W=n(45232),H=n(19841),X=n(7290),Y=n(58164),K=n(61888),q=n(84688),J=n.n(q),Q=n(94695),$=n(74091),ee=n(21597),et=n(55136),en=n(17458);function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function es(e){let{getInputProps:t,openFileDialog:n,gizmoId:r}=e,i=(0,ee.b)(),{gdrive_sync:s,o365:o}=function(){let{0:e,1:t}=(0,g.useState)({gdrive_sync:{already_oauth:!1,id:"",loaded:!1,access_token:""},o365:{already_oauth:!1,id:"",loaded:!1,access_token:""}});return(0,g.useEffect)(()=>{(async()=>{try{var e,n,r,i,s,o;let l=[c.PO.GDRIVE_SYNC_CONNECTOR,c.PO.O365],[a,d]=await Promise.all(l.map(e=>R.Z.getConnectorAccessToken(e)));t({gdrive_sync:{already_oauth:null!==(e=null==a?void 0:a.already_oauthed)&&void 0!==e&&e,id:null!==(n=null==a?void 0:a.id)&&void 0!==n?n:"",loaded:!0,access_token:null!==(r=null==a?void 0:a.access_token)&&void 0!==r?r:""},o365:{already_oauth:null!==(i=null==d?void 0:d.already_oauthed)&&void 0!==i&&i,id:null!==(s=null==d?void 0:d.id)&&void 0!==s?s:"",loaded:!0,access_token:null!==(o=null==d?void 0:d.access_token)&&void 0!==o?o:""}})}catch(e){t({gdrive_sync:{already_oauth:!1,id:"",loaded:!1,access_token:""},o365:{already_oauth:!1,id:"",loaded:!1,access_token:""}})}})()},[]),e}();return(0,M.jsx)("div",{children:(0,M.jsxs)(h.d,{contentAlign:"start",side:"top",triggerButton:(0,M.jsx)(Z.z,{size:"medium",children:(0,M.jsx)(v.Z,{id:"aC1nyd",defaultMessage:"Upload"})}),children:[(0,M.jsx)(h.Z.Item,{children:(0,M.jsxs)(G.cY,{onClick:n,children:[(0,M.jsx)("input",ei({},t())),(0,M.jsx)(v.Z,{id:"fy5xdG",defaultMessage:"Upload files from desktop"})]})}),(0,M.jsxs)(h.Z.Item,{children:[s.loaded&&!s.already_oauth&&(0,M.jsxs)(G.cY,{onClick:()=>{(0,en.Up)({id:s.id},"gpts/editor/"+r)},children:[(0,M.jsx)("input",ei({},t())),(0,M.jsx)(v.Z,{id:"MgqCv4",defaultMessage:"Connect To Google Drive"})]}),s.loaded&&s.already_oauth&&(0,M.jsxs)(G.cY,{onClick:async()=>{(0,et.j)(i.currentLocale,c.PO.GDRIVE_SYNC_CONNECTOR,s.access_token,e=>{})},children:[(0,M.jsx)("input",ei({},t())),(0,M.jsx)(v.Z,{id:"/EdQ8p",defaultMessage:"Pick Folders From Google Drive"})]})]}),(0,M.jsxs)(h.Z.Item,{children:[o.loaded&&!o.already_oauth&&(0,M.jsxs)(G.cY,{onClick:()=>{(0,en.Up)({id:o.id},"gpts/editor/"+r)},children:[(0,M.jsx)("input",ei({},t())),(0,M.jsx)(v.Z,{id:"dVKP7F",defaultMessage:"Connect To One Drive"})]}),o.loaded&&o.already_oauth&&(0,M.jsxs)(G.cY,{onClick:()=>{},children:[(0,M.jsx)("input",ei({},t())),(0,M.jsx)(v.Z,{id:"mADD8i",defaultMessage:"Pick Files/Folders From One Drive"})]})]})]})})}var eo=n(16602),el=n(8025);function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ed(e){var t,n;let{gizmoEditorData:r,requireGizmoId:i,currentModelConfig:s,updateGizmo:o}=e,l=(0,j.Z)(),{0:a,1:d}=(0,g.useState)(0),u=(0,g.useRef)(new Map),p=(0,T.Zp)(s,void 0),f=async e=>{eo.A.logEvent(el.M.uploadFile,{client:"web",eventSource:"mouse",intent:"gizmo"});let t=await i();e.length>0&&await Promise.all(e.map(e=>{let n=(0,N.W7)(e);u.current.set(n,{tempId:n,gizmoId:t,file:e,status:C.XX.Uploading,progress:1,fileId:null,cdnUrl:null}),(0,N.cT)((0,N.W7)(e),e,l,{kind:c.Ei.Gizmo,gizmoId:t},{onFileUploaded:(e,t,n,r)=>{let i=u.current.get(e);null!=i&&null!=i.fileId&&(o(e=>{var t;return ec(ec({},e),{},{files:[...null!==(t=e.files)&&void 0!==t?t:[],{file_id:i.fileId,name:i.file.name,size:i.file.size,type:i.file.type,last_modified:i.file.lastModified,file_size_tokens:null==r?void 0:r.fileTokenSize}]})}),u.current.delete(e),d(e=>e+1))},onFileCreated:(n,r,i)=>{u.current.set(n,ec(ec({tempId:n,gizmoId:t,file:e,status:C.XX.Uploading,progress:1},u.current.get(n)),{},{fileId:r,cdnUrl:i})),d(e=>e+1)},onFileUploadProgress:(e,t)=>{let n=u.current.get(e);(null==n?void 0:n.status)===C.XX.Uploading&&u.current.set(e,ec(ec({},n),{},{progress:t})),d(e=>e+1)},onError:e=>{u.current.delete(e)}},{usesRetrievalIndex:null!=s&&(0,T._0)(s,e.type,e.name)===c.Cd.Retrieval})}))},{getInputProps:m,open:h}=(0,x.uI)(ec({disabled:!1,noClick:!0,onDropAccepted:f,multiple:!0,maxSize:O.xC,maxFiles:10},(0,T.Z8)(p))),b=null!==(t=null==r?void 0:r.files)&&void 0!==t?t:[];function y(e){return(0,M.jsx)(P.Z,{onRemoveFileClick:()=>{u.current.delete(e.tempId),d(e=>e+1)},file:e.file,loadingPercentage:e.status===C.XX.Uploading?e.progress:void 0},e.tempId)}function k(e){return(0,M.jsx)(P.Z,{file:e.name,fileId:e.file_id,onRemoveFileClick:()=>o(t=>{var n;return ec(ec({},t),{},{files:null==t||null===(n=t.files)||void 0===n?void 0:n.filter(t=>t.file_id!==e.file_id)})}),gizmoId:null==r?void 0:r.id},e.file_id)}let w=Array.from(u.current.values()).filter(e=>b.every(t=>t.file_id!==e.fileId)),[D,L]=(0,K.partition)(w,e=>null!=s&&(0,T._0)(s,e.file.type,e.file.name)===c.Cd.CodeInterpreter),[E,S]=(0,K.partition)(b,e=>null!=s&&null!=e.type&&(0,T._0)(s,e.type,e.name)===c.Cd.CodeInterpreter),_=(0,g.useRef)(E.length);(0,g.useEffect)(()=>{E.length>_.current&&o(e=>{var t,n;return null!==(t=e.tools)&&void 0!==t&&t.some(e=>e.type===c.qK.PYTHON)?e:ec(ec({},e),{},{tools:[...null!==(n=e.tools)&&void 0!==n?n:[],{type:c.qK.PYTHON}]})}),_.current=E.length},[E.length]);let I=null!==(n=null==r?void 0:r.id)&&void 0!==n?n:"",{value:Z}=(0,W.sB)("chatgpt-contextual-answers-rollout");return(0,M.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,M.jsx)("div",{className:"rounded-lg text-token-text-tertiary",children:(0,M.jsx)(v.Z,ec({},eu.knowledgeWarning))}),L.length>0||S.length>0?(0,M.jsxs)("div",{className:"flex flex-wrap gap-2",children:[L.map(y),S.map(k)]}):null,D.length>0||E.length>0?(0,M.jsxs)("div",{children:[(0,M.jsx)("div",{className:"mb-2 text-xs text-token-text-tertiary",children:(0,M.jsx)(v.Z,{id:"i/QurZ",defaultMessage:"The following files are only available for Code Interpreter:"})}),(0,M.jsxs)("div",{className:"flex flex-wrap gap-2",children:[D.map(y),E.map(k)]})]}):null,Z?(0,M.jsx)(es,{getInputProps:m,openFileDialog:h,gizmoId:I}):(0,M.jsx)("div",{children:(0,M.jsxs)(G.cY,{onClick:h,children:[(0,M.jsx)("input",ec({},m())),(0,M.jsx)(v.Z,{id:"sr8Qp/",defaultMessage:"Upload files"})]})})]})}let eu=(0,Q.vU)({knowledgeWarning:{id:"gizmo.knowledgeWarning",defaultMessage:"If you upload files under Knowledge, conversations with your GPT may include file contents. Files can be downloaded when Code Interpreter is enabled"}});var ep=n(61082);function ef(e){let{placeholder:t,text:n,onChange:r,onClose:i}=e;return(0,M.jsx)(ep.Z,{className:"!max-h-[100vh] !max-w-[80vw]",type:"success",isOpen:!0,onClose:i,primaryButton:(0,M.jsx)(G.cY,{onClick:i,children:(0,M.jsx)(v.Z,{id:"FeFVdS",defaultMessage:"Close"})}),children:(0,M.jsx)("textarea",{className:"h-[70vh] w-full resize-none rounded-lg bg-token-main-surface-primary dark:border-gray-700",value:n,onChange:e=>{r(e.target.value)},placeholder:t})})}var em=n(83135),eh=n(31262);function eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ex(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let ej=$.Z.input(r||(r=(0,a.Z)(["w-full resize-none overflow-y-auto rounded-lg px-3 py-2 text-sm outline-none focus:ring-2 border focus:ring-blue-400 border-token-border-medium h-9 bg-token-main-surface-primary"]))),ev=$.Z.div(i||(i=(0,a.Z)(["text-sm text-red-500"]))),eb=$.Z.div(s||(s=(0,a.Z)(["mb-6"]))),ey=$.Z.textarea(o||(o=(0,a.Z)(["w-full text-sm overflow-y-auto rounded-lg border px-3 py-2 focus:ring-2 focus:ring-blue-400 border-token-border-medium bg-token-main-surface-primary h-32"])));function ek(){return(0,M.jsx)("div",{className:"ml-2 flex h-3.5 w-3.5 cursor-default items-center justify-center rounded-full border border-token-border-medium text-[0.5rem] font-semibold leading-none text-token-text-tertiary",children:"?"})}function ew(e){let{description:t}=e;return(0,M.jsx)(p.u,{wide:!0,label:t,delayDuration:0,children:(0,M.jsx)(ek,{})})}function eP(e){let{label:t,description:n,collapsed:r,onClick:i}=e,s=(0,M.jsx)("label",{className:"block font-semibold text-token-text-primary",children:t});return(0,M.jsxs)("div",{className:"mb-1.5 flex items-center",onClick:i,children:[void 0!==r&&(r?(0,M.jsx)(k.r0F,{className:"icon-sm"}):(0,M.jsx)(k.Tg4,{className:"icon-sm"})),n?(0,M.jsx)(p.u,{label:n,sideOffset:4,side:"top",delayDuration:0,children:s}):(0,M.jsx)(M.Fragment,{children:s})]})}function eO(e){let{children:t,collapsed:n,initial:r}=e;return(0,M.jsx)(X.M,{initial:r,children:!n&&(0,M.jsx)(Y.E.div,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},children:t})})}function eC(e){var t;let{actionTool:n,onShowActionsEditor:r,isDisabled:i}=e,s="metadata"in n?null===(t=n.metadata)||void 0===t?void 0:t.domain:void 0;return(0,M.jsxs)("div",{className:(0,H.default)("flex rounded-lg border border-token-border-medium text-sm hover:cursor-pointer",i?"bg-token-main-surface-secondary":""),onClick:r,children:[(0,M.jsx)("div",{className:"h-9 grow px-3 py-2",children:null!=s?s:(0,M.jsx)("span",{className:"text-red-500",children:(0,M.jsx)(v.Z,{id:"TJYXrY",defaultMessage:"Invalid action"})})}),(0,M.jsx)("div",{className:"w-px bg-token-border-medium"}),(0,M.jsx)("button",{disabled:i,className:"flex h-9 w-9 items-center justify-center rounded-lg rounded-l-none",children:(0,M.jsx)(k.SWE,{className:"icon-sm"})})]})}function eN(e){var t,n,r;let{gizmo:i,onShowActionsEditor:s,isDisabled:o}=e,l=(0,j.Z)(),a=(0,M.jsxs)("div",{className:"space-y-1",children:[null==i||null===(t=i.tools)||void 0===t?void 0:t.map((e,t)=>{var n;return e.type!==c.qK.JIT_PLUGIN?null:(0,M.jsxs)("div",{children:[(0,M.jsx)(eC,{isDisabled:o,actionTool:e,onShowActionsEditor:()=>s(e.metadata.domain)}),(null===(n=e.metadata.auth)||void 0===n?void 0:n.type)==="oauth"&&(0,M.jsx)(d.Z,{label:l.formatMessage(eL.callbackUrlLabel),value:"".concat("https://chat.openai.com","/aip/").concat(e.metadata.action_id,"/oauth/callback"),onCopied:()=>{U.m.success("Copied to clipboard",{duration:3})}})]},t)}),(null!==(n=null==i||null===(r=i.tools)||void 0===r?void 0:r.filter(e=>e.type===c.qK.JIT_PLUGIN))&&void 0!==n?n:[]).length>=m.L5?(0,M.jsx)("div",{children:l.formatMessage(eL.maxActionsReached,{number:m.L5})}):(0,M.jsx)(G.cY,{disabled:o,onClick:()=>{s("Unknown domain")},className:"mt-2",children:(0,M.jsx)(v.Z,ex({},eL.createActionLabel))})]});return o?(0,M.jsx)(p.u,{side:"top",label:l.formatMessage(eL.disabledCustomActionsTooltip),children:a}):a}function eT(e){var t,n,r;return(null!==(t=null===(n=e.files)||void 0===n?void 0:n.length)&&void 0!==t?t:0)>0||(null==e||null===(r=e.tools)||void 0===r?void 0:r.some(e=>e.type===c.qK.JIT_PLUGIN))}function eD(e){var t,n,r,i,s,o;let{gizmoEditorData:l,updateGizmo:a,currentModelConfig:d,generateProfilePic:p,setIsUploadingProfilePic:h,isGeneratingProfilePic:x,setIsGeneratingProfilePic:b,requireGizmoId:y,onShowActionsEditor:w,onShowBlocksEditor:P}=e,O=null!==(t=null==l?void 0:l.tools)&&void 0!==t?t:[],{0:C,1:N}=(0,g.useState)(!1),{0:T,1:D}=(0,g.useState)(!0),L=null!==(n=null==l?void 0:l.promptStarters)&&void 0!==n?n:[],E=[...L,...L.length<12?[""]:[]],S=(0,eh.bw)(l),Z=(0,V.t)(),F=null==Z?void 0:Z.isWorkspaceAccount(),A=(null===(r=(0,W.sB)("chatgpt_use_gpt4_for_enterprise_gizmos"))||void 0===r?void 0:r.value)&&(null==Z?void 0:Z.isEnterprise()),U=(0,u.C)(B.L0.WorkspaceGPTCustomActions),H=(0,j.Z)(),{value:X}=(0,W.sB)("chatgpt-gizmo-contacts-tool"),{value:Y}=(0,W.sB)("chatgpt-gizmo-intent-tool"),{value:q}=(0,W.sB)("chatgpt-gizmo-intent-tool-v2");return(0,M.jsxs)("div",{className:"flex h-full grow flex-col overflow-y-auto px-2 pt-6 text-sm",children:[(0,M.jsxs)("div",{className:"grow",children:[(0,M.jsxs)(eb,{children:[(0,M.jsx)(_,{gizmoEditorData:l,generateProfilePic:p,isGeneratingProfilePic:x,setIsGeneratingProfilePic:b,onFileChange:async e=>{if(null!=e&&"uploading"!==e&&null!=e.fileId){let t=await R.Z.getFileDownloadLink(e.fileId);t.status===c.KF.Success&&a({profilePictureId:null!=e.fileId?e.fileId:void 0,profilePictureUrl:t.download_url})}else a({profilePictureId:void 0,profilePictureUrl:void 0});h("uploading"===e)}}),(0,M.jsx)(eP,{label:(0,M.jsx)(v.Z,{id:"M4dZms",defaultMessage:"Name"}),description:(0,M.jsx)(v.Z,{id:"+Gkni2",defaultMessage:"The name of your GPT"})}),(0,M.jsx)(ej,{type:"text",placeholder:H.formatMessage(eL.gptNamePlaceholder),value:null!==(i=null==l?void 0:l.name)&&void 0!==i?i:"",onChange:e=>{a({name:e.target.value})},onBlurCapture:()=>a(e=>ex(ex({},e),{},{name:e.name.trim()}))}),S.includes(eh.hs.GizmoNameTooLong)?(0,M.jsx)(ev,{className:"mt-1",children:(0,M.jsx)(v.Z,ex(ex({},eL.nameTooLong),{},{values:{length:m.aI}}))}):null]}),(0,M.jsxs)(eb,{className:"mt-4",children:[(0,M.jsx)(eP,{label:(0,M.jsx)(v.Z,{id:"YDzNvf",defaultMessage:"Description"}),description:(0,M.jsx)(v.Z,{id:"dpxCw8",defaultMessage:"Short description of what this GPT does"})}),(0,M.jsx)(ej,{type:"text",placeholder:H.formatMessage(eL.descriptionPlaceholder),value:null!==(s=null==l?void 0:l.description)&&void 0!==s?s:"",onChange:e=>a({description:e.target.value}),onBlurCapture:()=>a(e=>{var t,n;return ex(ex({},e),{},{description:null!==(t=null===(n=e.description)||void 0===n?void 0:n.trim())&&void 0!==t?t:""})})}),S.includes(eh.hs.GizmoDescriptionTooLong)?(0,M.jsx)(ev,{className:"mt-1",children:(0,M.jsx)(v.Z,ex(ex({},eL.descriptionTooLong),{},{values:{length:m.P_}}))}):null]}),(0,M.jsxs)(eb,{children:[(0,M.jsx)(eP,{label:(0,M.jsx)(v.Z,{id:"2SO0RJ",defaultMessage:"Instructions"}),description:H.formatMessage(eL.instructionsSubtitle)}),(0,M.jsxs)("div",{className:"relative",children:[(0,M.jsx)(ey,{className:"resize-none",rows:8,value:null==l?void 0:l.instructions,onChange:e=>a({instructions:e.target.value}),onBlurCapture:()=>a(e=>ex(ex({},e),{},{instructions:e.instructions.trim()})),placeholder:H.formatMessage(eL.instructionsSubtitle)}),(0,M.jsx)("button",{className:"absolute bottom-3 right-2 text-token-text-tertiary",onClick:()=>N(!0),children:(0,M.jsx)(k.Qq,{className:"icon-sm"})})]}),S.includes(eh.hs.GizmoInstructionsTooLong)?(0,M.jsx)(ev,{className:"mt-1",children:(0,M.jsx)(v.Z,ex(ex({},eL.instructionsTooLong),{},{values:{length:m.vi}}))}):null]}),(0,M.jsxs)(eb,{children:[(0,M.jsx)(eP,{label:(0,M.jsx)(v.Z,{id:"6rfYOX",defaultMessage:"Conversation starters"}),description:(0,M.jsx)(v.Z,{id:"OSOIpd",defaultMessage:"Examples for the user to start the conversation"})}),(0,M.jsx)("div",{className:"flex flex-col gap-1",children:E.map((e,t)=>(0,M.jsxs)("div",{className:"flex items-center",children:[(0,M.jsx)(ej,{className:"rounded-r-none",value:e,type:"text",onChange:e=>{let n=e.target.value;a(e=>{var r;return ex(ex({},e),{},{promptStarters:(0,K.compact)(t>=(null!==(r=L.length)&&void 0!==r?r:0)?[...null!=L?L:[],n]:L.map((e,r)=>{if(r===t){if(""===n)return;return n}return e}))})})}}),(0,M.jsx)("button",{className:"flex h-9 w-9 items-center justify-center rounded-lg rounded-l-none border border-l-0 border-token-border-medium",onClick:()=>a(e=>ex(ex({},e),{},{promptStarters:L.filter((e,n)=>n!==t)})),children:(0,M.jsx)(I.v7,{className:"icon-sm"})})]},t))})]}),(0,M.jsxs)(eb,{children:[(0,M.jsx)(eP,{label:(0,M.jsx)(v.Z,{id:"bwXSkU",defaultMessage:"Knowledge"}),description:H.formatMessage(eL.knowledgeExplanation)}),(0,M.jsx)(ed,{gizmoEditorData:l,requireGizmoId:y,currentModelConfig:d,updateGizmo:a})]}),(0,M.jsxs)(eb,{children:[(0,M.jsx)(eP,{label:(0,M.jsx)(v.Z,{id:"mcAwDU",defaultMessage:"Capabilities"}),description:(0,M.jsx)(v.Z,{id:"2exQT6",defaultMessage:"Functionality this GPT can use"})}),(0,M.jsx)(em.W,{enabledTools:O,onEnabledToolsChange:e=>a({tools:e})})]}),(0,M.jsxs)(eb,{children:[(0,M.jsx)(eP,{label:(0,M.jsx)(v.Z,{id:"7r7v+u",defaultMessage:"Actions"}),description:(0,M.jsx)(v.Z,{id:"fBln7I",defaultMessage:"APIs this GPT can use"})}),(0,M.jsx)(eN,{isDisabled:!!(F&&!U),gizmo:l,onShowActionsEditor:w})]}),(A||!F&&eT(l))&&(0,M.jsxs)(eb,{children:[(0,M.jsx)(eP,{label:(0,M.jsx)(v.Z,{id:"R3KeU7",defaultMessage:"Additional Settings"}),collapsed:!!T,onClick:()=>{D(e=>!e)}}),(0,M.jsxs)(eO,{collapsed:T,initial:!1,children:[!F&&eT(l)&&(0,M.jsx)(G.f8,{className:"mx-3 my-1",labelClassName:"w-full cursor-pointer",label:(0,M.jsx)(v.Z,{id:"tZgwFW",defaultMessage:"Use conversation data in your GPT to improve our models"}),id:"improve-chatgpt",checked:!l.trainingDisabled,onChange:()=>{a({trainingDisabled:!l.trainingDisabled})}}),A&&(0,M.jsx)(G.f8,{className:"mx-3 my-1",labelClassName:"w-full cursor-pointer",label:(0,M.jsxs)("div",{className:"flex items-center",children:[(0,M.jsx)(v.Z,{id:"WjCxPA",defaultMessage:"Use GPT-4T legacy model"}),(0,M.jsx)(ew,{description:H.formatMessage(eL.useGPT4ForEnterpriseTooltip)})]}),id:"use-gpt-4-model",checked:l.useGPT4ForEnterprise,onChange:()=>{a({useGPT4ForEnterprise:!l.useGPT4ForEnterprise})}})]})]}),X&&(0,M.jsx)(eM,{gizmoEditorData:l,updateGizmo:a}),Y&&!q&&(0,M.jsx)(z,{gizmoEditorData:l,updateGizmo:a}),q&&(0,M.jsx)(f.q,{gizmoEditorData:l,onOpen:P})]}),C&&(0,M.jsx)(ef,{text:null!==(o=l.instructions)&&void 0!==o?o:"",onChange:e=>{a({instructions:e})},onClose:()=>N(!1),placeholder:H.formatMessage(eL.instructionsSubtitle)})]})}let eM=J()(()=>Promise.all([n.e(8682),n.e(1952)]).then(n.bind(n,50921)).then(e=>e.GizmoContactsEditor),{loadableGenerated:{webpack:()=>[50921]}}),eL=(0,Q.vU)({nameTooLong:{id:"gizmo.nameTooLong",defaultMessage:"GPT names cannot be longer than {length} characters."},knowledgeExplanation:{id:"gizmo.knowledgeExplanation",defaultMessage:"Additional files for this GPT to reference."},descriptionTooLong:{id:"gizmo.descriptionTooLong",defaultMessage:"GPT descriptions cannot be longer than {length} characters."},instructionsTooLong:{id:"gizmo.instructionsTooLong",defaultMessage:"GPT instructions cannot be longer than {length} characters."},disabledCustomActionsTooltip:{id:"gizmo.disabledCustomActionsTooltip",defaultMessage:"Custom actions are disabled for your workspace. Contact your admin to enable them."},createActionLabel:{id:"gizmo.createActionLabel",defaultMessage:"Create new action"},maxActionsReached:{id:"gizmo.maxActionsReached",defaultMessage:"GPTs can have a maximum of {number} actions"},descriptionPlaceholder:{id:"gizmo.descriptionPlaceholder",defaultMessage:"Add a short description about what this GPT does"},instructionsSubtitle:{id:"gizmo.instructionsSubtitle",defaultMessage:"What does this GPT do? How does it behave? What should it avoid doing?"},gptNamePlaceholder:{id:"gizmo.gptNamePlaceholder",defaultMessage:"Name your GPT"},callbackUrlLabel:{id:"gizmo.callbackUrlLabel",defaultMessage:"Callback URL"},useGPT4ForEnterpriseTooltip:{id:"gizmo.useGPT4ForEnterpriseTooltip",defaultMessage:"This will be supported until July 1, 2024 when all GPTs will then use our flagship model GPT-4o."}})},83135:function(e,t,n){n.d(t,{W:function(){return g}});var r=n(24312),i=n(95312),s=n(35667),o=n(21292),l=n(25553),a=n(16128),c=n(87357);n(92379);var d=n(88041),u=n(84551),p=n(94695),f=n(651);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){let{label:t,toolType:n,enabledTools:r,onEnabledToolsChange:i,disabled:s,disabledTooltip:l}=e,c=e=>r.some(t=>t.type===e),d=(0,f.jsx)(a.f8,{labelClassName:"w-full cursor-pointer",id:n,label:t,checked:!s&&c(n),disabled:s,onChange:()=>{c(n)?i(r.filter(e=>e.type!==n)):i([...r,{type:n}])}});return null!=l?(0,f.jsx)("div",{className:"opacity-70",children:(0,f.jsx)(o.u,{side:"top",label:l,children:d})}):d}function g(e){let{enabledTools:t,onEnabledToolsChange:n}=e,o=(0,s.C)(c.L0.BrowsingAvailable),a=(0,d.Z)();return(0,f.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,f.jsx)(h,{label:(0,f.jsx)(u.Z,{id:"tNlef1",defaultMessage:"Web Browsing"}),toolType:i.qK.BROWSER,enabledTools:t,onEnabledToolsChange:n,disabled:!o,disabledTooltip:o?void 0:(0,f.jsx)(u.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},x.disabledBrowsingToolTip))}),(0,f.jsx)(h,{label:(0,f.jsx)(u.Z,{id:"uSmS/p",defaultMessage:"DALL\xb7E Image Generation"}),toolType:i.qK.DALLE,enabledTools:t,onEnabledToolsChange:n}),(0,f.jsx)(h,{label:(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)(u.Z,{id:"TdeK/Z",defaultMessage:"Code Interpreter"}),(0,f.jsx)(l.rv,{description:a.formatMessage(x.codeInterpreterTooltip)})]}),toolType:i.qK.PYTHON,enabledTools:t,onEnabledToolsChange:n})]})}let x=(0,p.vU)({disabledBrowsingToolTip:{defaultMessage:"Web browsing is disabled for your workspace. Contact your admin to enable it.",id:"GizmoEditorModelPicker.disabledBrowsingToolTip"},codeInterpreterTooltip:{id:"GizmoEditorModelPicker.codeInterpreterTooltip",defaultMessage:"Allow this GPT to run code. When enabled, this GPT can analyze data, work with files youâ€™ve uploaded, do math, and more."},memoryTooltip:{id:"GizmoEditorModelPicker.memoryTooltip",defaultMessage:"Allow this GPT to pick up on users details and preferences to tailor its responses to them. When enabled, users will need to have memory on to use this GPT."}})},31262:function(e,t,n){n.d(t,{bw:function(){return f},hs:function(){return u},sw:function(){return p},x$:function(){return d}});var r,i=n(24312),s=n(95312),o=n(24109),l=n(13920);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){return null==t?e:(t=function e(t){return"object"==typeof t&&null!=t?Array.isArray(t)?t.map(e):Object.fromEntries(Object.entries(t).map(t=>{let[n,r]=t;return[n,e(r)]})):null===t?void 0:t}(t),c(c({},e),t))}let u=((r={})[r.Loading=0]="Loading",r[r.UploadingProfilePic=1]="UploadingProfilePic",r[r.GeneratingProfilePic=2]="GeneratingProfilePic",r[r.GizmoNameTooLong=3]="GizmoNameTooLong",r[r.GizmoDescriptionTooLong=4]="GizmoDescriptionTooLong",r[r.GizmoInstructionsTooLong=5]="GizmoInstructionsTooLong",r[r.NameEmpty=6]="NameEmpty",r[r.MissingPublicActionPrivacyPolicyURL=7]="MissingPublicActionPrivacyPolicyURL",r[r.MissingCategory=8]="MissingCategory",r);function p(e){switch(e){case u.Loading:return"Loading";case u.UploadingProfilePic:return"Uploading profile picture";case u.GeneratingProfilePic:return"Generating profile picture";case u.GizmoNameTooLong:return"GPT name too long";case u.GizmoDescriptionTooLong:return"GPT description too long";case u.GizmoInstructionsTooLong:return"GPT instructions too long";case u.NameEmpty:return"GPT name cannot be empty";case u.MissingPublicActionPrivacyPolicyURL:return"Public actions require valid privacy policy URLs";case u.MissingCategory:return"Public GPTs must have a category"}}function f(e,t,n){var r,i,a,c,d,p;let f=e.name.length>l.aI,m=(null!==(r=null===(i=e.description)||void 0===i?void 0:i.length)&&void 0!==r?r:0)>l.P_,h=(null!==(a=null===(c=e.instructions)||void 0===c?void 0:c.length)&&void 0!==a?a:0)>l.vi,g=[];if((null==e?void 0:e.name)===""&&g.push(u.NameEmpty),f&&g.push(u.GizmoNameTooLong),m&&g.push(u.GizmoDescriptionTooLong),h&&g.push(u.GizmoInstructionsTooLong),null!=t&&("link"===t||"marketplace"===t))for(let t of null===(d=e.tools)||void 0===d?void 0:d.filter(e=>e.type===s.qK.JIT_PLUGIN)){let e=null===(p=t.metadata)||void 0===p?void 0:p.privacy_policy_url;if(null==e||!function(e){try{return new URL(e),!0}catch(e){return!1}}(e)){g.push(u.MissingPublicActionPrivacyPolicyURL);break}}return t===o.Zz.Marketplace&&null==n&&g.push(u.MissingCategory),g}},72169:function(e,t,n){n.d(t,{H:function(){return a},W:function(){return c}});var r=n(24312),i=n(30407),s=n(93159),o=n(54945);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){return null==e||[i.OL.PrimaryAssistant,i.OL.GizmoInteraction].includes(e.kind)}function c(e,t){let n=(0,o.WA)(e,t),{data:a}=(0,s.b9)(null!=n&&"gizmo_id"in n?n.gizmo_id:void 0,(null==n?void 0:n.kind)===i.OL.GizmoTest);if(null!=n)switch(n.kind){case i.OL.GizmoInteraction:case i.OL.GizmoMagicCreate:case i.OL.GizmoTest:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({gizmo:a},n);case i.OL.PrimaryAssistant:return n}}}}]);
//# sourceMappingURL=5553-552c548b104706c0.js.map