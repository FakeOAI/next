"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9786],{64216:function(e,t,n){var r=n(79746),s=n(11550),i=n(11433),o=n(651);t.Z=e=>{let{label:t,value:n,onCopied:a}=e,l=()=>{(0,r.v)(n),a()};return(0,o.jsxs)("div",{className:"flex flex-col space-y-2",children:[void 0!==t&&(0,o.jsx)("label",{className:"font-semibold",children:t}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{onClick:l,className:"w-full cursor-pointer break-all rounded-lg bg-token-main-surface-tertiary px-4 py-2 font-mono text-sm text-token-text-primary",children:n}),(0,o.jsx)(s.z,{color:"ghost",onClick:l,icon:i.TIy})]})]})}},98303:function(e,t,n){n.d(t,{C:function(){return s}});var r=n(93951);function s(e){let t=(0,r.hz)();return!r.t()?.isWorkspaceAccount()||(t?.includes(e)??!1)}},88491:function(e,t,n){n.d(t,{Z:function(){return O}});var r,s=n(98601),i=n(99333),o=n(11550),a=n(64216),l=n(6440),c=n(59144),d=n(36792),u=n(11433),m=n(24434),f=n(24740),x=n(2721),g=n(42420),h=n(56032),p=n(92379),y=n(49764),j=n(75325),b=n(47584),v=n(12310),M=n(651);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=((r=w||{})[r.INITIAL=0]="INITIAL",r[r.PENDING=1]="PENDING",r[r.FINAL=2]="FINAL",r);function O(e){let{workspaceId:t,isOpen:n,onClose:r,currentDomain:s,domains:o=[],showUnverifiedDomains:l=!1,onVerifyDomain:d}=e,u=(0,y.Z)(),{mutateAsync:b,isPending:v}=function(e){let t=(0,g.NL)();return(0,h.D)({mutationFn:t=>{let{hostname:n}=t;return x.Z.addDomainToWorkspace(e,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:e=>{f.m.danger(e.message)}})}(t),{mutateAsync:N,isPending:O}=function(e){let t=(0,g.NL)();return(0,h.D)({mutationFn:t=>{let{domainId:n}=t;return x.Z.checkDomainForWorkspace(e,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:e=>{f.m.danger(e.message)}})}(t),{0:P,1:D}=(0,p.useState)(s??void 0),{0:T,1:_}=(0,p.useState)(s?.hostname),{0:S,1:I}=(0,p.useState)(s?.status===void 0?w.INITIAL:s?.status===i.pT.PENDING?w.PENDING:w.FINAL),L=()=>{s||(D(void 0),I(w.INITIAL))},E=async()=>{if(void 0===T)return;let e=o.find(e=>e.hostname===T&&e.status===i.pT.PENDING);if(e)D(e),I(w.PENDING);else{let e=await b({hostname:T});"id"in e&&D(e),I(w.PENDING)}},B=(0,M.jsx)(c.Z.Button,{title:u.formatMessage(C.check),color:"primary",disabled:P?.id===void 0||O,onClick:async()=>{if(P?.id){let e=await N({domainId:P.id});"error"in e&&f.m.danger(u.formatMessage(C.domainCheckError,{message:e.error.message})),"id"in e&&(d&&d(e),e.status===i.pT.VERIFIED&&I(w.FINAL))}}}),G=(0,M.jsx)(c.Z.Button,{title:u.formatMessage(C.submit),color:"primary",disabled:void 0===T||v,onClick:E}),A=(0,M.jsx)(c.Z.Button,{title:u.formatMessage(C.done),color:"primary",onClick:()=>{L(),r()}});return(0,M.jsxs)(m.Z,{isOpen:n,onClose:()=>{L(),r()},type:"success",className:"text-token-text-secondary",title:u.formatMessage(S===w.INITIAL?C.newTitle:C.editTitle),primaryButton:S===w.INITIAL?G:S===w.PENDING?B:A,secondaryButton:(0,M.jsx)(c.Z.Button,{title:u.formatMessage(C.cancel),color:"secondary",onClick:()=>{L(),r()}}),children:[S===w.INITIAL&&(0,M.jsx)(Z,{hostname:T,onSetHostname:_,onSubmit:E,unverifiedDomains:l?o:[],onVerifyDomain:e=>{I(w.PENDING),D(e)},workspaceId:t}),S===w.PENDING&&(0,M.jsxs)("div",{className:"flex flex-col gap-3",children:[u.formatMessage(C.verificationTokenMessage,{hostname:P?.hostname}),P?.dns_verification_token_string&&(0,M.jsx)(a.Z,{value:P.dns_verification_token_string,onCopied:()=>{f.m.success(u.formatMessage(C.copiedTXTRecordToClipboard),{duration:3})}}),(0,M.jsx)(j.Z,k({},C.verificationTokenFooter))]}),S===w.FINAL&&(0,M.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,M.jsx)(j.Z,k(k({},C.successfulVerification),{},{values:{hostname:P?.hostname}})),P?.dns_verification_token_string&&(0,M.jsx)(a.Z,{value:P.dns_verification_token_string,onCopied:()=>{f.m.success(u.formatMessage(C.copiedTXTRecordToClipboard),{duration:3})}})]})]})}function P(e){let{unverifiedDomains:t,onVerifyDomain:n,workspaceId:r}=e,{mutateAsync:s}=(0,v.Bd)(r);return(0,M.jsxs)(d.Z.Root,{fixed:!0,size:"compact",className:"mb-6 border-b border-token-border-light",children:[(0,M.jsxs)(d.Z.Header,{children:[(0,M.jsx)(d.Z.HeaderCell,{children:(0,M.jsx)(j.Z,k({},C.unverifiedDomainsTableHeader))}),(0,M.jsx)(d.Z.HeaderCell,{textAlign:"right"})]}),t.map(e=>(0,M.jsxs)(d.Z.Row,{children:[(0,M.jsx)(d.Z.Cell,{children:e.hostname}),(0,M.jsx)(d.Z.Cell,{textAlign:"right",children:(0,M.jsxs)("div",{className:"flex gap-2",children:[(0,M.jsx)(o.z,{color:"secondary",size:"small",onClick:()=>n(e),children:(0,M.jsx)(j.Z,k({},C.verifyDomainButton))}),(0,M.jsx)(o.z,{color:"secondary",size:"small",onClick:()=>s({domainId:e.id}),icon:u.XHJ})]})})]},e.id))]})}function Z(e){let{hostname:t,onSetHostname:n,onSubmit:r,unverifiedDomains:s,onVerifyDomain:i,workspaceId:o}=e,a=(0,y.Z)();return(0,M.jsxs)(M.Fragment,{children:[s&&s.length>0&&(0,M.jsx)(P,{workspaceId:o,unverifiedDomains:s,onVerifyDomain:i}),(0,M.jsx)("form",{onSubmit:e=>{e.preventDefault(),r()},children:(0,M.jsxs)("div",{className:"mb-4",children:[(0,M.jsx)("label",{className:"mb-2 flex items-center text-sm font-semibold",children:(0,M.jsx)(j.Z,k({},C.domainInput))}),(0,M.jsx)(l.Z,{name:"hostname",placeholder:a.formatMessage(C.placeholder),value:t??"",onChange:e=>{n(e.target.value)}})]})})]})}let C=(0,b.vU)({newTitle:{id:"domainModal.newTitle.0",defaultMessage:"Verify a new domain"},editTitle:{id:"domainModal.editTitle",defaultMessage:"Manage Domain"},submit:{id:"domainModal.submit",defaultMessage:"Submit"},check:{id:"domainModal.check",defaultMessage:"Check"},done:{id:"domainModal.done",defaultMessage:"Done"},cancel:{id:"domainModal.cancel",defaultMessage:"Cancel"},domainInput:{id:"domainModal.domainInput.0",defaultMessage:"Add a new domain"},placeholder:{id:"domainModal.placeholder",defaultMessage:"openai.com"},domainCheckError:{id:"domainModal.domainCheckError",defaultMessage:"Your domain could not be verified: {message}"},verificationTokenMessage:{id:"domainModal.verificationTokenMessage",defaultMessage:"To verify ownership of {hostname}, navigate to your DNS provider and add a TXT record with this value:"},verificationTokenFooter:{id:"domainModal.verificationTokenFooter",defaultMessage:"Then, check the record to complete the verification."},successfulVerification:{id:"domainModal.successfulVerification.0",defaultMessage:'Your domain, "{hostname}" has been successfully verified'},copiedTXTRecordToClipboard:{id:"domainModal.copiedTXTRecordToClipboard",defaultMessage:"Copied DNS TXT record to clipboard"},verifyDomainButton:{id:"domainModal.verifyDomainButton",defaultMessage:"Verify"},unverifiedDomainsTableHeader:{id:"domainModal.unverifiedDomainsTableHeader",defaultMessage:"Your unverified domains"}})},5691:function(e,t,n){n.d(t,{AJ:function(){return a},JQ:function(){return u},L_:function(){return c},Ul:function(){return d},e6:function(){return l},i5:function(){return m}});var r=n(99333),s=n(82920),i=n(47584),o=n(651);let a=(0,i.Em)({defaultMessage:"Microsoft OneDrive (personal)",id:"ContextConnector.OneDrivePersonal.name"}),l=(0,i.Em)({defaultMessage:"Microsoft OneDrive (work/school)",id:"ContextConnector.OneDriveBusiness.name"}),c=(0,i.vU)({includesSharePoint:{id:"ContextConnectorPicker.o365BusinessIncludesSharePoint",defaultMessage:"Includes SharePoint"}});function d(e,t){switch(e){case r.PO.GDRIVE:return"Google Drive";case r.PO.O365:return"Microsoft OneDrive";case r.PO.O365_PERSONAL:return t?.formatMessage(a)??"Microsoft OneDrive (personal)";case r.PO.O365_BUSINESS:return t?.formatMessage(l)??"Microsoft OneDrive (work/school)"}}function u(e,t){switch(e){case r.PO.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case r.PO.O365:case r.PO.O365_PERSONAL:case r.PO.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}}(0,s.ZP)(e)}function m(e){let{contextConnector:t,extension:n}=e;return(0,o.jsx)(o.Fragment,{children:u(t,n)})}},92683:function(e,t,n){n.d(t,{aB:function(){return h},fK:function(){return j},g2:function(){return g}});var r=n(99333),s=n(70663),i=n(59358),o=n(2721),a=n(93951),l=n(86025),c=n(84760),d=n(52455),u=n(18939),m=n.n(u),f=n(92379);let x=new Map;function g(){let{gdriveLinkStatus:e,o365BusinessLinkStatus:t,o365PersonalLinkStatus:n}=(0,s.r)();return y(e,t,n)}function h(){let{gdriveStatus:e,o365Status:t}=(0,s.r)();return y(e,t,t)}let p=[r.PO.GDRIVE,r.PO.O365_PERSONAL,r.PO.O365_BUSINESS];function y(e,t,n){let s=(0,a.t)(),o=s?.getWorkspaceId(),{connectors:l,isLoading:c}=j(p),{data:d,isLoading:u}=(0,i.C)(o),x=!o||d?.beta_settings?.context_connector_gdrive,g=!o||d?.beta_settings?.context_connector_o365_personal,h=!o||d?.beta_settings?.context_connector_o365_business,y=l.get(r.PO.GDRIVE),b=l.get(r.PO.O365_PERSONAL),v=l.get(r.PO.O365_BUSINESS),M=(e,t)=>"true"===e||"ifConnected"===e&&t;return{connectorConfig:(0,f.useMemo)(()=>{let s=M(e,!!y?.access_token),i=!!(b?.access_token??v?.access_token),o=M(t,i),a=M(n,i),l=[s&&y&&x?[r.PO.GDRIVE,y]:null,a&&b&&g?[r.PO.O365_PERSONAL,b]:null,o&&v&&h?[r.PO.O365_BUSINESS,v]:null];return new Map(m()(l))},[y,e,b,v,t,n,x,g,h]),isLoading:c||u}}function j(e){let{0:t,1:n}=(0,f.useState)(x),{isUnauthenticated:r}=(0,l.u)(),{isSuccess:s,data:i,isLoading:o}=(0,c.a)({queryKey:["fetchConnectorData",e],queryFn:b,refetchInterval:18e5,enabled:!r});return(0,f.useEffect)(()=>{s&&n(new Map(i.map(e=>[e.type,e])))},[s,i]),{connectors:t,isLoading:o}}async function b(e){let{queryKey:t}=e,[n,s]=t,i=null;try{i=await o.Z.checkConnectorAPI(s)}catch(e){d.U.addError(Error("Error while retrieving context connector entry",{cause:e}))}return i?i.connectors.map(e=>{if(!e.access_token)return e;if(e.type===r.PO.O365_PERSONAL)e.onedrive_endpoint_hint={type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"};else if(e.type===r.PO.O365_BUSINESS){let t=e.onedrive_business_metadata?.base_url;if(t){let n=new URL(t);e.onedrive_endpoint_hint={type:"business",baseUrl:t,parsedUrl:`https://${n.hostname}/_layouts/15/FilePicker.aspx`}}}return e}):[]}},70663:function(e,t,n){n.d(t,{r:function(){return o}});var r=n(31498),s=n(88667),i=n(92379);function o(){let e=(0,r.aF)(),t=(0,s.xb)("1967546325").config,n=t.get("gdrivePicker",!1),o=t.get("o365Picker",!1),l=t.get("gdriveLink",!1),c=t.get("o365PersonalLink",!1),d=t.get("o365BusinessLink",!1),u=t.get("gdrivePercentage",0),m=t.get("o365Percentage",0),f=t.get("loadTestPercentage",0),x=t.get("showWorkspaceSettings",!1),g=e?Math.abs(function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return t}(e.id)%100):null;return(0,i.useMemo)(()=>({gdriveStatus:a(n,g,u),o365Status:a(o,g,m),gdriveLinkStatus:a(l,g,u),o365PersonalLinkStatus:a(c,g,m),o365BusinessLinkStatus:a(d,g,m),loadTest:"true"===a(!0,g,f),showWorkspaceSettings:x}),[n,g,u,o,m,l,c,d,f,x])}function a(e,t,n){return e&&null!=t?t<n?"true":"ifConnected":"false"}},53128:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(49764),s=n(47584),i=n(59144),o=n(24434),a=n(651);function l(e){let{title:t,description:n,confirmText:s,cancelText:l,isOpen:d=!1,onClose:u,onConfirm:m,primaryButtonColor:f="primary",children:x}=e,g=(0,r.Z)();return(0,a.jsx)(o.Z,{isOpen:d,onClose:u,type:"success",title:t,description:n,primaryButton:(0,a.jsx)(i.Z.Button,{title:s??g.formatMessage(c.confirmLabel),color:f,onClick:m}),secondaryButton:(0,a.jsx)(i.Z.Button,{title:l??g.formatMessage(c.cancelLabel),color:"secondary",onClick:u}),children:x})}let c=(0,s.vU)({confirmLabel:{id:"ConfirmModal.confirmLabel",defaultMessage:"Confirm"},cancelLabel:{id:"ConfirmModal.cancelLabel",defaultMessage:"Cancel"}})},83036:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(42110),s=n(10449);n(52455);var i=n(88667),o=n(92379),a=n(75325),l=n(15478),c=n(11433),d=n(651);let u=l.Z.div`text-sm text-token-text-tertiary`;function m(e){let t,n,{gizmo:s,builderName:o,builderUrl:l,className:m,socials:x,hideLink:g=!1}=e,{value:h}=(0,i.sB)("2256850471");s&&"gizmo"in s?(t=s.gizmo.author.display_name,n=s.gizmo.author.link_to):(t=o,n=l),(""===t||null==t)&&(t="community builder");let p=x?.filter(e=>e.verified),y=(0,d.jsxs)("div",{className:"w-48 space-y-4 text-sm",children:[n&&(0,d.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[(0,d.jsx)(c.n9J,{className:"icon-md"}),(0,d.jsx)("span",{children:(0,d.jsx)(a.Z,{id:"gizmo.author.websiteLabel",defaultMessage:"Website"})})]}),(0,d.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:n,className:"text-token-text-tertiary hover:cursor-pointer",children:(0,d.jsx)(c.Pfi,{className:"icon-sm"})})]}),h&&p?.map((e,t)=>e.verified?d.jsx(r.lD,{socialData:e},t):null),(0,d.jsxs)("div",{className:"text-xs text-token-text-tertiary",children:[(n||p&&p.length>0)&&(0,d.jsx)("hr",{className:"my-2 border-token-border-light"}),(0,d.jsx)(a.Z,{id:"gizmo.author.cannotViewLabel",defaultMessage:"The builder of this GPT cannot view your conversations."})]})]});return(0,d.jsxs)("div",{className:"flex flex-row items-center space-x-1",children:[(0,d.jsx)(u,{className:m,children:(0,d.jsx)(a.Z,{id:"gizmo.author.byLabel",defaultMessage:"By {displayName}",values:{displayName:t}})}),!g&&(0,d.jsx)(f,{socials:x,website:n,children:y})]})}function f(e){let{website:t,socials:n,children:r}=e,{0:i,1:a}=(0,o.useState)(!1),l=[];t&&l.push((0,d.jsx)(c.n9J,{className:"icon-xs text-token-text-secondary"})),n&&n.forEach(e=>{e.verified&&("twitter"===e.type?l.push((0,d.jsx)(c.suT,{className:"icon-xs text-token-text-secondary"})):"linkedin"===e.type?l.push((0,d.jsx)(c.O9,{className:"icon-xs text-token-text-secondary"})):"github"===e.type&&l.push((0,d.jsx)(c.C2$,{className:"icon-xs text-token-text-secondary"})))});let u=l.length-2;return l=l.slice(0,2),u>0&&l.push((0,d.jsxs)("span",{className:"text-xs font-semibold text-token-text-secondary",children:["+",u]},"overflow")),(0,d.jsx)(s.fC,{open:i,onOpenChange:a,children:(0,d.jsxs)("div",{onPointerLeave:()=>a(!1),children:[(0,d.jsx)(s.xz,{asChild:!0,children:(0,d.jsx)("div",{onPointerEnter:()=>a(!0),children:l.length>0?(0,d.jsx)("div",{className:"flex items-center gap-1 rounded-xl bg-token-main-surface-secondary px-2 py-1",children:l}):(0,d.jsx)(c.tBG,{className:"icon-xs text-token-text-secondary"})})}),(0,d.jsx)(s.VY,{side:"top",sideOffset:8,align:"center",className:"z-10 rounded-lg bg-token-main-surface-primary p-4 drop-shadow-md",children:r})]})})}},12128:function(e,t,n){n.d(t,{M:function(){return c},Z:function(){return l}});var r=n(25162),s=n(11433),i=n(39004),o=n(10080),a=n(651);function l(e){let{isFirstParty:t,src:n,alt:i,className:o}=e;return(0,a.jsx)("div",{className:o,children:null!=n?(0,a.jsx)("div",{className:"gizmo-shadow-stroke overflow-hidden rounded-full",children:(0,a.jsx)("img",{src:n,className:"h-full w-full bg-token-main-surface-secondary",alt:i??"GPT",width:80,height:80})}):(0,a.jsx)("div",{className:"gizmo-shadow-stroke relative flex h-full items-center justify-center rounded-full bg-token-main-surface-primary text-token-text-primary",children:t?(0,a.jsx)(r.nI,{className:"h-2/3 w-2/3"}):(0,a.jsx)(s.uy2,{className:"h-2/3 w-2/3 text-gray-400"})})})}function c(e){let{gizmoId:t,className:n}=e,{data:r}=(0,i.b9)(t);return(0,a.jsx)(l,{src:r?.gizmo.display.profile_picture_url,isFirstParty:r?.gizmo.tags?.includes(o.U9.FirstParty)??!1,className:n})}},42110:function(e,t,n){n.d(t,{lD:function(){return k},s6:function(){return w},tw:function(){return N}});var r=n(98601),s=n(88491),i=n(12310),o=n(11550),a=n(98095),l=n(11433),c=n(99555),d=n(81690),u=n(97537),m=n(93951),f=n(54089),x=n(42420),g=n(56032),h=n(19841),p=n(92379),y=n(75325),j=n(47584),b=n(651);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N(e){let{selectedDomain:t,verifiedDomains:n,domains:r,onChangeDomain:o}=e,{0:c,1:d}=(0,p.useState)(!1),u=n.length>0,x=m.t()?.id,g=m.t()?.isEnterprisey(),{mutateAsync:h}=(0,i.Bd)(x);return(0,b.jsxs)("div",{className:"font-normal",children:[(0,b.jsxs)(a.Z.Root,{children:[(0,b.jsx)(f.xz,{children:(0,b.jsxs)("span",{className:"flex items-center gap-2 py-2",children:[t??(0,b.jsx)(y.Z,M({},O.selectADomain)),(0,b.jsx)(l.T2M,{className:"icon-md"})]})}),(0,b.jsx)(a.Z.Portal,{children:(0,b.jsxs)(a.Z.Content,{children:[(0,b.jsx)(a.Z.RadioGroup,{value:t,onValueChange:e=>{e!==t&&o(e)},children:n.map(e=>{let{id:t,hostname:n}=e;return(0,b.jsx)(a.Z.RadioItem,{value:n,children:(0,b.jsxs)("div",{className:"flex flex-row",children:[(0,b.jsx)("span",{children:n}),(0,b.jsx)("span",{onClick:()=>{h({domainId:t}),o("")},children:(0,b.jsx)(l.XHJ,{className:"icon-sm fixed right-4"})})]})},t)})}),u&&(0,b.jsx)(a.Z.Separator,{}),(0,b.jsx)(a.Z.Item,{onClick:()=>{d(!0)},icon:l.Vz5,children:(0,b.jsx)(y.Z,M({},O.addDomain))})]})})]}),x&&!g&&(0,b.jsx)(s.Z,{domains:r,isOpen:c,onClose:()=>d(!1),workspaceId:x,showUnverifiedDomains:!0,onVerifyDomain:e=>{o(e.hostname)}})]})}function k(e){let{socialData:t}=e,{type:n,display_name:r,verified_data:s}=t,i="twitter"===n?l.suT:"linkedin"===n?l.O9:"github"===n?l.C2$:null;return i?(0,b.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[i({className:"icon-md"}),(0,b.jsx)("span",{children:r})]}),s?.link_to&&(0,b.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:s.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:(0,b.jsx)(l.Pfi,{className:"icon-sm"})})]}):null}function w(e){let{socialData:t,icon:n}=e,{id:r,type:s,display_name:i,verified:a,verified_data:m}=t,{0:f,1:j}=(0,p.useState)(!1),v=function(){let e=(0,x.NL)();return(0,g.D)({mutationFn:e=>{let{verifierType:t}=e;return c.U.unverifySocialAuth(t)},onSuccess:()=>{e.refetchQueries({queryKey:["builderProfile"]})}})}();return(0,b.jsxs)("div",{className:"flex flex-row items-center justify-between space-y-1",children:[(0,b.jsxs)("div",{className:(0,h.default)("flex items-center space-x-2"),children:[(0,b.jsx)(n,{className:"icon-sm"}),(0,b.jsx)("span",{children:i}),a&&m?.username&&(0,b.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:m.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:m?.username})]}),a?(0,b.jsx)("div",{className:"py-1 font-semibold hover:cursor-pointer",onClick:()=>{v.mutate({verifierType:s})},children:v.isPending?(0,b.jsx)(u.Z,{}):(0,b.jsx)(l.tPq,{className:"icon-sm text-token-text-tertiary"})}):(0,b.jsx)(o.z,{size:"small",color:"secondary",loading:f,onClick:async()=>{j(!0),await (0,d.Up)({id:r},"#settings/BuilderProfile"),j(!1)},children:(0,b.jsx)(y.Z,M({},O.verify))})]})}let O=(0,j.vU)({verify:{defaultMessage:"Add",id:"GizmoSocialRow.add"},addDomain:{id:"GizmoSocialRow.addDomain",defaultMessage:"Verify new domain"},selectADomain:{id:"GizmoSocialRow.selectADomain",defaultMessage:"Select a domain"}})},94841:function(e,t,n){n.d(t,{Z:function(){return k},d:function(){return M}});var r=n(98601),s=n(99333),i=n(58025),o=n(83963),a=n(45120),l=n(91530),c=n.n(l),d=n(92379),u=n(49764),m=n(75325),f=n(47584),x=n(59144),g=n(11433),h=n(24434),p=n(60682),y=n(651);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let v=p.pm.MemoryOnboarding;function M(){let e=(0,o.ll)(),{eligible:t,isLoading:n}=(0,p.qg)(v);return{eligible:t&&e,isLoading:n}}function N(e){let{icon:t,title:n,description:r}=e;return(0,y.jsxs)("div",{className:"flex items-start",children:[(0,y.jsx)("div",{className:"mt-1",children:t}),(0,y.jsxs)("div",{className:"ml-4",children:[(0,y.jsx)("div",{className:"text-lg font-semibold",children:n}),(0,y.jsx)("p",{className:"mt-1 text-sm text-token-text-secondary",children:r})]})]})}function k(e){let{onClose:t}=e,n=function(){let{value:e}=(0,a.fW)("1542198993");return e}(),r=(0,i.Gt)(),o=(0,u.Z)(),{markAsViewed:l}=(0,p.qg)(v),f=(0,d.useCallback)(()=>{l(),t()},[l,t]);return(0,y.jsx)(h.Z,{isOpen:!0,onClose:c(),size:"custom",className:"max-w-xl",type:"success",title:o.formatMessage(w.title),secondaryButton:n?(0,y.jsx)(x.Z.Button,{onClick:()=>{f()},title:o.formatMessage(w.notNow),color:"secondary"}):null,primaryButton:n?(0,y.jsx)(x.Z.Button,{onClick:()=>{r.mutate({setting:s.sh.Sunshine,value:!0}),f()},title:o.formatMessage(w.enable),color:"primary"}):(0,y.jsx)(x.Z.Button,{onClick:f,title:o.formatMessage(w.continue),color:"primary"}),children:(0,y.jsxs)("div",{className:"mb-6 flex flex-col gap-3",children:[(0,y.jsx)(N,{icon:(0,y.jsx)(g.qZr,{}),title:o.formatMessage(w.bulletTitle1),description:o.formatMessage(w.bulletDescription1)}),(0,y.jsx)(N,{icon:(0,y.jsx)(g.o0m,{}),title:o.formatMessage(w.bulletTitle2),description:(0,y.jsx)(m.Z,b(b({},w.bulletDescription2),{},{values:{learnMoreLink:e=>(0,y.jsx)("a",{href:"https://help.openai.com/en/articles/5722486-how-your-data-is-used-to-improve-model-performance",target:"_blank",rel:"noreferrer",className:"cursor-pointer underline",children:e})}}))}),(0,y.jsx)(N,{icon:(0,y.jsx)(g.JGH,{}),title:o.formatMessage(w.bulletTitle3),description:o.formatMessage(w.bulletDescription3)})]})})}let w=(0,f.vU)({title:{id:"MemoryOnboardingModal.title.1",defaultMessage:"ChatGPT now has memory"},bulletTitle1:{id:"MemoryOnboardingModal.bulletTitle1",defaultMessage:"Keep the conversation going"},bulletDescription1:{id:"MemoryOnboardingModal.bulletDescription1.1",defaultMessage:"ChatGPT will automatically remember details and preferences you share in your conversations, carrying them between chats."},bulletTitle2:{id:"MemoryOnboardingModal.bulletTitle2.1",defaultMessage:"A smarter assistant"},bulletDescription2:{id:"MemoryOnboardingModal.bulletDescription2.2",defaultMessage:"Memories are used to give you more relevant responses and may be used to train our models if you have model training enabled. <learnMoreLink>Learn more</learnMoreLink>"},bulletTitle3:{id:"MemoryOnboardingModal.bulletTitle3",defaultMessage:"You're in control"},bulletDescription3:{id:"MemoryOnboardingModal.bulletDescription3.2",defaultMessage:"Review or clear specific memories, restart from scratch, or turn the feature on or off in settings."},continue:{id:"MemoryOnboardingModal.continue",defaultMessage:"Continue"},notNow:{id:"MemoryOnboardingModal.notNow",defaultMessage:"Not now"},enable:{id:"MemoryOnboardingModal.enable",defaultMessage:"Enable"}})},81690:function(e,t,n){n.d(t,{Rk:function(){return o},Up:function(){return i},wP:function(){return l},wW:function(){return a}});var r=n(16757),s=n(2721);async function i(e,t){let n=`https://chat.openai.com/aip/${e.id}/oauth/callback`,r=await s.Z.pluginOauthRedirect(e.id,n,t);window.location.href=r.redirect_uri}async function o(e,t,n,r){let i=await s.Z.connectorOauthRedirect(e.id,n,t,r);window.location.href=i.redirect_uri}function a(e){switch(e){case r.NA.Link:return"link_paste_popover";case r.NA.Picker:return"file_upload_menu"}}async function l(e){await s.Z.deleteUserConnectedApp(e),window.location.reload()}},385:function(e,t,n){n.d(t,{Z:function(){return T}});var r=n(2721),s=n(31498),i=n(83963),o=n(33221),a=n(42420),l=n(56032),c=n(84760),d=n(90372),u=n.n(d),m=n(92379),f=n(49764),x=n(75325),g=n(15478),h=n(11550),p=n(98095),y=n(36792),j=n(30853),b=n(11433),v=n(53128),M=n(24434),N=n(12128),k=n(24740),w=n(71744),O=n(58890),P=n(651);function Z(e){let{gizmo:t,memory:n}=e,s=(0,f.Z)(),i=(0,a.NL)(),{mutate:c,isPending:d}=(0,l.D)({mutationFn:e=>r.Z.deleteMemory(e,t?.id),onSettled:()=>{i.invalidateQueries({queryKey:(0,o.Lq)(t?.id)})},onError:()=>{k.m.danger(s.formatMessage({id:"MemoriesModal.deleteFailed",defaultMessage:"Failed to forget memory"}),{id:"memoryDeleteFailed"})}}),{0:g,1:h}=(0,m.useState)(!1),p=s.formatMessage({id:"z2CNgB",defaultMessage:"Forget"});return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(y.Z.Row,{disabled:d,children:[(0,P.jsx)(y.Z.Cell,{children:(0,P.jsx)("div",{className:"whitespace-pre-wrap py-2",children:n.content})}),(0,P.jsx)(y.Z.Cell,{textAlign:"right",children:(0,P.jsx)(y.Z.Actions,{children:(0,P.jsx)("button",{onClick:()=>h(!0),"aria-label":p,className:"text-token-text-tertiary hover:text-token-text-secondary",children:(0,P.jsx)(j.u,{className:"leading-none",label:p,sideOffset:4,side:"top",children:(0,P.jsx)(b.XHJ,{className:"icon-sm"})})})})})]}),g&&(0,P.jsx)(v.Z,{isOpen:!0,primaryButtonColor:"danger",title:p,confirmText:s.formatMessage({id:"fCn0ar",defaultMessage:"Forget"}),onConfirm:()=>{c(n.id),h(!1)},onClose:()=>{h(!1)},children:(0,P.jsx)(x.Z,{id:"pZ/TCe",defaultMessage:'{name} will forget "{title}". This cannot be undone. <link>Learn more</link>',values:{name:t?.name??"ChatGPT",title:(0,P.jsx)("strong",{children:u()(n.content,{length:130,omission:"..."})}),link:e=>(0,P.jsx)("a",{href:"https://help.openai.com/en/articles/8590148-memory-faq#h_41527f643d",target:"_blank",className:"underline",rel:"noreferrer",children:e})}})})]})}function C(e){let{selectedGizmoId:t,onSelect:n,items:r}=e,s=r.find(e=>e.id===t);function i(e){return(0,P.jsx)(N.Z,{isFirstParty:void 0===e.id,src:e.iconUrl??null,className:"icon-md"})}return(0,P.jsx)("div",{className:"mb-2 inline-flex rounded-md border border-token-border-medium",children:(0,P.jsxs)(p.Z.Root,{children:[(0,P.jsx)(p.Z.Trigger,{children:(0,P.jsxs)("div",{className:"flex items-center gap-2",children:[s?(0,P.jsxs)(P.Fragment,{children:[i(s),(0,P.jsx)("span",{className:"text-token-text-primary",children:s?.name})]}):(0,P.jsx)(x.Z,{id:"MemoriesModal.unknownGizmo",defaultMessage:"Unknown GPT"}),(0,P.jsx)(b.Tg4,{className:"icon-sm text-token-text-tertiary"})]})}),(0,P.jsx)(p.Z.Portal,{children:(0,P.jsx)(p.Z.Content,{children:r.map(e=>(0,P.jsxs)(p.Z.Item,{className:"flex items-center gap-3",onClick:()=>{n(e.id)},children:[i(e),e.name]},e.id))})})]})})}let D=g.Z.div`flex h-full items-center justify-center pb-8 text-sm text-token-text-tertiary rounded-lg border border-token-border-light`;function T(e){let t,{onClose:n,initialGizmoId:l}=e,d=(0,f.Z)(),u=(0,a.NL)(),g=(0,i.tW)(),{0:p,1:j}=(0,m.useState)(l),b=(0,s.m0)(),{data:v,isLoading:N,isError:k,refetch:T}=(0,o.HL)(p,!0,g),_=v?.memories,{data:S,refetch:I}=(0,c.a)({queryKey:["memory_gizmos"],queryFn:()=>r.Z.getGizmosWithMemory(),refetchOnMount:"always"}),L=[{id:void 0,name:"ChatGPT",iconUrl:null},...S?.items?.map(e=>{let{gizmo:t}=e;return{id:t.id,name:t.display.name,iconUrl:t.display.profile_picture_url}})??[]],E=L.find(e=>e.id===p);return t=N?(0,P.jsx)(D,{children:(0,P.jsx)(x.Z,{id:"MemoriesModal.loading",defaultMessage:"Loading..."})}):k?(0,P.jsx)(D,{children:(0,P.jsxs)("div",{className:"max-w-sm text-center",children:[(0,P.jsx)("div",{className:"mb-4 text-red-500",children:(0,P.jsx)(x.Z,{id:"MemoriesModal.somethingWentWrong",defaultMessage:"Something went wrong..."})}),(0,P.jsx)("div",{children:(0,P.jsx)(h.z,{color:"secondary",onClick:()=>{T()},children:(0,P.jsx)(x.Z,{id:"MemoriesModal.retry",defaultMessage:"Retry"})})})]})}):_&&0!==_.length?(0,P.jsx)(y.Z.Root,{className:"h-full",size:"compact",bordered:!0,children:(0,P.jsx)(y.Z.Body,{children:_.map(e=>(0,P.jsx)(Z,{gizmo:E?{id:E.id,name:E.name}:void 0,memory:e},e.id))})}):(0,P.jsx)(D,{children:(0,P.jsx)("div",{className:"max-w-sm text-center",children:g?(0,P.jsx)(x.Z,{id:"MemoriesModal.noMemories.1",defaultMessage:"As you chat with {name}, the details and preferences it remembers will be shown here.",values:{name:E?.name??"ChatGPT"}}):(0,P.jsx)(x.Z,{id:"MemoriesModal.noMemoriesAndDisabled",defaultMessage:"Memory is disabled. ChatGPT won't use or create memories."})})}),(0,P.jsxs)(M.Z,{isOpen:!0,onClose:n,size:"custom",className:"max-w-5xl",type:"success",title:d.formatMessage({id:"MemoriesModal.title",defaultMessage:"Memory"}),showCloseButton:!0,children:[b&&L.length>1&&(0,P.jsx)("div",{className:"mb-4",children:(0,P.jsx)(C,{selectedGizmoId:p,items:L,onSelect:e=>{u.invalidateQueries({queryKey:(0,o.Lq)(e)}),j(e)}})}),(0,P.jsx)(w.s,{memoryFullPct:v?.memoryFullPct,className:"mb-5"}),(0,P.jsx)("div",{className:"h-[24rem]",children:t}),(0,P.jsx)("div",{className:"mt-5 flex justify-end",children:(0,P.jsx)(O.n,{onReset:()=>{T(),I(),p&&j(void 0)},gizmoId:p,memoryName:E?.name??"ChatGPT"})})]})}},71744:function(e,t,n){n.d(t,{b:function(){return x},s:function(){return g}});var r=n(83963),s=n(33221),i=n(19841),o=n(88600),a=n(75325),l=n(30853),c=n(11433),d=n(651);function u(e){return e<100?"bg-[#fcf6e0] text-yellow-500 dark:bg-yellow-600 dark:text-yellow-100":"bg-orange-100 text-[#f48c15] dark:bg-orange-800 dark:text-orange-100"}function m(e){return(0,r.u1)()&&null!=e&&e>=91}function f(e){let{memoryFullPct:t,className:n,children:r}=e;return m(t)?(0,d.jsx)("div",{className:(0,i.default)("rounded-lg border border-token-border-light p-1 text-sm",n),children:(0,d.jsxs)(o.E.div,{className:(0,i.default)("flex items-center overflow-hidden whitespace-nowrap rounded px-2 py-1.5",u(t)),initial:{width:0},animate:{width:`${t}%`},transition:{duration:.5},children:[(0,d.jsx)(a.Z,{id:"6D2etG",defaultMessage:"{memoryFullPct}% full",values:{memoryFullPct:t}}),r]})}):null}function x(e){let{memoryFullPct:t}=e;return m(t)?(0,d.jsxs)("div",{className:"flex items-center justify-center",children:[(0,d.jsx)("div",{className:(0,i.default)("relative -mr-1 h-2 w-2 rotate-45 transform border-white/10",u(t))}),(0,d.jsxs)("div",{className:(0,i.default)("flex items-center rounded-lg px-3 py-1.5",u(t)),children:[(0,d.jsx)(a.Z,{id:"x7M6HK",defaultMessage:"{memoryFullPct}%",values:{memoryFullPct:t}}),(0,d.jsx)(l.u,{label:t<100?(0,d.jsx)(a.Z,{id:"VXohcH",defaultMessage:"Memory is almost full. Once memory is full, new memories won’t be created. You can forget existing memories to make space."}):(0,d.jsx)(a.Z,{id:"pQ9dnt",defaultMessage:"Memory is full. New memories won’t be created. You can forget existing memories to make space."}),children:(0,d.jsx)(c.F3p,{className:"icon-sm ml-1 text-token-text-secondary"})})]})]}):null}function g(e){let{memoryFullPct:t,className:n}=e;return m(t)?(0,d.jsxs)("div",{className:(0,i.default)("flex flex-col gap-2",n),children:[(0,d.jsx)(f,{memoryFullPct:t}),(0,d.jsx)("div",{className:"pl-3 text-sm text-token-text-secondary",children:t<100?(0,d.jsx)(a.Z,{id:"z3LYM2",defaultMessage:"<strong>Memory almost full</strong>. Once memory is full, new memories won’t be created. You can forget existing memories to make space. <a>Learn more</a>.",values:{strong:e=>(0,d.jsx)("strong",{children:e}),a:e=>(0,d.jsx)("a",{href:s.Fx,target:"_blank",rel:"noopener noreferrer",className:"underline",children:e})}}):(0,d.jsx)(a.Z,{id:"6rc4Jv",defaultMessage:"<strong>Memory is full</strong>. New memories won’t be created. You can forget existing memories to make space. <a>Learn more</a>.",values:{strong:e=>(0,d.jsx)("strong",{children:e}),a:e=>(0,d.jsx)("a",{href:s.Fx,target:"_blank",rel:"noopener noreferrer",className:"underline",children:e})}})})]}):null}},58890:function(e,t,n){n.d(t,{n:function(){return f}});var r=n(2721),s=n(92379),i=n(49764),o=n(75325),a=n(11550),l=n(59144),c=n(24434),d=n(24740),u=n(651);function m(e){let{description:t,onClose:n,onConfirm:r}=e,s=(0,i.Z)();return(0,u.jsx)(c.Z,{isOpen:!0,onClose:n,type:"success",title:s.formatMessage({id:"MemoriesModal.resetModalTitle",defaultMessage:"Are you sure?"}),description:t,primaryButton:(0,u.jsx)(l.Z.Button,{title:s.formatMessage({id:"MemoriesModal.resetModalConfirm",defaultMessage:"Clear memory"}),color:"danger",onClick:r}),secondaryButton:(0,u.jsx)(l.Z.Button,{title:s.formatMessage({id:"MemoriesModal.resetModalCancel",defaultMessage:"Cancel"}),color:"secondary",onClick:n})})}function f(e){let{onReset:t,gizmoId:n,memoryName:l}=e,{0:c,1:f}=(0,s.useState)(!1),x=(0,i.Z)(),g=async()=>{try{await r.Z.clearUserMemory(n),d.m.success(x.formatMessage({id:"ResetMemoriesButton.resetSuccess",defaultMessage:"Memory cleared."})),t?.(),f(!1)}catch(e){d.m.danger(x.formatMessage({id:"ResetMemoriesButton.resetFailed",defaultMessage:"Failed to clear memory."}))}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.z,{color:"danger-outline",onClick:()=>f(!0),children:n?(0,u.jsx)(o.Z,{id:"ResetMemoriesButton.resetGizmo",defaultMessage:"Clear this GPT's memory"}):(0,u.jsx)(o.Z,{id:"ResetMemoriesButton.resetChatGPT",defaultMessage:"Clear ChatGPT's memory"})}),c&&(0,u.jsx)(m,{description:x.formatMessage({id:"MemoriesModal.resetGizmoModalDescription",defaultMessage:"{name} will forget everything it has remembered from your chats. This cannot be undone."},{name:l}),onClose:()=>f(!1),onConfirm:g})]})}},87040:function(e,t,n){n.d(t,{$N:function(){return f},SK:function(){return d},hE:function(){return m},qn:function(){return u}});var r=n(99333),s=n(62379),i=n(58025),o=n(2721),a=n(84760),l=n(58695),c=n(92379);function d(){let e=i.R1(r.sh.VoiceName)?.data,t=i.R1(r.sh.VoiceMainLanguage)?.data;return{voiceName:f(e,u()),voiceMainLanguage:t??r.P9.Auto}}function u(){let e=m(),{currentLocale:t}=(0,s.b)();return(0,c.useCallback)(()=>{if(0===e.length)return"juniper";let n=e[0].voice;return t.startsWith("zh")&&(n="cove"),n},[e,t])}function m(){let{session:e}=(0,l.kP)(),t=i.R1(r.sh.VoiceMainLanguage)?.data,{data:n}=(0,a.a)({queryKey:["getUserSettingVoices",t],queryFn:()=>o.Z.getUserSettingVoices(),enabled:null!=e});return n?n.voices:[]}function f(e,t){return"sky"===e?"juniper":e??t()}},83963:function(e,t,n){n.d(t,{ll:function(){return l},tW:function(){return c},tv:function(){return u},u1:function(){return d}});var r=n(99333),s=n(58025),i=n(93951),o=n(41987),a=n(88667);function l(){return i.hz()?.includes(o.L0.Sunshine)??!1}function c(){let{data:e}=(0,s.R1)(r.sh.Sunshine),t=l();return!!e&&t}function d(){let e=c(),t=(0,a.sB)("1611573287").value??!1;return e&&t}function u(){return i.hz()?.includes(o.L0.MemoryGA)??!1}},33221:function(e,t,n){n.d(t,{Fx:function(){return l},HL:function(){return d},Lq:function(){return c}});var r=n(98601),s=n(2721),i=n(84760);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let l="https://help.openai.com/en/articles/8590148-memory-faq";function c(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return["memories",{gizmoId:e,includeMemoryEntries:t}]}function d(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return(0,i.a)({queryKey:c(e,t),queryFn:async()=>{let n=await s.Z.getMemories(e,t),r=Math.min(Math.floor(100*n.memory_num_tokens/n.memory_max_tokens),100);return a(a({},n),{},{memoryFullPct:r})},refetchOnMount:"always",enabled:n})}}}]);
//# sourceMappingURL=9786-2d4ca398842b652b.js.map