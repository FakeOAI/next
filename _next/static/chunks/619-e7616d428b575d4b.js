"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[619],{24351:function(e,t,s){s.d(t,{Z:function(){return $},D:function(){return X}});var a,r,i,n=s(94521),l=s(21904),o=s(5443),c=s(50684),d=s(71840),p=s(62484),u=s(16645),x=s(93223),m=s(27860),g=s(35226),h=s(16100),f=s(19841),j=s(43128),y=s(92379),v=s(72256),T=s(26123),b=s(25940),k=s(11823),P=s(67165),w=s(69482),N=s(44230),C=s(83252),O=s(25720),Z=s(93696),M=s(78791),z=s(49217),A=s(65530),S=s(3671),R=s(91530),G=s.n(R),_=s(651);function B(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function D(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?B(Object(s),!0).forEach(function(t){(0,n.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):B(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function E(e){let{isOpen:t,onClose:s,account:a,gpt:r}=e,i=(0,T.Z)(),{0:n,1:l}=(0,y.useState)(!1),{0:c,1:d}=(0,y.useState)(""),{0:p,1:u}=(0,y.useState)(!0);return(0,_.jsxs)(z.Z,{size:"custom",className:"max-w-lg text-sm",isOpen:t,onClose:G(),type:"success",title:i.formatMessage(W.deleteModalTitle),children:[(0,_.jsx)("p",{className:"mb-4 text-token-text-primary",children:(0,_.jsx)(v.Z,D(D({},W.deleteModalPrompt),{},{values:{gptName:r.gizmo.display.name}}))}),!p&&(0,_.jsx)("p",{className:"text-red-500",children:(0,_.jsx)(v.Z,D({},W.invalidEmail))}),(0,_.jsx)(A.Z,{className:(0,f.default)("px-3 py-2",p?"":"border-red-500"),name:"email",type:"email",value:c,placeholder:"Email",onChange:e=>{d(e.target.value)}}),(0,_.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,_.jsx)(o.z,{color:"secondary",onClick:()=>{s(!1),l(!1),u(!0)},loading:n,children:(0,_.jsx)(v.Z,D({},W.cancelButtonText))}),(0,_.jsx)(o.z,{color:"primary",loading:n,onClick:()=>{l(!0),u(!0),""!=c&&S.F.test(c)?x.Z.updateWorkspaceGPTOwner(a.id,r.gizmo.id,c).then(()=>{s(!0),l(!1),u(!0)},()=>{u(!1),l(!1)}):(u(!1),l(!1))},children:(0,_.jsx)(v.Z,D({},W.deleteButtonText))})]})]})}let W=(0,b.vU)({deleteModalTitle:{id:"changeOwnerModal.changeModalTitle",defaultMessage:"Change Owner"},deleteModalPrompt:{id:"changeOwnerModal.changeModalPrompt",defaultMessage:"New owner of {gptName}"},cancelButtonText:{id:"changeOwnerModal.cancelButtonText",defaultMessage:"Cancel"},deleteButtonText:{id:"changeOwnerModal.changeOwnerButtonText",defaultMessage:"Change owner"},invalidEmail:{id:"changeOwnerModal.invalidEmail",defaultMessage:"Email is invalid or does not belong to a member in this workspace"}});function L(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function K(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?L(Object(s),!0).forEach(function(t){(0,n.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):L(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function I(e){let{isOpen:t,onClose:s,account:a,gpt:r}=e,i=(0,T.Z)(),{0:n,1:l}=(0,y.useState)(!1);return(0,_.jsxs)(z.Z,{size:"custom",className:"max-w-lg text-sm",isOpen:t,onClose:G(),type:"success",title:i.formatMessage(q.deleteModalTitle),children:[(0,_.jsx)("p",{className:"mb-4 text-token-text-primary",children:(0,_.jsx)(v.Z,K(K({},q.deleteModalPrompt),{},{values:{gptName:r.gizmo.display.name}}))}),(0,_.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,_.jsx)(o.z,{color:"secondary",onClick:()=>{s(!1)},loading:n,children:(0,_.jsx)(v.Z,K({},q.cancelButtonText))}),(0,_.jsx)(o.z,{color:"danger",loading:n,onClick:()=>{l(!0),x.Z.deleteWorkspaceGPT(a.id,r.gizmo.id).finally(()=>{s(!0),l(!1)})},children:(0,_.jsx)(v.Z,K({},q.deleteButtonText))})]})]})}let q=(0,b.vU)({deleteModalTitle:{id:"deleteGPTModal.accessModalTitle",defaultMessage:"Delete GPT"},deleteModalPrompt:{id:"deleteGPTModal.accessModalPrompt",defaultMessage:"Are you sure you would like to delete {gptName}? This action can not be undone."},cancelButtonText:{id:"deleteGPTModal.cancelButtonText",defaultMessage:"Cancel"},deleteButtonText:{id:"deleteGPTModal.deleteButtonText",defaultMessage:"Delete"}});var H=s(87200);function U(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function F(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?U(Object(s),!0).forEach(function(t){(0,n.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):U(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Y(e){var t,s,a,r,i;let{account:n,gpt:o,thirdParty:c=!1}=e,d=(0,g.NL)(),{0:p,1:x}=(0,y.useState)(!1),{0:h,1:f}=(0,y.useState)(!1),{0:T,1:b}=(0,y.useState)(!1),{0:k,1:M}=(0,y.useState)(!1),z=(0,j.useRouter)(),A=new Date(c?null!==(t=o.gizmo.workspace_approval_date)&&void 0!==t?t:"":o.gizmo.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}),S=o.tools.filter(e=>e.type===l.qK.JIT_PLUGIN).map(e=>e.type===l.qK.JIT_PLUGIN?e.metadata.domain:""),R="";return R=0===S.length?"":1===S.length?S[0]:"".concat(S.length," domains"),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(w.Z.Row,{children:[(0,_.jsx)(w.Z.Cell,{className:"py-4 pr-4",children:(0,_.jsxs)("div",{className:"flex items-center",children:[(0,_.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,_.jsx)(C.Z,{src:o.gizmo.display.profile_picture_url,isFirstParty:null!==(s=null===(a=o.gizmo.tags)||void 0===a?void 0:a.includes(u.U9.FirstParty))&&void 0!==s&&s,alt:o.gizmo.display.name,className:"h-10 w-10"})}),(0,_.jsx)("div",{className:"ml-4",children:(0,_.jsx)("div",{className:"text-sm font-semibold text-token-text-primary",children:o.gizmo.display.name})})]})}),(0,_.jsx)(w.Z.Cell,{className:"p-4 text-sm text-token-text-secondary",children:o.gizmo.author.display_name}),(0,_.jsx)(w.Z.Cell,{className:"p-4 text-sm text-token-text-secondary",children:R}),!c&&(0,_.jsx)(w.Z.Cell,{className:"p-4 text-sm text-token-text-secondary",children:(0,_.jsx)(ee,{gizmo:o,account:n})}),!c&&(0,_.jsx)(w.Z.Cell,{className:"p-4 text-sm text-token-text-secondary",children:null!==(r=null===(i=o.gizmo.vanity_metrics)||void 0===i?void 0:i.num_conversations_str)&&void 0!==r?r:0}),(0,_.jsx)(w.Z.Cell,{className:"p-4 text-sm text-token-text-secondary",children:A}),(0,_.jsx)(w.Z.Cell,{children:(0,_.jsxs)(P.Z.Root,{children:[(0,_.jsx)(P.Z.Trigger,{className:"-my-2",children:(0,_.jsx)(N.nWS,{className:"icon-sm"})}),(0,_.jsx)(P.Z.Portal,{children:c?(0,_.jsx)(P.Z.Content,{children:(0,_.jsx)(P.Z.Item,{onClick:()=>{M(!0)},color:"danger",icon:N.XHJ,children:(0,_.jsx)(v.Z,F({},et.removeFromWorkspace))})}):(0,_.jsxs)(P.Z.Content,{children:[(0,_.jsx)(P.Z.Item,{onClick:()=>{x(o)},icon:N.yjj,children:(0,_.jsx)(v.Z,F({},et.changeAccess))}),(0,_.jsx)(P.Z.Item,{onClick:()=>{b(!0)},icon:N.oVl,children:(0,_.jsx)(v.Z,F({},et.changeOwner))}),(0,_.jsx)(P.Z.Item,{onClick:()=>{f(!0)},icon:N.XHJ,color:"danger",children:(0,_.jsx)(v.Z,F({},et.deleteGPT))})]})})]})})]}),p&&(0,_.jsx)(Z.hD,{publishedGizmo:p,gizmo:(0,O.yf)(p),promoteGizmo:async()=>void 0,onClose:()=>{x(!1)},showActionsModal:()=>void 0,appealGizmo:async()=>{z.push((0,m.AA)(p.gizmo.id))},setAppealState:()=>void 0,shareOnly:!0,updateGizmo:()=>void 0,workspaceOwner:!0}),(0,_.jsx)(E,{isOpen:T,gpt:o,account:n,onClose:e=>{b(!1),e&&d.invalidateQueries({queryKey:["workspace",n.id,l.RB.WORKSPACE]})}}),(0,_.jsx)(I,{isOpen:h,gpt:o,account:n,onClose:e=>{f(!1),e&&d.invalidateQueries({queryKey:["workspace",n.id,l.RB.WORKSPACE]})}}),(0,_.jsx)(H.Z,{isOpen:k,gpt:o,account:n,onClose:e=>{M(!1),e&&d.invalidateQueries({queryKey:["workspace",n.id,l.RB.THIRD_PARTY]})}})]})}var J=((a=J||{}).CreatedAt="created_at",a.NumConversations="vanity_metrics.num_conversations_str",a.ApprovedAt="workspace_approval_date",a),Q=((r=Q||{}).Ascending="asc",r.Descending="desc",r),V=((i=V||{}).Tools="tools",i.ShareRecipient="share_recipient",i);function X(e,t){switch(t){case l.qK.BROWSER:return"Web browsing";case l.qK.PYTHON:return"Code interpreter & Data Analysis";case l.qK.JIT_PLUGIN:return"Custom actions";case l.qK.RETRIEVAL:return"File retrieval";case l.qK.DALLE:return"DALL\xb7E image generation";case u.Zz.Private:return"Builder only";case u.Zz.Workspace:return e.data.name;case u.Zz.Link:return"Anyone with link";case u.Zz.Marketplace:return"Public";default:return null}}function $(e){var t,s;let{account:a,showThirdParty:r}=e,{0:i,1:n}=(0,y.useState)(l.RB.WORKSPACE),{data:m,fetchNextPage:j,hasNextPage:b,isError:P,isFetchingNextPage:C}=(s=a.id,(0,h.N)({queryKey:["workspace",s,"gizmos",i],queryFn:e=>{let{pageParam:t}=e;return x.Z.getWorkspaceGPTs(s,i,t)},initialPageParam:"",getNextPageParam:e=>e.cursor})),O=(0,T.Z)(),{0:Z,1:z}=(0,y.useState)(!1),A=null!==(t=null==m?void 0:m.pages.flatMap(e=>e.items))&&void 0!==t?t:[];(0,y.useEffect)(()=>{P||C||!b||j()},[C,b,P,j]);let S=(0,y.useRef)(null),{0:R,1:G}=(0,y.useState)(""),{0:B,1:D}=(0,y.useState)(!1),{0:E,1:W}=(0,y.useState)(i==l.RB.WORKSPACE?J.CreatedAt:J.ApprovedAt),{0:L,1:K}=(0,y.useState)(Q.Descending),I={[V.Tools]:{[l.qK.BROWSER]:!1,[l.qK.PYTHON]:!1,[l.qK.JIT_PLUGIN]:!1,[l.qK.RETRIEVAL]:!1,[l.qK.DALLE]:!1},[V.ShareRecipient]:{[u.Zz.Private]:!1,[u.Zz.Workspace]:!1,[u.Zz.Link]:!1,[u.Zz.Marketplace]:!1}},{0:q,1:H}=(0,y.useState)(I),{0:U,1:$}=(0,y.useState)(0),ee=(0,g.NL)();function es(e,t){let{id:s,checked:a}=e.currentTarget,r=F({},q);r[t][s]=a,H(r),$(0)}(0,y.useEffect)(()=>{B&&S.current&&S.current.focus()},[B]);let ea=0,er=0,ei=Object.values(q[V.Tools]).filter(Boolean).length+Object.values(q[V.ShareRecipient]).filter(Boolean).length,en=[],el=0,eo=void 0===m,ec=!eo&&A.length>0;return eo||(el=Math.min(A.length,10),er=Math.ceil(A.length/10),en=b?A:A.sort((e,t)=>{var s,a,r,i,n,l;let o,c;if(E===J.CreatedAt)o=new Date(e.gizmo.created_at).getTime(),c=new Date(t.gizmo.created_at).getTime();else if(E===J.ApprovedAt)o=new Date(null!==(s=e.gizmo.workspace_approval_date)&&void 0!==s?s:"").getTime(),c=new Date(null!==(a=t.gizmo.workspace_approval_date)&&void 0!==a?a:"").getTime();else if(E===J.NumConversations)o=null!==(r=null===(i=e.gizmo.vanity_metrics)||void 0===i?void 0:i.num_conversations)&&void 0!==r?r:0,c=null!==(n=null===(l=t.gizmo.vanity_metrics)||void 0===l?void 0:l.num_conversations)&&void 0!==n?n:0;else throw Error("Invalid field: ".concat(E));if(L===Q.Ascending)return o-c;if(L===Q.Descending)return c-o;throw Error("Invalid direction: ".concat(L))}),""!==R&&(en=function(e,t){let s=t.toLowerCase();return e.filter(e=>{let t=e.gizmo.author.display_name&&e.gizmo.author.display_name.toLowerCase(),a=e.gizmo.display.name.toLowerCase();return t&&t.includes(s)||a.includes(s)})}(en,R)),ei>0&&(en=en.filter(e=>{let t=e.tools.some(e=>e.type!==l.qK.MEMORY&&e.type!==l.qK.INTENT&&e.type!==l.qK.CONTACTS&&q.tools[e.type]),s=function(e){switch(e){case u.Zz.User:case u.Zz.Group:return u.Zz.Private;case u.Zz.WorkspaceLink:return u.Zz.Workspace;default:return e}}(e.gizmo.share_recipient),a=q.share_recipient[s];return t||a})),ea=Math.ceil(en.length/10),en=en.slice(10*U,(U+1)*10)),(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{className:"flex justify-between border-b border-token-border-light",children:[(0,_.jsxs)("div",{className:"flex space-x-4 pt-2",children:[(0,_.jsx)("a",{className:(0,f.default)("text-l pb-4 font-semibold",i===l.RB.WORKSPACE?"border-b border-token-text-secondary text-token-text-primary":"cursor-pointer text-token-text-tertiary"),onClick:()=>{n(l.RB.WORKSPACE)},children:(0,_.jsx)(v.Z,F({},et.workspaceTab))}),r&&(0,_.jsx)("a",{className:(0,f.default)("text-l pb-4 font-semibold ",i===l.RB.THIRD_PARTY?"border-b border-token-text-secondary text-token-text-primary":"cursor-pointer text-token-text-tertiary"),onClick:()=>{n(l.RB.THIRD_PARTY)},children:(0,_.jsx)(v.Z,F({},et.thirdPartyTab))})]}),!eo&&(0,_.jsxs)("div",{className:"flex items-center space-x-4 pb-2",children:[ei>0&&(0,_.jsxs)("div",{className:"mx-0 flex items-center space-x-1",onClick:()=>{H(I)},children:[(0,_.jsx)("span",{children:ei}),(0,_.jsx)(N.tPq,{className:"cursor-pointer"})]}),(0,_.jsx)(p.u,{label:(0,_.jsxs)("div",{className:"w-64 space-y-4 p-2 font-normal text-token-text-primary",children:[(0,_.jsxs)("div",{className:"flex-col space-y-2",children:[(0,_.jsx)("span",{className:"flex font-semibold",children:(0,_.jsx)(v.Z,F({},et.capabilitiesTitle))}),Object.entries(q[V.Tools]).map(e=>{let[t,s]=e;return(0,_.jsx)(d.Z,{id:t,checked:s,label:X(a,t),onChange:e=>{es(e,V.Tools)}},t)})]}),(0,_.jsxs)("div",{className:"flex-col space-y-2",children:[(0,_.jsx)("span",{className:"flex font-semibold",children:(0,_.jsx)(v.Z,F({},et.whoHasAccessTitle))}),Object.entries(q[V.ShareRecipient]).map(e=>{let[t,s]=e;return(0,_.jsx)(d.Z,{id:t,checked:s,label:X(a,t),onChange:e=>{es(e,V.ShareRecipient)}},t)})]})]}),className:"bg-token-main-surface-primary",side:"bottom",withArrow:!1,align:"end",sideOffset:4,wide:!0,interactive:!0,children:(0,_.jsx)(N.k1n,{className:"cursor-pointer"})}),(0,_.jsx)("div",{className:"cursor-pointer",onClick:()=>{D(!0)},children:(0,_.jsx)(N.W1M,{className:"icon-sm"})}),(0,_.jsx)("input",{type:"text",ref:S,placeholder:O.formatMessage(et.filterByNameOrBuilderPlaceholder),className:(0,f.default)("border-none bg-token-main-surface-primary px-0 transition-width duration-300 ease-in-out focus:ring-0",B?"w-64":"w-0"),value:R,onChange:()=>{var e,t;$(0),G(null!==(e=null===(t=S.current)||void 0===t?void 0:t.value)&&void 0!==e?e:"")}}),(0,_.jsx)("div",{className:(0,f.default)("cursor-pointer",B?"":"hidden"),onClick:()=>{D(!1),G(""),$(0)},children:(0,_.jsx)(N.tPq,{className:"icon-sm"})}),r&&(0,_.jsx)(o.z,{color:"secondary",onClick:()=>{z(!0)},icon:N.Vz5,children:(0,_.jsx)(v.Z,F({},et.approveAGPTButton))})]})]}),eo?(0,_.jsx)("div",{className:"mt-8 flex items-center justify-center",children:(0,_.jsx)(c.Z,{})}):(0,_.jsxs)("div",{style:{height:85*el+75},className:"mb-8",children:[en.length>0?(0,_.jsxs)(w.Z.Root,{size:"normal",className:"min-w-full overflow-hidden bg-token-main-surface-primary sm:rounded-lg",children:[(0,_.jsxs)(w.Z.Header,{children:[(0,_.jsx)(w.Z.HeaderCell,{className:"py-2 pr-4 text-left text-xs text-token-text-secondary",children:(0,_.jsx)(v.Z,F({},et.nameCellTitle))}),(0,_.jsx)(w.Z.HeaderCell,{className:"px-4 py-2 text-left text-xs text-token-text-secondary",children:(0,_.jsx)(v.Z,F({},et.builderCellTitle))}),(0,_.jsx)(w.Z.HeaderCell,{className:"px-4 py-2 text-left text-xs text-token-text-secondary",children:(0,_.jsx)(v.Z,F({},et.customActionsCellTitle))}),i==l.RB.WORKSPACE&&(0,_.jsx)(w.Z.HeaderCell,{className:"px-4 py-2 text-left text-xs  text-token-text-secondary",children:(0,_.jsx)(v.Z,F({},et.whoHasAccessTitle))}),i==l.RB.WORKSPACE&&(0,_.jsx)(w.Z.HeaderCell,{className:"cursor-pointer px-4 py-2 text-left text-xs text-token-text-secondary",children:(0,_.jsxs)("div",{className:"flex items-center gap-1",onClick:()=>{E===J.NumConversations?L===Q.Ascending?K(Q.Descending):K(Q.Ascending):(W(J.NumConversations),K(Q.Descending))},children:[(0,_.jsx)("span",{children:(0,_.jsx)(v.Z,F({},et.chatsCellTitle))}),E===J.NumConversations&&L===Q.Ascending&&(0,_.jsx)(N.Hf3,{className:"icon-sm"}),E===J.NumConversations&&L===Q.Descending&&(0,_.jsx)(N.veu,{className:"icon-sm"})]})}),(0,_.jsx)(w.Z.HeaderCell,{className:"cursor-pointer px-4 py-2 text-left text-xs text-token-text-secondary",children:(0,_.jsxs)("div",{className:"flex items-center gap-1",onClick:()=>{E===J.CreatedAt?L===Q.Ascending?K(Q.Descending):K(Q.Ascending):(W(J.CreatedAt),K(Q.Descending))},children:[(0,_.jsx)("span",{children:i==l.RB.WORKSPACE?(0,_.jsx)(v.Z,F({},et.createdCellTitle)):(0,_.jsx)(v.Z,F({},et.approvedCellTitle))}),E===J.CreatedAt&&L===Q.Ascending&&(0,_.jsx)(N.Hf3,{className:"icon-sm"}),E===J.CreatedAt&&L===Q.Descending&&(0,_.jsx)(N.veu,{className:"icon-sm"})]})}),(0,_.jsx)(w.Z.HeaderCell,{className:"w-16"})]}),(0,_.jsx)(w.Z.Body,{children:en.map(e=>(0,_.jsx)(Y,{account:a,gpt:e,thirdParty:i==l.RB.THIRD_PARTY},e.gizmo.id))})]}):(0,_.jsxs)("div",{className:"flex h-full w-full flex-col items-center gap-4 py-16",children:[(0,_.jsx)(N.uy2,{className:"h-12 w-12 text-gray-400"}),(0,_.jsx)("p",{className:"text-token-text-secondary",children:i==l.RB.THIRD_PARTY?ec?(0,_.jsx)(v.Z,F({},et.noWorkspaceApprovedGPTsFound)):(0,_.jsx)(v.Z,F({},et.noWorkspaceApprovedGPTs)):ec?(0,_.jsx)(v.Z,F({},et.noWorkspaceGPTsFound)):(0,_.jsx)(v.Z,F({},et.noWorkspaceGPTs))}),i==l.RB.THIRD_PARTY&&(0,_.jsx)(o.z,{color:"secondary",onClick:()=>{z(!0)},icon:N.Vz5,children:(0,_.jsx)(v.Z,F({},et.approveAGPTButton))})]}),b&&(0,_.jsxs)("div",{className:"my-4 flex w-full items-center justify-center gap-4 text-token-text-tertiary",children:[(0,_.jsx)(c.Z,{}),(0,_.jsx)(v.Z,F({},et.stillLoadingData))]}),er>1&&(0,_.jsx)("div",{className:"mt-2 flex justify-center",children:(0,_.jsx)(k.t,{currentPage:U,onChangeIndex:$,length:Math.max(ea,1)})})]}),(0,_.jsx)(M.Z,{isOpen:Z,onClose:()=>{z(!1),ee.invalidateQueries({queryKey:["workspace",a.id,l.RB.THIRD_PARTY]})},account:a})]})}function ee(e){let{gizmo:t,account:s}=e,a=(0,T.Z)(),r={[u.Zz.Private]:a.formatMessage(et.shareRecipientTitlePrivate),[u.Zz.User]:a.formatMessage(et.shareRecipientTitlePrivate),[u.Zz.Group]:a.formatMessage(et.shareRecipientTitlePrivate),[u.Zz.Link]:a.formatMessage(et.shareRecipientTitleLink),[u.Zz.Marketplace]:a.formatMessage(et.shareRecipientTitlePublic),[u.Zz.Workspace]:s.data.name,[u.Zz.WorkspaceLink]:s.data.name};if(["private","user","group"].includes(t.gizmo.sharing.recipient)){let{users:e,groups:s}=t.gizmo.sharing.subjects?{users:t.gizmo.sharing.subjects.filter(e=>e.type===u.LA.USER).length,groups:t.gizmo.sharing.subjects.filter(e=>e.type===u.LA.GROUP).length}:{users:0,groups:0};return 0===e&&0===s?(0,_.jsx)("span",{className:"text-token-text-secondary",children:(0,_.jsx)(v.Z,F({},et.shareRecipientTitlePrivate))}):e>0&&s>0?(0,_.jsxs)("span",{className:"text-token-text-secondary",children:[r[t.gizmo.share_recipient],(0,_.jsx)("br",{}),(0,_.jsx)(v.Z,{id:"fQ+tJG",defaultMessage:"Shared with {users} and {groups}",values:{users:a.formatMessage(et.userCount,{numUsers:e}),groups:a.formatMessage(et.groupCount,{numGroups:s})}})]}):e>0?(0,_.jsxs)("span",{className:"text-token-text-secondary",children:[r[t.gizmo.share_recipient],(0,_.jsx)("br",{}),(0,_.jsx)(v.Z,F(F({},et.userCount),{},{values:{numUsers:e}}))]}):(0,_.jsxs)("span",{className:"text-token-text-secondary",children:[r[t.gizmo.share_recipient],(0,_.jsx)("br",{}),(0,_.jsx)(v.Z,F(F({},et.groupCount),{},{values:{numGroups:s}}))]})}return(0,_.jsx)("span",{children:r[t.gizmo.share_recipient]})}let et=(0,b.vU)({stillLoadingData:{id:"workspaceSettings.stillLoadingData",defaultMessage:"Don't see what you're looking for? Some GPTs are still loading..."},noWorkspaceGPTs:{id:"workspaceSettings.noWorkspaceGPTs",defaultMessage:"This workspace does not have any GPTs"},noWorkspaceGPTsFound:{id:"workspaceSettings.noWorkspaceGPTsFound",defaultMessage:"No workspace GPTs found"},noWorkspaceApprovedGPTs:{id:"workspaceSettings.noWorkspaceApprovedGPTs",defaultMessage:"You havent approved any third-party GPTs"},noWorkspaceApprovedGPTsFound:{id:"workspaceSettings.noWorkspaceApprovedGPTsFound",defaultMessage:"No approved third-party GPTs found"},workspaceTab:{id:"workspaceSettings.workspaceTab",defaultMessage:"Workspace"},thirdPartyTab:{id:"workspaceSettings.thirdPartyTab",defaultMessage:"Third-party"},capabilitiesTitle:{id:"workspaceSettings.capabilitiesTitle",defaultMessage:"Capabilities"},whoHasAccessTitle:{id:"workspaceSettings.whoHasAccessTitle",defaultMessage:"Who has access"},filterByNameOrBuilderPlaceholder:{id:"workspaceSettings.filterByNameOrBuilderPlaceholder",defaultMessage:"Filter by name or builder..."},nameCellTitle:{id:"workspaceSettings.nameCellTitle",defaultMessage:"Name"},builderCellTitle:{id:"workspaceSettings.builderCellTitle",defaultMessage:"Builder"},customActionsCellTitle:{id:"workspaceSettings.customActionsCellTitle",defaultMessage:"Custom Actions"},chatsCellTitle:{id:"workspaceSettings.chatsCellTitle",defaultMessage:"Chats"},createdCellTitle:{id:"workspaceSettings.createdCellTitle",defaultMessage:"Created"},approvedCellTitle:{id:"workspaceSettings.approvedCellTitle",defaultMessage:"Approved"},approveAGPTButton:{id:"workspaceSettings.approveAGPTButton",defaultMessage:"Approve a GPT"},shareRecipientTitlePrivate:{id:"vyjlzc",defaultMessage:"Invite only"},shareRecipientTitleLink:{id:"workspaceSettings.shareRecipientTitleLink",defaultMessage:"Link"},shareRecipientTitlePublic:{id:"workspaceSettings.shareRecipientTitlePublic",defaultMessage:"Public"},changeAccess:{id:"workspaceSettings.changeAccess",defaultMessage:"Change who has access"},changeOwner:{id:"workspaceSettings.changeOwner",defaultMessage:"Change Owner"},deleteGPT:{id:"workspaceSettings.deleteGPT",defaultMessage:"Delete GPT"},removeFromWorkspace:{id:"workspaceSettings.removeFromWorkspace",defaultMessage:"Remove from workspace"},userCount:{id:"P1xo2B",defaultMessage:"{numUsers, plural, one {# user} other {# users}}"},groupCount:{id:"4zRUED",defaultMessage:"{numGroups, plural, one {# group} other {# groups}}"}})},78791:function(e,t,s){s.d(t,{Z:function(){return k}});var a=s(94521),r=s(21904),i=s(24351),n=s(5443),l=s(44230),o=s(49217),c=s(35131),d=s(93223),p=s(35226),u=s(91530),x=s.n(u),m=s(66879),g=s.n(m),h=s(92379),f=s(26123),j=s(72256),y=s(25940),v=s(651);function T(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function b(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?T(Object(s),!0).forEach(function(t){(0,a.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):T(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function k(e){let{isOpen:t,onClose:s,account:a,gpt:u}=e,m=(0,f.Z)(),{0:y,1:T}=(0,h.useState)(!1),{0:k,1:w}=(0,h.useState)(u),N=null==k?void 0:k.tools.filter(e=>e.type!==r.qK.JIT_PLUGIN),C=null==k?void 0:k.tools.filter(e=>e.type===r.qK.JIT_PLUGIN),O=(0,p.NL)();return(0,v.jsxs)(o.Z,{size:"custom",className:"max-w-lg text-sm",isOpen:t,onClose:x(),type:"success",title:m.formatMessage(P.approveGPTTitle),children:[void 0==k?(0,v.jsx)("div",{className:"h-96",children:(0,v.jsx)(c.n_,{className:"max-w-3xl flex-grow",inputClassName:"h-10 text-sm pl-9",iconClassName:"left-4",resultsSizeOffset:-90,onSelect:e=>{w(e)}})}):(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsxs)("div",{className:"flex gap-4 border-b border-token-border-light pb-6",children:[null!=k.gizmo.display.profile_picture_url?(0,v.jsx)(g(),{src:k.gizmo.display.profile_picture_url,alt:"Description",className:"h-24 w-24 rounded-full",width:96,height:96}):(0,v.jsx)(l.uy2,{className:"h-96 w-96 text-gray-400"}),(0,v.jsxs)("div",{className:"flex flex-col gap-1 text-token-text-primary",children:[(0,v.jsx)("p",{className:"text-lg font-semibold",children:k.gizmo.display.name}),(0,v.jsx)("p",{children:k.gizmo.display.description}),(0,v.jsx)("p",{className:"text-token-text-secondary",children:(0,v.jsx)(j.Z,b(b({},P.gptByLine),{},{values:{authorName:k.gizmo.author.display_name}}))})]})]}),(0,v.jsx)("div",{className:"flex border-b border-token-border-light py-6",children:(0,v.jsxs)("div",{className:"flex gap-4",children:[(0,v.jsx)("p",{className:"w-24 font-semibold",children:(0,v.jsx)(j.Z,b({},P.capabilitiesTitle))}),(0,v.jsx)("div",{className:"flex flex-col gap-1 text-token-text-primary",children:N&&N.length>0?N.map(e=>(0,v.jsx)("p",{children:(0,i.D)(a,e.type)},e.id)):(0,v.jsx)("p",{className:"text-token-text-secondary",children:(0,v.jsx)(j.Z,b({},P.noCapabilitiesEnabled))})})]})}),(0,v.jsx)("div",{className:"flex py-6",children:(0,v.jsxs)("div",{className:"flex gap-4",children:[(0,v.jsx)("p",{className:"w-24 font-semibold",children:(0,v.jsx)(j.Z,b({},P.actionsTitle))}),(0,v.jsx)("div",{className:"flex flex-col gap-1 text-token-text-primary",children:C&&C.length>0?C.map(e=>{var t;return(0,v.jsx)("p",{children:null!==(t=e.metadata.domain)&&void 0!==t?t:""},e.id)}):(0,v.jsx)("p",{className:"text-token-text-secondary",children:(0,v.jsx)(j.Z,b({},P.noCustomActions))})})]})})]}),(0,v.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,v.jsx)(n.z,{color:"secondary",onClick:()=>{w(void 0),s(!1)},loading:y,children:(0,v.jsx)(j.Z,b({},P.cancelButtonText))}),(0,v.jsx)(n.z,{color:"primary",loading:y,disabled:void 0==k,onClick:()=>{void 0!=k&&(T(!0),d.Z.approveThirdPartyGPT(a.id,k.gizmo.id).finally(()=>{O.invalidateQueries({queryKey:["gizmo"]}),s(!0),w(void 0),T(!1)}))},children:(0,v.jsx)(j.Z,b({},P.approveButtonText))})]})]})}let P=(0,y.vU)({approveGPTTitle:{id:"approveGPTModal.approveGPTTitle",defaultMessage:"Approve a third-party GPT"},cancelButtonText:{id:"approveGPTModal.cancelButtonText",defaultMessage:"Cancel"},approveButtonText:{id:"approveGPTModal.approveButtonText",defaultMessage:"Approve"},gptByLine:{id:"approveGPTModal.gptByLine",defaultMessage:"By {authorName}"},capabilitiesTitle:{id:"approveGPTModal.capabilitiesTitle",defaultMessage:"Capabilities"},actionsTitle:{id:"approveGPTModal.actionsTitle",defaultMessage:"Actions"},noCapabilitiesEnabled:{id:"approveGPTModal.noCapabilitiesEnabled",defaultMessage:"No capabilities enabled"},noCustomActions:{id:"approveGPTModal.noCustomActions",defaultMessage:"No custom actions"}})},88281:function(e,t,s){s.d(t,{E:function(){return r}});var a=s(71988);function r(e=.1,{startDelay:t=0,from:s=0,ease:r}={}){return(i,n)=>{let l=e*Math.abs(("number"==typeof s?s:function(e,t){if("first"===e)return 0;{let s=t-1;return"last"===e?s:s/2}}(s,n))-i);if(r){let t=n*e;l=(0,a.R)(r)(l/t)*t}return t+l}}}}]);
//# sourceMappingURL=619-e7616d428b575d4b.js.map