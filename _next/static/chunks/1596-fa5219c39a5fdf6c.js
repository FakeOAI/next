"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1596,4406],{37615:function(e,t,s){var a;s.d(t,{w:function(){return r}});let r=((a={}).Personal="chat",a.Workspace="workspace",a.Team="team",a)},66908:function(e,t,s){s.d(t,{Z:function(){return B}});var a,r=s(97410),n=s(6242),o=s(72988),l=s(44575),i=s(25968),c=s(89852),d=s(19841),u=s(91530),m=s.n(u),f=s(32307),g=s(92379),x=s(62984),p=s(75172),h=s(68306),j=s(7297),M=s(85060),y=s(13300),b=s(48198),v=s(32863),w=s(68117),k=s(47480),O=s(651);function N(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function P(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?N(Object(s),!0).forEach(function(t){(0,r.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):N(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}let T=e=>{let{value:t,isSelected:s,onSelect:a}=e;return(0,O.jsxs)("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-none lg:text-left",onClick:()=>a(t),children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)("div",{className:"flex-shrink-0",children:"transfer"===t?(0,O.jsx)(b.ccP,{}):(0,O.jsx)(b.V0P,{})}),(0,O.jsxs)("div",{className:"flex flex-col text-left",children:[(0,O.jsx)("div",{className:"font-semibold",children:"transfer"===t?(0,O.jsx)(x.Z,P({},A.teamAccountTransferModalTransferLabel)):(0,O.jsx)(x.Z,P({},A.teamAccountTransferModalCreateLabel))}),(0,O.jsx)("div",{className:"flex-wrap text-sm text-token-text-secondary",children:"transfer"===t?(0,O.jsx)(x.Z,P({},A.teamAccountTransferModalTransferDetail)):(0,O.jsx)(x.Z,P({},A.teamAccountTransferModalCreateDetail))})]})]}),(0,O.jsx)("div",{className:(0,d.default)("flex h-4 w-4 flex-shrink-0 items-center justify-center rounded-full border",{"bg-black":s}),children:s&&(0,O.jsx)(b.$As,{className:"h-3 w-3 scale-x-75 stroke-[4] text-white"})})]})},C=e=>{let{setCurrentStep:t,setHasSeenOnboarding:s}=e,{0:a,1:r}=(0,g.useState)(""),o=(0,p.Z)();return(0,O.jsx)(v.Z,{isOpen:!0,onClose:m(),type:"warning",title:o.formatMessage(A.teamAccountTransferModalTitle),primaryButton:(0,O.jsx)(n.m,{title:o.formatMessage(A.teamAccountTransferModalConfirm),onClick:()=>{"transfer"===a?t(S.TransferModal):"create"===a&&s&&s()},color:"primary",className:"ml-4"}),children:(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,O.jsx)("div",{className:"text-md mb-2 text-token-text-primary",children:(0,O.jsx)(x.Z,P({},A.teamAccountTransferModalExplanation))}),(0,O.jsx)(T,{value:"transfer",isSelected:"transfer"===a,onSelect:r}),(0,O.jsx)(M.b,{}),(0,O.jsx)(T,{value:"create",isSelected:"create"===a,onSelect:r})]})})},Z=e=>{let{currentWorkspace:t,setCurrentStep:s,fromSettings:a,setHasSeenOnboarding:r,onClose:l=m()}=e,d=(0,p.Z)(),u=(0,i.aF)(),g=(0,f.useRouter)(),h=null==u?void 0:u.name;return(0,O.jsx)(v.Z,{isOpen:!0,onClose:r?m():l,type:"success",title:d.formatMessage(A.selectedModalTitle),primaryButton:(0,O.jsx)(n.m,{title:a?d.formatMessage(A.mergeModalConfirm):d.formatMessage(A.teamTransferModalConfirm),color:"primary",onClick:async()=>{let e=await o.Z.transferAccount(t.id);if(r&&r(),e.success)(0,c.M)();else{let e=(0,k.M5)(k.LT.ACCOUNT_TRANSFER_ERROR,"/",void 0);g.push(e)}}}),secondaryButton:(0,O.jsx)(n.m,{title:d.formatMessage(A.selectedModalBack),color:"secondary",onClick:a?l:async()=>{s(S.InitialModal)}}),children:(0,O.jsxs)("div",{className:"flex flex-col justify-center gap-4",children:[(0,O.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,O.jsx)(j.Yt,{user:u,size:"large",roundedStyle:"rounded-full"}),(0,O.jsxs)("div",{className:"pt-2",children:[(0,O.jsx)("div",{className:"font-semibold",children:h}),(0,O.jsx)("div",{className:"mb-2 text-sm text-token-text-secondary",children:(0,O.jsx)(x.Z,P({},A.tansferModalPersonalAccount))})]})]}),(0,O.jsx)("div",{className:"-mb-2 -mt-3 flex justify-start pl-3",children:(0,O.jsx)(b.veu,{className:"icon-sm"})}),(0,O.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,O.jsx)(j.B0,{src:t.profilePictureUrl,size:"large"}),(0,O.jsx)("div",{className:"font-semibold",children:t.name})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"mb-2 text-base font-semibold",children:(0,O.jsx)(x.Z,P({},A.teamTransferModalConfirmTitle))}),(0,O.jsxs)("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary ",children:[(0,O.jsx)("li",{className:"mb-2",children:(0,O.jsx)(x.Z,P({},A.teamTransferModalMigrateData))}),(0,O.jsx)("li",{className:"mb-2",children:(0,O.jsx)(x.Z,P({},A.teamTransferModalDeleteData))}),(0,O.jsx)("li",{children:(0,O.jsx)(x.Z,P({},A.teamTransferModalCancelPlus))})]})]}),(0,O.jsx)("div",{className:"mx-auto mb-2 flex max-w-5xl items-center rounded-md border border-token-border-medium bg-token-main-surface-secondary px-2 py-2 md:px-2 lg:px-4 lg:py-3",children:(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsx)(y.FE,{className:"flex-shrink-0 text-red-500"}),(0,O.jsx)("p",{className:"ml-4 text-sm",children:(0,O.jsx)(x.Z,P(P({},A.teamTransferModalWarning),{},{values:{link:e=>(0,O.jsx)("a",{href:"https://help.openai.com/en/articles/8801890 ",target:"_blank",className:"underline",rel:"noreferrer",children:e})}}))})]})})]})})};var S=((a=S||{})[a.InitialModal=0]="InitialModal",a[a.TransferModal=1]="TransferModal",a);function B(e){var t;let{onClose:s=m(),fromSettings:a=!1}=e,{0:r,1:n}=(0,g.useState)(a?S.TransferModal:S.InitialModal),o=null===(t=(0,l.t)())||void 0===t?void 0:t.data,{setHasSeenTeamOwnerOnboarding:i}=(0,w.Yc)(),c=a?void 0:i;switch(r){case S.InitialModal:return(0,O.jsx)(C,{setCurrentStep:n,setHasSeenOnboarding:c});case S.TransferModal:return(0,O.jsx)(Z,{setCurrentStep:n,currentWorkspace:o,onClose:s,fromSettings:a,setHasSeenOnboarding:c})}}let A=(0,h.vU)({teamAccountTransferModalTitle:{id:"teamAccountTransferModal.title",defaultMessage:"Your ChatGPT Team workspace is ready"},teamAccountTransferModalExplanation:{id:"teamAccountTransferModal.explanation",defaultMessage:"Do you want to transfer your chat history and GPTs to the Team workspace?"},teamAccountTransferModalConfirm:{id:"teamAccountTransferModal.confirm",defaultMessage:"Continue"},teamAccountTransferModalTransferLabel:{id:"teamAccountTransferModal.transferLabel",defaultMessage:"Transfer chat history and GPTs"},teamAccountTransferModalTransferDetail:{id:"teamAccountTransferModal.transferDetail",defaultMessage:"Carry over existing data from your personal workspace"},teamAccountTransferModalCreateLabel:{id:"teamAccountTransferModal.createLabel",defaultMessage:"Start as empty workspace"},teamAccountTransferModalCreateDetail:{id:"teamAccountTransferModal.createDetail",defaultMessage:"Keep your personal workspace separate. If you’re on Plus, you will maintain your subscription until you cancel"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},tansferModalPersonalAccount:{id:"teamTransferModal.personalAccount",defaultMessage:"Personal workspace"},teamTransferModalConfirmTitle:{id:"teamTransferModal.confirmTitle",defaultMessage:"Transfer of existing data is permanent and can't be undone."},teamTransferModalMigrateData:{id:"teamTransferModal.migrateData",defaultMessage:"Your chat history and GPTs in your personal workspace will be migrated to the Team workspace."},teamTransferModalDeleteData:{id:"teamTransferModal.deleteData",defaultMessage:"Your Plugins and custom instructions in your personal workspace will be deleted."},teamTransferModalCancelPlus:{id:"teamTransferModal.cancelPlus",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon merging."},teamTransferModalWarning:{id:"teamTransferModal.warning",defaultMessage:"You will lose access to your data if you leave or are removed from the Team workspace, or if the workspace is deactivated. <link>Learn more</link>"},teamTransferModalConfirm:{id:"teamTransferModal.confirm",defaultMessage:"Confirm transfer"},mergeModalConfirm:{id:"mergerModal.confirm",defaultMessage:"Confirm merge"}})},67963:function(e,t,s){s.d(t,{aB:function(){return x},fK:function(){return j},g2:function(){return g}});var a=s(34608),r=s(89083),n=s(58206),o=s(72988),l=s(44575),i=s(84760),c=s(7569),d=s(18939),u=s.n(d),m=s(92379);let f=new Map;function g(){let{gdriveLinkStatus:e,o365BusinessLinkStatus:t,o365PersonalLinkStatus:s}=(0,r.r)();return h(e,t,s)}function x(){let{gdriveStatus:e,o365Status:t}=(0,r.r)();return h(e,t,t)}let p=[a.PO.GDRIVE,a.PO.O365_PERSONAL,a.PO.O365_BUSINESS];function h(e,t,s){var r,o,i;let c=(0,l.t)(),d=null==c?void 0:c.getWorkspaceId(),{connectors:f,isLoading:g}=j(p),{data:x,isLoading:h}=(0,n.C)(d),M=!d||(null==x||null===(r=x.beta_settings)||void 0===r?void 0:r.context_connector_gdrive),y=!d||(null==x||null===(o=x.beta_settings)||void 0===o?void 0:o.context_connector_o365_personal),b=!d||(null==x||null===(i=x.beta_settings)||void 0===i?void 0:i.context_connector_o365_business),v=f.get(a.PO.GDRIVE),w=f.get(a.PO.O365_PERSONAL),k=f.get(a.PO.O365_BUSINESS),O=(e,t)=>"true"===e||"ifConnected"===e&&t;return{connectorConfig:(0,m.useMemo)(()=>{var r;let n=O(e,!!(null!=v&&v.access_token)),o=!!(null!==(r=null==w?void 0:w.access_token)&&void 0!==r?r:null==k?void 0:k.access_token),l=O(t,o),i=O(s,o),c=[n&&v&&M?[a.PO.GDRIVE,v]:null,i&&w&&y?[a.PO.O365_PERSONAL,w]:null,l&&k&&b?[a.PO.O365_BUSINESS,k]:null];return new Map(u()(c))},[v,e,w,k,t,s,M,y,b]),isLoading:g||h}}function j(e){let{0:t,1:s}=(0,m.useState)(f),{isSuccess:a,data:r,isLoading:n}=(0,i.a)({queryKey:["fetchConnectorData",e],queryFn:M,refetchInterval:18e5});return(0,m.useEffect)(()=>{a&&s(new Map(r.map(e=>[e.type,e])))},[a,r]),{connectors:t,isLoading:n}}async function M(e){let{queryKey:t}=e,[s,r]=t,n=null;try{n=await o.Z.checkConnectorAPI(r)}catch(e){c.U.addError(Error("Error while retrieving context connector entry",{cause:e}))}return n?n.connectors.map(e=>{if(!e.access_token)return e;if(e.type===a.PO.O365_PERSONAL)e.onedrive_endpoint_hint={type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"};else if(e.type===a.PO.O365_BUSINESS){var t;let s=null===(t=e.onedrive_business_metadata)||void 0===t?void 0:t.base_url;if(s){let t=new URL(s);e.onedrive_endpoint_hint={type:"business",baseUrl:s,parsedUrl:"https://".concat(t.hostname,"/_layouts/15/FilePicker.aspx")}}}return e}):[]}},89083:function(e,t,s){s.d(t,{r:function(){return o}});var a=s(25968),r=s(90681),n=s(92379);function o(){let e=(0,a.aF)(),t=(0,r.xb)("1967546325").config,s=t.get("gdrivePicker",!1),o=t.get("o365Picker",!1),i=t.get("gdriveLink",!1),c=t.get("o365PersonalLink",!1),d=t.get("o365BusinessLink",!1),u=t.get("gdrivePercentage",0),m=t.get("o365Percentage",0),f=t.get("loadTestPercentage",0),g=t.get("showWorkspaceSettings",!1),x=e?Math.abs(function(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s)|0;return t}(e.id)%100):null;return(0,n.useMemo)(()=>({gdriveStatus:l(s,x,u),o365Status:l(o,x,m),gdriveLinkStatus:l(i,x,u),o365PersonalLinkStatus:l(c,x,m),o365BusinessLinkStatus:l(d,x,m),loadTest:"true"===l(!0,x,f),showWorkspaceSettings:g}),[s,x,u,o,m,i,c,d,f,g])}function l(e,t,s){return e&&null!=t?t<s?"true":"ifConnected":"false"}},68117:function(e,t,s){s.d(t,{PV:function(){return h},Yc:function(){return j},ZP:function(){return M}});var a=s(97410),r=s(37615),n=s(65205),o=s(92379),l=s(75172),i=s(62984),c=s(68306),d=s(13300),u=s(6242),m=s(48198),f=s(651);function g(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function x(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?g(Object(s),!0).forEach(function(t){(0,a.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}let p=n.pm.Onboarding,h=()=>{let{eligible:e,markAsViewed:t,isLoading:s}=(0,n.qg)(p);return{setHasSeenOnboarding:t,hasSeenOnboardingDate:s?null:!e}},j=()=>{let{eligible:e,markAsViewed:t,isLoading:s}=(0,n.qg)(n.pm.TeamOwnerOnboarding);return{setHasSeenTeamOwnerOnboarding:t,hasSeenTeamOwnerOnboardingDate:s?null:!e}};function M(e){let{onClose:t,scope:s}=e,{setHasSeenOnboarding:a}=h(),n=(0,o.useCallback)(()=>{t(!0),a()},[t,a]);return s===r.w.Personal?(0,f.jsx)(b,{onSubmit:n}):(0,f.jsx)(v,{onSubmit:()=>{t(!0)}})}let y=e=>{let{icon:t,title:s,body:a}=e;return(0,f.jsxs)("div",{className:"flex flex-col gap-2 md:w-1/3",children:[(0,f.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,f.jsx)("div",{children:t}),(0,f.jsx)("div",{className:"font-semibold text-token-text-primary",children:s})]}),(0,f.jsx)("div",{className:"text-sm text-token-text-secondary",children:a})]})},b=e=>{let{onSubmit:t}=e,s=(0,l.Z)();return(0,f.jsxs)("div",{className:"flex flex-col gap-3 p-4 md:p-6",children:[(0,f.jsxs)("div",{className:"flex flex-col gap-6 md:flex-row",children:[(0,f.jsx)(y,{icon:(0,f.jsx)(m.kBi,{isSolid:!0,className:"icon-md text-green-600"}),title:(0,f.jsx)(i.Z,x({},w.askAway)),body:(0,f.jsx)(i.Z,x({},w.askAwayBody))}),(0,f.jsx)(y,{icon:(0,f.jsx)(d.NJ,{className:"icon-md text-brand-purple"}),title:(0,f.jsx)(i.Z,x({},w.warning)),body:(0,f.jsx)(i.Z,x(x({},w.warningBody),{},{values:{article:e=>(0,f.jsx)("a",{href:"https://help.openai.com/en/articles/7039943-data-usage-for-consumer-services-faq",target:"_blank",className:"underline",rel:"noopener noreferrer",children:e})}}))}),(0,f.jsx)(y,{icon:(0,f.jsx)(d.FE,{className:"icon-md text-orange-300"}),title:(0,f.jsx)(i.Z,x({},w.accuracy)),body:(0,f.jsx)(i.Z,x({},w.accuracyBody))})]}),(0,f.jsx)("div",{className:"flex flex-row justify-end",children:(0,f.jsx)(u.m,{title:s.formatMessage(w.gettingStartedButton),onClick:t,color:"primary","data-testid":"getting-started-button"})})]})},v=e=>{let{onSubmit:t}=e,s=(0,l.Z)();return(0,f.jsxs)("div",{className:"flex flex-col gap-6 p-4 md:p-6",children:[(0,f.jsxs)("div",{className:"flex flex-col gap-6 md:flex-row",children:[(0,f.jsx)(y,{icon:(0,f.jsx)(m.oVl,{className:"icon-md text-brand-purple"}),title:(0,f.jsx)(i.Z,x({},w.workUse)),body:(0,f.jsx)(i.Z,x({},w.workUseBody))}),(0,f.jsx)(y,{icon:(0,f.jsx)(m.kBi,{className:"icon-md text-green-600"}),title:(0,f.jsx)(i.Z,x({},w.askAway)),body:(0,f.jsx)(i.Z,x({},w.askAwayBody))}),(0,f.jsx)(y,{icon:(0,f.jsx)(d.FE,{className:"icon-md text-orange-300"}),title:(0,f.jsx)(i.Z,x({},w.accuracy)),body:(0,f.jsx)(i.Z,x({},w.accuracyBody))})]}),(0,f.jsx)("div",{className:"flex flex-row justify-end",children:(0,f.jsx)(u.m,{title:s.formatMessage(w.gettingStartedButton),onClick:t,color:"primary"})})]})},w=(0,c.vU)({askAway:{id:"onboarding.askAway",defaultMessage:"Ask away"},askAwayBody:{id:"onboarding.askAwayBody",defaultMessage:"ChatGPT can answer questions, help you learn, write code, brainstorm together, and much more."},warning:{id:"onboarding.warning",defaultMessage:"Don’t share sensitive info"},warningBody:{id:"onboarding.warningBody",defaultMessage:"Chat history may be reviewed or used to improve our services. Learn more about your choices in our <article>Help Center</article>."},accuracy:{id:"onboarding.accuracy",defaultMessage:"Check your facts"},accuracyBody:{id:"onboarding.accuracyBody",defaultMessage:"While we have safeguards, ChatGPT may give you inaccurate information. It’s not intended to give advice."},gettingStartedButton:{id:"onboarding.gettingStartedButton",defaultMessage:"Okay, let’s go"},workspaceWelcome:{id:"onboarding.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} Workspace"},workspaceWelcomeNoName:{id:"onboarding.workspaceWelcomeNoName",defaultMessage:"Welcome to the your Workspace"},workspaceWelcomeBody:{id:"onboarding.workspaceWelcomeBody",defaultMessage:"Here you can use our latest models, with more capabilities, and fewer limits."},workUse:{id:"onboarding.workUse",defaultMessage:"Made for use at work"},workUseBody:{id:"onboarding.workUseBody",defaultMessage:"By default, chats in this workspace are not used to train our AI models."}})},30665:function(e,t,s){s.d(t,{Z:function(){return A}});var a,r=s(15316),n=s(72988),o=s(25968),l=s(50590),i=s(74836),c=s(42420),d=s(56032),u=s(84760),m=s(90372),f=s.n(m),g=s(92379),x=s(75172),p=s(62984),h=s(15478),j=s(9519),M=s(48609),y=s(47797),b=s(80197),v=s(48198),w=s(96184),k=s(32863),O=s(25311),N=s(31161),P=s(5591),T=s(99812),C=s(651);function Z(e){var t;let{gizmo:s,memory:a}=e,r=(0,x.Z)(),o=(0,c.NL)(),{mutate:l,isPending:u}=(0,d.D)({mutationFn:e=>n.Z.deleteMemory(e,null==s?void 0:s.id),onSettled:()=>{o.invalidateQueries({queryKey:(0,i.Lq)(null==s?void 0:s.id)})},onError:()=>{N.m.danger(r.formatMessage({id:"MemoriesModal.deleteFailed",defaultMessage:"Failed to forget memory"}),{id:"memoryDeleteFailed"})}}),{0:m,1:h}=(0,g.useState)(!1),j=r.formatMessage({id:"z2CNgB",defaultMessage:"Forget"});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(y.Z.Row,{disabled:u,children:[(0,C.jsx)(y.Z.Cell,{children:(0,C.jsx)("div",{className:"whitespace-pre-wrap py-2",children:a.content})}),(0,C.jsx)(y.Z.Cell,{textAlign:"right",children:(0,C.jsx)(y.Z.Actions,{children:(0,C.jsx)("button",{onClick:()=>h(!0),"aria-label":j,className:"text-token-text-tertiary hover:text-token-text-secondary",children:(0,C.jsx)(b.u,{className:"leading-none",label:j,sideOffset:4,side:"top",children:(0,C.jsx)(v.XHJ,{className:"icon-sm"})})})})})]}),m&&(0,C.jsx)(w.Z,{isOpen:!0,primaryButtonColor:"danger",title:j,confirmText:r.formatMessage({id:"fCn0ar",defaultMessage:"Forget"}),onConfirm:()=>{l(a.id),h(!1)},onClose:()=>{h(!1)},children:(0,C.jsx)(p.Z,{id:"pZ/TCe",defaultMessage:'{name} will forget "{title}". This cannot be undone. <link>Learn more</link>',values:{name:null!==(t=null==s?void 0:s.name)&&void 0!==t?t:"ChatGPT",title:(0,C.jsx)("strong",{children:f()(a.content,{length:130,omission:"..."})}),link:e=>(0,C.jsx)("a",{href:"https://help.openai.com/en/articles/8590148-memory-faq#h_41527f643d",target:"_blank",className:"underline",rel:"noreferrer",children:e})}})})]})}function S(e){let{selectedGizmoId:t,onSelect:s,items:a}=e,r=a.find(e=>e.id===t);function n(e){var t;return(0,C.jsx)(O.Z,{isFirstParty:void 0===e.id,src:null!==(t=e.iconUrl)&&void 0!==t?t:null,className:"icon-md"})}return(0,C.jsx)("div",{className:"mb-2 inline-flex rounded-md border border-token-border-medium",children:(0,C.jsxs)(M.Z.Root,{children:[(0,C.jsx)(M.Z.Trigger,{children:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[r?(0,C.jsxs)(C.Fragment,{children:[n(r),(0,C.jsx)("span",{className:"text-token-text-primary",children:null==r?void 0:r.name})]}):(0,C.jsx)(p.Z,{id:"MemoriesModal.unknownGizmo",defaultMessage:"Unknown GPT"}),(0,C.jsx)(v.Tg4,{className:"icon-sm text-token-text-tertiary"})]})}),(0,C.jsx)(M.Z.Portal,{children:(0,C.jsx)(M.Z.Content,{children:a.map(e=>(0,C.jsxs)(M.Z.Item,{className:"flex items-center gap-3",onClick:()=>{s(e.id)},children:[n(e),e.name]},e.id))})})]})})}let B=h.Z.div(a||(a=(0,r.Z)(["flex h-full items-center justify-center pb-8 text-sm text-token-text-tertiary rounded-lg border border-token-border-light"])));function A(e){var t,s,a,r;let d;let{onClose:m,initialGizmoId:f}=e,h=(0,x.Z)(),M=(0,c.NL)(),b=(0,l.tW)(),{0:v,1:w}=(0,g.useState)(f),O=(0,o.m0)(),{data:N,isLoading:A,isError:D,refetch:_}=(0,i.HL)(v,!0,b),L=null==N?void 0:N.memories,{data:F,refetch:E}=(0,u.a)({queryKey:["memory_gizmos"],queryFn:()=>n.Z.getGizmosWithMemory(),refetchOnMount:"always"}),G=[{id:void 0,name:"ChatGPT",iconUrl:null},...null!==(t=null==F||null===(s=F.items)||void 0===s?void 0:s.map(e=>{let{gizmo:t}=e;return{id:t.id,name:t.display.name,iconUrl:t.display.profile_picture_url}}))&&void 0!==t?t:[]],R=G.find(e=>e.id===v);return d=A?(0,C.jsx)(B,{children:(0,C.jsx)(p.Z,{id:"MemoriesModal.loading",defaultMessage:"Loading..."})}):D?(0,C.jsx)(B,{children:(0,C.jsxs)("div",{className:"max-w-sm text-center",children:[(0,C.jsx)("div",{className:"mb-4 text-red-500",children:(0,C.jsx)(p.Z,{id:"MemoriesModal.somethingWentWrong",defaultMessage:"Something went wrong..."})}),(0,C.jsx)("div",{children:(0,C.jsx)(j.z,{color:"secondary",onClick:()=>{_()},children:(0,C.jsx)(p.Z,{id:"MemoriesModal.retry",defaultMessage:"Retry"})})})]})}):L&&0!==L.length?(0,C.jsx)(y.Z.Root,{className:"h-full",size:"compact",bordered:!0,children:(0,C.jsx)(y.Z.Body,{children:L.map(e=>(0,C.jsx)(Z,{gizmo:R?{id:R.id,name:R.name}:void 0,memory:e},e.id))})}):(0,C.jsx)(B,{children:(0,C.jsx)("div",{className:"max-w-sm text-center",children:b?(0,C.jsx)(p.Z,{id:"MemoriesModal.noMemories.1",defaultMessage:"As you chat with {name}, the details and preferences it remembers will be shown here.",values:{name:null!==(r=null==R?void 0:R.name)&&void 0!==r?r:"ChatGPT"}}):(0,C.jsx)(p.Z,{id:"MemoriesModal.noMemoriesAndDisabled",defaultMessage:"Memory is disabled. ChatGPT won't use or create memories."})})}),(0,C.jsxs)(k.Z,{isOpen:!0,onClose:m,size:"custom",className:"max-w-5xl",type:"success",title:h.formatMessage({id:"MemoriesModal.title",defaultMessage:"Memory"}),showCloseButton:!0,children:[O&&G.length>1&&(0,C.jsx)("div",{className:"mb-4",children:(0,C.jsx)(S,{selectedGizmoId:v,items:G,onSelect:e=>{M.invalidateQueries({queryKey:(0,i.Lq)(e)}),w(e)}})}),(0,C.jsx)(P.s,{memoryFullPct:null==N?void 0:N.memoryFullPct,className:"mb-5"}),(0,C.jsx)("div",{className:"h-[24rem]",children:d}),(0,C.jsx)("div",{className:"mt-5 flex justify-end",children:(0,C.jsx)(T.n,{onReset:()=>{_(),E(),v&&w(void 0)},gizmoId:v,memoryName:null!==(a=null==R?void 0:R.name)&&void 0!==a?a:"ChatGPT"})})]})}},5591:function(e,t,s){s.d(t,{b:function(){return g},s:function(){return x}});var a=s(50590),r=s(74836),n=s(19841),o=s(88600),l=s(62984),i=s(80197),c=s(48198),d=s(651);function u(e){return e<100?"bg-[#fcf6e0] text-yellow-500 dark:bg-yellow-600 dark:text-yellow-100":"bg-orange-100 text-[#f48c15] dark:bg-orange-800 dark:text-orange-100"}function m(e){return(0,a.u1)()&&null!=e&&e>=91}function f(e){let{memoryFullPct:t,className:s,children:a}=e;return m(t)?(0,d.jsx)("div",{className:(0,n.default)("rounded-lg border border-token-border-light p-1 text-sm",s),children:(0,d.jsxs)(o.E.div,{className:(0,n.default)("flex items-center overflow-hidden whitespace-nowrap rounded px-2 py-1.5",u(t)),initial:{width:0},animate:{width:"".concat(t,"%")},transition:{duration:.5},children:[(0,d.jsx)(l.Z,{id:"6D2etG",defaultMessage:"{memoryFullPct}% full",values:{memoryFullPct:t}}),a]})}):null}function g(e){let{memoryFullPct:t}=e;return m(t)?(0,d.jsxs)("div",{className:"flex items-center justify-center",children:[(0,d.jsx)("div",{className:(0,n.default)("relative -mr-1 h-2 w-2 rotate-45 transform border-white/10 ",u(t))}),(0,d.jsxs)("div",{className:(0,n.default)("flex items-center rounded-lg px-3 py-1.5",u(t)),children:[(0,d.jsx)(l.Z,{id:"x7M6HK",defaultMessage:"{memoryFullPct}%",values:{memoryFullPct:t}}),(0,d.jsx)(i.u,{label:t<100?(0,d.jsx)(l.Z,{id:"VXohcH",defaultMessage:"Memory is almost full. Once memory is full, new memories won’t be created. You can forget existing memories to make space."}):(0,d.jsx)(l.Z,{id:"pQ9dnt",defaultMessage:"Memory is full. New memories won’t be created. You can forget existing memories to make space."}),children:(0,d.jsx)(c.F3p,{className:"icon-sm ml-1 text-token-text-secondary"})})]})]}):null}function x(e){let{memoryFullPct:t,className:s}=e;return m(t)?(0,d.jsxs)("div",{className:(0,n.default)("flex flex-col gap-2",s),children:[(0,d.jsx)(f,{memoryFullPct:t}),(0,d.jsx)("div",{className:"pl-3 text-sm text-token-text-secondary",children:t<100?(0,d.jsx)(l.Z,{id:"z3LYM2",defaultMessage:"<strong>Memory almost full</strong>. Once memory is full, new memories won’t be created. You can forget existing memories to make space. <a>Learn more</a>.",values:{strong:e=>(0,d.jsx)("strong",{children:e}),a:e=>(0,d.jsx)("a",{href:r.Fx,target:"_blank",rel:"noopener noreferrer",className:"underline",children:e})}}):(0,d.jsx)(l.Z,{id:"6rc4Jv",defaultMessage:"<strong>Memory is full</strong>. New memories won’t be created. You can forget existing memories to make space. <a>Learn more</a>.",values:{strong:e=>(0,d.jsx)("strong",{children:e}),a:e=>(0,d.jsx)("a",{href:r.Fx,target:"_blank",rel:"noopener noreferrer",className:"underline",children:e})}})})]}):null}},99812:function(e,t,s){s.d(t,{Z:function(){return S},n:function(){return A}});var a=s(97410),r=s(34608),n=s(35998),o=s(8538),l=s(43063),i=s(72988),c=s(81743),d=s(90681),u=s(92379),m=s(50590),f=s(74836),g=s(47453),x=s.n(g),p=s(75172),h=s(62984),j=s(68306),M=s(9519),y=s(21355),b=s(6242),v=s(32863),w=s(31161),k=s(30665),O=s(5591),N=s(651);function P(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function T(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?P(Object(s),!0).forEach(function(t){(0,a.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):P(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function C(e){let{description:t,onClose:s,onConfirm:a}=e,r=(0,p.Z)();return(0,N.jsx)(v.Z,{isOpen:!0,onClose:s,type:"success",title:r.formatMessage({id:"MemoriesModal.resetModalTitle",defaultMessage:"Are you sure?"}),description:t,primaryButton:(0,N.jsx)(b.Z.Button,{title:r.formatMessage({id:"MemoriesModal.resetModalConfirm",defaultMessage:"Clear memory"}),color:"danger",onClick:a}),secondaryButton:(0,N.jsx)(b.Z.Button,{title:r.formatMessage({id:"MemoriesModal.resetModalCancel",defaultMessage:"Cancel"}),color:"secondary",onClick:s})})}function Z(e){let{children:t}=e;return(0,N.jsxs)("li",{children:["“",t,"”"]})}function S(){let{0:e,1:t}=(0,u.useState)(!1),s=(0,p.Z)(),a=(0,m.tW)(),{isLoading:i,data:g}=(0,y.Xu)(!0),x=(0,l.Gt)(),{value:j}=(0,d.sB)("804300613"),{data:b}=(0,f.HL)(void 0,!1,a);return i?(0,N.jsx)("div",{className:"flex justify-center",children:(0,N.jsx)(n.Z,{})}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.ZR,{children:(0,N.jsx)(o.c0,{label:(0,N.jsx)(h.Z,T({},D.customInstructions)),stateLabel:null!=g&&g.enabled?s.formatMessage(D.on):s.formatMessage(D.off),onClick:()=>c.vm.openModal(c.B.UserContext)})}),(0,N.jsxs)(o.ZR,{children:[(0,N.jsx)(o.wy,{label:s.formatMessage(D.toggleLabel),enabled:a,onChange:e=>{x.mutate({setting:r.sh.Sunshine,value:e})},description:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{children:(0,N.jsx)(h.Z,T(T({},D.exampleDescription1),{},{values:{link:e=>(0,N.jsx)("a",{href:"https://help.openai.com/en/articles/8590148-memory-in-chatgpt-faq",target:"_blank",className:"underline",rel:"noreferrer",children:e})}}))}),(0,N.jsx)("p",{className:"mt-3",children:(0,N.jsx)(h.Z,T({},D.exampleDescription2))}),(0,N.jsxs)("ul",{className:"my-2 flex list-disc flex-col gap-1 pl-5",children:[(0,N.jsx)(Z,{children:(0,N.jsx)(h.Z,T({},D.exampleMessage1))}),(0,N.jsx)(Z,{children:(0,N.jsx)(h.Z,T({},D.exampleMessage2))}),(0,N.jsx)(Z,{children:(0,N.jsx)(h.Z,T({},D.exampleMessage3))}),(0,N.jsx)(Z,{children:(0,N.jsx)(h.Z,T({},D.exampleMessage4))})]})]})}),(0,N.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,N.jsx)(M.z,{onClick:()=>{t(!0)},color:"secondary",children:(0,N.jsx)(h.Z,T({},D.manageMemoriesButton))}),(0,N.jsx)(O.b,{memoryFullPct:null==b?void 0:b.memoryFullPct}),e&&(0,N.jsx)(k.Z,{onClose:()=>t(!1)})]})]}),(0,N.jsx)("span",{children:(0,N.jsx)(A,{memoryName:"ChatGPT"})}),j&&(0,N.jsx)(B,{})]})}let B=x()(()=>Promise.all([s.e(8682),s.e(3063)]).then(s.bind(s,45759)).then(e=>e.GizmoRolodex),{loadableGenerated:{webpack:()=>[45759]}});function A(e){let{onReset:t,gizmoId:s,memoryName:a}=e,{0:r,1:n}=(0,u.useState)(!1),o=(0,p.Z)(),l=async()=>{try{await i.Z.clearUserMemory(s),w.m.success(o.formatMessage({id:"ResetMemoriesButton.resetSuccess",defaultMessage:"Memory cleared."})),null==t||t(),n(!1)}catch(e){w.m.danger(o.formatMessage({id:"ResetMemoriesButton.resetFailed",defaultMessage:"Failed to clear memory."}))}};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(M.z,{color:"danger-outline",onClick:()=>n(!0),children:s?(0,N.jsx)(h.Z,{id:"ResetMemoriesButton.resetGizmo",defaultMessage:"Clear this GPT's memory"}):(0,N.jsx)(h.Z,{id:"ResetMemoriesButton.resetChatGPT",defaultMessage:"Clear ChatGPT's memory"})}),r&&(0,N.jsx)(C,{description:o.formatMessage({id:"MemoriesModal.resetGizmoModalDescription",defaultMessage:"{name} will forget everything it has remembered from your chats. This cannot be undone."},{name:a}),onClose:()=>n(!1),onConfirm:l})]})}let D=(0,j.vU)({toggleLabel:{id:"settingsModal.myChagtGptToggleLabel.2",defaultMessage:"Memory"},exampleDescription1:{id:"settingsModal.exampleDescription1.1",defaultMessage:"ChatGPT will become more helpful as you chat, picking up on details and preferences to tailor its responses to you. <link>Learn more</link>"},exampleDescription2:{id:"settingsModal.exampleDescription2.2",defaultMessage:"To understand what ChatGPT remembers or teach it something new, just chat with it:"},exampleMessage1:{id:"settingsModal.exampleMessage1.1",defaultMessage:"Remember that I like concise responses."},exampleMessage2:{id:"settingsModal.exampleMessage2.1",defaultMessage:"I just got a puppy!"},exampleMessage3:{id:"settingsModal.exampleMessage3.2",defaultMessage:"What do you remember about me?"},exampleMessage4:{id:"settingsModal.exampleMessage4",defaultMessage:"Where did we leave off on my last project?"},reset:{id:"settingsModal.reset",defaultMessage:"Reset memories"},resetModalTitle:{id:"settingsModal.resetModalTitle",defaultMessage:"Are you sure?"},resetModalDescription:{id:"settingsModal.resetModalDescription",defaultMessage:"Your GPT will forget what it has learned from your previous chats. This can't be undone."},resetModalConfirm:{id:"settingsModal.resetModalConfirm",defaultMessage:"Confirm reset"},resetModalCancel:{id:"settingsModal.resetModalCancel",defaultMessage:"Cancel"},resetSuccessful:{id:"settingsModal.resetSuccessful",defaultMessage:"Your GPT's memory has been reset."},resetFailed:{id:"settingsModal.resetFailed",defaultMessage:"Failed to reset your GPT's memory."},on:{id:"personalizationSettings.on",defaultMessage:"On"},off:{id:"personalizationSettings.off",defaultMessage:"Off"},customInstructions:{id:"personalizationSettings.customInstructions",defaultMessage:"Custom instructions"},manageMemoriesButton:{id:"personalizationSettings.manageMemoriesButton",defaultMessage:"Manage"}})},34406:function(e,t,s){s.d(t,{$N:function(){return f},SK:function(){return d},hE:function(){return m},qn:function(){return u}});var a=s(34608),r=s(63854),n=s(43063),o=s(72988),l=s(84760),i=s(69923),c=s(92379);function d(){var e,t;let s=null===(e=(0,n.R1)(a.sh.VoiceName))||void 0===e?void 0:e.data,r=null===(t=(0,n.R1)(a.sh.VoiceMainLanguage))||void 0===t?void 0:t.data;return{voiceName:f(s,u()),voiceMainLanguage:null!=r?r:a.P9.Auto}}function u(){let e=m(),{currentLocale:t}=(0,r.b)();return(0,c.useCallback)(()=>{if(0===e.length)return"juniper";let s=e[0].voice;return t.startsWith("zh")&&(s="cove"),s},[e,t])}function m(){let{session:e}=(0,i.kP)(),{data:t}=(0,l.a)({queryKey:["getUserSettingVoices"],queryFn:()=>o.Z.getUserSettingVoices(),enabled:null!=e});return t?t.voices:[]}function f(e,t){return"sky"===e?"juniper":null!=e?e:t()}},74836:function(e,t,s){s.d(t,{Fx:function(){return i},HL:function(){return d},Lq:function(){return c}});var a=s(97410),r=s(72988),n=s(84760);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach(function(t){(0,a.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}let i="https://help.openai.com/en/articles/8590148-memory-faq";function c(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return["memories",{gizmoId:e,includeMemoryEntries:t}]}function d(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],s=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return(0,n.a)({queryKey:c(e,t),queryFn:async()=>{let s=await r.Z.getMemories(e,t),a=Math.min(Math.floor(100*s.memory_num_tokens/s.memory_max_tokens),100);return l(l({},s),{},{memoryFullPct:a})},refetchOnMount:"always",enabled:s})}}}]);
//# sourceMappingURL=1596-fa5219c39a5fdf6c.js.map