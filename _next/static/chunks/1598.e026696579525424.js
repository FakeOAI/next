(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1598],{34598:function(e,t,r){var n=r(85036);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},60510:function(e){e.exports=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}},85036:function(e,t,r){var n=r(83663),i=r(18826),o=r(31154);e.exports=function(e,t,r){return t==t?o(e,t,r):n(e,i,r)}},18826:function(e){e.exports=function(e){return e!=e}},18296:function(e,t,r){var n=r(25561),i=r(34598),o=r(60510),s=r(8529),l=r(33295),a=r(33005);e.exports=function(e,t,r){var u=-1,c=i,d=e.length,f=!0,p=[],m=p;if(r)f=!1,c=o;else if(d>=200){var g=t?null:l(e);if(g)return a(g);f=!1,c=s,m=new n}else m=t?[]:p;e:for(;++u<d;){var x=e[u],h=t?t(x):x;if(x=r||0!==x?x:0,f&&h==h){for(var v=m.length;v--;)if(m[v]===h)continue e;t&&m.push(h),p.push(x)}else c(m,h,r)||(m!==p&&m.push(h),p.push(x))}return p}},33295:function(e,t,r){var n=r(353),i=r(91530),o=r(33005),s=n&&1/o(new n([,-0]))[1]==1/0?function(e){return new n(e)}:i;e.exports=s},31154:function(e){e.exports=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1}},96594:function(e,t,r){var n=r(61757),i=r(18296);e.exports=function(e,t){return e&&e.length?i(e,n(t,2)):[]}},28368:function(e,t,r){"use strict";var n;r.d(t,{j:function(){return i}});let i=((n={}).Starter="starter",n.Reply="reply",n)},7937:function(e,t,r){"use strict";function n(e){return null!=e}r.d(t,{BB:function(){return c},He:function(){return d},OP:function(){return m},PO:function(){return s},WU:function(){return p},aS:function(){return u},lm:function(){return n},qo:function(){return o},r3:function(){return i},sw:function(){return f}});let i=(e,t)=>e.includes(t),o=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null==e)return r;let n=Array.isArray(e)?e:[e];return t?n.map(t):n},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r=>o(r,e,t)},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"object"!=typeof e||null==e||Array.isArray(e)?t:e},a=(e,t)=>{let r=l(e),n={};for(let e in t)n[e]=t[e](r?.[e]);return n},u=e=>t=>a(t,e),c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"object"==typeof e||null==e?t:String(e)},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("object"==typeof e||null==e)return t;let r=Number(e);return isNaN(r)?t:r},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("boolean"==typeof e)return e;if("number"==typeof e){if(0===e)return!1;if(1===e)return!0}if("string"==typeof e){let t=e.toLowerCase();if("false"===t)return!1;if("true"===t)return!0}return t},p=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t[0];return i(t,e)?e:r},m=e=>t=>void 0===t?void 0:e(t)},66587:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(98601),i=r(52088),o=r(19841),s=r(651);let l=["className"];function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){let{className:t}=e,r=(0,i.Z)(e,l);return(0,s.jsx)("textarea",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:(0,o.default)("form-textarea w-full rounded-lg border border-token-border-light bg-token-main-surface-secondary text-sm text-token-text-primary focus:border-token-text-primary focus:shadow-none focus:outline-none focus:ring-token-text-primary",t)},r))}},98303:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var n=r(93951);function i(e){let t=(0,n.hz)();return!n.t()?.isWorkspaceAccount()||(t?.includes(e)??!1)}},17004:function(e,t,r){"use strict";r.d(t,{E:function(){return o},P:function(){return i}});var n=r(92379);let i=(0,n.createContext)({isEmbeddedInFocusedView:!1});function o(){return(0,n.useContext)(i).isEmbeddedInFocusedView}},55357:function(e,t,r){"use strict";r.d(t,{B:function(){return s},X:function(){return o}});var n=r(16757),i=r(7937);let o=e=>(0,i.r3)([n.OL.GizmoMagicCreate,n.OL.GizmoTest],e?.kind),s=e=>(0,i.r3)([n.OL.GizmoInteraction,n.OL.GizmoMagicCreate,n.OL.GizmoTest],e?.kind)},2319:function(e,t,r){"use strict";r.d(t,{D:function(){return i},Q:function(){return o}});var n=r(92379);let i=n.createContext({mode:void 0,getGizmoId:void 0}),o=()=>(0,n.useContext)(i)},10083:function(e,t,r){"use strict";r.d(t,{X:function(){return m},r:function(){return p}});var n=r(12128),i=r(10080),o=r(15913),s=r(19841),l=r(50820),a=r(33138),u=r(54097),c=r(83036),d=r(45334),f=r(651);function p(e){let{gizmo:t,hideOwner:r=!1,children:n,className:i,avatarClassName:o,showStarterPrompts:l=!1,disableStarterPrompts:a=!1}=e;return null==t?null:(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:(0,s.default)("flex h-full flex-col items-center justify-center text-token-text-primary",i),children:[(0,f.jsx)(m,{gizmo:t,avatarClassName:o}),(0,f.jsx)(x,{gizmo:t,hideOwner:r,showStarterPrompts:l,disableStarterPrompts:a}),n]})})}function m(e){let{gizmo:t,avatarClassName:r}=e,o=!!(null!=t&&(0,d.S9)(t)&&t?.gizmo.tags?.includes(i.U9.FirstParty));return(0,f.jsx)("div",{className:"relative",children:(0,f.jsx)(n.Z,{isFirstParty:o||!t,src:null!=t&&(0,d.WQ)(t)?t.profilePictureUrl:t?.gizmo.display.profile_picture_url,className:(0,s.default)("mb-3 h-12 w-12",r)})})}function g(e){let{gizmo:t,disabled:r}=e,n=(0,u.O)(t),i=(0,l.f)(),s=(0,o.BL)();if(null==n||0===n.length)return null;let c=n.slice(0,s?2:4);return(0,f.jsx)(a.cS,{starterPrompts:c,onSelectStarterPrompt:i,disabled:r})}function x(e){let{gizmo:t,hideOwner:r,showStarterPrompts:n,disableStarterPrompts:i}=e,o=null!=t&&(0,d.WQ)(t)?t.name:t?.gizmo.display.name,s=null!=t&&(0,d.WQ)(t)?t.description:t?.gizmo.display.description;return(0,f.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,f.jsx)("div",{className:"text-center text-2xl font-semibold",children:o}),!r&&(0,f.jsx)("div",{className:"flex items-center gap-1 text-token-text-tertiary",children:(0,f.jsx)(f.Fragment,{children:t&&(0,d.WQ)(t)?(0,f.jsx)(c.Z,{gizmo:t}):(0,f.jsx)(c.Z,{gizmo:t,socials:t.gizmo.author.display_socials})})}),s&&(0,f.jsx)("div",{className:"max-w-md text-center text-sm font-normal text-token-text-primary",children:s}),n&&(0,f.jsx)(g,{gizmo:t,disabled:i})]})}},20053:function(e,t,r){"use strict";r.d(t,{H:function(){return _}});var n=r(98601),i=r(11550),o=r(66587),s=r(24434),l=r(99555),a=r(24740),u=r(31438),c=r(31498),d=r(84760),f=r(99976),p=r(61619),m=r(19841),g=r(92379),x=r(49764),h=r(75325),v=r(47584),b=r(30853),y=r(40743),w=r(39004),j=r(10080),S=r(651);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let _=e=>{let{rating:t,onRating:r,className:n}=e,{0:i,1:o}=(0,g.useState)(),s=(0,x.Z)();return(0,S.jsx)("div",{className:(0,m.default)("flex flex-row",n),children:[1,2,3,4,5].map(e=>{let n=(0,S.jsx)(y.e0l,{className:(0,m.default)("icon-2xl cursor-pointer",(i??t??0)>=e?function(e,t){let r=e??t??0;return(0,m.default)(null!=e&&e!=t&&"opacity-50 dark:opacity-60",r>4?"text-brand-purple":r>3?"text-green-500":r>2?"text-yellow-500":r>1?"text-orange-500":"text-red-500")}(i,t):"text-token-main-surface-tertiary")}),l=function(e){switch(e){case 1:return z.hoverRating1;case 2:return z.hoverRating2;case 3:return z.hoverRating3;case 4:return z.hoverRating4;case 5:return z.hoverRating5}}(i??0),a=l&&s.formatMessage(l);return(0,S.jsx)("div",{onClick:()=>{r(e)},onMouseEnter:()=>{o(e)},onMouseLeave:()=>{o(void 0)},className:"p-1",children:l?(0,S.jsx)(b.u,{label:a,side:"top",sideOffset:4,children:n}):n},e)})})},k=e=>{var t;let{gizmo:r}=e,n=(0,c.aF)(),v=()=>u.vm.closeModal(u.B.GPTReview),y=(0,x.Z)(),{0:O,1:k}=(0,g.useState)(""),{0:R,1:M}=(0,g.useState)(!1),N=(t=r.gizmo.id,(0,d.a)({queryFn:async()=>l.U.getUserReview(t),queryKey:["gizmo","review",{gizmoId:t}],enabled:null!=t})),C=(0,w.K7)(r.gizmo.id),{0:A,1:E}=(0,g.useState)(),D=A===N.data?.rating;(0,g.useEffect)(()=>{null!=N.data&&null==A&&E(N.data.rating)},[N.data,A]),(0,g.useEffect)(()=>{f.A.logEvent(p.M.showRatingModal,{gizmo_id:r.gizmo.id})},[r.gizmo.id]);let B=null!=N.data,T=!r.gizmo.tags?.includes(j.U9.FirstParty)&&r.gizmo.author.will_receive_support_emails;return(0,S.jsx)(s.Z,{type:"success",title:(0,S.jsxs)("div",{children:[(0,S.jsx)(h.Z,P({},z.title)),(0,S.jsxs)("div",{className:"align-end mt-2 flex text-sm font-normal",children:[B?(0,S.jsx)(h.Z,P({},z.subtitleChange)):(0,S.jsx)(h.Z,P({},z.subtitle)),(0,S.jsx)(b.u,{label:y.formatMessage(z.subtitleTooltip),className:"ml-1 flex cursor-pointer items-center pl-1",sideOffset:0,children:(0,S.jsx)("div",{className:"icon-xs flex items-center justify-center rounded-full border border-token-text-tertiary text-[8px] font-bold text-token-text-tertiary",children:"i"})})]})]}),isOpen:!0,onClose:v,size:"custom",showCloseButton:!0,className:"max-w-xl overflow-y-auto",hideSeparator:!0,children:(0,S.jsxs)("div",{className:"flex flex-grow flex-col space-y-8",children:[(0,S.jsx)(_,{rating:A,onRating:E,className:"mx-auto flex flex-row items-center"}),T&&(0,S.jsxs)("div",{children:[(0,S.jsx)(o.Z,{className:"mb-1 w-full resize-none overflow-y-auto rounded-md bg-transparent focus:border-gray-200 focus:ring-gray-200 dark:focus:border-white dark:focus:ring-white",placeholder:y.formatMessage(z.messagePlaceholder),value:O,rows:1,onChange:e=>k(e.target.value)}),(0,S.jsxs)("div",{className:(0,m.default)("flex flex-row items-center space-x-2 self-start",O.length>0?"text-token-text-primary":"text-token-text-tertiary"),children:[(0,S.jsx)("input",{type:"checkbox",className:"rounded",checked:R,onChange:e=>M(e.target.checked)}),n&&(0,S.jsx)("span",{className:"text-sm",children:(0,S.jsx)(h.Z,P(P({},z.includeFrom),{},{values:{email:(0,S.jsx)("strong",{children:n.email})}}))})]})]}),(0,S.jsx)(i.z,{color:"primary",disabled:D,onClick:async()=>{if(null==A){a.m.warning("Please select a rating");return}f.A.logEvent(p.M.submitRatingModal,{gizmo_id:r.gizmo.id,rating:A}),await C.mutateAsync({rating:A,message:O.length>0?O:void 0,includeFrom:O.length>0?R:void 0}),a.m.success(y.formatMessage(z.successToast),{duration:3}),v()},children:(0,S.jsx)(h.Z,P({},z.submit))})]})})},z=(0,v.vU)({title:{id:"GizmoReviewModal.title",defaultMessage:"Leave Feedback"},subtitle:{id:"GizmoReviewModal.subtitle",defaultMessage:"How would you rate this GPT?"},subtitleChange:{id:"GizmoReviewModal.subtitleChange",defaultMessage:"Would you like to change your rating?"},subtitleTooltip:{id:"GizmoReviewModal.subtitleTooltip",defaultMessage:"Stars will be public and anonymous"},messagePlaceholder:{id:"GizmoReviewModal.messagePlaceholder",defaultMessage:"Add an optional private email to the creator"},submit:{id:"GizmoReviewModal.submit",defaultMessage:"Submit"},successToast:{id:"GizmoReviewModal.successToast",defaultMessage:"Review sent"},includeFrom:{id:"GizmoReviewModal.includeFrom",defaultMessage:"Include my email address {email}"},hoverRating1:{id:"GizmoReviewModal.hoverRating1",defaultMessage:"Bad"},hoverRating2:{id:"GizmoReviewModal.hoverRating2",defaultMessage:"Okay"},hoverRating3:{id:"GizmoReviewModal.hoverRating3",defaultMessage:"Good"},hoverRating4:{id:"GizmoReviewModal.hoverRating4",defaultMessage:"Great!"},hoverRating5:{id:"GizmoReviewModal.hoverRating5",defaultMessage:"Excellent!"}});t.Z=e=>{let{gizmo:t}=e;return(0,u.EV)(u.B.GPTReview)?(0,S.jsx)(k,{gizmo:t}):null}},8643:function(e,t,r){"use strict";r.d(t,{b:function(){return l},l:function(){return a}});var n=r(83271),i=r(92379),o=r(651);let s=(0,i.createContext)(null);function l(e){let{children:t}=e;return(0,o.jsx)(s.Provider,{value:{store:(0,i.useRef)((0,n.rd)()).current},children:t})}function a(){let e=(0,i.useContext)(s);if(!e)throw Error("usePromptTextareaContext must be used within a PromptTextareaProvider");return e}},83271:function(e,t,r){"use strict";r.d(t,{Tk:function(){return c},cq:function(){return d},j9:function(){return f},rd:function(){return m}});var n,i,o,s=r(92379),l=r(68810),a=r(73177),u=r(95267);let c=((n={}).Header="Header",n.HeaderTop="HeaderTop",n.HeaderBottom="HeaderBottom",n),d=((i={}).Box="Box",i.ItemActions="ItemActions",i.PromptTextareaAction="PromptTextareaAction",i.BannerTermsDisclaimer="BannerTermsDisclaimer",i.BannerSignup="BannerSignup",i.BannersRateLimit="BannersRateLimit",i.BannerSidekickAnnouncement="BannerSidekickAnnouncement",i.BannerMemoryFull="BannerMemoryFull",i.ParagenControls="ParagenControls",i),f=((o={}).DallePromptControls="DallePromptControls",o),p={contentAreas:{[c.Header]:{dimensions:null,contentId:null},[c.HeaderTop]:{dimensions:null,contentId:null},[c.HeaderBottom]:{dimensions:null,contentId:null}},sharedProps:null};function m(){let e=(0,l.Ue)((0,a.XR)((0,u.n)(()=>p)));function t(t,r){e.setState(e=>{e.contentAreas[t].dimensions=r})}return{reset:()=>e.setState(p),useContentAreaId:t=>e(e=>e.contentAreas[t].contentId),useContentAreaApi:t=>({set:(0,s.useCallback)(r=>e.setState(e=>{e.contentAreas[t].contentId=r}),[t]),remove:(0,s.useCallback)(()=>{e.setState(e=>{e.contentAreas[t].contentId=null})},[t])}),useContentAreaDimensions:(t,r)=>e(e=>r(e.contentAreas[t].dimensions)),useContentAreaResizeObserver(e,r){(0,s.useEffect)(()=>{if(r.current){t(e,r.current.getBoundingClientRect());let n=new ResizeObserver(r=>{for(let n of r)t(e,n.contentRect)});return n.observe(r.current),()=>{n.disconnect(),t(e,null)}}},[r,e])},useIsHeaderContentAreaPopulated:()=>e(e=>!!e.contentAreas[c.HeaderTop].contentId||!!e.contentAreas[c.HeaderBottom].contentId),useSharedProps:t=>e(e=>t?t(e.sharedProps):e.sharedProps),useSetSharedProps:()=>(0,s.useCallback)(t=>{e.setState(e=>{e.sharedProps=t})},[])}}},50820:function(e,t,r){"use strict";r.d(t,{f:function(){return u}});var n=r(92745),i=r(31438),o=r(90215),s=r(92379),l=r(8643),a=r(70879);function u(){let{store:e}=(0,l.l)(),t=e.useSharedProps();return(0,s.useCallback)(async(e,r,s)=>{if(!t)return;let{clientThreadId:l,currentLeafId:u,onCreateNewCompletion:c,onResetState:d,conversationMode:f}=t;i.vm.hideThreadHeader();let p=`${u}-nextPrompt`;await c({promptId:p,content:(0,o.bf)(e),eventMetadata:{eventSource:"mouse"},completionMetadata:{suggestions:r,conversationMode:f??n.iN.getConversationMode(l)},messageMetadata:{is_starter_prompt:!0,suggestion_type:e.type}});let m=n.tQ.getTree(l).getMessageId(p);d(),(0,o.wj)(e,s,m),(0,a.go)()},[t])}},33138:function(e,t,r){"use strict";r.d(t,{cS:function(){return M},ch:function(){return _},pF:function(){return N}});var n=r(98601),i=r(52088),o=r(50820),s=r(79946),l=r(25905),a=r(54097),u=r(35367),c=r(9026),d=r(92745),f=r(86025),p=r(15913),m=r(90215),g=r(45120),x=r(19841),h=r(21389),v=r(88600),b=r(92379),y=r(75325),w=r(25162),j=r(651);let S=["promptStarters","onSelectStarterPrompt","isSendBlocked","clientThreadId","isTwoLine"];function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _(e){let{clientThreadId:t}=e,{isUnauthenticated:r}=(0,f.u)(),n=!r,i=(0,d.Zz)(t),s=(0,d.Kt)(t),l=(0,c.ep)(),m=(0,p.BL)(),x=(0,o.f)(),v=(0,u.R)(t),{promptStarters:b,isSuccess:y,isError:S}=(0,a.P)(i&&!s,t,m?2:4),O=b&&b?.length>0,P=y&&O&&n&&!v,{layer:_}=(0,g.AH)("4031588851"),R=_.get("is_two_line",!1);return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(h.M,{children:(S||y)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(w.nI,{className:`h-12 w-12 ${n?"":"max-sm:hidden"}`}),P&&(0,j.jsx)(z,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},promptStarters:b,onSelectStarterPrompt:x,isSendBlocked:l,clientThreadId:t,isTwoLine:R}),!O&&n&&!v&&(0,j.jsx)(k,{}),v,S&&n&&(0,j.jsx)(k,{})]})})})}function k(){return(0,j.jsx)("div",{className:"mt-7 text-3xl",children:(0,j.jsx)(y.Z,{id:"24tuqq",defaultMessage:"Hi, how can I help?"})})}function z(e){let{promptStarters:t,onSelectStarterPrompt:r,isSendBlocked:n,clientThreadId:o,isTwoLine:s}=e,a=(0,i.Z)(e,S);return(0,b.useEffect)(()=>{(0,m.SB)(t,o)},[o]),(0,j.jsx)(j.Fragment,{children:s?(0,j.jsx)(v.E.div,P(P({},a),{},{className:"absolute bottom-6 w-full px-4",children:(0,j.jsx)(l.Nf,{children:(0,j.jsx)(N,{starterPrompts:t,onSelectStarterPrompt:r,disabled:n})})})):(0,j.jsx)(v.E.div,P(P({},a),{},{children:(0,j.jsx)(M,{starterPrompts:t,onSelectStarterPrompt:r,disabled:n})}))})}let R=/\s/;function M(e){let{starterPrompts:t,onSelectStarterPrompt:r,disabled:n}=e,i=t.map((e,i)=>{let o=e.oneliner??e.title;""===o&&(o=e.body);let l=R.test(o);return(0,j.jsxs)("button",{className:"relative flex w-40 flex-col gap-2 rounded-2xl border border-token-border-light px-3 pb-4 pt-3 text-start align-top text-[15px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed",disabled:n,onClick:()=>r(e,t,i),children:[(0,j.jsx)(s.ey,{starterPrompt:e}),(0,j.jsx)("div",{className:(0,x.default)("line-clamp-3 max-w-full text-balance text-gray-600 dark:text-gray-500",l?"break-word":"break-all"),children:o})]},e.id??i)});if(i.length>2){let e=Math.floor(i.length/2);i=[i.slice(0,e),i.slice(e)].map((e,t)=>(0,j.jsx)("div",{className:"flex max-w-3xl flex-wrap items-stretch justify-center gap-4",children:e},t))}return(0,j.jsx)("div",{className:"mx-3 mt-12 flex max-w-3xl flex-wrap items-stretch justify-center gap-4",children:i})}function N(e){let{starterPrompts:t,onSelectStarterPrompt:r,disabled:n}=e,i=t.map((e,i)=>(0,j.jsx)("button",{className:"relative whitespace-nowrap rounded-2xl border border-token-border-light px-4 py-2 text-start align-top text-[15px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed",disabled:n,onClick:()=>r(e,t,i),children:(0,j.jsxs)("div",{className:"flex flex-col overflow-hidden",children:[e.title&&(0,j.jsx)("div",{className:"truncate font-semibold",children:e.title}),(0,j.jsx)("div",{className:(0,x.default)("truncate font-normal",e.title?"opacity-50":""),children:e.body})]})},e.id??i)),o=Math.floor(i.length/2);return i=[i.slice(0,o),i.slice(o)].map((e,t)=>(0,j.jsx)("div",{className:"flex flex-col gap-2",children:e},t)),(0,j.jsx)("div",{className:"grid w-full grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-2",children:i})}},25905:function(e,t,r){"use strict";r.d(t,{Nf:function(){return c},_4:function(){return d},nI:function(){return u}});var n=r(92745),i=r(31438),o=r(19841),s=r(17004),l=r(68745),a=r(651);function u(e){let{clientThreadId:t,showInlineEmbeddedDisplay:r,isStaticSharedThread:s,children:u,withVerticalPadding:c,withHorizontalPadding:d}=e,f=(0,l.L)(),p=(0,i.tN)(e=>e.isDesktopNavCollapsed),m=d&&!s&&!f,g=d&&f&&!p,x=p&&d&&f,h=d&&(!x||!s&&f),v=(0,n.ot)(t);return(0,a.jsx)("div",{className:(0,o.default)("text-base",c&&"py-[18px]",d&&!f&&"px-3 md:px-4",r&&!s?"ml-5":"m-auto",m&&"md:px-5 lg:px-1 xl:px-5",g&&"md:px-5",h&&`w-full px-3 ${v?"":"lg:px-0"}`,x&&"md:px-0"),children:u})}function c(e){let{children:t}=e,r=(0,s.E)(),n=(0,i.tN)(e=>e.isDesktopNavCollapsed);return(0,a.jsx)("div",{className:(0,o.default)("mx-auto flex flex-1 gap-4 text-base md:gap-5 lg:gap-6",n?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",r&&"-mx-4"),children:t})}function d(e){let{children:t}=e,r=(0,s.E)(),n=(0,i.tN)(e=>e.isDesktopNavCollapsed);return(0,a.jsx)("div",{className:(0,o.default)("mx-auto gap-4 text-base md:gap-5 lg:gap-6",n?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",r&&"-mx-4"),children:t})}},68745:function(e,t,r){"use strict";r.d(t,{L:function(){return a},m:function(){return u}});var n=r(45120),i=r(92379),o=r(651);function s(e){let{children:t,composerBarSize:r,footerBarSize:n}=e,i=r?.width??null,s=r?.height??null,l=n?.height??null;return(0,o.jsx)("div",{className:"contents",style:{"--composer-bar_current-width":null!==i?`${i}px`:void 0,"--composer-bar_current-height":null!==s?`${s-2}px`:void 0,"--composer-bar_footer-current-height":null!==l?`${l}px`:void 0},children:t})}function l(){let{disabled:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{0:t,1:r}=(0,i.useState)(null),n=(0,i.useRef)(null),o=(0,i.useRef)(null);return[t,(0,i.useCallback)(t=>{if(o.current&&(o.current.disconnect(),o.current=null),n.current=t,e||!t)return;let s=new ResizeObserver(e=>{if(!e.length)return;let{width:t,height:n}=function(e){let t,r;if(e.borderBoxSize){let n=Array.isArray(e.borderBoxSize)?e.borderBoxSize[0]:e.borderBoxSize;t=n.inlineSize,r=n.blockSize}else t=e.contentRect.width,r=e.contentRect.height;return{width:t,height:r}}(e[0]);(0,i.startTransition)(()=>{r(e=>e&&e.width===t&&e.height===n?e:{width:t,height:n})})});s.observe(t),o.current=s},[e])]}function a(){let{value:e}=(0,n.fW)("1487207580");return e}function u(e){let{isArchived:t,defaultWidth:r=640,defaultHeight:n=52}=e,o=a()&&!t,[u,c]=l({disabled:!o}),[d,f]=l({disabled:!o}),p=u?.width??r,m=u?.height??n,g=o?`url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%22${p}%22%20height%3D%22${m}%22%3E%3Crect%20width%3D%22${p}%22%20height%3D%22${m}%22%20rx%3D%2226%22%20ry%3D%2226%22%20fill%3D%22white%22/%3E%3C/svg%3E')`:void 0,x=o?s:i.Fragment;return{composerBarSize:u,composerSkeleton:g,footerBarSize:d,isClippedComposerBar:o,setComposerBarElement:c,setFooterBarElement:f,ThreadSizeWrapper:x}}},54097:function(e,t,r){"use strict";r.d(t,{O:function(){return p},P:function(){return m}});var n=r(16757),i=r(28368),o=r(93951),s=r(92745),l=r(84760),a=r(2721),u=r(55357),c=r(2319),d=r(39004),f=r(45334);function p(e){return(f.WQ(e)?e.promptStarters:e.gizmo.display.prompt_starters)?.map(e=>({type:i.j.Starter,title:"",body:e,prompt:e}))}function m(e,t,r,f){let m=(0,o.hz)(),g=(0,s.WA)(t),x=(0,d.b9)(g?.kind===n.OL.GizmoInteraction?g.gizmo_id:void 0).data,{gizmoEditorData:h,mode:v}=(0,c.Q)(),b=(0,u.B)(g),y=(0,o.t)(),w=e&&!b&&(f||!y?.isEnterprisey()),{data:j,isLoading:S,isSuccess:O,isError:P}=(0,l.a)({queryKey:["promptStarters",t,r],queryFn:()=>a.Z.getSampledPromptStarter(r),enabled:w});return null==m?{promptStarters:[],isLoading:!0,isSuccess:!1}:"test"===v&&h?{promptStarters:p(h)??[],isLoading:!1,isSuccess:!0}:null!=x?{promptStarters:p(x),isLoading:!1,isSuccess:!0}:w?{promptStarters:j?.items.map(e=>({type:i.j.Starter,id:e.id,title:e.title,body:e.description,prompt:e.prompt,category:e.category,oneliner:e.oneliner,theme:e.theme,requires_file_upload:e.requires_file_upload}))??[],isLoading:S,isSuccess:O,isError:P}:{promptStarters:[],isLoading:!1,isSuccess:!0}}},35367:function(e,t,r){"use strict";r.d(t,{R:function(){return a},Y:function(){return l}});var n=r(67437),i=r(66234),o=r(92379),s=r(49764);function l(e){let t=(0,i.Uq)(),{0:n,1:s}=(0,o.useState)(()=>()=>!1);return(0,o.useEffect)(()=>{t&&r.e(8682).then(r.bind(r,23123)).then(e=>s(()=>e.isModelEligibleForCa)).catch()},[t]),t&&n(e)}function a(e){let t=l((0,n.Bv)(e)),i=(0,s.Z)(),{0:a,1:u}=(0,o.useState)(null);return(0,o.useEffect)(()=>{t&&r.e(8682).then(r.bind(r,23123)).then(e=>u(()=>e.getCaEmptyState(i))).catch()},[t,i]),t?a:null}},66234:function(e,t,r){"use strict";r.d(t,{D7:function(){return c},HY:function(){return d},LA:function(){return g},Uq:function(){return f}});var n=r(98601),i=r(88667),o=r(18939),s=r.n(o),l=r(85302);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)return e;let r=t.filter(t=>t.end_ix<=e.length&&"tether_markdown"===t.citation_format_type&&t.metadata?.type==="webpage");for(let t=r.length-1;t>=0;t--){let n=r[t];if(n.metadata?.type!=="webpage")continue;let{start_ix:i,end_ix:o,metadata:s}=n,l=e.substring(i,o).replace(/\[(.*?)\]\((\d+)\)/g,`[$1](${s?.url})`);e=e.substring(0,i)+l+e.substring(o)}return e}(e,t),o=[...r.length>0?[]:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)return[];let r=[],n=t.filter(t=>t.end_ix<=e.length&&"tether_markdown"!==t.citation_format_type),i=(0,l.Jx)(e);for(let e=n.length-1;e>=0;e--){let t;let s=n[e],{start_ix:l,end_ix:a,metadata:c,invalid_reason:d}=s;if(!c?.type)continue;let f=i.slice(l,a).join("");switch(c.type){case"webpage":var o;t=u(u({},c),{},{type:"webpage",title:c.title??"",snippet:c.text??null,pub_date:null==(o=c.pub_date)?null:new Date(o).getTime()/1e3,matched_text:f,start_idx:l,end_idx:a,alt:null});break;case"file":t=u(u({},c),{},{matched_text:f,start_idx:l,end_idx:a,alt:null})}d&&(t={type:"invalid",alt:d,start_idx:l,end_idx:a,matched_text:f,invalid:!0});let p=!1;if(r.length>0){let e=r[r.length-1];m(e)===m(t)&&0===i.slice(e.end_idx,s.start_ix).join("").trim().length&&(r[r.length-1].end_idx=s.end_ix,p=!0)}!p&&t&&r.push(t)}return r}(i,t),...r];return{text:i,contentReferences:s()(o.map(e=>"file"===e.type?g(n,e):e))}}function d(){let{config:e}=(0,i.xb)("1001765573"),t=(0,i.xb)("3168246095");return e.get("ca_enabled",!1)?t.config.get("gizmo_ids",[],p):[]}function f(){return(0,i.xb)("1001765573").config.get("ca_enabled",!1)}function p(e){return Array.isArray(e)&&e.every(e=>"string"==typeof e)}function m(e){switch(e.type){case"file":return e.id;case"webpage":return e.url;case"invalid":return e.alt}}function g(e,t){let r;if(!e)return t;let n=t.name.split("\xa4");if(3!==n.length)return t;let[i,o,s]=n,l=s,a=s.lastIndexOf(".");-1!==a&&(l=s.slice(0,a));let c="Google Drive";if("gdrive"===i)r=`https://drive.google.com/file/d/${o}/view`,c="Google Drive";else if("gdoc"===i)r=`https://docs.google.com/document/d/${o}`,c="Google Docs";else{if("notion"!==i)return t;r=`https://www.notion.so/openai/${o}`,c="Notion"}return u(u({},t),{},{type:"webpage",url:r,title:l,snippet:c,pub_date:null})}},85302:function(e,t,r){"use strict";function n(e){try{let t=new Intl.Segmenter("en-US",{granularity:"grapheme"}).segment(e),r=[];for(let e of t)r.push(e.segment);return r}catch{return e.split("")}}function i(e){let t=[];for(let r=0;r<e.length;r++){let n=e.codePointAt(r);void 0!==n&&(t.push(n),n>65535&&r++)}return t}function o(e){return String.fromCodePoint(...e)}r.d(t,{Jx:function(){return n},dP:function(){return o},km:function(){return i}})},90215:function(e,t,r){"use strict";r.d(t,{Gb:function(){return d},QO:function(){return c},SB:function(){return p},bf:function(){return u},wj:function(){return f}});var n=r(28368),i=r(92745),o=r(99976),s=r(61619),l=r(82363),a=r(88667);let u=e=>{switch(e.type){case n.j.Reply:return e.text;case n.j.Starter:return e.prompt}},c=e=>e.type===n.j.Reply,d=e=>e.type===n.j.Starter,f=(e,t,r)=>{switch(a.m9.logEvent("chatgpt_prompt_use_suggestion",u(e),{index:`${t}`,type:e.type}),e.type){case n.j.Reply:o.A.logEvent(s.M.useSuggestedReply,{value:u(e),prompt_type:n.j.Reply,messageId:r});break;case n.j.Starter:o.A.logEvent(s.M.useStarterPrompt,{value:u(e),prompt_type:n.j.Starter,title:e.title,id:e.id,category:e.category,messageId:r})}},p=(e,t)=>{let r=i.tQ.getThreadCurrentLeafId(t),u=i.tQ.getTree(t).getMessageId(r);a.m9.logEvent("chatgpt_prompt_show_suggestions",`count_${e.length}`,{type:e[0].type}),e.every(c)?o.A.logEvent(s.M.showSuggestedReplies,{prompt_count:e.length,prompt_type:n.j.Reply,client_thread_id:t,suggestions:e.map(e=>e.text),message_id:u}):e.every(d)?o.A.logEvent(s.M.showStarterPrompts,{prompt_count:e.length,prompt_type:n.j.Starter,titles:e.map(e=>e.title),ids:e.map(e=>e.id),client_thread_id:t,message_id:u}):l.U.addError("Unhandled suggestion type",{type:e[0].type})}}}]);
//# sourceMappingURL=1598.e026696579525424.js.map