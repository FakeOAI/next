(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7643,8541],{97663:function(e,t,n){"use strict";let i,r;n.d(t,{F:function(){return V}});let s=new WeakMap,o=new WeakMap;class AbortSignal{constructor(){this.onabort=null,s.set(this,[]),o.set(this,!1)}get aborted(){if(!o.has(this))throw TypeError("Expected `this` to be an instance of AbortSignal.");return o.get(this)}static get none(){return new AbortSignal}addEventListener(e,t){if(!s.has(this))throw TypeError("Expected `this` to be an instance of AbortSignal.");s.get(this).push(t)}removeEventListener(e,t){if(!s.has(this))throw TypeError("Expected `this` to be an instance of AbortSignal.");let n=s.get(this),i=n.indexOf(t);i>-1&&n.splice(i,1)}dispatchEvent(e){throw Error("This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.")}}function a(e){if(e.aborted)return;e.onabort&&e.onabort.call(e);let t=s.get(e);t&&t.slice().forEach(t=>{t.call(e,{type:"abort"})}),o.set(e,!0)}class l extends Error{constructor(e){super(e),this.name="AbortError"}}class c{constructor(e){if(this._signal=new AbortSignal,!e)return;for(let t of(Array.isArray(e)||(e=arguments),e))t.aborted?this.abort():t.addEventListener("abort",()=>{this.abort()})}get signal(){return this._signal}abort(){a(this._signal)}static timeout(e){let t=new AbortSignal,n=setTimeout(a,e,t);return"function"==typeof n.unref&&n.unref(),t}}function u(e,t){let n;let{abortSignal:i,abortErrorMsg:r}=null!=t?t:{};return function(e,t){let{cleanupBeforeAbort:n,abortSignal:i,abortErrorMsg:r}=null!=t?t:{};return new Promise((t,s)=>{function o(){s(new l(null!=r?r:"The operation was aborted."))}function a(){null==i||i.removeEventListener("abort",c)}function c(){null==n||n(),a(),o()}if(null==i?void 0:i.aborted)return o();try{e(e=>{a(),t(e)},e=>{a(),s(e)})}catch(e){s(e)}null==i||i.addEventListener("abort",c)})}(t=>{n=setTimeout(t,e)},{cleanupBeforeAbort:()=>clearTimeout(n),abortSignal:i,abortErrorMsg:null!=r?r:"The delay was aborted."})}var h,d,f=n(36560),p=n.n(f);class g extends Error{constructor(e,t){super(e),this.name="SendMessageError",this.ackId=t.ackId,this.errorDetail=t.errorDetail}}var v=n(26709);let y=void 0!==v&&v.env&&v.env.DEBUG||void 0,m=[],_=[],b=[];y&&x(y);let w=Object.assign(e=>S(e),{enable:x,enabled:k,disable:function(){let e=i||"";return x(""),e},log:function(...e){if(e.length>0){let t=String(e[0]);t.includes(":error")?console.error(...e):t.includes(":warning")?console.warn(...e):t.includes(":info")?console.info(...e):(t.includes(":verbose"),console.debug(...e))}}});function x(e){i=e,m=[],_=[];let t=/\*/g;for(let n of e.split(",").map(e=>e.trim().replace(t,".*?")))n.startsWith("-")?_.push(RegExp(`^${n.substr(1)}$`)):m.push(RegExp(`^${n}$`));for(let e of b)e.enabled=k(e.namespace)}function k(e){if(e.endsWith("*"))return!0;for(let t of _)if(t.test(e))return!1;for(let t of m)if(t.test(e))return!0;return!1}function S(e){let t=Object.assign(function(...n){t.enabled&&(n.length>0&&(n[0]=`${e} ${n[0]}`),t.log(...n))},{enabled:k(e),destroy:A,log:w.log,namespace:e,extend:E});return b.push(t),t}function A(){let e=b.indexOf(this);return e>=0&&(b.splice(e,1),!0)}function E(e){let t=S(`${this.namespace}:${e}`);return t.log=this.log,t}var T=n(26709);let R=new Set,O=void 0!==T&&T.env&&T.env.AZURE_LOG_LEVEL||void 0,C=w("azure");C.log=(...e)=>{w.log(...e)};let I=["verbose","info","warning","error"];O&&(z(O)?function(e){if(e&&!z(e))throw Error(`Unknown log level '${e}'. Acceptable values: ${I.join(",")}`);r=e;let t=[];for(let e of R)F(e)&&t.push(e.namespace);w.enable(t.join(","))}(O):console.error(`AZURE_LOG_LEVEL set to unknown log level '${O}'; logging is not enabled. Acceptable values: ${I.join(", ")}.`));let D={verbose:400,info:300,warning:200,error:100};function L(e,t){t.log=(...t)=>{e.log(...t)}}function M(e,t){let n=Object.assign(e.extend(t),{level:t});if(L(e,n),F(n)){let e=w.disable();w.enable(e+","+n.namespace)}return R.add(n),n}function F(e){return!!(r&&D[e.level]<=D[r])}function z(e){return I.includes(e)}let N=function(e){let t=C.extend(e);return L(C,t),{error:M(t,"error"),warning:M(t,"warning"),info:M(t,"info"),verbose:M(t,"verbose")}}("web-pubsub-client");var j=n(14984);function B(e,t){switch(t){case"text":if("string"!=typeof e)throw TypeError("Message must be a string.");return e;case"json":return e;case"binary":case"protobuf":if(e instanceof ArrayBuffer)return j.lW.from(e).toString("base64");throw TypeError("Message must be a ArrayBuffer")}}function W(e,t){if("text"===t){if("string"!=typeof e)throw TypeError("Message must be a string when dataType is text");return e}if("json"===t)return e;if("binary"!==t&&"protobuf"!==t)return null;{let t=j.lW.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}}class G{constructor(){this.isReliableSubProtocol=!0,this.name="json.reliable.webpubsub.azure.v1"}parseMessages(e){return function(e){let t;if("string"!=typeof e)throw Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)throw Error("No input");let n=JSON.parse(e);if("system"===n.type){if("connected"===n.event)t=Object.assign(Object.assign({},n),{kind:"connected"});else{if("disconnected"!==n.event)return null;t=Object.assign(Object.assign({},n),{kind:"disconnected"})}}else if("message"===n.type){if("group"===n.from){let e=W(n.data,n.dataType);if(null===e)return null;t=Object.assign(Object.assign({},n),{data:e,kind:"groupData"})}else{if("server"!==n.from)return null;let e=W(n.data,n.dataType);if(null===e)return null;t=Object.assign(Object.assign({},n),{data:e,kind:"serverData"})}}else{if("ack"!==n.type)return null;t=Object.assign(Object.assign({},n),{kind:"ack"})}return t}(e)}writeMessage(e){return function(e){let t;switch(e.kind){case"joinGroup":t={type:"joinGroup",group:e.group,ackId:e.ackId};break;case"leaveGroup":t={type:"leaveGroup",group:e.group,ackId:e.ackId};break;case"sendEvent":t={type:"event",event:e.event,ackId:e.ackId,dataType:e.dataType,data:B(e.data,e.dataType)};break;case"sendToGroup":t={type:"sendToGroup",group:e.group,ackId:e.ackId,dataType:e.dataType,data:B(e.data,e.dataType),noEcho:e.noEcho};break;case"sequenceAck":t={type:"sequenceAck",sequenceId:e.sequenceId};break;default:throw Error(`Unsupported type: ${e.kind}`)}return JSON.stringify(t)}(e)}}let U=()=>new G;class q{constructor(e,t){this._socket=new WebSocket(e,t),this._socket.binaryType="arraybuffer"}onopen(e){this._socket.onopen=e}onclose(e){this._socket.onclose=t=>e(t.code,t.reason)}onerror(e){this._socket.onerror=t=>e(t)}onmessage(e){this._socket.onmessage=t=>e(t.data)}close(e,t){this._socket.close(e,t)}send(e,t){return new Promise((t,n)=>{try{this._socket.send(e),t()}catch(e){n(e)}})}isOpen(){return this._socket.readyState===WebSocket.OPEN}}class P{create(e,t){return new q(e,t)}}async function $(e,t){let n;if(t.aborted)throw new l("The operation was aborted.");let i=new Promise((e,i)=>{n=()=>{i(new l("The operation was aborted."))},t.addEventListener("abort",n)});try{return await Promise.race([e,i])}finally{t.removeEventListener("abort",n)}}var H=n(14984).lW;(h=d||(d={})).Stopped="Stopped",h.Disconnected="Disconnected",h.Connecting="Connecting",h.Connected="Connected",h.Recovering="Recovering";class V{nextAckId(){return this._ackId=this._ackId+1,this._ackId}constructor(e,t){this._quickSequenceAckDiff=300,this._activeTimeoutInMs=2e4,this._emitter=new(p()),this._isStopping=!1,this._isInitialConnected=!1,"string"==typeof e?this._credential={getClientAccessUrl:e}:this._credential=e,null==t&&(t={}),this._buildDefaultOptions(t),this._options=t,this._messageRetryPolicy=new K(this._options.messageRetryOptions),this._reconnectRetryPolicy=new K(this._options.reconnectRetryOptions),this._protocol=this._options.protocol,this._groupMap=new Map,this._ackMap=new Map,this._sequenceId=new Y,this._state=d.Stopped,this._ackId=0}async start(e){let t;if(this._isStopping)throw Error("Can't start a client during stopping");if(this._state!==d.Stopped)throw Error("Client can be only started when it's Stopped");e&&(t=e.abortSignal),this._activeKeepaliveTask||(this._activeKeepaliveTask=this._getActiveKeepaliveTask());try{await this._startCore(t)}catch(e){throw this._changeState(d.Stopped),this._activeKeepaliveTask&&(this._activeKeepaliveTask.abort(),this._activeKeepaliveTask=void 0),this._isStopping=!1,e}}async _startFromRestarting(e){if(this._state!==d.Disconnected)throw Error("Client can be only restarted when it's Disconnected");try{N.verbose("Staring reconnecting."),await this._startCore(e)}catch(e){throw this._changeState(d.Disconnected),e}}async _startCore(e){if(this._changeState(d.Connecting),N.info("Staring a new connection"),this._sequenceId.reset(),this._isInitialConnected=!1,this._lastCloseEvent=void 0,this._lastDisconnectedMessage=void 0,this._connectionId=void 0,this._reconnectionToken=void 0,this._uri=void 0,"string"==typeof this._credential.getClientAccessUrl?this._uri=this._credential.getClientAccessUrl:this._uri=await this._credential.getClientAccessUrl({abortSignal:e}),"string"!=typeof this._uri)throw Error(`The clientAccessUrl must be a string but currently it's ${typeof this._uri}`);await this._connectCore(this._uri)}stop(){this._state!==d.Stopped&&!this._isStopping&&(this._isStopping=!0,this._wsClient&&this._wsClient.isOpen()?this._wsClient.close():this._isStopping=!1,this._activeKeepaliveTask&&(this._activeKeepaliveTask.abort(),this._activeKeepaliveTask=void 0))}on(e,t){this._emitter.on(e,t)}off(e,t){this._emitter.removeListener(e,t)}_emitEvent(e,t){this._emitter.emit(e,t)}async sendEvent(e,t,n,i){return await this._operationExecuteWithRetry(()=>this._sendEventAttempt(e,t,n,i),null==i?void 0:i.abortSignal)}async _sendEventAttempt(e,t,n,i){var r;return null!==(r=null==i?void 0:i.fireAndForget)&&void 0!==r&&r?(await this._sendMessage({kind:"sendEvent",dataType:n,data:t,event:e},null==i?void 0:i.abortSignal),{isDuplicated:!1}):await this._sendMessageWithAckId(i=>({kind:"sendEvent",dataType:n,data:t,ackId:i,event:e}),null==i?void 0:i.ackId,null==i?void 0:i.abortSignal)}async joinGroup(e,t){return await this._operationExecuteWithRetry(()=>this._joinGroupAttempt(e,t),null==t?void 0:t.abortSignal)}async _joinGroupAttempt(e,t){let n=this._getOrAddGroup(e),i=await this._joinGroupCore(e,t);return n.isJoined=!0,i}async _joinGroupCore(e,t){return await this._sendMessageWithAckId(t=>({group:e,ackId:t,kind:"joinGroup"}),null==t?void 0:t.ackId,null==t?void 0:t.abortSignal)}async leaveGroup(e,t){return await this._operationExecuteWithRetry(()=>this._leaveGroupAttempt(e,t),null==t?void 0:t.abortSignal)}async _leaveGroupAttempt(e,t){let n=this._getOrAddGroup(e),i=await this._sendMessageWithAckId(t=>({group:e,ackId:t,kind:"leaveGroup"}),null==t?void 0:t.ackId,null==t?void 0:t.abortSignal);return n.isJoined=!1,i}async sendToGroup(e,t,n,i){return await this._operationExecuteWithRetry(()=>this._sendToGroupAttempt(e,t,n,i),null==i?void 0:i.abortSignal)}async _sendToGroupAttempt(e,t,n,i){var r,s;let o=null!==(r=null==i?void 0:i.fireAndForget)&&void 0!==r&&r,a=null!==(s=null==i?void 0:i.noEcho)&&void 0!==s&&s;return o?(await this._sendMessage({kind:"sendToGroup",group:e,dataType:n,data:t,noEcho:a},null==i?void 0:i.abortSignal),{isDuplicated:!1}):await this._sendMessageWithAckId(i=>({kind:"sendToGroup",group:e,dataType:n,data:t,ackId:i,noEcho:a}),null==i?void 0:i.ackId,null==i?void 0:i.abortSignal)}_getWebSocketClientFactory(){return new P}async _trySendSequenceAck(){if(!this._protocol.isReliableSubProtocol)return;let[e,t]=this._sequenceId.tryGetSequenceId();if(e&&t)try{await this._sendMessage({kind:"sequenceAck",sequenceId:t})}catch(e){this._sequenceId.tryUpdate(t)}}_connectCore(e){if(this._isStopping)throw Error("Can't start a client during stopping");return new Promise((t,n)=>{let i=this._wsClient=this._getWebSocketClientFactory().create(e,this._protocol.name);i.onopen(()=>{if(this._isStopping){try{i.close()}catch(e){}n(Error("The client is stopped"))}N.verbose("WebSocket connection has opened"),this._changeState(d.Connected),this._protocol.isReliableSubProtocol&&(null!=this._sequenceAckTask&&this._sequenceAckTask.abort(),this._sequenceAckTask=new Z(async()=>{await this._trySendSequenceAck()},1e3)),t()}),i.onerror(e=>{null!=this._sequenceAckTask&&this._sequenceAckTask.abort(),n(e)}),i.onclose((e,t)=>{this._state===d.Connected?(N.verbose("WebSocket closed after open"),null!=this._sequenceAckTask&&this._sequenceAckTask.abort(),N.info(`WebSocket connection closed. Code: ${e}, Reason: ${t}`),this._lastCloseEvent={code:e,reason:t},this._handleConnectionClose.call(this)):(N.verbose("WebSocket closed before open"),n(Error(`Failed to start WebSocket: ${e}`)))}),i.onmessage(e=>{let t;let n=e=>{if(this._ackMap.has(e.ackId)){let t=this._ackMap.get(e.ackId);this._ackMap.delete(e.ackId);let n=null!=e.error&&"Duplicate"===e.error.name;e.success||n?t.resolve({ackId:e.ackId,isDuplicated:n}):t.reject(new g("Failed to send message.",{ackId:e.ackId,errorDetail:e.error}))}},i=async e=>{if(this._connectionId=e.connectionId,this._reconnectionToken=e.reconnectionToken,!this._isInitialConnected){if(this._isInitialConnected=!0,this._options.autoRejoinGroups){let e=[];this._groupMap.forEach(t=>{t.isJoined&&e.push((async()=>{try{await this._joinGroupCore(t.name)}catch(e){this._safeEmitRejoinGroupFailed(t.name,e)}})())});try{await Promise.all(e)}catch(e){}}this._safeEmitConnected(e.connectionId,e.userId)}},r=e=>{this._lastDisconnectedMessage=e},s=e=>{if(null!=e.sequenceId){let t=this._sequenceId.tryUpdate(e.sequenceId);if(0===t)return;t>this._quickSequenceAckDiff&&this._trySendSequenceAck()}this._safeEmitGroupMessage(e)},o=e=>{if(null!=e.sequenceId){let t=this._sequenceId.tryUpdate(e.sequenceId);if(0===t)return;t>this._quickSequenceAckDiff&&this._trySendSequenceAck()}this._safeEmitServerMessage(e)};try{let n;if(n=Array.isArray(e)?H.concat(e):e,t=this._protocol.parseMessages(n),null===t)return}catch(e){throw N.warning("An error occurred while parsing the message from service",e),e}Array.isArray(t)||(t=[t]),t.forEach(e=>{try{switch(e.kind){case"ack":n(e);break;case"connected":i(e);break;case"disconnected":r(e);break;case"groupData":s(e);break;case"serverData":o(e)}}catch(t){N.warning(`An error occurred while handling the message with kind: ${e.kind} from service`,t)}})})})}async _handleConnectionCloseAndNoRecovery(){this._state=d.Disconnected,this._safeEmitDisconnected(this._connectionId,this._lastDisconnectedMessage),this._options.autoReconnect?await this._autoReconnect():await this._handleConnectionStopped()}async _autoReconnect(){let e=!1,t=0;try{for(;!this._isStopping;)try{await this._startFromRestarting(),e=!0;break}catch(n){N.warning("An attempt to reconnect connection failed.",n),t++;let e=this._reconnectRetryPolicy.nextRetryDelayInMs(t);if(null==e)break;try{N.verbose(`Delay time for reconnect attempt ${t}: ${e}`),await u(e)}catch(e){}}}finally{e||this._handleConnectionStopped()}}_handleConnectionStopped(){this._isStopping=!1,this._state=d.Stopped,this._safeEmitStopped()}_getActiveKeepaliveTask(){return new Z(async()=>{this._sequenceId.tryUpdate(0)},this._activeTimeoutInMs)}async _sendMessage(e,t){if(!this._wsClient||!this._wsClient.isOpen())throw Error("The connection is not connected.");let n=this._protocol.writeMessage(e);await this._wsClient.send(n,t)}async _sendMessageWithAckId(e,t,n){null==t&&(t=this.nextAckId());let i=e(t);this._ackMap.has(t)||this._ackMap.set(t,new J(t));let r=this._ackMap.get(t);try{await this._sendMessage(i,n)}catch(n){this._ackMap.delete(t);let e="";throw n instanceof Error&&(e=n.message),new g(e,{ackId:t})}if(n)try{return await $(r.promise(),n)}catch(e){if(e instanceof Error&&"AbortError"===e.name)throw new g("Cancelled by abortSignal",{ackId:t});throw e}return await r.promise()}async _handleConnectionClose(){if(this._ackMap.forEach((e,t)=>{this._ackMap.delete(t)&&e.reject(new g("Connection is disconnected before receive ack from the service",{ackId:e.ackId}))}),this._isStopping){N.warning("The client is stopping state. Stop recovery."),this._handleConnectionCloseAndNoRecovery();return}if(this._lastCloseEvent&&1008===this._lastCloseEvent.code){N.warning("The websocket close with status code 1008. Stop recovery."),this._handleConnectionCloseAndNoRecovery();return}if(!this._protocol.isReliableSubProtocol){N.warning("The protocol is not reliable, recovery is not applicable"),this._handleConnectionCloseAndNoRecovery();return}let e=this._buildRecoveryUri();if(!e){N.warning("Connection id or reconnection token is not available"),this._handleConnectionCloseAndNoRecovery();return}let t=!1;this._state=d.Recovering;let n=c.timeout(3e4);try{for(;!n.aborted||this._isStopping;)try{await this._connectCore.call(this,e),t=!0;return}catch(e){await u(1e3)}}finally{t||(N.warning("Recovery attempts failed more then 30 seconds or the client is stopping"),this._handleConnectionCloseAndNoRecovery())}}_safeEmitConnected(e,t){this._emitEvent("connected",{connectionId:e,userId:t})}_safeEmitDisconnected(e,t){this._emitEvent("disconnected",{connectionId:e,message:t})}_safeEmitGroupMessage(e){this._emitEvent("group-message",{message:e})}_safeEmitServerMessage(e){this._emitEvent("server-message",{message:e})}_safeEmitStopped(){this._emitEvent("stopped",{})}_safeEmitRejoinGroupFailed(e,t){this._emitEvent("rejoin-group-failed",{group:e,error:t})}_buildDefaultOptions(e){return null==e.autoReconnect&&(e.autoReconnect=!0),null==e.autoRejoinGroups&&(e.autoRejoinGroups=!0),null==e.protocol&&(e.protocol=U()),this._buildMessageRetryOptions(e),this._buildReconnectRetryOptions(e),e}_buildMessageRetryOptions(e){e.messageRetryOptions||(e.messageRetryOptions={}),(null==e.messageRetryOptions.maxRetries||e.messageRetryOptions.maxRetries<0)&&(e.messageRetryOptions.maxRetries=3),(null==e.messageRetryOptions.retryDelayInMs||e.messageRetryOptions.retryDelayInMs<0)&&(e.messageRetryOptions.retryDelayInMs=1e3),(null==e.messageRetryOptions.maxRetryDelayInMs||e.messageRetryOptions.maxRetryDelayInMs<0)&&(e.messageRetryOptions.maxRetryDelayInMs=3e4),null==e.messageRetryOptions.mode&&(e.messageRetryOptions.mode="Fixed")}_buildReconnectRetryOptions(e){e.reconnectRetryOptions||(e.reconnectRetryOptions={}),(null==e.reconnectRetryOptions.maxRetries||e.reconnectRetryOptions.maxRetries<0)&&(e.reconnectRetryOptions.maxRetries=Number.MAX_VALUE),(null==e.reconnectRetryOptions.retryDelayInMs||e.reconnectRetryOptions.retryDelayInMs<0)&&(e.reconnectRetryOptions.retryDelayInMs=1e3),(null==e.reconnectRetryOptions.maxRetryDelayInMs||e.reconnectRetryOptions.maxRetryDelayInMs<0)&&(e.reconnectRetryOptions.maxRetryDelayInMs=3e4),null==e.reconnectRetryOptions.mode&&(e.reconnectRetryOptions.mode="Fixed")}_buildRecoveryUri(){if(this._connectionId&&this._reconnectionToken&&this._uri){let e=new URL(this._uri);return e.searchParams.append("awps_connection_id",this._connectionId),e.searchParams.append("awps_reconnection_token",this._reconnectionToken),e.toString()}return null}_getOrAddGroup(e){return this._groupMap.has(e)||this._groupMap.set(e,new X(e)),this._groupMap.get(e)}_changeState(e){N.verbose(`The client state transfer from ${this._state.toString()} to ${e.toString()}`),this._state=e}async _operationExecuteWithRetry(e,t){let n=0;for(;;)try{return await e.call(this)}catch(i){n++;let e=this._messageRetryPolicy.nextRetryDelayInMs(n);if(null==e||(await u(e),null==t?void 0:t.aborted))throw i}}}class K{constructor(e){this._retryOptions=e,this._maxRetriesToGetMaxDelay=Math.ceil(Math.log2(this._retryOptions.maxRetryDelayInMs)-Math.log2(this._retryOptions.retryDelayInMs)+1)}nextRetryDelayInMs(e){return e>this._retryOptions.maxRetries?null:"Fixed"===this._retryOptions.mode?this._retryOptions.retryDelayInMs:this._calculateExponentialDelay(e)}_calculateExponentialDelay(e){return e>=this._maxRetriesToGetMaxDelay?this._retryOptions.maxRetryDelayInMs:(1<<e-1)*this._retryOptions.retryDelayInMs}}class X{constructor(e){this.isJoined=!1,this.name=e}}class J{constructor(e){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this.ackId=e}promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}class Y{constructor(){this._sequenceId=0,this._isUpdate=!1}tryUpdate(e){if(this._isUpdate=!0,e>this._sequenceId){let t=e-this._sequenceId;return this._sequenceId=e,t}return 0}tryGetSequenceId(){return this._isUpdate?(this._isUpdate=!1,[!0,this._sequenceId]):[!1,null]}reset(){this._sequenceId=0,this._isUpdate=!1}}class Z{constructor(e,t,n){this._func=e,this._abortController=new c,this._interval=t,this._obj=n,this._start()}abort(){try{this._abortController.abort()}catch(e){}}async _start(){let e=this._abortController.signal;for(;!e.aborted;)try{await this._func(this._obj)}catch(e){}finally{await u(this._interval)}}}},48879:function(e,t,n){"use strict";async function i(e,t){let n;let i=e.getReader();for(;!(n=await i.read()).done;)t(n.value)}function r(){return{data:"",event:"",id:"",retry:void 0}}n.d(t,{L:function(){return l}});var s=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};let o="text/event-stream",a="last-event-id";function l(e,t){var{signal:n,headers:l,onopen:u,onmessage:h,onclose:d,onerror:f,openWhenHidden:p,fetch:g}=t,v=s(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((t,s)=>{let y;let m=Object.assign({},l);function _(){y.abort(),document.hidden||A()}m.accept||(m.accept=o),p||document.addEventListener("visibilitychange",_);let b=1e3,w=0;function x(){document.removeEventListener("visibilitychange",_),window.clearTimeout(w),y.abort()}null==n||n.addEventListener("abort",()=>{x(),t()});let k=null!=g?g:window.fetch,S=null!=u?u:c;async function A(){var n,o;y=new AbortController;try{let n,s,l,c;let u=await k(e,Object.assign(Object.assign({},v),{headers:m,signal:y.signal}));await S(u),await i(u.body,(o=function(e,t,n){let i=r(),s=new TextDecoder;return function(o,a){if(0===o.length)null==n||n(i),i=r();else if(a>0){let n=s.decode(o.subarray(0,a)),r=a+(32===o[a+1]?2:1),l=s.decode(o.subarray(r));switch(n){case"data":i.data=i.data?i.data+"\n"+l:l;break;case"event":i.event=l;break;case"id":e(i.id=l);break;case"retry":let c=parseInt(l,10);isNaN(c)||t(i.retry=c)}}}}(e=>{e?m[a]=e:delete m[a]},e=>{b=e},h),c=!1,function(e){void 0===n?(n=e,s=0,l=-1):n=function(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(n,e);let t=n.length,i=0;for(;s<t;){c&&(10===n[s]&&(i=++s),c=!1);let e=-1;for(;s<t&&-1===e;++s)switch(n[s]){case 58:-1===l&&(l=s-i);break;case 13:c=!0;case 10:e=s}if(-1===e)break;o(n.subarray(i,e),l),i=s,l=-1}i===t?n=void 0:0!==i&&(n=n.subarray(i),s-=i)})),null==d||d(),x(),t()}catch(e){if(!y.signal.aborted)try{let t=null!==(n=null==f?void 0:f(e))&&void 0!==n?n:b;window.clearTimeout(w),w=window.setTimeout(A,t)}catch(e){x(),s(e)}}}A()})}function c(e){let t=e.headers.get("content-type");if(!(null==t?void 0:t.startsWith(o)))throw Error(`Expected content-type to be ${o}, Actual: ${t}`)}},82920:function(e,t){"use strict";t.ZP=function(e,t){if(t)return e;throw Error("Unhandled discriminated union member: "+JSON.stringify(e))}},65237:function(e,t){var n=Object.keys;t.D=function(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;for(var i=n(e),r=i.length,s=0;s<r;s++)if(!(i[s]in t))return!1;for(var s=0;s<r;s++)if(e[i[s]]!==t[i[s]])return!1;return r===n(t).length}},20267:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},34598:function(e,t,n){var i=n(85036);e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},60510:function(e){e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},43145:function(e,t,n){var i=n(81515)("length");e.exports=i},65517:function(e){e.exports=function(e){return e.split("")}},44140:function(e,t,n){var i=n(96581),r=n(49912);e.exports=function e(t,n,s,o,a){var l=-1,c=t.length;for(s||(s=r),a||(a=[]);++l<c;){var u=t[l];n>0&&s(u)?n>1?e(u,n-1,s,o,a):i(a,u):o||(a[a.length]=u)}return a}},85036:function(e,t,n){var i=n(83663),r=n(18826),s=n(31154);e.exports=function(e,t,n){return t==t?s(e,t,n):i(e,r,n)}},18826:function(e){e.exports=function(e){return e!=e}},59802:function(e,t,n){var i=n(57398),r=n(89109);e.exports=function(e){return r(e)&&"[object RegExp]"==i(e)}},59600:function(e,t,n){var i=n(25898),r=n(71701);e.exports=function(e,t){var n=-1,s=r(e)?Array(e.length):[];return i(e,function(e,i,r){s[++n]=t(e,i,r)}),s}},27321:function(e,t,n){var i=n(72254),r=0/0;e.exports=function(e,t){var n=null==e?0:e.length;return n?i(e,t)/n:r}},35728:function(e,t,n){var i=n(67631),r=n(87856),s=n(61757),o=n(59600),a=n(28499),l=n(52715),c=n(87127),u=n(98958),h=n(2428);e.exports=function(e,t,n){t=t.length?i(t,function(e){return h(e)?function(t){return r(t,1===e.length?e[0]:e)}:e}):[u];var d=-1;return t=i(t,l(s)),a(o(e,function(e,n,r){return{criteria:i(t,function(t){return t(e)}),index:++d,value:e}}),function(e,t){return c(e,t,n)})}},17063:function(e,t,n){var i=n(98958),r=n(58544),s=n(11863);e.exports=function(e,t){return s(r(e,t,i),e+"")}},43182:function(e,t,n){var i=n(75269),r=n(57965),s=n(98958),o=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:s;e.exports=o},12639:function(e){e.exports=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(r);++i<r;)s[i]=e[i+t];return s}},28499:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},72254:function(e){e.exports=function(e,t){for(var n,i=-1,r=e.length;++i<r;){var s=t(e[i]);void 0!==s&&(n=void 0===n?s:n+s)}return n}},18296:function(e,t,n){var i=n(25561),r=n(34598),s=n(60510),o=n(8529),a=n(33295),l=n(33005);e.exports=function(e,t,n){var c=-1,u=r,h=e.length,d=!0,f=[],p=f;if(n)d=!1,u=s;else if(h>=200){var g=t?null:a(e);if(g)return l(g);d=!1,u=o,p=new i}else p=t?[]:f;e:for(;++c<h;){var v=e[c],y=t?t(v):v;if(v=n||0!==v?v:0,d&&y==y){for(var m=p.length;m--;)if(p[m]===y)continue e;t&&p.push(y),f.push(v)}else u(p,y,n)||(p!==f&&p.push(y),f.push(v))}return f}},87493:function(e,t,n){var i=n(12639);e.exports=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:i(e,t,n)}},1522:function(e,t,n){var i=n(42848);e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,s=e==e,o=i(e),a=void 0!==t,l=null===t,c=t==t,u=i(t);if(!l&&!u&&!o&&e>t||o&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!s)return 1;if(!r&&!o&&!u&&e<t||u&&n&&s&&!r&&!o||l&&n&&s||!a&&s||!c)return -1}return 0}},87127:function(e,t,n){var i=n(1522);e.exports=function(e,t,n){for(var r=-1,s=e.criteria,o=t.criteria,a=s.length,l=n.length;++r<a;){var c=i(s[r],o[r]);if(c){if(r>=l)return c;return c*("desc"==n[r]?-1:1)}}return e.index-t.index}},33295:function(e,t,n){var i=n(353),r=n(91530),s=n(33005),o=i&&1/s(new i([,-0]))[1]==1/0?function(e){return new i(e)}:r;e.exports=o},98030:function(e){var t=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},49912:function(e,t,n){var i=n(66293),r=n(43735),s=n(2428),o=i?i.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||r(e)||!!(o&&e&&e[o])}},57209:function(e,t,n){var i=n(3284),r=n(71701),s=n(30911),o=n(6627);e.exports=function(e,t,n){if(!o(n))return!1;var a=typeof t;return("number"==a?!!(r(n)&&s(t,n.length)):"string"==a&&t in n)&&i(n[t],e)}},58544:function(e,t,n){var i=n(20267),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,a=r(s.length-t,0),l=Array(a);++o<a;)l[o]=s[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=s[o];return c[t]=n(l),i(e,this,c)}}},11863:function(e,t,n){var i=n(43182),r=n(29426)(i);e.exports=r},29426:function(e){var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var r=t(),s=16-(r-i);if(i=r,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},31154:function(e){e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return -1}},74235:function(e,t,n){var i=n(43145),r=n(98030),s=n(20589);e.exports=function(e){return r(e)?s(e):i(e)}},59901:function(e,t,n){var i=n(65517),r=n(98030),s=n(38892);e.exports=function(e){return r(e)?s(e):i(e)}},20589:function(e){var t="\ud800-\udfff",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\ud83c[\udffb-\udfff]",r="[^"+t+"]",s="(?:\ud83c[\udde6-\uddff]){2}",o="[\ud800-\udbff][\udc00-\udfff]",a="(?:"+n+"|"+i+")?",l="[\\ufe0e\\ufe0f]?",c="(?:\\u200d(?:"+[r,s,o].join("|")+")"+l+a+")*",u=RegExp(i+"(?="+i+")|(?:"+[r+n+"?",n,s,o,"["+t+"]"].join("|")+")"+(l+a+c),"g");e.exports=function(e){for(var t=u.lastIndex=0;u.test(e);)++t;return t}},38892:function(e){var t="\ud800-\udfff",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\ud83c[\udffb-\udfff]",r="[^"+t+"]",s="(?:\ud83c[\udde6-\uddff]){2}",o="[\ud800-\udbff][\udc00-\udfff]",a="(?:"+n+"|"+i+")?",l="[\\ufe0e\\ufe0f]?",c="(?:\\u200d(?:"+[r,s,o].join("|")+")"+l+a+")*",u=RegExp(i+"(?="+i+")|(?:"+[r+n+"?",n,s,o,"["+t+"]"].join("|")+")"+(l+a+c),"g");e.exports=function(e){return e.match(u)||[]}},75269:function(e){e.exports=function(e){return function(){return e}}},16643:function(e,t,n){var i=n(59802),r=n(52715),s=n(20126),o=s&&s.isRegExp,a=o?r(o):i;e.exports=a},68723:function(e,t,n){var i=n(80897),r=n(89399),s=n(61757);e.exports=function(e,t){var n={};return t=s(t,3),r(e,function(e,r,s){i(n,r,t(e,r,s))}),n}},86918:function(e,t,n){var i=n(27321),r=n(98958);e.exports=function(e){return i(e,r)}},51857:function(e,t,n){var i=n(48034)(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});e.exports=i},28541:function(e,t,n){var i=n(44140),r=n(35728),s=n(17063),o=n(57209),a=s(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),r(e,i(t,1),[])});e.exports=a},90372:function(e,t,n){var i=n(17185),r=n(87493),s=n(98030),o=n(6627),a=n(16643),l=n(74235),c=n(59901),u=n(5890),h=n(44091),d=/\w*$/;e.exports=function(e,t){var n=30,f="...";if(o(t)){var p="separator"in t?t.separator:p;n="length"in t?u(t.length):n,f="omission"in t?i(t.omission):f}var g=(e=h(e)).length;if(s(e)){var v=c(e);g=v.length}if(n>=g)return e;var y=n-l(f);if(y<1)return f;var m=v?r(v,0,y).join(""):e.slice(0,y);if(void 0===p)return m+f;if(v&&(y+=m.length-y),a(p)){if(e.slice(y).search(p)){var _,b=m;for(p.global||(p=RegExp(p.source,h(d.exec(p))+"g")),p.lastIndex=0;_=p.exec(b);)var w=_.index;m=m.slice(0,void 0===w?y:w)}}else if(e.indexOf(i(p),y)!=y){var x=m.lastIndexOf(p);x>-1&&(m=m.slice(0,x))}return m+f}},96594:function(e,t,n){var i=n(61757),r=n(18296);e.exports=function(e,t){return e&&e.length?r(e,i(t,2)):[]}},45211:function(e,t,n){"use strict";n.d(t,{ZP:function(){return f},SI:function(){return u}});var i,r,s,o=n(9508),a=n(92379),l=n(65237),c=function(e,t){var n=window.getComputedStyle(t),i=n.borderBottomWidth,r=n.borderTopWidth,s=n.fontSize,o=n.lineHeight,a=n.paddingBottom,l=n.paddingTop,c="normal"===o?1.2*parseFloat(s):parseFloat(o);return Math.max(0===e?0:c*e+parseFloat(i)+parseFloat(r)+parseFloat(a)+parseFloat(l),t.scrollHeight+parseFloat(i)+parseFloat(r))},u=function(e,t){if(t){var n="hidden",i=window.getComputedStyle(t).maxHeight;"none"!==i&&parseFloat(i)<t.scrollHeight&&(n=""),t.style.height="0",t.style.overflowY=n,t.style.height="".concat(c(e,t),"px")}},h=function(e){var t=(0,a.useRef)(e),n=(0,a.useRef)(0);return(0,l.D)(e,t.current)||(t.current=e,n.current+=1),(0,a.useMemo)(function(){return t.current},[n.current])},d="undefined"==typeof window?Function.prototype:a.useLayoutEffect,f=(i=function(e){var t=e.forwardedRef,n=(0,o._T)(e,["forwardedRef"]),i="function"==typeof t,r=h(n.style),s=(0,a.useRef)(),l=i||!t?s:t,c=n.rows?parseInt(""+n.rows,10):0,f=n.onChange,p=n.onInput,g=(0,o._T)(n,["onChange","onInput"]);d(function(){u(c,l.current)},[n.className,n.value,l,c,r]),d(function(){if(window.ResizeObserver){var e=new ResizeObserver(function(){u(c,l.current)});return e.observe(l.current),function(){e.disconnect()}}},[l,c]);var v=(0,a.useCallback)(function(e){null==f||f(e),null==p||p(e),u(c,l.current)},[f,p,l,c]),y=(0,a.useCallback)(function(e){l.current=e,i&&t(e)},[t,i,l]);return a.createElement("textarea",(0,o.pi)({},g,{onInput:v,ref:y,rows:c}))},r=function(e,t){return a.createElement(i,(0,o.pi)({},e,{forwardedRef:t}))},s=i.displayName||i.name,r.displayName="withForwardedRef("+s+")",(0,a.forwardRef)(r))},95552:function(e,t,n){var i=n(82248),r=n(63656),s=n(21689),o=n(68458),a=n(130),l=n(82690),c=n(26804);c.alea=i,c.xor128=r,c.xorwow=s,c.xorshift7=o,c.xor4096=a,c.tychei=l,e.exports=c},82248:function(e,t,n){var i;!function(e,r,s){function o(e){var t,n=this,i=(t=4022871197,function(e){e=String(e);for(var n=0;n<e.length;n++){var i=.02519603282416938*(t+=e.charCodeAt(n));t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=4294967296*i}return(t>>>0)*23283064365386963e-26});n.next=function(){var e=2091639*n.s0+23283064365386963e-26*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=i(" "),n.s1=i(" "),n.s2=i(" "),n.s0-=i(e),n.s0<0&&(n.s0+=1),n.s1-=i(e),n.s1<0&&(n.s1+=1),n.s2-=i(e),n.s2<0&&(n.s2+=1)}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new o(e),i=t&&t.state,r=n.next;return r.int32=function(){return 4294967296*n.next()|0},r.double=function(){return r()+(2097152*r()|0)*11102230246251565e-32},r.quick=r,i&&("object"==typeof i&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(t,n,t,r))&&(r.exports=i):this.alea=l}(0,e=n.nmd(e),n.amdD)},82690:function(e,t,n){var i;!function(e,r,s){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,i=t.d,r=t.a;return e=e<<25^e>>>7^n,n=n-i|0,i=i<<24^i>>>8^r,r=r-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-i|0,t.d=i<<16^n>>>16^r,t.a=r-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var i=0;i<n.length+20;i++)t.b^=0|n.charCodeAt(i),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new o(e),i=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===e);return e},r.int32=n.next,r.quick=r,i&&("object"==typeof i&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(t,n,t,r))&&(r.exports=i):this.tychei=l}(0,e=n.nmd(e),n.amdD)},63656:function(e,t,n){var i;!function(e,r,s){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var i=0;i<n.length+64;i++)t.x^=0|n.charCodeAt(i),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new o(e),i=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===e);return e},r.int32=n.next,r.quick=r,i&&("object"==typeof i&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(t,n,t,r))&&(r.exports=i):this.xor128=l}(0,e=n.nmd(e),n.amdD)},130:function(e,t,n){var i;!function(e,r,s){function o(e){var t=this;t.next=function(){var e,n,i=t.w,r=t.X,s=t.i;return t.w=i=i+1640531527|0,n=r[s+34&127],e=r[s=s+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=r[s]=n^e,t.i=s,n+(i^i>>>16)|0},function(e,t){var n,i,r,s,o,a=[],l=128;for(t===(0|t)?(i=t,t=null):(t+="\0",i=0,l=Math.max(l,t.length)),r=0,s=-32;s<l;++s)t&&(i^=t.charCodeAt((s+32)%t.length)),0===s&&(o=i),i^=i<<10,i^=i>>>15,i^=i<<4,i^=i>>>13,s>=0&&(o=o+1640531527|0,r=0==(n=a[127&s]^=i+o)?r+1:0);for(r>=128&&(a[127&(t&&t.length||0)]=-1),r=127,s=512;s>0;--s)i=a[r+34&127],n=a[r=r+1&127],i^=i<<13,n^=n<<17,i^=i>>>15,n^=n>>>12,a[r]=i^n;e.w=o,e.X=a,e.i=r}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new o(e),i=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===e);return e},r.int32=n.next,r.quick=r,i&&(i.X&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(t,n,t,r))&&(r.exports=i):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},68458:function(e,t,n){var i;!function(e,r,s){function o(e){var t=this;t.next=function(){var e,n,i=t.x,r=t.i;return e=i[r],e^=e>>>7,n=e^e<<24^((e=i[r+1&7])^e>>>10)^((e=i[r+3&7])^e>>>3)^((e=i[r+4&7])^e<<7),e=i[r+7&7],e^=e<<13,n^=e^e<<9,i[r]=n,t.i=r+1&7,n},function(e,t){var n,i=[];if(t===(0|t))i[0]=t;else for(n=0,t=""+t;n<t.length;++n)i[7&n]=i[7&n]<<15^t.charCodeAt(n)+i[n+1&7]<<13;for(;i.length<8;)i.push(0);for(n=0;n<8&&0===i[n];++n);for(8==n?i[7]=-1:i[n],e.x=i,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new o(e),i=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===e);return e},r.int32=n.next,r.quick=r,i&&(i.x&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(t,n,t,r))&&(r.exports=i):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},21689:function(e,t,n){var i;!function(e,r,s){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var i=0;i<n.length+64;i++)t.x^=0|n.charCodeAt(i),i==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new o(e),i=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===e);return e},r.int32=n.next,r.quick=r,i&&("object"==typeof i&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(t,n,t,r))&&(r.exports=i):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},26804:function(e,t,n){var i;!function(r,s,o){var a,l=o.pow(256,6),c=o.pow(2,52),u=2*c;function h(e,t,n){var i=[],h=p(function e(t,n){var i,r=[],s=typeof t;if(n&&"object"==s)for(i in t)try{r.push(e(t[i],n-1))}catch(e){}return r.length?r:"string"==s?t:t+"\0"}((t=!0==t?{entropy:!0}:t||{}).entropy?[e,g(s)]:null==e?function(){try{var e;return a&&(e=a.randomBytes)?e=e(256):(e=new Uint8Array(256),(r.crypto||r.msCrypto).getRandomValues(e)),g(e)}catch(e){var t=r.navigator,n=t&&t.plugins;return[+new Date,r,n,r.screen,g(s)]}}():e,3),i),v=new d(i),y=function(){for(var e=v.g(6),t=l,n=0;e<c;)e=(e+n)*256,t*=256,n=v.g(1);for(;e>=u;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|v.g(4)},y.quick=function(){return v.g(4)/4294967296},y.double=y,p(g(v.S),s),(t.pass||n||function(e,t,n,i){return(i&&(i.S&&f(i,v),e.state=function(){return f(v,{})}),n)?(o.random=e,t):e})(y,h,"global"in t?t.global:this==o,t.state)}function d(e){var t,n=e.length,i=this,r=0,s=i.i=i.j=0,o=i.S=[];for(n||(e=[n++]);r<256;)o[r]=r++;for(r=0;r<256;r++)o[r]=o[s=255&s+e[r%n]+(t=o[r])],o[s]=t;(i.g=function(e){for(var t,n=0,r=i.i,s=i.j,o=i.S;e--;)t=o[r=255&r+1],n=256*n+o[255&(o[r]=o[s=255&s+t])+(o[s]=t)];return i.i=r,i.j=s,n})(256)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function p(e,t){for(var n,i=e+"",r=0;r<i.length;)t[255&r]=255&(n^=19*t[255&r])+i.charCodeAt(r++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(p(o.random(),s),e.exports){e.exports=h;try{a=n(41402)}catch(e){}}else void 0!==(i=(function(){return h}).call(t,n,t,e))&&(e.exports=i)}("undefined"!=typeof self?self:this,[],Math)},88578:function(e,t,n){"use strict";n.d(t,{r0:function(){return f}});var i=/highlight-(?:text|source)-([a-z0-9]+)/;function r(e){e.addRule("highlightedCodeBlock",{filter:function(e){var t=e.firstChild;return"DIV"===e.nodeName&&i.test(e.className)&&t&&"PRE"===t.nodeName},replacement:function(e,t,n){var r=((t.className||"").match(i)||[null,""])[1];return"\n\n"+n.fence+r+"\n"+t.firstChild.textContent+"\n"+n.fence+"\n\n"}})}function s(e){e.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(e){return"~"+e+"~"}})}var o=Array.prototype.indexOf,a=Array.prototype.every,l={};function c(e){var t,n=e.parentNode;return"THEAD"===n.nodeName||n.firstChild===e&&("TABLE"===n.nodeName||(t=n.previousSibling,"TBODY"===n.nodeName&&(!t||"THEAD"===t.nodeName&&/^\s*$/i.test(t.textContent))))&&a.call(e.childNodes,function(e){return"TH"===e.nodeName})}function u(e,t){var n=o.call(t.parentNode.childNodes,t),i=" ";return 0===n&&(i="| "),i+e+" |"}function h(e){for(var t in e.keep(function(e){return"TABLE"===e.nodeName&&!c(e.rows[0])}),l)e.addRule(t,l[t])}function d(e){e.addRule("taskListItems",{filter:function(e){return"checkbox"===e.type&&"LI"===e.parentNode.nodeName},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}})}function f(e){e.use([r,s,h,d])}l.tableCell={filter:["th","td"],replacement:function(e,t){return u(e,t)}},l.tableRow={filter:"tr",replacement:function(e,t){var n="",i={left:":--",right:"--:",center:":-:"};if(c(t))for(var r=0;r<t.childNodes.length;r++){var s="---",o=(t.childNodes[r].getAttribute("align")||"").toLowerCase();o&&(s=i[o]||s),n+=u(s,t.childNodes[r])}return"\n"+e+(n?"\n"+n:"")}},l.table={filter:function(e){return"TABLE"===e.nodeName&&c(e.rows[0])},replacement:function(e){return"\n\n"+(e=e.replace("\n\n","\n"))+"\n\n"}},l.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}}},40842:function(e,t){"use strict";function n(e,t){return Array(t+1).join(e)}var i,r,s=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function o(e){return u(e,s)}var a=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function l(e){return u(e,a)}var c=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function u(e,t){return t.indexOf(e.nodeName)>=0}function h(e,t){return e.getElementsByTagName&&t.some(function(t){return e.getElementsByTagName(t).length})}var d={};function f(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function p(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function g(e,t,n){for(var i=0;i<e.length;i++){var r=e[i];if(function(e,t,n){var i=e.filter;if("string"==typeof i){if(i===t.nodeName.toLowerCase())return!0}else if(Array.isArray(i)){if(i.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if("function"==typeof i){if(i.call(e,t,n))return!0}else throw TypeError("`filter` needs to be a string, array, or function")}(r,t,n))return r}}function v(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function y(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}d.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},d.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},d.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,i){var r=Number(t.nodeName.charAt(1));if("setext"!==i.headingStyle||!(r<3))return"\n\n"+n("#",r)+" "+e+"\n\n";var s=n(1===r?"=":"-",e.length);return"\n\n"+e+"\n"+s+"\n\n"}},d.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},d.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},d.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var i=n.bulletListMarker+"   ",r=t.parentNode;if("OL"===r.nodeName){var s=r.getAttribute("start"),o=Array.prototype.indexOf.call(r.children,t);i=(s?Number(s)+o:o+1)+".  "}return i+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},d.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},d.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,i){for(var r,s=((t.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],o=t.firstChild.textContent,a=i.fence.charAt(0),l=3,c=RegExp("^"+a+"{3,}","gm");r=c.exec(o);)r[0].length>=l&&(l=r[0].length+1);var u=n(a,l);return"\n\n"+u+s+"\n"+o.replace(/\n$/,"")+"\n"+u+"\n\n"}},d.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},d.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href"),i=f(t.getAttribute("title"));return i&&(i=' "'+i+'"'),"["+e+"]("+n+i+")"}},d.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var i,r,s=t.getAttribute("href"),o=f(t.getAttribute("title"));switch(o&&(o=' "'+o+'"'),n.linkReferenceStyle){case"collapsed":i="["+e+"][]",r="["+e+"]: "+s+o;break;case"shortcut":i="["+e+"]",r="["+e+"]: "+s+o;break;default:var a=this.references.length+1;i="["+e+"]["+a+"]",r="["+a+"]: "+s+o}return this.references.push(r),i},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},d.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},d.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},d.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",i=e.match(/`+/gm)||[];-1!==i.indexOf(n);)n+="`";return n+t+e+t+n}},d.image={filter:"img",replacement:function(e,t){var n=f(t.getAttribute("alt")),i=t.getAttribute("src")||"",r=f(t.getAttribute("title"));return i?"!["+n+"]("+i+(r?' "'+r+'"':"")+")":""}},p.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){var t;return e.isBlank?this.blankRule:(t=g(this.array,e,this.options))||(t=g(this._keep,e,this.options))||(t=g(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var m="undefined"!=typeof window?window:{},_=!function(){var e=m.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?(i=function(){},!function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){window.ActiveXObject&&(e=!0)}return e}()?i.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t}:i.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t},i):m.DOMParser;function b(e,t){var n;return!function(e){var t=e.element,n=e.isBlock,i=e.isVoid,r=e.isPre||function(e){return"PRE"===e.nodeName};if(!(!t.firstChild||r(t))){for(var s=null,o=!1,a=null,l=y(null,t,r);l!==t;){if(3===l.nodeType||4===l.nodeType){var c=l.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!o&&" "===c[0]&&(c=c.substr(1)),!c){l=v(l);continue}l.data=c,s=l}else if(1===l.nodeType)n(l)||"BR"===l.nodeName?(s&&(s.data=s.data.replace(/ $/,"")),s=null,o=!1):i(l)||r(l)?(s=null,o=!0):s&&(o=!1);else{l=v(l);continue}var u=y(a,l,r);a=l,l=u}s&&(s.data=s.data.replace(/ $/,""),s.data||v(s))}}({element:n="string"==typeof e?(r=r||new _).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):e.cloneNode(!0),isBlock:o,isVoid:l,isPre:t.preformattedCode?w:null}),n}function w(e){return"PRE"===e.nodeName||"CODE"===e.nodeName}function x(e,t){return e.isBlock=o(e),e.isCode="CODE"===e.nodeName||e.parentNode.isCode,e.isBlank=!l(e)&&!u(e,c)&&/^\s*$/i.test(e.textContent)&&!h(e,a)&&!h(e,c),e.flankingWhitespace=function(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n,i={leading:(n=e.textContent.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/))[1],leadingAscii:n[2],leadingNonAscii:n[3],trailing:n[4],trailingNonAscii:n[5],trailingAscii:n[6]};return i.leadingAscii&&k("left",e,t)&&(i.leading=i.leadingNonAscii),i.trailingAscii&&k("right",e,t)&&(i.trailing=i.trailingNonAscii),{leading:i.leading,trailing:i.trailing}}(e,t),e}function k(e,t,n){var i,r,s;return"left"===e?(i=t.previousSibling,r=/ $/):(i=t.nextSibling,r=/^ /),i&&(3===i.nodeType?s=r.test(i.nodeValue):n.preformattedCode&&"CODE"===i.nodeName?s=!1:1!==i.nodeType||o(i)||(s=r.test(i.textContent))),s}var S=Array.prototype.reduce,A=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function E(e){if(!(this instanceof E))return new E(e);this.options=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e}({},{rules:d,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}},e),this.rules=new p(this.options)}function T(e){var t=this;return S.call(e.childNodes,function(e,n){n=new x(n,t.options);var i="";return 3===n.nodeType?i=n.isCode?n.nodeValue:t.escape(n.nodeValue):1===n.nodeType&&(i=O.call(t,n)),C(e,i)},"")}function R(e){var t=this;return this.rules.forEach(function(n){"function"==typeof n.append&&(e=C(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function O(e){var t=this.rules.forNode(e),n=T.call(this,e),i=e.flankingWhitespace;return(i.leading||i.trailing)&&(n=n.trim()),i.leading+t.replacement(n,e,this.options)+i.trailing}function C(e,t){var n=function(e){for(var t=e.length;t>0&&"\n"===e[t-1];)t--;return e.substring(0,t)}(e),i=t.replace(/^\n*/,""),r=Math.max(e.length-n.length,t.length-i.length);return n+"\n\n".substring(0,r)+i}E.prototype={turndown:function(e){if(!(null!=e&&("string"==typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))))throw TypeError(e+" is not a string, or an element/document/fragment node.");return""===e?"":R.call(this,T.call(this,new b(e,this.options)))},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if("function"==typeof e)e(this);else throw TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return A.reduce(function(e,t){return e.replace(t[0],t[1])},e)}},t.Z=E},70897:function(e,t,n){"use strict";n.d(t,{z:function(){return g}});var i=n(44675);let r="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,s=new Set,o="object"==typeof i&&i?i:{},a=(e,t,n,i)=>{"function"==typeof o.emitWarning?o.emitWarning(e,t,n,i):console.error(`[${n}] ${t}: ${e}`)},l=globalThis.AbortController,c=globalThis.AbortSignal;if(void 0===l){c=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},l=class{constructor(){t()}signal=new c;abort(e){if(!this.signal.aborted){for(let t of(this.signal.reason=e,this.signal.aborted=!0,this.signal._onabort))t(e);this.signal.onabort?.(e)}}};let e=o.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{e&&(e=!1,a("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}let u=e=>!s.has(e);Symbol("type");let h=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),d=e=>h(e)?e<=256?Uint8Array:e<=65536?Uint16Array:e<=4294967296?Uint32Array:e<=Number.MAX_SAFE_INTEGER?f:null:null;class f extends Array{constructor(e){super(e),this.fill(0)}}class p{heap;length;static #e=!1;static create(e){let t=d(e);if(!t)return[];p.#e=!0;let n=new p(e,t);return p.#e=!1,n}constructor(e,t){if(!p.#e)throw TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class g{#t;#n;#i;#r;#s;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#o;#a;#l;#c;#u;#h;#d;#f;#p;#g;#v;#y;#m;#_;#b;#w;#x;static unsafeExposeInternals(e){return{starts:e.#m,ttls:e.#_,sizes:e.#y,keyMap:e.#l,keyList:e.#c,valList:e.#u,next:e.#h,prev:e.#d,get head(){return e.#f},get tail(){return e.#p},free:e.#g,isBackgroundFetch:t=>e.#k(t),backgroundFetch:(t,n,i,r)=>e.#S(t,n,i,r),moveToTail:t=>e.#A(t),indexes:t=>e.#E(t),rindexes:t=>e.#T(t),isStale:t=>e.#R(t)}}get max(){return this.#t}get maxSize(){return this.#n}get calculatedSize(){return this.#a}get size(){return this.#o}get fetchMethod(){return this.#s}get dispose(){return this.#i}get disposeAfter(){return this.#r}constructor(e){let{max:t=0,ttl:n,ttlResolution:i=1,ttlAutopurge:r,updateAgeOnGet:o,updateAgeOnHas:l,allowStale:c,dispose:f,disposeAfter:v,noDisposeOnSet:y,noUpdateTTL:m,maxSize:_=0,maxEntrySize:b=0,sizeCalculation:w,fetchMethod:x,noDeleteOnFetchRejection:k,noDeleteOnStaleGet:S,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:E,ignoreFetchAbort:T}=e;if(0!==t&&!h(t))throw TypeError("max option must be a nonnegative integer");let R=t?d(t):Array;if(!R)throw Error("invalid max value: "+t);if(this.#t=t,this.#n=_,this.maxEntrySize=b||this.#n,this.sizeCalculation=w,this.sizeCalculation){if(!this.#n&&!this.maxEntrySize)throw TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw TypeError("sizeCalculation set to non-function")}if(void 0!==x&&"function"!=typeof x)throw TypeError("fetchMethod must be a function if specified");if(this.#s=x,this.#w=!!x,this.#l=new Map,this.#c=Array(t).fill(void 0),this.#u=Array(t).fill(void 0),this.#h=new R(t),this.#d=new R(t),this.#f=0,this.#p=0,this.#g=p.create(t),this.#o=0,this.#a=0,"function"==typeof f&&(this.#i=f),"function"==typeof v?(this.#r=v,this.#v=[]):(this.#r=void 0,this.#v=void 0),this.#b=!!this.#i,this.#x=!!this.#r,this.noDisposeOnSet=!!y,this.noUpdateTTL=!!m,this.noDeleteOnFetchRejection=!!k,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!E,this.ignoreFetchAbort=!!T,0!==this.maxEntrySize){if(0!==this.#n&&!h(this.#n))throw TypeError("maxSize must be a positive integer if specified");if(!h(this.maxEntrySize))throw TypeError("maxEntrySize must be a positive integer if specified");this.#O()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!S,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!l,this.ttlResolution=h(i)||0===i?i:1,this.ttlAutopurge=!!r,this.ttl=n||0,this.ttl){if(!h(this.ttl))throw TypeError("ttl must be a positive integer if specified");this.#C()}if(0===this.#t&&0===this.ttl&&0===this.#n)throw TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#n){let e="LRU_CACHE_UNBOUNDED";u(e)&&(s.add(e),a("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,g))}}getRemainingTTL(e){return this.#l.has(e)?1/0:0}#C(){let e=new f(this.#t),t=new f(this.#t);this.#_=e,this.#m=t,this.#I=(n,i,s=r.now())=>{if(t[n]=0!==i?s:0,e[n]=i,0!==i&&this.ttlAutopurge){let e=setTimeout(()=>{this.#R(n)&&this.delete(this.#c[n])},i+1);e.unref&&e.unref()}},this.#D=n=>{t[n]=0!==e[n]?r.now():0},this.#L=(r,s)=>{if(e[s]){let o=e[s],a=t[s];if(!o||!a)return;r.ttl=o,r.start=a,r.now=n||i();let l=r.now-a;r.remainingTTL=o-l}};let n=0,i=()=>{let e=r.now();if(this.ttlResolution>0){n=e;let t=setTimeout(()=>n=0,this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=r=>{let s=this.#l.get(r);if(void 0===s)return 0;let o=e[s],a=t[s];return o&&a?o-((n||i())-a):1/0},this.#R=r=>{let s=t[r],o=e[r];return!!o&&!!s&&(n||i())-s>o}}#D=()=>{};#L=()=>{};#I=()=>{};#R=()=>!1;#O(){let e=new f(this.#t);this.#a=0,this.#y=e,this.#M=t=>{this.#a-=e[t],e[t]=0},this.#F=(e,t,n,i)=>{if(this.#k(t))return 0;if(!h(n)){if(i){if("function"!=typeof i)throw TypeError("sizeCalculation must be a function");if(!h(n=i(t,e)))throw TypeError("sizeCalculation return invalid (expect positive integer)")}else throw TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.")}return n},this.#z=(t,n,i)=>{if(e[t]=n,this.#n){let n=this.#n-e[t];for(;this.#a>n;)this.#N(!0)}this.#a+=e[t],i&&(i.entrySize=n,i.totalCalculatedSize=this.#a)}}#M=e=>{};#z=(e,t,n)=>{};#F=(e,t,n,i)=>{if(n||i)throw TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#E({allowStale:e=this.allowStale}={}){if(this.#o)for(let t=this.#p;this.#j(t)&&((e||!this.#R(t))&&(yield t),t!==this.#f);)t=this.#d[t]}*#T({allowStale:e=this.allowStale}={}){if(this.#o)for(let t=this.#f;this.#j(t)&&((e||!this.#R(t))&&(yield t),t!==this.#p);)t=this.#h[t]}#j(e){return void 0!==e&&this.#l.get(this.#c[e])===e}*entries(){for(let e of this.#E())void 0===this.#u[e]||void 0===this.#c[e]||this.#k(this.#u[e])||(yield[this.#c[e],this.#u[e]])}*rentries(){for(let e of this.#T())void 0===this.#u[e]||void 0===this.#c[e]||this.#k(this.#u[e])||(yield[this.#c[e],this.#u[e]])}*keys(){for(let e of this.#E()){let t=this.#c[e];void 0===t||this.#k(this.#u[e])||(yield t)}}*rkeys(){for(let e of this.#T()){let t=this.#c[e];void 0===t||this.#k(this.#u[e])||(yield t)}}*values(){for(let e of this.#E())void 0===this.#u[e]||this.#k(this.#u[e])||(yield this.#u[e])}*rvalues(){for(let e of this.#T())void 0===this.#u[e]||this.#k(this.#u[e])||(yield this.#u[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(let n of this.#E()){let i=this.#u[n],r=this.#k(i)?i.__staleWhileFetching:i;if(void 0!==r&&e(r,this.#c[n],this))return this.get(this.#c[n],t)}}forEach(e,t=this){for(let n of this.#E()){let i=this.#u[n],r=this.#k(i)?i.__staleWhileFetching:i;void 0!==r&&e.call(t,r,this.#c[n],this)}}rforEach(e,t=this){for(let n of this.#T()){let i=this.#u[n],r=this.#k(i)?i.__staleWhileFetching:i;void 0!==r&&e.call(t,r,this.#c[n],this)}}purgeStale(){let e=!1;for(let t of this.#T({allowStale:!0}))this.#R(t)&&(this.delete(this.#c[t]),e=!0);return e}info(e){let t=this.#l.get(e);if(void 0===t)return;let n=this.#u[t],i=this.#k(n)?n.__staleWhileFetching:n;if(void 0===i)return;let s={value:i};if(this.#_&&this.#m){let e=this.#_[t],n=this.#m[t];if(e&&n){let t=e-(r.now()-n);s.ttl=t,s.start=Date.now()}}return this.#y&&(s.size=this.#y[t]),s}dump(){let e=[];for(let t of this.#E({allowStale:!0})){let n=this.#c[t],i=this.#u[t],s=this.#k(i)?i.__staleWhileFetching:i;if(void 0===s||void 0===n)continue;let o={value:s};if(this.#_&&this.#m){o.ttl=this.#_[t];let e=r.now()-this.#m[t];o.start=Math.floor(Date.now()-e)}this.#y&&(o.size=this.#y[t]),e.unshift([n,o])}return e}load(e){for(let[t,n]of(this.clear(),e)){if(n.start){let e=Date.now()-n.start;n.start=r.now()-e}this.set(t,n.value,n)}}set(e,t,n={}){if(void 0===t)return this.delete(e),this;let{ttl:i=this.ttl,start:r,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=n,{noUpdateTTL:l=this.noUpdateTTL}=n,c=this.#F(e,t,n.size||0,o);if(this.maxEntrySize&&c>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(e),this;let u=0===this.#o?void 0:this.#l.get(e);if(void 0===u)u=0===this.#o?this.#p:0!==this.#g.length?this.#g.pop():this.#o===this.#t?this.#N(!1):this.#o,this.#c[u]=e,this.#u[u]=t,this.#l.set(e,u),this.#h[this.#p]=u,this.#d[u]=this.#p,this.#p=u,this.#o++,this.#z(u,c,a),a&&(a.set="add"),l=!1;else{this.#A(u);let n=this.#u[u];if(t!==n){if(this.#w&&this.#k(n)){n.__abortController.abort(Error("replaced"));let{__staleWhileFetching:t}=n;void 0!==t&&!s&&(this.#b&&this.#i?.(t,e,"set"),this.#x&&this.#v?.push([t,e,"set"]))}else!s&&(this.#b&&this.#i?.(n,e,"set"),this.#x&&this.#v?.push([n,e,"set"]));if(this.#M(u),this.#z(u,c,a),this.#u[u]=t,a){a.set="replace";let e=n&&this.#k(n)?n.__staleWhileFetching:n;void 0!==e&&(a.oldValue=e)}}else a&&(a.set="update")}if(0===i||this.#_||this.#C(),this.#_&&(l||this.#I(u,i,r),a&&this.#L(a,u)),!s&&this.#x&&this.#v){let e;let t=this.#v;for(;e=t?.shift();)this.#r?.(...e)}return this}pop(){try{for(;this.#o;){let e=this.#u[this.#f];if(this.#N(!0),this.#k(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#x&&this.#v){let e;let t=this.#v;for(;e=t?.shift();)this.#r?.(...e)}}}#N(e){let t=this.#f,n=this.#c[t],i=this.#u[t];return this.#w&&this.#k(i)?i.__abortController.abort(Error("evicted")):(this.#b||this.#x)&&(this.#b&&this.#i?.(i,n,"evict"),this.#x&&this.#v?.push([i,n,"evict"])),this.#M(t),e&&(this.#c[t]=void 0,this.#u[t]=void 0,this.#g.push(t)),1===this.#o?(this.#f=this.#p=0,this.#g.length=0):this.#f=this.#h[t],this.#l.delete(n),this.#o--,t}has(e,t={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=t,r=this.#l.get(e);if(void 0!==r){let e=this.#u[r];if(this.#k(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#R(r))return n&&this.#D(r),i&&(i.has="hit",this.#L(i,r)),!0;i&&(i.has="stale",this.#L(i,r))}else i&&(i.has="miss");return!1}peek(e,t={}){let{allowStale:n=this.allowStale}=t,i=this.#l.get(e);if(void 0===i||!n&&this.#R(i))return;let r=this.#u[i];return this.#k(r)?r.__staleWhileFetching:r}#S(e,t,n,i){let r=void 0===t?void 0:this.#u[t];if(this.#k(r))return r;let s=new l,{signal:o}=n;o?.addEventListener("abort",()=>s.abort(o.reason),{signal:s.signal});let a={signal:s.signal,options:n,context:i},c=(i,r=!1)=>{let{aborted:o}=s.signal,l=n.ignoreFetchAbort&&void 0!==i;return(n.status&&(o&&!r?(n.status.fetchAborted=!0,n.status.fetchError=s.signal.reason,l&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),!o||l||r)?(this.#u[t]===h&&(void 0===i?h.__staleWhileFetching?this.#u[t]=h.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,i,a.options))),i):u(s.signal.reason)},u=i=>{let{aborted:r}=s.signal,o=r&&n.allowStaleOnFetchAbort,a=o||n.allowStaleOnFetchRejection,l=a||n.noDeleteOnFetchRejection;if(this.#u[t]!==h||(l&&void 0!==h.__staleWhileFetching?o||(this.#u[t]=h.__staleWhileFetching):this.delete(e)),a)return n.status&&void 0!==h.__staleWhileFetching&&(n.status.returnedStale=!0),h.__staleWhileFetching;if(h.__returned===h)throw i};n.status&&(n.status.fetchDispatched=!0);let h=new Promise((t,i)=>{let o=this.#s?.(e,r,a);o&&o instanceof Promise&&o.then(e=>t(void 0===e?void 0:e),i),s.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(t(void 0),n.allowStaleOnFetchAbort&&(t=e=>c(e,!0)))})}).then(c,e=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=e),u(e))),d=Object.assign(h,{__abortController:s,__staleWhileFetching:r,__returned:void 0});return void 0===t?(this.set(e,d,{...a.options,status:void 0}),t=this.#l.get(e)):this.#u[t]=d,d}#k(e){return!!this.#w&&!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof l}async fetch(e,t={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:p,forceRefresh:g=!1,status:v,signal:y}=t;if(!this.#w)return v&&(v.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:r,status:v});let m={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:r,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:l,noUpdateTTL:c,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:f,ignoreFetchAbort:d,status:v,signal:y},_=this.#l.get(e);if(void 0===_){v&&(v.fetch="miss");let t=this.#S(e,_,m,p);return t.__returned=t}{let t=this.#u[_];if(this.#k(t)){let e=n&&void 0!==t.__staleWhileFetching;return v&&(v.fetch="inflight",e&&(v.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}let r=this.#R(_);if(!g&&!r)return v&&(v.fetch="hit"),this.#A(_),i&&this.#D(_),v&&this.#L(v,_),t;let s=this.#S(e,_,m,p),o=void 0!==s.__staleWhileFetching&&n;return v&&(v.fetch=r?"stale":"refresh",o&&r&&(v.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}get(e,t={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:s}=t,o=this.#l.get(e);if(void 0!==o){let t=this.#u[o],a=this.#k(t);return(s&&this.#L(s,o),this.#R(o))?(s&&(s.get="stale"),a)?(s&&n&&void 0!==t.__staleWhileFetching&&(s.returnedStale=!0),n?t.__staleWhileFetching:void 0):(r||this.delete(e),s&&n&&(s.returnedStale=!0),n?t:void 0):(s&&(s.get="hit"),a)?t.__staleWhileFetching:(this.#A(o),i&&this.#D(o),t)}s&&(s.get="miss")}#B(e,t){this.#d[t]=e,this.#h[e]=t}#A(e){e!==this.#p&&(e===this.#f?this.#f=this.#h[e]:this.#B(this.#d[e],this.#h[e]),this.#B(this.#p,e),this.#p=e)}delete(e){let t=!1;if(0!==this.#o){let n=this.#l.get(e);if(void 0!==n){if(t=!0,1===this.#o)this.clear();else{this.#M(n);let t=this.#u[n];if(this.#k(t)?t.__abortController.abort(Error("deleted")):(this.#b||this.#x)&&(this.#b&&this.#i?.(t,e,"delete"),this.#x&&this.#v?.push([t,e,"delete"])),this.#l.delete(e),this.#c[n]=void 0,this.#u[n]=void 0,n===this.#p)this.#p=this.#d[n];else if(n===this.#f)this.#f=this.#h[n];else{let e=this.#d[n];this.#h[e]=this.#h[n];let t=this.#h[n];this.#d[t]=this.#d[n]}this.#o--,this.#g.push(n)}}}if(this.#x&&this.#v?.length){let e;let t=this.#v;for(;e=t?.shift();)this.#r?.(...e)}return t}clear(){for(let e of this.#T({allowStale:!0})){let t=this.#u[e];if(this.#k(t))t.__abortController.abort(Error("deleted"));else{let n=this.#c[e];this.#b&&this.#i?.(t,n,"delete"),this.#x&&this.#v?.push([t,n,"delete"])}}if(this.#l.clear(),this.#u.fill(void 0),this.#c.fill(void 0),this.#_&&this.#m&&(this.#_.fill(0),this.#m.fill(0)),this.#y&&this.#y.fill(0),this.#f=0,this.#p=0,this.#g.length=0,this.#a=0,this.#o=0,this.#x&&this.#v){let e;let t=this.#v;for(;e=t?.shift();)this.#r?.(...e)}}}}}]);
//# sourceMappingURL=7643-3b6027d171159f2a.js.map