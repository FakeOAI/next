"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4205],{31094:function(e,t,a){a.d(t,{Z:function(){return o}});var s=a(19841),n=a(3445),l=a(651);function o(e){let{className:t,checked:a}=e;return(0,l.jsx)(n.Tg4,{className:(0,s.default)("icon-sm transform transition-transform duration-200",t,a?"rotate-0":"ltr:-rotate-90 rtl:rotate-90")})}},74205:function(e,t,a){a.r(t),a.d(t,{GizmoActionsEditor:function(){return B}});var s=a(17379),n=a(94521),l=a(21904),o=a(85734),r=a(5443),i=a(2377),c=a(4702),d=a(19841),u=a(89678),p=a.n(u),m=a(65925),h=a.n(m),x=a(92379),f=a(75172),v=a(62984),g=a(68306),y=a(1703),j=a(31094),b=a(65530),N=a(98131),M=a(651);let w=["className","children"];function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach(function(t){(0,n.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var T={Root:function(e){let{className:t,children:a}=e,n=(0,s.Z)(e,w);return(0,M.jsx)(N.fC,k(k({className:t},n),{},{children:a}))}},P=a(3445),O=a(49217);function C(e){let{onSelectExample:t}=e,a=(0,f.Z)(),s=(0,x.useRef)(null);return(0,M.jsxs)("select",{onChange:e=>{"label"!==e.target.value&&(t(S[parseInt(e.target.value)].spec),s.current.value="label")},className:"h-8 rounded-lg border border-token-border-medium bg-transparent px-2 py-0 text-sm",ref:s,children:[(0,M.jsx)("option",{value:"label",children:a.formatMessage(I.examples)}),S.map((e,t)=>(0,M.jsx)("option",{value:t,children:a.formatMessage(e.displayName)},t))]})}let I=(0,g.vU)({examples:{id:"gizmo.actions.examples",defaultMessage:"Examples"},weatherExampleTitle:{id:"gizmo.actions.weatherExampleTitle",defaultMessage:"Weather (JSON)"},petStoreExampleTitle:{id:"gizmo.actions.petStoreExampleTitle",defaultMessage:"Pet Store (YAML)"},blankExampleTitle:{id:"gizmo.actions.blankExampleTitle",defaultMessage:"Blank Template"}}),S=[{displayName:I.weatherExampleTitle,spec:JSON.stringify({openapi:"3.1.0",info:{title:"Get weather data",description:"Retrieves current weather data for a location.",version:"v1.0.0"},servers:[{url:"https://weather.example.com"}],paths:{"/location":{get:{description:"Get temperature for a specific location",operationId:"GetCurrentWeather",parameters:[{name:"location",in:"query",description:"The city and state to retrieve the weather for",required:!0,schema:{type:"string"}}],deprecated:!1}}},components:{schemas:{}}},null,2)},{displayName:I.petStoreExampleTitle,spec:'# Taken from https://github.com/OAI/OpenAPI-Specification/blob/main/examples/v3.0/petstore.yaml\n\nopenapi: "3.0.0"\ninfo:\n  version: 1.0.0\n  title: Swagger Petstore\n  license:\n    name: MIT\nservers:\n  - url: https://petstore.swagger.io/v1\npaths:\n  /pets:\n    get:\n      summary: List all pets\n      operationId: listPets\n      tags:\n        - pets\n      parameters:\n        - name: limit\n          in: query\n          description: How many items to return at one time (max 100)\n          required: false\n          schema:\n            type: integer\n            maximum: 100\n            format: int32\n      responses:\n        \'200\':\n          description: A paged array of pets\n          headers:\n            x-next:\n              description: A link to the next page of responses\n              schema:\n                type: string\n          content:\n            application/json:    \n              schema:\n                $ref: "#/components/schemas/Pets"\n        default:\n          description: unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: "#/components/schemas/Error"\n    post:\n      summary: Create a pet\n      operationId: createPets\n      tags:\n        - pets\n      responses:\n        \'201\':\n          description: Null response\n        default:\n          description: unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: "#/components/schemas/Error"\n  /pets/{petId}:\n    get:\n      summary: Info for a specific pet\n      operationId: showPetById\n      tags:\n        - pets\n      parameters:\n        - name: petId\n          in: path\n          required: true\n          description: The id of the pet to retrieve\n          schema:\n            type: string\n      responses:\n        \'200\':\n          description: Expected response to a valid request\n          content:\n            application/json:\n              schema:\n                $ref: "#/components/schemas/Pet"\n        default:\n          description: unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: "#/components/schemas/Error"\ncomponents:\n  schemas:\n    Pet:\n      type: object\n      required:\n        - id\n        - name\n      properties:\n        id:\n          type: integer\n          format: int64\n        name:\n          type: string\n        tag:\n          type: string\n    Pets:\n      type: array\n      maxItems: 100\n      items:\n        $ref: "#/components/schemas/Pet"\n    Error:\n      type: object\n      required:\n        - code\n        - message\n      properties:\n        code:\n          type: integer\n          format: int32\n        message:\n          type: string'},{displayName:I.blankExampleTitle,spec:JSON.stringify({openapi:"3.1.0",info:{title:"Untitled",description:"Your OpenAPI specification",version:"v1.0.0"},servers:[{url:""}],paths:{},components:{schemas:{}}},null,2)}];var V=a(89987),A=a(6175),Z=a(56029),E=a(2933);function J(e){let{content:t,button:a,onClick:s}=e;return(0,M.jsxs)("div",{className:"flex rounded-lg border border-token-border-medium text-sm hover:cursor-pointer",onClick:s,children:[(0,M.jsx)("div",{className:"h-9 grow px-3 py-2",children:t}),(0,M.jsx)("div",{className:"w-px bg-token-border-medium"}),a]})}let z=["oauth_client_id","oauth_client_secret"],U=["api_key"];function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach(function(t){(0,n.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let D="".concat("https://chatgpt.com","/g/g-TYEliDU6A-actionsgpt");function R(e){let{children:t}=e;return(0,M.jsx)("label",{className:"mb-1 block text-sm font-semibold",children:t})}function H(e){var t,a,s,n,l,i,c,d,u,p,m,h,g,y;let{jitPluginTool:j,onUpdateTool:b,onClose:N}=e,w=(0,f.Z)(),{0:_,1:k}=(0,x.useState)({apiKeyValue:"",oauthClientIdValue:"",oauthClientSecretValue:"",oauthAuthUrlValue:null!==(t=null==j||null===(a=j.metadata)||void 0===a||null===(a=a.auth)||void 0===a?void 0:a.client_url)&&void 0!==t?t:"",oauthTokenUrlValue:null!==(s=null==j||null===(n=j.metadata)||void 0===n||null===(n=n.auth)||void 0===n?void 0:n.authorization_url)&&void 0!==s?s:"",oauthScopeValue:null!==(l=null==j||null===(i=j.metadata)||void 0===i||null===(i=i.auth)||void 0===i?void 0:i.scope)&&void 0!==l?l:"",authTypeValue:null!==(c=null==j||null===(d=j.metadata)||void 0===d||null===(d=d.auth)||void 0===d?void 0:d.type)&&void 0!==c?c:o.Jv.None,httpAuthTypeValue:null!==(u=null==j||null===(p=j.metadata)||void 0===p||null===(p=p.auth)||void 0===p?void 0:p.authorization_type)&&void 0!==u?u:"basic",customHeaderValue:null!==(m=null==j||null===(h=j.metadata)||void 0===h||null===(h=h.auth)||void 0===h?void 0:h.custom_auth_header)&&void 0!==m?m:"",tokenExchangeMethodValue:null!==(g=null==j||null===(y=j.metadata)||void 0===y||null===(y=y.auth)||void 0===y?void 0:y.token_exchange_method)&&void 0!==g?g:"default_post"});function P(e){k(t=>q(q({},t),e))}return(0,M.jsxs)(O.Z,{type:"success",isOpen:!0,title:w.formatMessage({id:"kZ040s",defaultMessage:"Authentication"}),primaryButton:(0,M.jsx)(r.z,{color:"primary",onClick:()=>{b(_.authTypeValue===o.Jv.None?{type:o.Jv.None}:_.authTypeValue===o.Jv.OAuth?{type:o.Jv.OAuth,client_url:_.oauthAuthUrlValue,authorization_url:_.oauthTokenUrlValue,authorization_content_type:"application/x-www-form-urlencoded",scope:_.oauthScopeValue,token_exchange_method:_.tokenExchangeMethodValue,oauth_client_id:_.oauthClientIdValue,oauth_client_secret:_.oauthClientSecretValue}:{type:o.Jv.ServiceHTTP,authorization_type:_.httpAuthTypeValue,custom_auth_header:_.customHeaderValue,api_key:_.apiKeyValue}),N()},children:(0,M.jsx)(v.Z,{id:"dchvRM",defaultMessage:"Save"})}),secondaryButton:(0,M.jsx)(r.z,{color:"secondary",onClick:N,children:(0,M.jsx)(v.Z,{id:"xHBR5t",defaultMessage:"Cancel"})}),onClose:N,children:[(0,M.jsxs)("div",{className:"mb-4",children:[(0,M.jsx)(v.Z,{id:"la7zPT",defaultMessage:"Authentication Type"}),(0,M.jsxs)(T.Root,{onValueChange:e=>{P({authTypeValue:e})},value:_.authTypeValue,className:"mt-2 flex gap-4",children:[(0,M.jsx)(E.Xb,{label:w.formatMessage({id:"Ml5rNZ",defaultMessage:"None"}),value:o.Jv.None}),(0,M.jsx)(E.Xb,{label:w.formatMessage({id:"rN0uCi",defaultMessage:"API Key"}),value:o.Jv.ServiceHTTP}),(0,M.jsx)(E.Xb,{label:w.formatMessage({id:"qG7Z4O",defaultMessage:"OAuth"}),value:o.Jv.OAuth})]})]}),"service_http"===_.authTypeValue?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(R,{children:(0,M.jsx)(v.Z,{id:"hSd+5k",defaultMessage:"API Key"})}),(0,M.jsx)(V.yt,{placeholder:w.formatMessage({id:"9W9lGr",defaultMessage:"[HIDDEN]"}),type:"password",value:_.apiKeyValue,onChange:e=>{P({apiKeyValue:e.target.value})},className:"mb-2",dir:"ltr"}),(0,M.jsx)(R,{children:(0,M.jsx)(v.Z,{id:"PSnRGf",defaultMessage:"Auth Type"})}),(0,M.jsxs)(T.Root,{className:"mb-2 flex gap-6 overflow-hidden rounded-lg",value:_.httpAuthTypeValue,required:!0,onValueChange:e=>{P({httpAuthTypeValue:e})},children:[(0,M.jsx)(E.Xb,{value:"basic",label:"Basic"}),(0,M.jsx)(E.Xb,{value:"bearer",label:"Bearer"}),(0,M.jsx)(E.Xb,{value:"custom",label:w.formatMessage({id:"6kqx38",defaultMessage:"Custom"})})]}),"custom"===_.httpAuthTypeValue&&(0,M.jsxs)("div",{className:"mt-2",children:[(0,M.jsx)(R,{children:(0,M.jsx)(v.Z,{id:"XqdT/P",defaultMessage:"Custom Header Name"})}),(0,M.jsx)(V.yt,{value:_.customHeaderValue,onChange:e=>{P({customHeaderValue:e.target.value})},className:"mb-2",placeholder:"X-Api-Key",dir:"ltr"})]})]}):"oauth"===_.authTypeValue?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(R,{children:(0,M.jsx)(v.Z,{id:"lS4nvz",defaultMessage:"Client ID"})}),(0,M.jsx)(V.yt,{placeholder:"<HIDDEN>",type:"password",value:_.oauthClientIdValue,onChange:e=>{P({oauthClientIdValue:e.target.value})},className:"mb-2",dir:"ltr"}),(0,M.jsx)(R,{children:(0,M.jsx)(v.Z,{id:"OvwGR3",defaultMessage:"Client Secret"})}),(0,M.jsx)(V.yt,{placeholder:"<HIDDEN>",type:"password",value:_.oauthClientSecretValue,onChange:e=>{P({oauthClientSecretValue:e.target.value})},className:"mb-2",dir:"ltr"}),(0,M.jsx)(R,{children:(0,M.jsx)(v.Z,{id:"I27qZU",defaultMessage:"Authorization URL"})}),(0,M.jsx)(V.yt,{value:_.oauthAuthUrlValue,onChange:e=>{P({oauthAuthUrlValue:e.target.value})},className:"mb-2",dir:"ltr"}),(0,M.jsx)(R,{children:(0,M.jsx)(v.Z,{id:"QywIpF",defaultMessage:"Token URL"})}),(0,M.jsx)(V.yt,{value:_.oauthTokenUrlValue,onChange:e=>{P({oauthTokenUrlValue:e.target.value})},className:"mb-2",dir:"ltr"}),(0,M.jsx)(R,{children:(0,M.jsx)(v.Z,{id:"1VAJqN",defaultMessage:"Scope"})}),(0,M.jsx)(V.yt,{value:_.oauthScopeValue,onChange:e=>{P({oauthScopeValue:e.target.value})},className:"mb-2",dir:"ltr"}),(0,M.jsx)(R,{children:(0,M.jsx)(v.Z,{id:"9MvwPc",defaultMessage:"Token Exchange Method"})}),(0,M.jsxs)(T.Root,{value:_.tokenExchangeMethodValue,required:!0,onValueChange:e=>{P({tokenExchangeMethodValue:e})},children:[(0,M.jsx)(E.Xb,{value:"default_post",label:w.formatMessage({id:"vXIzoE",defaultMessage:"Default (POST request)"})}),(0,M.jsx)(E.Xb,{value:"basic_auth_header",label:w.formatMessage({id:"38o+yX",defaultMessage:"Basic authorization header"})})]})]}):null]})}function L(e){let{onImport:t,onClose:a}=e,{0:s,1:n}=(0,x.useState)(""),{0:l,1:o}=(0,x.useState)(!1);async function r(){var e;let n;try{n=new URL(s)}catch{return}if(null!==(e=n)&&void 0!==e&&e.hostname){o(!0);try{let e=await Z.U.fetchOpenAPISpec(s);t(e.content),a()}finally{o(!1)}}}return(0,M.jsxs)("div",{className:"flex items-center gap-2",children:[(0,M.jsx)("input",{name:"url",value:s,onChange:e=>{n(e.target.value)},placeholder:"https://...",className:"h-8 rounded border border-token-border-light px-2 text-sm",autoFocus:!0,dir:"ltr"}),(0,M.jsx)(E.cY,{color:"primary",size:"small",loading:l,onClick:r,children:(0,M.jsx)(v.Z,{id:"7sLuEB",defaultMessage:"Import"})}),(0,M.jsx)(E.cY,{color:"secondary",size:"small",onClick:a,children:(0,M.jsx)(v.Z,{id:"xHBR5t",defaultMessage:"Cancel"})})]})}function K(e){let{rootDomain:t,operations:a}=e;return null==a||0===a.length?(0,M.jsx)("div",{className:"text-sm text-token-text-tertiary",children:(0,M.jsx)(v.Z,{id:"L69u6d",defaultMessage:"Operations in your schema will show here"})}):(0,M.jsx)("table",{className:"w-full text-sm",children:(0,M.jsxs)("tbody",{children:[(0,M.jsxs)("tr",{className:"border-b border-token-border-light text-left text-xs text-token-text-tertiary",children:[(0,M.jsx)("th",{className:"py-1 font-normal",children:(0,M.jsx)(v.Z,{id:"JizDcr",defaultMessage:"Name"})}),(0,M.jsx)("th",{className:"py-1 font-normal",children:(0,M.jsx)(v.Z,{id:"zN16fd",defaultMessage:"Method"})}),(0,M.jsx)("th",{className:"py-1 font-normal",children:(0,M.jsx)(v.Z,{id:"y2WJvt",defaultMessage:"Path"})}),(0,M.jsx)("th",{className:"py-1 font-normal"})]}),a.map(e=>(0,M.jsxs)("tr",{className:"border-b border-token-border-light",children:[(0,M.jsx)("td",{className:"py-2",children:e.operationName}),(0,M.jsx)("td",{className:"py-2 uppercase",children:e.method}),(0,M.jsx)("td",{className:"py-2",dir:"ltr",style:{textAlign:"match-parent"},children:e.path}),(0,M.jsx)("td",{className:"py-2",children:(0,M.jsx)(E.cY,{color:"secondary",onClick:()=>{t&&A.gP.publish({kind:A.f7.TestGizmoAction,rootDomain:t,operationName:e.operationName})},children:(0,M.jsx)(v.Z,{id:"Ag71GQ",defaultMessage:"Test"})})})]},e.operationName))]})})}function X(e){let{validationResponse:t}=e,a=(0,f.Z)();return(0,M.jsxs)("div",{children:[(0,M.jsx)(V.lX,{label:a.formatMessage({id:"hKfo5R",defaultMessage:"Available actions"})}),(0,M.jsx)(K,{rootDomain:t.success?t.spec.root_domain:void 0,operations:t.success?t.spec.operations:void 0})]})}function B(e){var t,a,n,u,m,N,w;let{currentlyEditingActionDomain:_,gizmoEditorData:k,updateGizmo:T,onClose:O}=e,I=(0,f.Z)(),{0:S,1:A}=(0,x.useState)(_),G=(0,x.useRef)(S),R=(0,c.t)(),{data:K}=(0,i.C)(null==R?void 0:R.getWorkspaceId());(0,x.useEffect)(()=>{G.current=S},[S]);let B=null==k||null===(t=k.tools)||void 0===t?void 0:t.find(e=>e.type===l.qK.JIT_PLUGIN&&e.metadata.domain===S),{0:W}=(0,x.useState)(()=>null==B),Y=null!==(a=null==B||null===(n=B.metadata)||void 0===n?void 0:n.raw_spec)&&void 0!==a?a:"",{0:$,1:F}=(0,x.useState)(!1),{0:Q,1:ee}=(0,x.useState)(!1),{0:et,1:ea}=(0,x.useState)(!1);function es(e){T(t=>q(q({},t),{},{tools:B?t.tools.map(t=>t.type===l.qK.JIT_PLUGIN&&t.metadata.domain===S?q(q({},t),{},{metadata:q(q(q({},t.metadata),e),{},{json_schema:void 0})}):t):[...t.tools,{type:l.qK.JIT_PLUGIN,metadata:q(q({raw_spec:"",domain:null!=S?S:"Unknown domain",action_id:""},e),{},{json_schema:void 0})}]}))}let{0:en,1:el}=(0,x.useState)(),{0:eo}=(0,x.useState)(()=>p()(async function(e){let t=await Z.U.validateOpenAPISpec(e);el(t);let a=t.success?t.spec.root_domain:void 0;if(a){if(a!==G.current){var s;if(null==k||null===(s=k.tools)||void 0===s?void 0:s.find(e=>e.type===l.qK.JIT_PLUGIN&&e.metadata.domain===a)){el({success:!1,errors:[I.formatMessage({id:"nwBcmJ",defaultMessage:"Action sets cannot have duplicate domains - {domain} already exists on another action"},{domain:a})]});return}}T(e=>q(q({},e),{},{tools:e.tools.map(e=>e.type===l.qK.JIT_PLUGIN&&e.metadata.domain===G.current?q(q({},e),{},{metadata:q(q({},e.metadata),{},{domain:a})}):e)})),A(a)}if(t.success&&t.known_auth&&t.known_privacy_policy&&B){let e=q({type:o.Jv.OAuth},t.known_auth);h()(B.metadata.auth,e)||es({auth:q({type:o.Jv.OAuth},t.known_auth)}),B.metadata.privacy_policy_url!==t.known_privacy_policy&&es({privacy_policy_url:t.known_privacy_policy})}},1e3)),er=null!=en?en.success?en.warnings:en.errors:void 0;(0,x.useEffect)(()=>{""===Y?(el(void 0),eo.cancel()):eo(Y)},[eo,Y]);let ei=e=>{try{es({raw_spec:JSON.stringify(JSON.parse(e),null,2)})}catch{try{es({raw_spec:y.default.stringify(y.default.parse(e),{lineWidth:120,indent:2})})}catch{}}};return(0,M.jsxs)("div",{className:"h-full overflow-auto px-4 pb-12 text-sm",children:[(0,M.jsxs)("div",{className:"relative flex flex-col items-center px-16 py-6 text-center",children:[(0,M.jsx)("div",{className:"absolute left-0 top-6",children:(0,M.jsx)(r.z,{color:"secondary",onClick:O,icon:P.DUf})}),null!=B&&(0,M.jsx)("div",{className:"absolute right-0 top-6",children:(0,M.jsx)(r.z,{color:"secondary",onClick:()=>{window.confirm("Are you sure you want to delete this action?")&&(T(e=>q(q({},e),{},{tools:e.tools.filter(e=>e.type!==l.qK.JIT_PLUGIN||e.metadata.domain!==S)})),O())},className:"text-red-500",children:(0,M.jsx)(P.XHJ,{className:"icon-md"})})}),(0,M.jsx)("div",{className:"text-xl font-semibold",children:W?(0,M.jsx)(v.Z,{id:"LEn2vt",defaultMessage:"Add actions"}):(0,M.jsx)(v.Z,{id:"WtVYgh",defaultMessage:"Edit actions"})}),(0,M.jsx)("div",{className:"text-sm text-token-text-tertiary",children:(0,M.jsx)(v.Z,{id:"f0WG0Q",defaultMessage:"Let your GPT retrieve information or take actions outside of ChatGPT."})}),(0,M.jsx)("div",{className:"text-sm text-token-text-tertiary",children:(0,M.jsx)("a",{href:"https://help.openai.com/en/articles/8554397-creating-a-gpt",target:"_blank",rel:"noreferrer",className:"font-semibold",children:(0,M.jsx)(v.Z,{id:"44M7/B",defaultMessage:"Learn more."})})})]}),(0,M.jsxs)(V.hj,{className:"relative",children:[(0,M.jsx)(V.lX,{label:I.formatMessage({id:"kZ040s",defaultMessage:"Authentication"})}),(0,M.jsx)(J,{onClick:()=>{F(!0)},content:I.formatMessage(function(e){switch(e){case o.Jv.None:return(0,g.Em)({id:"G9qfIC",defaultMessage:"None"});case o.Jv.OAuth:return(0,g.Em)({id:"t8MwwT",defaultMessage:"OAuth"});case o.Jv.ServiceHTTP:return(0,g.Em)({id:"rN0uCi",defaultMessage:"API Key"})}}(null!==(u=null==B||null===(m=B.metadata)||void 0===m||null===(m=m.auth)||void 0===m?void 0:m.type)&&void 0!==u?u:o.Jv.None)),button:(0,M.jsx)("button",{color:"secondary",className:"flex items-center gap-2 px-3",children:(0,M.jsx)(P.SWE,{className:"icon-sm"})})}),$&&(0,M.jsx)(H,{jitPluginTool:B,onUpdateTool:e=>{switch(e.type){case o.Jv.None:es({auth:{type:o.Jv.None}});break;case o.Jv.OAuth:{let{oauth_client_id:t,oauth_client_secret:a}=e;es({auth:(0,s.Z)(e,z),oauth_client_id:t,oauth_client_secret:a});break}case o.Jv.ServiceHTTP:{let{api_key:t}=e;es({auth:(0,s.Z)(e,U),api_key:t})}}},onClose:()=>{F(!1)}})]}),(0,M.jsxs)("div",{children:[(0,M.jsxs)("div",{className:"mb-1 flex h-8 items-center justify-between",children:[(0,M.jsx)("label",{className:"font-semibold text-token-text-primary",children:(0,M.jsx)(v.Z,{id:"+xKwQg",defaultMessage:"Schema"})}),(0,M.jsx)("div",{className:"flex items-center",children:Q?(0,M.jsx)(L,{onImport:e=>{ei(e)},onClose:()=>{ee(!1)}}):(0,M.jsxs)("div",{className:"flex items-center gap-2",children:[(0,M.jsx)(E.cY,{color:"secondary",size:"small",onClick:()=>{ee(!0)},children:(0,M.jsx)(v.Z,{id:"kTR+Ef",defaultMessage:"Import from URL"})}),(0,M.jsx)(C,{onSelectExample:e=>{es({raw_spec:e})}})]})})]}),(0,M.jsxs)("div",{className:"mb-8 overflow-hidden rounded-lg border border-token-border-light",children:[(0,M.jsxs)("div",{className:"relative",children:[(0,M.jsx)("textarea",{value:Y,onChange:e=>{es({raw_spec:e.target.value})},spellCheck:!1,placeholder:I.formatMessage({id:"zBM3o0",defaultMessage:"Enter your OpenAPI schema here"}),className:"block h-96 w-full border-none bg-transparent p-2 font-mono text-xs text-token-text-primary",dir:"ltr"}),(0,M.jsx)("div",{className:"absolute bottom-2 right-2 flex gap-2",children:""!==Y?(0,M.jsx)(E.cY,{onClick:()=>{ei(Y)},children:(0,M.jsx)(v.Z,{id:"vJWnIM",defaultMessage:"Format"})}):(0,M.jsxs)(E.cY,{as:"a",to:D,openNewTab:!0,size:"small",children:[(0,M.jsx)(v.Z,{id:"gizmo.actions.actionsGptHelp",defaultMessage:"Get help from ActionsGPT"}),(0,M.jsx)(P.Pfi,{className:"icon-md"})]})})]}),null!=er&&(null==er?void 0:er.length)>0&&(0,M.jsx)("div",{className:"border-t border-token-border-light p-2 text-red-500",children:er.map((e,t)=>(0,M.jsx)("div",{children:e},t))})]})]}),null!=en&&(0,M.jsx)(X,{validationResponse:en}),(null==K?void 0:K.allowed_custom_actions_domains)!=null&&((null==K?void 0:K.allowed_custom_actions_domains.length)>0?(0,M.jsxs)("div",{className:"mt-4",children:[(0,M.jsxs)("p",{className:"mb-1 cursor-pointer font-semibold",onClick:()=>ea(!et),children:[(0,M.jsx)(v.Z,{id:"Gcxir6",defaultMessage:"Domains allowed by your workspace"}),(0,M.jsx)(j.Z,{className:"inline",checked:et})]}),(0,M.jsx)("ul",{className:(0,d.default)("list-disc ps-4",!et&&"hidden"),children:null==K?void 0:K.allowed_custom_actions_domains.map(e=>(0,M.jsx)("li",{children:e},e))})]}):(0,M.jsx)("p",{className:"text-sm italic",children:(0,M.jsx)(v.Z,{id:"wWCl0j",defaultMessage:"No domains are allowed by your workspace's settings."})})),(0,M.jsxs)("div",{className:"mt-4",children:[(0,M.jsx)(V.lX,{label:I.formatMessage({id:"Pbk0Gp",defaultMessage:"Privacy policy"}),description:"Privacy policy is required for all public GPTs."}),(0,M.jsx)(b.Z,{name:"privacyPolicyUrl",value:null!==(N=null==B||null===(w=B.metadata)||void 0===w?void 0:w.privacy_policy_url)&&void 0!==N?N:"",placeholder:"https://app.example.com/privacy",onChange:e=>{es({privacy_policy_url:e.target.value})}})]})]})}}}]);
//# sourceMappingURL=4205.e04afc0857724790.js.map