"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4477],{36638:function(e,t,n){n.d(t,{N:function(){return a}});var r=n(1423),u=n(57680),l=n(70079),i=n(83869),o=n(88342);let a=e=>{let{clientThreadId:t,categories:n}=e,a=(0,o.ZP)(),f=(0,u.g)(),s=(0,i.V)({clientThreadId:t});return(0,l.useMemo)(()=>{let e=[],t=[];if(!a.length)return{isLoadingModels:!0,availableModels:e,deniedModels:t};if(!f&&!(null!=n&&n.length))return{availableModels:e,deniedModels:t};for(let l of a){var u;let{value:i,categoryId:a}=l;if(!f&&n&&!(0,r.r)(n,a)||f&&(0,o.B$)(a))continue;let d=null!==(u=s[i])&&void 0!==u?u:{},{conversation:c=[],regenerate:v=[]}=d;c.length||v.length?t.push({model:l,denials:d}):e.push(l)}return{availableModels:e,deniedModels:t}},[a,n,f,s])}},84022:function(e,t,n){n.d(t,{y:function(){return i}});var r=n(36638),u=n(88342),l=n(41947);let i=e=>{let{isLoading:t}=(0,l.Y7)(),{availableModels:n}=(0,r.N)({clientThreadId:e,categories:u.ok});return!t&&!n.length}},83869:function(e,t,n){n.d(t,{V:function(){return i}});var r=n(61145),u=n(87712),l=n(69677);function i(e){var t,n;let{clientThreadId:i}=e,o=l.tQ.getThreadCurrentLeafId(i),a=null!==(t=null===(n=l.tQ.getTree(i).getMessage(o).metadata)||void 0===n?void 0:n.model_switcher_deny)&&void 0!==t?t:[],f={};return a.forEach(e=>{var t,n;let{slug:r,context:u,reason:l,description:i}=e,o=null!==(t=f[r])&&void 0!==t?t:{},a=null!==(n=o[u])&&void 0!==n?n:[];a.push({reason:l,description:i}),o[u]=a,f[r]=o}),(0,u.dt)().forEach(e=>{let t=e.limit_details.model_slug,n=e.resets_after;[r.UB.CONVERSATION,r.UB.REGENERATE].forEach(e=>{var u,l;let i=null!==(u=f[t])&&void 0!==u?u:{},o=null!==(l=i[e])&&void 0!==l?l:[],a={reason:r.Ls.RATE_LIMIT,resetsAfter:n};o.push(a),i[e]=o,f[t]=i})}),f}},87712:function(e,t,n){n.d(t,{Bl:function(){return v},DJ:function(){return g},DN:function(){return s},Ib:function(){return _},Li:function(){return m},TX:function(){return h},Yt:function(){return p},dt:function(){return d},p7:function(){return f}});var r=n(61145),u=n(1423),l=n(84022),i=n(41947),o=n(87806),a=n(69677);function f(e){var t;let n=null!==(t=(0,i.Bv)(e))&&void 0!==t?t:"",r=(0,o.pm)(e=>e.modelRateLimitsByDefaultModelSlug),u=(0,a.Kt)(e),l=r[n];return!u&&l?Object.values(l).filter(o.Ds):[]}function s(e){let t=f(e);return(0,o.Kr)(t)}function d(){return Object.values((0,o.pm)(e=>e.modelRateLimitsByDefaultModelSlug)).flatMap(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(e)}).filter(o.Ds)}function c(e){let t=(0,o.pm)(e=>e.featureRateLimitsByFeatureName)[e];return t&&(0,o.Ds)(t)?t:null}function v(e){var t;let n=(0,o.pm)(e=>e.featureRateLimitsByThreadId),l=(0,o.pm)(e=>e.featureRateLimitsByFeatureName),i=Object.values(null!==(t=n[e])&&void 0!==t?t:{}),f=!!(0,a.eV)(e);if(f){let e=l[r.X5.GIZMO];e&&i.push(e)}return i.filter(e=>{if(!(0,u.l)(e)||!(0,o.Ds)(e))return!1;let{limit_details:t}=e;return t.feature_limit_name!==r.X5.GIZMO||!!f})}function m(e){let t=(0,a.eV)(e),n=p(),r=s(e),u=(0,l.y)(e);return n&&!!t||u&&!!r}function g(e){var t;let{categories:n}=(0,i.pM)(),u=m(e),l=f(e);if(!u)return;let o=a.tQ.getThreadCurrentLeafId(e),s=null===(t=a.tQ.getTree(e).getMessage(o).metadata)||void 0===t?void 0:t.model_switcher_deny;if(!s)return;let d=s.filter(e=>e.context===r.UB.CONVERSATION);if(0===d.length)return;let c=d[0].reason;if(0===l.length)return;let v=l[0].limit_details.model_slug,g=n.find(e=>{let{value:t}=e;return t===v}),{label:h}=null!=g?g:{};if(h)return{reason:c,modelName:h}}function h(){return c(r.X5.FILE_UPLOAD)}function _(){return c(r.X5.GIZMO)}function p(){return!!_()}}}]);
//# sourceMappingURL=4477.fa957d293220ea76.js.map