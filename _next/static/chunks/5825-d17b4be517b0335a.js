"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5825],{51549:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(97410),i=r(27781),o=r(19841),a=r(651);let l=["className"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){let{className:t}=e,r=(0,i.Z)(e,l);return(0,a.jsx)("textarea",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:(0,o.default)("form-textarea w-full rounded-lg border border-token-border-light bg-token-main-surface-secondary text-sm text-token-text-primary focus:border-token-text-primary focus:shadow-none focus:outline-none focus:ring-token-text-primary",t)},r))}},95040:function(e,t,r){r.d(t,{C:function(){return i}});var n=r(44575);function i(e){var t,r;let i=(0,n.hz)();return!(null===(t=(0,n.t)())||void 0===t?void 0:t.isWorkspaceAccount())||null!==(r=null==i?void 0:i.includes(e))&&void 0!==r&&r}},19112:function(e,t,r){r.d(t,{U:function(){return l}});var n=r(97410),i=r(99140),o=r(66943);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let l={filePickerStarted:e=>{i.A.logEvent(o.M.contextConnectorsPickerStarted,{contextConnector:e})},filePickerLoaded:e=>{i.A.logEvent(o.M.contextConnectorsPickerLoaded,{contextConnector:e})},filePickerPicked:(e,t)=>{i.A.logEvent(o.M.contextConnectorsPickerPicked,{contextConnector:e,numFiles:t})},filePickerCancelled:e=>{i.A.logEvent(o.M.contextConnectorsPickerCancelled,{contextConnector:e})},linkPasted:e=>{i.A.logEvent(o.M.contextConnectorsLinkPasted,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e))},linkMetadataFetchStarted:e=>{i.A.logEvent(o.M.contextConnectorsLinkMetadataFetchStarted,{contextConnector:e})},linkMetadataFetchSucceeded:(e,t)=>{i.A.logEvent(o.M.contextConnectorsLinkMetadataFetchSucceeded,{contextConnector:e,mimeType:t})},linkMetadataFetchFailed:(e,t)=>{i.A.logEvent(o.M.contextConnectorsLinkMetadataFetchFailed,{contextConnector:e,reason:String(t)})},oauthUpsellButtonClick:(e,t)=>{i.A.logEvent(o.M.contextConnectorsOAuthUpsellButtonClick,{contextConnector:e,choice:t})},expiredAccessTokenUsed:(e,t)=>{i.A.logEvent(o.M.contextConnectorsExpiredAccessTokenUsed,{contextConnector:e,useCase:t})}}},56068:function(e,t,r){r.d(t,{J:function(){return a},f:function(){return l}});var n=r(34608),i=r(48198),o=r(651);let a=e=>{let{className:t,contextConnector:r,extension:n}=e,i=l(r,n);return(0,o.jsx)("div",{className:"".concat(t," flex items-center justify-center rounded-md border border-gray-100 bg-gray-50 dark:border-white/10 dark:bg-token-main-surface-secondary"),children:(0,o.jsx)(i,{className:"w-[20px]"})})};function l(e,t){switch(e){case n.PO.GDRIVE:case n.PO.GDRIVE_SYNC_CONNECTOR:switch(t){case"doc":case"docx":return i.UkS;case"xls":case"xlsx":return i.UWy;case"ppt":case"pptx":return i.rJj;default:return i.Gle}case n.PO.O365_BUSINESS:case n.PO.O365_PERSONAL:case n.PO.O365:switch(t){case"doc":case"docx":return i.TLO;case"xls":case"xlsx":return i.$7;case"ppt":case"pptx":return i.Y5F;default:return i.Vpj}}}},74864:function(e,t,r){r.d(t,{AJ:function(){return a},JQ:function(){return c},Ul:function(){return s},e6:function(){return l},i5:function(){return d}});var n=r(34608),i=r(82920),o=r(651);let a={defaultMessage:"Microsoft OneDrive (personal)",description:"Name of a service, Microsoft OneDrive, with a short, non-branded descriptor indicating that this is the consumer version of the service instead of the business one",id:"ContextConnector.OneDrivePersonal.name"},l={defaultMessage:"Microsoft OneDrive (work/school)",description:"Name of a service, Microsoft OneDrive, with a short, non-branded descriptor indicating that this is the business version of the service instead of the personal one",id:"ContextConnector.OneDriveBusiness.name"};function s(e,t){var r,i;switch(e){case n.PO.GDRIVE_SYNC_CONNECTOR:case n.PO.GDRIVE:return"Google Drive";case n.PO.O365:return"Microsoft OneDrive";case n.PO.O365_PERSONAL:return null!==(r=null==t?void 0:t.formatMessage(a))&&void 0!==r?r:"Microsoft OneDrive (personal)";case n.PO.O365_BUSINESS:return null!==(i=null==t?void 0:t.formatMessage(l))&&void 0!==i?i:"Microsoft OneDrive (work/school)"}}function c(e,t){switch(e){case n.PO.GDRIVE_SYNC_CONNECTOR:case n.PO.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case n.PO.O365:case n.PO.O365_PERSONAL:case n.PO.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}}(0,i.ZP)(e)}function d(e){let{contextConnector:t,extension:r}=e;return(0,o.jsx)(o.Fragment,{children:c(t,r)})}},59314:function(e,t,r){var n;r.d(t,{D6:function(){return a},JO:function(){return o},XS:function(){return s},dQ:function(){return i},eA:function(){return l}});let i="77377267392",o="AIzaSyAOHzpLbFWAcLwrOn1IvQeVd0jHRntTlPk",a="203712390664",l="AIzaSyCECDrDXDU460DD1WTHtz8jSkyuGjgsI8w",s=((n={}).OneDrive_BUSINESS_DRIVE_ITEMS="https://graph.microsoft.com/v1.0/me/drive/items",n.OneDrive_BUSINESS_DRIVE_ROOT="https://graph.microsoft.com/v1.0/me/drive/root",n.OneDrive_BUSINESS_SHARES="https://graph.microsoft.com/v1.0/shares",n.OneDrive_PERSONAL_DRIVE_ITEMS="https://api.onedrive.com/v1.0/drives",n.OneDrive_PERSONAL_SHARES="https://api.onedrive.com/v1.0/shares",n)},68231:function(e,t,r){r.d(t,{X:function(){return o}});var n=r(59314);let i=null;function o(e){return null==i&&(i=new Promise((e,t)=>{let r=document.createElement("script");r.src="https://apis.google.com/js/api.js",r.onload=e,r.onerror=t,document.documentElement.appendChild(r)}).then(()=>Promise.all([new Promise(e=>gapi.load("client",e)),new Promise(e=>gapi.load("client:picker",e))])).then(()=>(gapi.client.setToken({access_token:e}),gapi.client.init({apiKey:n.JO,scope:"https://www.googleapis.com/auth/drive.file",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]})))),i}},27379:function(e,t,r){r.d(t,{j:function(){return s}});var n=r(34608),i=r(19112),o=r(26361),a=r(59314),l=r(68231);async function s(e,t,r,s){async function d(e){switch(e.action){case google.picker.Action.PICKED:i.U.filePickerPicked(n.PO.GDRIVE,e.docs.length),s(e.docs.map(e=>({connector:t,id:e.id,title:e.name,mimeType:e.mimeType,url:e.url,syntheticExtension:"document"===e.type?(0,o.I)(e.mimeType):null})));break;case google.picker.Action.CANCEL:i.U.filePickerCancelled(n.PO.GDRIVE);return;case"loaded":i.U.filePickerLoaded(n.PO.GDRIVE);return}}await (0,l.X)(r);let u=new google.picker.DocsView(google.picker.ViewId.DOCS).setIncludeFolders(!0).setSelectFolderEnabled(t===n.PO.GDRIVE_SYNC_CONNECTOR).setMode(google.picker.DocsViewMode.LIST);t===n.PO.GDRIVE_SYNC_CONNECTOR&&u.setMimeTypes("application/vnd.google-apps.folder");let f="en";c.includes(e)?f=e:c.includes(e.split("-")[0])&&(f=e.split("-")[0]);let p=new google.picker.PickerBuilder().enableFeature(google.picker.Feature.MULTISELECT_ENABLED).enableFeature(google.picker.Feature.SUPPORT_DRIVES).setDeveloperKey(t===n.PO.GDRIVE_SYNC_CONNECTOR?a.eA:a.JO).setAppId(t===n.PO.GDRIVE_SYNC_CONNECTOR?a.D6:a.dQ).setOAuthToken(r).addView(u).setCallback(d).setLocale(f).build();i.U.filePickerStarted(n.PO.GDRIVE),p.setVisible(!0);let h=function(){var e;let t=null!==(e=window.document.body.querySelector("div.picker-dialog-bg"))&&void 0!==e?e:window.document.body.querySelector("div.oai-picker-dialog-bg");return null==t||t.classList.add("oai-picker-dialog-bg","bg-black/50","dark:bg-black/80","absolute","inset-0","z-[1000]"),null==t||t.classList.remove("picker-dialog-bg"),t}(),m=()=>{i.U.filePickerCancelled(n.PO.GDRIVE),p.setVisible(!1),null==h||h.removeEventListener("click",m)};null==h||h.addEventListener("click",m)}let c=["af","am","ar","bg","bn","ca","cs","da","de","el","en","en-GB","es","es-419","et","eu","fa","fi","fil","fr","fr-CA","gl","gu","hi","hr","hu","id","is","it","iw","ja","kn","ko","lt","lv","ml","mr","ms","nl","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","sw","ta","te","th","tr","uk","ur","vi","zh-CN","zh-HK","zh-TW","zu"]},66737:function(e,t,r){r.d(t,{l:function(){return p}});var n=r(27781),i=r(80197),o=r(66583);r(7569);var a=r(19841),l=r(92379),s=r(75172),c=r(68306),d=r(48198),u=r(651);let f=["contextConnectorSourceUrl"];function p(e){let{contextConnectorSourceUrl:t}=e,r=(0,n.Z)(e,f),c=(0,s.Z)(),{0:p,1:m}=(0,l.useState)({width:0,height:0}),g=p.width/p.height,x=p.width>0&&p.height>0,v=(0,l.useMemo)(()=>{if(void 0!==t){var e;let r=new URL(t);return"https:"!==r.protocol&&(r=void 0),null===(e=r)||void 0===e?void 0:e.toString()}},[t]);return(0,l.useEffect)(()=>{if(!r.src)throw Error("ExpandableImage requires a src");let e=new Image;e.onload=()=>{m({width:e.naturalWidth,height:e.naturalHeight})},e.onerror=()=>{},e.src=r.src},[r.src]),(0,u.jsxs)(o.fC,{children:[(0,u.jsx)(o.xz,{className:r.className,disabled:!x,children:r.children}),(0,u.jsx)(o.h_,{children:(0,u.jsxs)(o.aV,{className:"fixed inset-0 flex items-center justify-center overflow-hidden bg-black/90 radix-state-open:animate-show dark:bg-black/80",children:[(0,u.jsx)(o.x8,{asChild:!0,children:(0,u.jsx)("button",{className:"absolute right-4 top-4",children:(0,u.jsx)(d.tPq,{className:"h-5 w-5 text-gray-100"})})}),(0,u.jsxs)(o.VY,{className:"shadow-xl focus:outline-none radix-state-open:animate-contentShow",children:[(0,u.jsx)("div",{className:(0,a.default)("relative max-h-[85vh] max-w-[90vw]"),style:{aspectRatio:g},children:(0,u.jsx)("img",{src:r.src,alt:r.alt,className:"h-full w-full object-contain"})}),v&&(0,u.jsx)("div",{className:"absolute right-14 top-4",children:(0,u.jsx)(i.u,{label:c.formatMessage(h.openOriginal),children:(0,u.jsx)("a",{href:v,target:"_blank",children:(0,u.jsx)(d.ReP,{className:"h-5 w-5 rotate-180 text-gray-100"})})})})]})]})})]})}let h=(0,c.vU)({openOriginal:{id:"ExpandableImage.openOriginal",defaultMessage:"Open original image"}})},83154:function(e,t,r){r.d(t,{Sv:function(){return N},UJ:function(){return D},ZP:function(){return M}});var n,i=r(15316),o=r(97410),a=r(29840),l=r(99140),s=r(66943),c=r(92379),d=r(72349),u=r(68306),f=r(75172),p=r(62984),h=r(15478),m=r(59823),g=r(31161),x=r(69015),v=r(49553),b=r(97591),j=r(76126),y=r(20151),w=r(2744),O=r(47246),k=r(11655),C=r(651);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let F=(0,u.vU)({dragInstructions:{id:"FileDropZone.dragInstructions",defaultMessage:"Add anything"},dragAllAccepted:{id:"FileDropZone.dragAllAccepted",defaultMessage:"Drop any file here to add it to the conversation"}});function M(e){var t;let{className:r,children:n,clientThreadId:i,currentModelConfig:o}=e,l=(0,f.Z)(),s=(0,x.W)(i),c=(0,k.YN)(o,s),u=c!==y.AJ.None,h=(0,O.gF)(e=>e.files),g=(c===y.AJ.Multimodal?j.Ql:j.dO)-h.length,{getGizmoId:b}=(0,m.Q)(),{handleFileAccepted:w}=N(l,(0,k.YN)(o,s),(0,k.p0)(o,s),"drag",b,null===(t=(0,k.ww)(o,s))||void 0===t?void 0:t.attachments),P=(0,a.Fz)(),M=(0,k.Z8)((0,k.Zp)(o,s)),{getRootProps:L,isDragActive:I}=(0,d.uI)(E({maxFiles:g,disabled:!u||g<=0||null!=P,noClick:!0,onDropAccepted:w,onDropRejected:e=>D(e,l,c),multiple:!0,maxSize:j.xC},M)),A=function(){if(!M.accept||0===Object.keys(M.accept).length)return[];let e=[];return Object.values(M.accept).forEach(t=>e.push(...t)),e.sort()}();return(0,C.jsxs)("div",E(E({},L({className:r})),{},{children:[n,I&&(0,C.jsxs)(S,{children:[(0,C.jsx)(v.Fk,{}),(0,C.jsx)("h3",{children:(0,C.jsx)(p.Z,E({},F.dragInstructions))}),(0,C.jsx)("h4",{className:"w-2/3 text-center",children:A.length>0?A.join(", "):(0,C.jsx)(p.Z,E({},F.dragAllAccepted))})]})]}))}function D(e,t,r){let{errors:n}=e[0];n.forEach(e=>{let n=(0,b.s)(e);"string"==typeof n?g.m.danger(n,{hasCloseButton:!0}):g.m.danger(t.formatMessage(n,{size:j.EZ,maxNum:r===y.AJ.Multimodal?j.Ql:j.dO}),{hasCloseButton:!0})})}function N(e,t,r,n,i,o){return{handleFileAccepted:(0,c.useCallback)(async(a,c)=>{l.A.logEvent(s.M.uploadFile,{client:"web",eventSource:n,intent:t.toString()});let d=null!=i?await i():void 0;a.length>0&&a.forEach(n=>{O.Dw.uploadFile((0,w.W7)(n),n,t,r,e,{gizmoId:d},o)})},[n,t,i,r,e,o])}}let S=h.Z.div(n||(n=(0,i.Z)(["absolute inset-0 opacity-80 flex gap-2 flex-col justify-center items-center bg-token-main-surface-primary text-token-text-primary"])))},49553:function(e,t,r){r.d(t,{Fk:function(){return o},LO:function(){return c},N:function(){return s},OD:function(){return a},pC:function(){return d},tf:function(){return l},yc:function(){return u}});var n=r(13300),i=r(651);let o=e=>{let{className:t}=e;return(0,i.jsxs)(n.A0,{width:"132",height:"108",viewBox:"0 0 132 108",fill:"none",className:t,children:[(0,i.jsx)("g",{clipPath:"url(#clip0_3605_64419)",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.2025 29.3514C10.778 33.2165 8.51524 37.1357 11.8281 49.4995L13.4846 55.6814C16.7975 68.0453 20.7166 70.308 35.1411 66.443L43.3837 64.2344C57.8082 60.3694 60.0709 56.4502 56.758 44.0864L55.1016 37.9044C51.7887 25.5406 47.8695 23.2778 33.445 27.1428L29.3237 28.2471L25.2025 29.3514ZM18.1944 42.7244C18.8572 41.5764 20.325 41.1831 21.4729 41.8459L27.3517 45.24C28.4996 45.9027 28.8929 47.3706 28.2301 48.5185L24.836 54.3972C24.1733 55.5451 22.7054 55.9384 21.5575 55.2757C20.4096 54.613 20.0163 53.1451 20.6791 51.9972L22.8732 48.1969L19.0729 46.0028C17.925 45.3401 17.5317 43.8723 18.1944 42.7244ZM29.4091 56.3843C29.066 55.104 29.8258 53.7879 31.1062 53.4449L40.3791 50.9602C41.6594 50.6172 42.9754 51.377 43.3184 52.6573C43.6615 53.9376 42.9017 55.2536 41.6214 55.5967L32.3485 58.0813C31.0682 58.4244 29.7522 57.6646 29.4091 56.3843Z",fill:"#AFC1FF"})}),(0,i.jsx)("g",{clipPath:"url(#clip1_3605_64419)",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86.8124 13.4036C81.0973 11.8722 78.5673 13.2649 77.0144 19.0603L68.7322 49.97C67.1793 55.7656 68.5935 58.2151 74.4696 59.7895L97.4908 65.958C103.367 67.5326 105.816 66.1184 107.406 60.1848L115.393 30.379C115.536 29.8456 115.217 29.2959 114.681 29.16C113.478 28.8544 112.435 28.6195 111.542 28.4183C106.243 27.2253 106.22 27.2201 109.449 20.7159C109.73 20.1507 109.426 19.4638 108.816 19.3004L86.8124 13.4036ZM87.2582 28.4311C86.234 28.1567 85.1812 28.7645 84.9067 29.7888C84.6323 30.813 85.2401 31.8658 86.2644 32.1403L101.101 36.1158C102.125 36.3902 103.178 35.7824 103.453 34.7581C103.727 33.7339 103.119 32.681 102.095 32.4066L87.2582 28.4311ZM82.9189 37.2074C83.1934 36.1831 84.2462 35.5753 85.2704 35.8497L100.107 39.8252C101.131 40.0996 101.739 41.1524 101.465 42.1767C101.19 43.201 100.137 43.8088 99.1132 43.5343L84.2766 39.5589C83.2523 39.2844 82.6445 38.2316 82.9189 37.2074ZM83.2826 43.2683C82.2584 42.9939 81.2056 43.6017 80.9311 44.626C80.6567 45.6502 81.2645 46.703 82.2888 46.9775L89.7071 48.9652C90.7313 49.2396 91.7841 48.6318 92.0586 47.6076C92.333 46.5833 91.7252 45.5305 90.7009 45.256L83.2826 43.2683Z",fill:"#7989FF"})}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.4004 71.8426C40.4004 57.2141 44.0575 53.5569 61.1242 53.5569H66.0004H70.8766C87.9432 53.5569 91.6004 57.2141 91.6004 71.8426V79.1569C91.6004 93.7855 87.9432 97.4426 70.8766 97.4426H61.1242C44.0575 97.4426 40.4004 93.7855 40.4004 79.1569V71.8426ZM78.8002 67.4995C78.8002 70.1504 76.6512 72.2995 74.0002 72.2995C71.3492 72.2995 69.2002 70.1504 69.2002 67.4995C69.2002 64.8485 71.3492 62.6995 74.0002 62.6995C76.6512 62.6995 78.8002 64.8485 78.8002 67.4995ZM60.7204 70.8597C60.2672 70.2553 59.5559 69.8997 58.8004 69.8997C58.045 69.8997 57.3337 70.2553 56.8804 70.8597L47.2804 83.6597C46.4851 84.72 46.7 86.2244 47.7604 87.0197C48.8208 87.8149 50.3251 87.6 51.1204 86.5397L58.8004 76.2997L66.4804 86.5397C66.8979 87.0962 67.5363 87.4443 68.2303 87.4936C68.9243 87.5429 69.6055 87.2887 70.0975 86.7967L74.8004 82.0938L79.5034 86.7967C80.4406 87.734 81.9602 87.734 82.8975 86.7967C83.8347 85.8595 83.8347 84.3399 82.8975 83.4026L76.4975 77.0026C75.5602 76.0653 74.0406 76.0653 73.1034 77.0026L68.6601 81.4459L60.7204 70.8597Z",fill:"#3C46FF"}),(0,i.jsxs)("defs",{children:[(0,i.jsx)("clipPath",{id:"clip0_3605_64419",children:(0,i.jsx)("rect",{width:"56",height:"56",fill:"white",transform:"translate(0 26.9939) rotate(-15)"})}),(0,i.jsx)("clipPath",{id:"clip1_3605_64419",children:(0,i.jsx)("rect",{width:"64",height:"64",fill:"white",transform:"translate(69.5645 0.5) rotate(15)"})})]})]})},a=e=>{let{className:t}=e;return(0,i.jsxs)(n.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,i.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#10A37F"}),(0,i.jsx)("path",{d:"M15.5 10.5H12.1667C11.2462 10.5 10.5 11.2462 10.5 12.1667V13.5V18M15.5 10.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V18M15.5 10.5V25.5M15.5 25.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V18M15.5 25.5H12.1667C11.2462 25.5 10.5 24.7538 10.5 23.8333V18M10.5 18H25.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},l=e=>{let{className:t}=e;return(0,i.jsxs)(n.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,i.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#FF5588"}),(0,i.jsx)("path",{d:"M19.6663 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V14.6666L19.6663 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M19.667 9.66663V14.6666H24.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M21.3337 18.8334H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M21.3337 22.1666H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M16.3337 15.5H15.5003H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},s=e=>{let{className:t}=e;return(0,i.jsxs)(n.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,i.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#F8CA27"}),(0,i.jsx)("path",{d:"M10.5 14V13.5V12.1667C10.5 11.2462 11.2462 10.5 12.1667 10.5H15.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V14M10.5 14V23.8333C10.5 24.7538 11.2462 25.5 12.1667 25.5H15.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V14M10.5 14H25.5M14 21.5L16.5 19L19 20.5L22 17.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},c=e=>{let{className:t}=e;return(0,i.jsxs)(n.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,i.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#B161FD"}),(0,i.jsx)("path",{d:"M26.3337 23.8333C26.3337 24.2754 26.1581 24.6993 25.8455 25.0118C25.5329 25.3244 25.109 25.5 24.667 25.5H11.3337C10.8916 25.5 10.4677 25.3244 10.1551 25.0118C9.84259 24.6993 9.66699 24.2754 9.66699 23.8333V12.1667C9.66699 11.7246 9.84259 11.3007 10.1551 10.9882C10.4677 10.6756 10.8916 10.5 11.3337 10.5H15.5003L17.167 13H24.667C25.109 13 25.5329 13.1756 25.8455 13.4882C26.1581 13.8007 26.3337 14.2246 26.3337 14.6667V23.8333Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},d=e=>{let{className:t}=e;return(0,i.jsxs)(n.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,i.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#0000FF"}),(0,i.jsx)("path",{d:"M18.833 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V15.5L18.833 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M18.833 9.66663V15.5H24.6663",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},u=e=>{let{className:t}=e;return(0,i.jsxs)(n.A0,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[(0,i.jsx)("rect",{width:"36",height:"36",rx:"6",fill:"#FF6E3C"}),(0,i.jsx)("path",{d:"M21.333 23L26.333 18L21.333 13",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M14.667 13L9.66699 18L14.667 23",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})}},47869:function(e,t,r){r.d(t,{Y:function(){return x}});var n=r(97410),i=r(88628),o=r(44575),a=r(94867),l=r(59594),s=r(99140),c=r(62984),d=r(68306),u=r(9519),f=r(17939),p=r(63738),h=r(651);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let x=e=>{let{clientThreadId:t,rateLimitPopup:r,children:n}=e,i=(0,a.Ao)(t),c=(0,o.t)(),d=!!r;return(0,h.jsx)(h.Fragment,{children:d?(0,h.jsxs)(l.fC,{delayDuration:150,onOpenChange:e=>{if(null!=r&&e){var t;s.A.logPopoverHover({type:"rate_limit",location:"file_upload",plan_type:null!==(t=null==c?void 0:c.planType)&&void 0!==t?t:"unknown"})}},children:[(0,h.jsx)(l.xz,{children:n}),(0,h.jsx)(l.h_,{children:(0,h.jsx)(f.M4,{$as:l.VY,side:"top",sideOffset:4,className:"max-w-[260px]",children:(0,h.jsx)(v,{isNewConversation:i,rateLimitPopup:r})})})]}):n})},v=e=>{let{isNewConversation:t=!1,rateLimitPopup:r}=e,n=(0,o.t)();if(null==r)return null;let{call_to_action:a,description:l}=r,d=l||(0,h.jsx)(c.Z,g({},b.defaultDescription)),f=null==a?void 0:a.includes(i.Pt.GET_PLUS);return(0,h.jsxs)("div",{className:"p-2 text-sm text-token-text-primary",children:[(0,h.jsx)("div",{children:d}),f?(0,h.jsx)(u.z,{size:"small",color:"secondary",className:"mt-3",onClick:()=>{var e;(0,p.MG)("Rate limited file upload popover"),s.A.logRateLimitGetPlusButtonClicked({type:"file_upload",location:"popover",plan_type:null!==(e=null==n?void 0:n.planType)&&void 0!==e?e:"unknown",is_hard_block:!1,is_new_conversation:t,hard_block_reason:""})},children:(0,h.jsx)(c.Z,g({},b.getPlus))}):null]})},b=(0,d.vU)({defaultDescription:{id:"U5qAWP",defaultMessage:"You've reached your daily upload limit. Get ChatGPT Plus to unlock more."},getPlus:{id:"TeyLcp",defaultMessage:"Get Plus"}})},4325:function(e,t,r){r.d(t,{l:function(){return I},Z:function(){return N}});var n,i=r(15316),o=r(34608),a=r(89721),l=r(26693),s=r(7569),c=r(19841),d=r(92379),u=r(75172),f=r(68306),p=r(15478),h=r(67459),m=r(66737),g=r(80197),x=r(48198),v=r(35998),b=r(56068),j=r(74864),y=r(49553),w=r(11655),O=r(651);function k(e){var t,r;let{fileName:n,icon:i,loadingPercentage:o,contextConnectorInfo:a}=e,l=(0,u.Z)(),s=void 0!==o&&o<100,d=(0,w.$p)(n),f=null!==(t=null==a?void 0:a.syntheticExtension)&&void 0!==t?t:null,p=null!=a&&a.contextConnector?(0,O.jsx)(j.i5,{contextConnector:a.contextConnector,extension:null!==(r=null!=f?f:d)&&void 0!==r?r:null}):function(e){if((0,w.CO)(e))return l.formatMessage(F.fileDescImage);switch(d){case"py":return"Python";case"js":case"jsx":return"JavaScript";case"ts":case"tsx":return"TypeScript";case"pdf":return"PDF";case"doc":case"docx":case"txt":return l.formatMessage(F.fileDescDocument);case"zip":return l.formatMessage(F.fileDescZip);case"xls":case"xlsx":case"csv":return l.formatMessage(F.fileDescSpreadsheet);case"ppt":case"pptx":case"key":return l.formatMessage(F.fileDescPresentation);default:return l.formatMessage(F.fileDescFile)}}(n);return(0,O.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[null!=i&&!1!==i?(0,O.jsxs)("div",{className:"relative h-10 w-10 overflow-hidden rounded-md border border-token-border-heavy",children:[i,s&&(0,O.jsx)(C,{percentage:o,blurBackground:!0})]}):(0,O.jsx)("div",{className:"relative h-10 w-10 shrink-0 overflow-hidden rounded-md",children:s?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:(0,c.default)("inset-0",P,function(e,t){if(t)return"bg-gray-50 dark:bg-token-main-surface-secondary border rounded-md border-gray-100 dark:border-white/10";switch((0,w.$p)(e)){case"py":case"js":case"jsx":case"ts":case"tsx":return"bg-[#FF6E3C]";case"doc":case"docx":case"txt":case"pdf":return"bg-[#FF5588]";case"zip":return"bg-[#B161FD]";case"ppt":case"pptx":case"key":return"bg-[#F8CA27]";case"xls":case"xlsx":case"csv":return"bg-[#10A37F]";default:return"bg-blue"}}(n,null==a?void 0:a.contextConnector))}),(0,O.jsx)(C,{percentage:a?null:o})]}):(0,O.jsx)(E,{filename:n,contextConnectorInfo:a})}),(0,O.jsxs)("div",{className:"overflow-hidden",children:[(0,O.jsx)("div",{className:"truncate font-semibold",children:(0,w.Ad)(n,f)}),(0,O.jsx)("div",{className:"truncate text-token-text-tertiary",children:p})]})]})}function C(e){let{percentage:t,blurBackground:r=!1}=e;return(0,O.jsx)("div",{className:(0,c.default)("absolute inset-0 flex items-center justify-center text-white",r&&"bg-black/5 backdrop-blur-sm"),children:t?(0,O.jsx)(h.Z,{percentage:t,className:"h-6 w-6"}):(0,O.jsx)(v.Z,{className:"h-6 w-6 text-token-text-secondary"})})}let P="h-10 w-10 flex-shrink-0";function E(e){let{filename:t,contextConnectorInfo:r}=e;if(r){var n,i;return(0,O.jsx)(b.J,{contextConnector:r.contextConnector,extension:null!==(n=null!==(i=r.syntheticExtension)&&void 0!==i?i:(0,w.$p)(t))&&void 0!==n?n:null,className:P})}switch((0,w.$p)(t)){case"py":case"js":case"jsx":case"ts":case"tsx":return(0,O.jsx)(y.yc,{className:P});case"doc":case"docx":case"txt":case"pdf":return(0,O.jsx)(y.tf,{className:P});case"zip":return(0,O.jsx)(y.LO,{className:P});case"ppt":case"pptx":case"key":return(0,O.jsx)(y.N,{className:P});case"xls":case"xlsx":case"csv":return(0,O.jsx)(y.OD,{className:P});default:return(0,O.jsx)(y.pC,{className:P})}}let F=(0,f.vU)({fileDescDocument:{id:"FileDataView.fileDescDocument",defaultMessage:"Document"},fileDescZip:{id:"FileDataView.fileDescZip",defaultMessage:"Zip Archive"},fileDescSpreadsheet:{id:"FileDataView.fileDescSpreadsheet",defaultMessage:"Spreadsheet"},fileDescPresentation:{id:"FileDataView.fileDescPresentation",defaultMessage:"Presentation"},fileDescImage:{id:"FileDataView.fileDescImage",defaultMessage:"Image"},fileDescFile:{id:"FileDataView.fileDescFile",defaultMessage:"File"}});function M(e){return e instanceof File}function D(e){let{downloadLink:t}=e,r=(0,d.useCallback)(()=>{var e;let r=document.createElement("a");r.href=t,r.setAttribute("download",null!==(e=t.split("/").pop())&&void 0!==e?e:"downloaded_file"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},[t]);return(0,O.jsx)("button",{onClick:r,children:(0,O.jsx)(x._8t,{className:"icon-sm m-1.5"})})}function N(e){let{onRemoveFileClick:t,file:r,fileId:n,gizmoId:i,loadingPercentage:o,contextConnectorInfo:a,width:l="normal",alwaysShowData:s=!1,showDownloadButton:d=!1,downloadLink:f=""}=e,p=(0,u.Z)(),m=void 0!==o&&o<100,v=M(r)?r.name:r,b=M(r)&&(null==r?void 0:r.type.startsWith("image/"))||(0,w.CO)(v)&&null!=n,j=b&&(0,O.jsx)(I,{file:r,fileId:n,gizmoId:i,contextConnectorInfo:a}),y=b?void 0:null==a?void 0:a.sourceUrl;return(0,O.jsxs)("div",{className:"group relative inline-block text-sm text-token-text-primary",children:[(0,O.jsx)(_,{showTooltip:!t,sourceUrl:y,className:"relative overflow-hidden rounded-xl border border-token-border-light bg-token-main-surface-primary",children:b&&!s?(0,O.jsxs)("div",{className:"h-14 w-14",children:[j,m&&(0,O.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5 text-white",children:(0,O.jsx)(h.Z,{percentage:o,className:"h-6 w-6"})})]}):(0,O.jsxs)("div",{className:(0,c.default)("p-2","wide"===l?"w-80":"w-60"),children:[(0,O.jsx)(k,{fileName:v,icon:j,loadingPercentage:o,contextConnectorInfo:a}),d&&""!==f&&(0,O.jsx)("div",{className:"absolute right-1 top-1",children:(0,O.jsx)(D,{downloadLink:f})})]})}),null!=t&&(0,O.jsx)("button",{onClick:t,className:"absolute right-1 top-1 -translate-y-1/2 translate-x-1/2 rounded-full border border-token-border-heavy bg-token-main-surface-secondary p-0.5 text-token-text-primary transition-colors hover:opacity-100 group-hover:opacity-100 md:opacity-0",children:(0,O.jsx)(g.u,{label:p.formatMessage(A.removeFile),side:"top",sideOffset:4,children:(0,O.jsx)(x.tPq,{className:"icon-sm"})})})]})}let S=p.Z.span(n||(n=(0,i.Z)(["flex items-center h-full w-full justify-center bg-gray-500 dark:bg-gray-700 bg-cover bg-center text-white"])));function L(){return(0,O.jsx)(S,{})}function I(e){let{file:t,fileId:r,gizmoId:n,contextConnectorInfo:i}=e,l=(0,u.Z)(),c=M(t)?t.name:t,f=function(e,t,r,n,i){let{0:l,1:c}=(0,d.useState)(void 0);return(0,d.useEffect)(()=>{async function l(e){try{let t=await a.Z.getFileDownloadLink(e,n);t.status===o.KF.Success?c(t.download_url):s.U.addError("Error fetching URL for file ".concat(e,": ").concat(t.status))}catch(t){s.U.addError(Error("Error fetching URL for file ".concat(e,")"),{cause:t}))}}if(i)r&&l(r);else if(null!=e&&e.type.startsWith("image/")&&!i){let t=new FileReader;t.addEventListener("load",()=>{let e=t.result;c("string"==typeof e?e:void 0)}),t.readAsDataURL(e)}else(0,w.CO)(t)&&null!=r?l(r):c(void 0)},[e,t,r,n,i]),l}(M(t)?t:null,c,r,n,i);return null==f?(0,O.jsx)(L,{}):(0,O.jsx)(m.l,{src:f,alt:l.formatMessage(A.userUploadedImage),contextConnectorSourceUrl:null==i?void 0:i.sourceUrl,className:"h-full w-full",children:(0,O.jsx)(S,{style:{backgroundImage:"url(".concat(f,")")}})})}let A=(0,f.vU)({removeFile:{id:"FileTile.removeFile",defaultMessage:"Remove file"},userUploadedImage:{id:"FileTile.userUploadedImage",defaultMessage:"User uploaded image"}});function _(e){let{showTooltip:t,sourceUrl:r,children:n,className:i}=e,o=(0,l.yA)();if(!r)return(0,O.jsx)("div",{className:i,children:n});let a=(0,O.jsx)("a",{href:r,target:"_blank",children:(0,O.jsx)("div",{className:i,children:n})});return t&&o?(0,O.jsx)(g.u,{wide:!0,interactive:!0,sideOffset:0,label:(0,O.jsxs)("a",{href:r,target:"_blank",className:"flex w-full items-center gap-2",children:[(0,O.jsx)("p",{className:"line-clamp-1 flex-1 text-ellipsis",children:r.split("").join("​")}),(0,O.jsx)(x.Pfi,{className:"icon-sm"})]}),side:"top",children:a}):a}},15930:function(e,t,r){r.d(t,{K:function(){return o}});var n,i=r(15316);let o=r(15478).Z.button(n||(n=(0,i.Z)(["flex items-center justify-center h-8 w-8 rounded-full text-token-text-primary focus-visible:outline-black dark:text-white dark:focus-visible:outline-white"])))},97591:function(e,t,r){r.d(t,{Z:function(){return h},s:function(){return m}});var n=r(97410),i=r(29840),o=r(99140),a=r(66943),l=r(17485),s=r(75172),c=r(68306),d=r(47869),u=r(15930),f=r(651);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){let{clientThreadId:t,getInputProps:r,openFileDialog:l,uploadType:c,icon:h}=e,m=(0,s.Z)(),g=(0,i.Fz)(),x=!!g,v=(0,f.jsx)(u.K,{className:"mb-1 ml-1.5",disabled:x,onClick:e=>{e.preventDefault(),o.A.logEvent(a.M.openFileViewer,{intent:c.toString()}),l()},"aria-label":m.formatMessage({id:"PromptFilePicker.attachFiles",defaultMessage:"Attach files"}),children:h}),b=(0,f.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({disabled:x},r({className:"hidden"}))),j=(0,f.jsxs)("div",{className:"flex",children:[v,b]});return(0,f.jsx)(d.Y,{clientThreadId:t,rateLimitPopup:g,children:j})}function m(e){let{code:t,message:r}=e;switch(t){case l.jK.FileTooLarge:return g.errorFileTooLarge;case l.jK.TooManyFiles:return o.A.logEvent(a.M.uploadedMaxFilesError),g.errorTooManyFiles;default:return r}}let g=(0,c.vU)({attachImages:{id:"PromptFilePicker.attachImages",defaultMessage:"Attach images"},attachFiles:{id:"PromptFilePicker.attachFiles",defaultMessage:"Attach files"},errorFileTooLarge:{id:"PromptFilePicker.errorFileTooLarge",defaultMessage:"Your file is too large. The maximum file size is {size}MB."},errorTooManyFiles:{id:"PromptFilePicker.errorTooManyFiles",defaultMessage:"You may only upload {maxNum} files at a time."},defaultFileUploadRateLimited:{id:"U5qAWP",defaultMessage:"You've reached your daily upload limit. Get ChatGPT Plus to unlock more."},getPlusButton:{id:"TeyLcp",defaultMessage:"Get Plus"}})},76126:function(e,t,r){r.d(t,{$e:function(){return o},EZ:function(){return a},Ql:function(){return i},dO:function(){return n},xC:function(){return l}});let n=10,i=4,o={duration:20,hasCloseButton:!0},a=512,l=536870912},2744:function(e,t,r){r.d(t,{R3:function(){return y},W7:function(){return v},cT:function(){return j},lU:function(){return w},po:function(){return b}});var n=r(97410),i=r(34608),o=r(89721),a=r(7667),l=r(99140),s=r(66943),c=r(7569),d=r(68306),u=r(31245),f=r(31161),p=r(47246),h=r(11655);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let x={duration:20,hasCloseButton:!0};function v(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function b(e){return new Promise((t,r)=>{let n=new FileReader,i=new Image;n.onload=()=>{i.onload=()=>t(i),i.onerror=e=>r(e),i.src=n.result},n.readAsDataURL(e)})}async function j(e,t,r,n,c,d){var p,h,m;let g=u.N.getState().resetRateLimits,v=i.EG.Initial;l.A.logEvent(s.M.uploadFileInitiated,{client:"web",useCase:n.kind,uploadEntry:"local"});let b=d.usesRetrievalIndex?performance.now():void 0;try{let{file_id:a,upload_url:l}=await o.Z.createFile(t.name,t.size,n,!!g);c.onFileCreated(e,a,l),v=i.EG.FileCreated;let s=n.kind===i.Ei.Gizmo?n.gizmoId:void 0,u=null!==(p=d.shouldUpdateProgress)&&void 0!==p&&p,m=null!==(h=d.usesRetrievalIndex)&&void 0!==h&&h,j=await o.Z.uploadFileToAzureStorage(t,l,t=>{u&&c.onFileUploadProgress(e,10+80*t)});if(c.onFileUploadProgress(e,90),201!==j.status&&k(j,a,m),v=i.EG.FileUploaded,await o.Z.processFileUpload(a,{gizmoId:s}),v=i.EG.FileProcessed,d.usesRetrievalIndex){let t=await O(a,s);(null==t?void 0:t.status)===i.Xf.Skipped&&f.m.danger(r.formatMessage(P.retrievalSkippedFile,{fileName:t.name}),x),c.onFileUploaded(e,a,void 0,{fileTokenSize:t.file_size_tokens}),v=i.EG.RetrievalIndexCreated}else c.onFileUploaded(e,a,d.imageDimensions);null!=b&&o.Z.postRetrievalTiming({e2eLatencyMs:performance.now()-b,type:"file"})}catch(o){C(r,t.name,o);let i="NotInstanceOfError";o instanceof a.gK?i=o.name:o instanceof a.Q0?i="FatalServerError_type_".concat(null!==(m=o.type)&&void 0!==m?m:"undefined"):o instanceof Error?i=o.name:o instanceof a.vq&&(i=o.name),c.onError(e,"error",i,n,v)}}async function y(e,t,r,n,d,u,m){let v=performance.now();l.A.logEvent(s.M.uploadFileInitiated,{client:"web",useCase:r.kind,contextConnector:d.contextConnector,fileSourceType:d.type});let b=i.EG.Initial;r.kind===i.Ei.Gizmo&&(r=g(g({},r),{},{kind:n.includes(t.type)?i.Ei.Multimodal:i.Ei.MyFiles}));try{let n=await o.Z.uploadConnectorAPI(e,d.contextConnector,r,t,u,d.o365DriveId);switch(n.type){case"error":throw function(e){let{status_code:t,error_code:r,error_message:n}=e;if(!t||!(t<500))return new a.Q0(n);{let e="internal_error";return r?e=r:404===t?e="file_not_found":403===t?e="permission_error":413===t&&(e="file_too_large"),new a.vq(n,e)}}(n.error);case"file":switch(p.MP.onFileCreated(e,n.file.id,"",d.contextConnector),b=i.EG.FileProcessed,r.kind){case i.Ei.MyFiles:{p.MP.onFileUploadProgress(e,90);let t=await O(n.file.file_id,u);(null==t?void 0:t.status)===i.Xf.Skipped&&f.m.danger(m.formatMessage(P.retrievalSkippedFile,{fileName:t.name}),x),p.MP.onFileUploaded(e,n.file.file_id,void 0,{fileTokenSize:t.file_size_tokens,mimeType:n.file.mime_type}),b=i.EG.RetrievalIndexCreated;break}case i.Ei.Multimodal:p.MP.onFileUploaded(e,n.file.file_id,{width:512,height:512},{mimeType:n.file.mime_type});break;case i.Ei.AceUpload:p.MP.onFileUploaded(e,n.file.file_id,void 0,{mimeType:n.file.mime_type});break;case i.Ei.DalleAgent:case i.Ei.Gizmo:case i.Ei.ProfilePicture:throw new a.vq("Use case not supported by cloud doc: ".concat(r.kind))}break;case"folder":throw new a.vq("Folder type not supported")}o.Z.postRetrievalTiming({e2eLatencyMs:performance.now()-v,type:d.contextConnector})}catch(n){c.U.addError(Error("Failed to upload connected file by ".concat(d.contextConnector),{cause:n})),C(m,(0,h.Ad)(t.name,null==d?void 0:d.syntheticExtension),n);let r="NotInstanceOfError";if(n instanceof a.Q0){var j;r="FatalServerError_type_".concat(null!==(j=n.type)&&void 0!==j?j:"undefined")}else(n instanceof a.gK||n instanceof Error||n instanceof a.vq)&&(r=n.name);p.MP.onError(e,"error",r,{kind:i.Ei.MyFiles},b)}}async function w(e,t,r,n,i){let{width:o,height:a}=await b(t);return j(e,t,r,{kind:n},i,{imageDimensions:{width:o,height:a}})}async function O(e,t){let r=Date.now()+6e4,n=e=>new Promise(t=>setTimeout(t,e)),l=0;for(;Date.now()<r;){let r=await o.Z.getRetrievalStatus(e,t);if(r.status===i.Xf.Success||r.status===i.Xf.Skipped)return r;if(r.status===i.Xf.Failed)throw new a.vq("Context extraction failed",r.error_code);l++,await n(Math.min(1e3,100*l))}throw new a.vq("Retrieval indexing timed out")}async function k(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="Unknown error";try{n=await e.data}catch(e){}throw r&&o.Z.markFileUploadFailed(t,{error:n}),new a.vq("File upload to blobstore failed","failed_upload_to_blobstore")}function C(e,t,r){let n=(0,h.kr)(e,"default_upload_error",{fileName:t});r instanceof a.vq&&null!=r.code&&(n=(0,h.kr)(e,r.code)),f.m.danger(n,x)}let P=(0,d.vU)({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'}})},47246:function(e,t,r){r.d(t,{Dw:function(){return j},HR:function(){return b},MP:function(){return y},gF:function(){return v}});var n=r(97410),i=r(34608),o=r(99140),a=r(66943),l=r(7569),s=r(68306),c=r(68810),d=r(31161),u=r(76126),f=r(20151),p=r(2744),h=r(11655);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let x={files:[],connectorFileData:{}},v=(0,c.Ue)(()=>x),b={hasUploadInProgress:e=>{let{files:t}=e;return t.some(e=>e.status===f.XX.Uploading)},getReadyFiles:e=>{let{files:t}=e;return t.filter(e=>e.status===f.XX.Ready)}},j={reset:()=>{v.setState(x)},uploadFile:async function(e,t,r,n,s){let c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},m=arguments.length>6?arguments[6]:void 0,g=arguments.length>7?arguments[7]:void 0,{gizmoId:x}=c,b=v.getState().files,j=(0,h.xs)(r,t.name,t.type,null==g?void 0:g.contextConnector,m),O={tempId:e,gizmoId:c.gizmoId,status:f.XX.Uploading,file:t,progress:1,fileId:null,cdnUrl:null,contextConnectorInfo:g,contextConnector:null==g?void 0:g.contextConnector};if(b.length===u.dO)o.A.logEvent(a.M.uploadedMaxFilesError),d.m.danger(s.formatMessage(w.maxUploadsAtATime,{maxUploads:u.dO,fileName:t.name}),u.$e);else if(b.some(t=>t.tempId===e))o.A.logEvent(a.M.uploadedDuplicateFileError),d.m.danger(s.formatMessage(w.duplicateFileAttached,{fileName:t.name.length>20?t.name.slice(0,19)+"…":t.name}),u.$e);else{let r;v.setState(e=>{let{files:t}=e;return{files:[...t,O]}});let o={};if(n.includes(t.type)){if(r={kind:i.Ei.Multimodal},!g){let{width:e,height:r}=await (0,p.po)(t);if(e>2048||r>2048)try{let n=await (0,h.Tu)(t,2048),i=await (0,p.po)(n);e=i.width,r=i.height,t=n}catch(e){l.U.addError(Error("Error resizing image:",{cause:e}))}o.imageDimensions={width:e,height:r}}}else switch(j){case f.AJ.Multimodal:throw Error("Multimodal file upload not supported mime type, ".concat(t.type,"\nSupported mime types: ")+n.join(", "));case f.AJ.Interpreter:r={kind:i.Ei.AceUpload};break;case f.AJ.Retrieval:r={kind:i.Ei.MyFiles},o.usesRetrievalIndex=!0;break;case f.AJ.ProfilePicture:throw Error("cannot upload profile picture via uploadFile");case f.AJ.ContextConnector:case f.AJ.None:return}null!=x&&(r={kind:i.Ei.Gizmo,gizmoId:x}),c.skipUpload||(g?await (0,p.R3)(e,t,r,n,g,c.gizmoId,s):await (0,p.cT)(e,t,s,r,y,o))}},createFileCompleted:(e,t,r,n)=>{let i=v.getState().files,o=i.findIndex(t=>t.tempId===e),a=i[o];if(o>=0&&a.status===f.XX.Uploading){let e=[...i];e.splice(o,1,g(g({},a),{},{progress:10,fileId:t,cdnUrl:r,contextConnector:n})),v.setState({files:e})}},updateProgress:(e,t)=>{let r=v.getState().files,n=r.findIndex(t=>t.tempId===e),i=r[n];if(n>=0&&i.status===f.XX.Uploading){let e=[...r];e.splice(n,1,g(g({},i),{},{progress:t})),v.setState({files:e})}},uploadCompleted:(e,t,r,n,i)=>{let l=v.getState().files,s=l.findIndex(t=>t.tempId===e);if(s>=0&&l[s].status===f.XX.Uploading&&null!=l[s].fileId){var c,d,u;let t=l[s],p=[...l],m=g(g({},t),{},{tempId:e,status:f.XX.Ready,progress:100,fileSpec:g(g({name:t.file.name,id:t.fileId,size:t.file.size,contextConnectorInfo:t.contextConnectorInfo,mimeType:null!==(c=null!==(d=null==n?void 0:n.mimeType)&&void 0!==d?d:t.file.type)&&void 0!==c?c:(0,h.s1)(t.file.name)},r||{}),n||{})});p.splice(s,1,m);let x=g({},v.getState().connectorFileData);i&&(x[null==i?void 0:i.file_id]=i),v.setState({files:p,connectorFileData:x}),o.A.logEvent(a.M.uploadFileCompleted,{status:t.status,fileId:t.fileId,contextConnector:null!==(u=t.contextConnector)&&void 0!==u?u:"local"})}},remove:(e,t,r,n,i)=>{let l=v.getState().files,s=l.findIndex(t=>t.tempId===e);if(s>=0){let e=l[s];"error"===t?o.A.logEvent(a.M.uploadFileError,{status:e.status,fileId:e.fileId,client:"web",errorClassName:null!=r?r:"undefined",useCaseType:n,uploadStatus:null!=i?i:"undefined",contextConnector:e.contextConnector}):o.A.logEvent(a.M.removeFile,{status:e.status,fileId:e.fileId});let c=[...l];c.splice(s,1),v.setState({files:c})}}},y={onFileCreated:j.createFileCompleted,onFileUploadProgress:j.updateProgress,onFileUploaded:j.uploadCompleted,onError:j.remove},w=(0,s.vU)({maxUploadsAtATime:{id:"useFilePickerState.maxUploadsAtATime",defaultMessage:"Unable to upload {fileName}. Max {maxUploads} uploads at a time"},duplicateFileAttached:{id:"useFilePickerState.duplicateFileAttached",defaultMessage:"Unable to upload {fileName} because an identical file has already been attached to this message."}})},80987:function(e,t,r){r.d(t,{Dd:function(){return n},L5:function(){return o},P_:function(){return l},aI:function(){return a},vi:function(){return s},zf:function(){return i}});let n="ChatGPT",i="Untitled",o=10,a=50,l=300,s=8e3},15480:function(e,t,r){r.d(t,{A7:function(){return v},QT:function(){return b},Xb:function(){return y},cY:function(){return j},f8:function(){return w}});var n,i=r(97410),o=r(27781),a=r(15316),l=r(29935),s=r(43991),c=r(19841),d=r(92379),u=r(15478),f=r(9519),p=r(80197),h=r(651);let m=["tooltip","className"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let v=56,b=u.Z.div(n||(n=(0,a.Z)(["sticky top-0 p-3 mb-1.5 flex items-center justify-between z-10 h-14 font-semibold bg-token-main-surface-primary"]))),j=(0,d.forwardRef)(function(e,t){var r;let{tooltip:n,className:i}=e,a=(0,o.Z)(e,m),l=(0,h.jsx)(f.z,x(x({color:null!==(r=e.color)&&void 0!==r?r:"secondary",size:"medium"},a),{},{className:i,ref:t}));return null!=n?(0,h.jsx)(p.u,{label:n,children:l}):l});function y(e){let{label:t,disabled:r=!1,tooltipText:n,value:i}=e,o=(0,d.useId)();return(0,h.jsx)("div",{className:(0,c.default)("flex items-center gap-2",r?"opacity-50":""),children:(0,h.jsx)(p.E,{disabled:null==n,label:n,side:"right",children:(0,h.jsxs)("label",{htmlFor:o,className:"flex cursor-pointer items-center gap-1",children:[(0,h.jsx)(s.ck,{id:o,value:i,disabled:r,className:"mr-1 flex h-5 w-5 shrink-0 items-center justify-center rounded-full border border-gray-500 bg-white dark:border-gray-600 dark:bg-gray-700",children:(0,h.jsx)(s.z$,{className:"h-2 w-2 rounded-full bg-gray-950 dark:bg-white"})}),t]})})})}function w(e){return(0,h.jsx)(l.Z,x(x({},e),{},{className:(0,c.default)("!rounded border-gray-950 checked:!bg-black dark:border-gray-600 dark:bg-gray-700",e.className)}))}},31245:function(e,t,r){r.d(t,{J:function(){return i},N:function(){return o}});var n=r(68810);let i={label:"Auto",value:""},o=(0,n.Ue)(()=>({forceParagen:!1,forceParagenModel:i,forceNulligen:!1,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:"The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",forceRateLimit:!1,resetRateLimits:!1,showDebugConversationTurns:!1,rebaseSystemMessageContent:null}))},69015:function(e,t,r){r.d(t,{H:function(){return s},W:function(){return c}});var n=r(97410),i=r(88628),o=r(96314),a=r(94867);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){return null==e||[i.OL.PrimaryAssistant,i.OL.GizmoInteraction].includes(e.kind)}function c(e,t){let r=(0,a.WA)(e,t),{data:s}=(0,o.b9)(null!=r&&"gizmo_id"in r?r.gizmo_id:void 0,(null==r?void 0:r.kind)===i.OL.GizmoTest);if(null!=r)switch(r.kind){case i.OL.GizmoInteraction:case i.OL.GizmoMagicCreate:case i.OL.GizmoTest:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({gizmo:s},r);case i.OL.PrimaryAssistant:return r}}}}]);
//# sourceMappingURL=5825-d17b4be517b0335a.js.map