"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6423],{95628:function(t,e,n){n.d(e,{ZP:function(){return i}});var r=n(92379);function o(t,e,n){try{let r=JSON.parse(window.localStorage.getItem(t)??"");if(!n(r))return e;return r}catch(t){return e}}function i(t,e,n){let{0:i,1:u}=(0,r.useState)(()=>o(t,e,n));return(0,r.useEffect)(()=>{u(()=>o(t,e,n))},[t,e,n]),(0,r.useEffect)(()=>{window.localStorage.setItem(t,JSON.stringify(i))},[t,i]),[i,u]}},10798:function(t,e,n){n.d(e,{OR:function(){return v},Ws:function(){return g},lM:function(){return S},nf:function(){return f},rV:function(){return d}});var r=n(13249),o=n(92379),i=n(95628),u=n(651);function c(t){return"object"==typeof t&&"boolean"==typeof t.suggestions}let a={version:0,useLocation:!1};function l(t){try{let e=r.m.getItem(r.F.SearchSettings,{userId:t});return"number"==typeof e.version&&e.version>=a.version?e:a}catch{return a}}let s=(0,o.createContext)({settings:a,setSettings:()=>{}}),f=t=>{let{userId:e,children:n}=t,{0:i,1:c}=(0,o.useState)(()=>l(e));return(0,o.useEffect)(()=>c(l(e)),[e]),(0,o.useEffect)(()=>{r.m.setItem(r.F.SearchSettings,i,{userId:e})},[i,e]),(0,u.jsx)(s.Provider,{value:{settings:i,setSettings:c},children:n})},g={suggestions:!0,showInlineFollowups:!1},m=(0,o.createContext)({settings:g,setSettings:()=>{}}),S=t=>{let{userId:e,children:n}=t,[r,o]=(0,i.ZP)(`_INTERNAL_${e}_SONIC_SETTINGS_1717364375`,g,c);return(0,u.jsx)(m.Provider,{value:{settings:r,setSettings:o},children:n})};function d(){let{settings:t,setSettings:e}=(0,o.useContext)(s);return[t,e]}function v(){let{settings:t,setSettings:e}=(0,o.useContext)(m);return[t,e]}},5132:function(t,e,n){n.d(e,{XB:function(){return l},XM:function(){return a},ri:function(){return s},t5:function(){return f},to:function(){return o}});var r=n(65012);let o=2592e3,i="last_checked_loc",u="last_denied_loc",c={latitude:null,longitude:null,locationAccuracy:null};async function a(){return navigator?.permissions?await navigator.permissions.query({name:"geolocation"}):null}async function l(t){let{enabled:e}=t;if(!e)return s();if((await a())?.state!=="granted"){let t=localStorage.getItem(i);if(t){let e=Number(t);if(Date.now()-864e5<e)try{return JSON.parse(r.bX.getCookie(r.cn.LastLocation))}catch{}}}let n=localStorage.getItem(u);if(n){let t=Number(n);if(Date.now()-36e5<t)return null}return await new Promise(t=>{navigator.geolocation.getCurrentPosition(e=>{let n={latitude:e.coords.latitude,longitude:e.coords.longitude,locationAccuracy:e.coords.accuracy};r.bX.setCookie(r.cn.LastLocation,JSON.stringify(n),{maxAge:o}),localStorage.setItem(i,Date.now().toString()),t(n)},()=>{localStorage.setItem(u,Date.now().toString()),t(s())},{enableHighAccuracy:!0,maximumAge:0})})}function s(){return r.bX.setCookie(r.cn.LastLocation,JSON.stringify(c),{maxAge:o}),localStorage.removeItem(i),localStorage.removeItem(u),null}function f(t,e){return`https://chatgpt.com/search/evals/permalink/${t}/${e}`}}}]);
//# sourceMappingURL=6423.daf8380e5408e8e5.js.map