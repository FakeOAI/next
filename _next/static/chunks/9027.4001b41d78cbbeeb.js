"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9027],{89905:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(99333),a=n(47416),i=n(58025),o=n(79746),s=n(19841),l=n(92379),c=n(49764),u=n(75325),d=n(15478),h=n(39358),f=n(16779),p=n(651);function m(e){let{children:t,className:n,language:r,content:i,shouldWrapCode:s}=e,u=(0,l.useCallback)(()=>{(0,o.v)(i)},[i]),d=(0,c.Z)(),{isWithinDataAnalysisToolMessage:f}=(0,l.useContext)(a.c);return(0,p.jsx)(g,{title:r,shouldWrapCode:s,headerDecoration:(0,p.jsxs)("div",{className:"flex items-center",children:[f&&(0,p.jsx)(x,{}),(0,p.jsx)(h.Z,{buttonText:d.formatMessage({id:"zIa6ZQ",defaultMessage:"Copy code"}),onCopy:u})]}),codeClassName:n,children:t})}function x(){let e=(0,i.Gt)(),{data:t=!1}=(0,i.R1)(r.sh.ShowExpandedCodeView),n=(0,c.Z)();return(0,p.jsxs)("div",{className:"mr-2 flex items-center gap-2 border-r border-token-border-medium pr-2",children:[(0,p.jsx)("label",{htmlFor:"ada-always-show",children:(0,p.jsx)(u.Z,{defaultMessage:"Always show details",id:"message.tools.codeInterpreter.alwaysShowAnalysis"})}),(0,p.jsx)(f.Z,{id:"ada-always-show",size:"small",onChange:t=>{e.mutate({setting:r.sh.ShowExpandedCodeView,value:t})},enabled:t,label:t?n.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis on",id:"message.tools.codeInterpreter.alwaysShowAnalysis.enabled"}):n.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis off",id:"message.tools.codeInterpreter.alwaysShowAnalysis.disabled"})})]})}function g(e){let{children:t,title:n,headerDecoration:r,shouldWrapCode:a=!1,className:i,codeContainerClassName:o,codeClassName:s}=e;return(0,p.jsxs)(y,{className:i,children:[(null!=n||null!=r)&&(0,p.jsxs)(b,{children:[n&&(0,p.jsx)("span",{children:n}),r]}),(0,p.jsx)(w,{className:o,children:(0,p.jsx)(j,{$shouldWrap:a,className:s,children:t})})]})}let y=d.Z.div`dark bg-gray-950 contain-inline-size rounded-md border-[0.5px] border-token-border-medium`,b=d.Z.div`flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md`,w=function(e){let{children:t,className:n}=e;return(0,p.jsx)("div",{className:(0,s.default)("overflow-y-auto p-4",n),dir:"ltr",children:t})},j=d.Z.code`${e=>e.$shouldWrap?"!whitespace-pre-wrap":"!whitespace-pre"}`},39358:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(98601),a=n(92379),i=n(47584),o=n(75325),s=n(15478),l=n(15174),c=n(30853),u=n(11433),d=n(651);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let p=(0,i.vU)({copy:{id:"CopyButton.copy",defaultMessage:"Copy"},copied:{id:"CopyButton.copied",defaultMessage:"Copied!"}});function m(e){let{buttonText:t,shouldChangeText:n=!0,iconClassName:r="icon-sm",onCopy:i,className:s}=e,{0:h,1:m}=(0,a.useState)(!1),g=(0,l.Z)(),y=(0,a.useCallback)(e=>{e.stopPropagation(),i(),m(!0),setTimeout(()=>{g()&&m(!1)},2e3)},[g,i]),b=t;return n&&h?b=(0,d.jsx)(o.Z,f({},p.copied)):!0===t&&(b=(0,d.jsx)(o.Z,f({},p.copy))),(0,d.jsxs)(d.Fragment,{children:[!h&&(0,d.jsx)(c.u,{label:(0,d.jsx)(o.Z,{id:"CopyButton.copyTooltip",defaultMessage:"Copy"}),sideOffset:0,children:(0,d.jsxs)(x,{onClick:y,className:s,children:[(0,d.jsx)(u.TIy,{className:r}),b]})}),h&&(0,d.jsxs)(x,{className:s,children:[(0,d.jsx)(u.$As,{className:r}),b]})]})}let x=s.Z.button`flex gap-1 items-center`},51866:function(e,t,n){n.d(t,{B:function(){return h},b:function(){return p}});var r=n(98601),a=n(52088),i=n(51308),o=n(63585),s=n(89905),l=n(651);let c=["node","className","children","inline"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e){let{node:t,className:n,children:r,inline:o}=e,u=(0,a.Z)(e,c);if(o)return(0,l.jsx)("code",d(d({className:n},u),{},{children:r}));{let e=n?.split(" ").filter(e=>e.startsWith("language-"))?.[0],a=e?e.split("-")[1]:"",o=t?(0,i.B)(t):"";return(0,l.jsx)(s.Z,{language:a,className:n,content:o,children:r})}}function f(e){return"element"===e.type}function p(){return function(e){(0,o.Vn)(e,"element",function(e,t,n){f(e)&&"code"===e.tagName&&(n&&f(n)&&"pre"===n.tagName?e.properties.inline=!1:e.properties.inline=!0)})}}},22440:function(e,t,n){n.d(t,{O6:function(){return q},ZP:function(){return v},c7:function(){return k}});var r=n(98601),a=n(52088),i=n(66114),o=n(2721),s=n(92745),l=n(92319),c=n(42420),u=n(84760),d=n(92379),h=n(49764),f=n(75325),p=n(47584),m=n(97537),x=n(30853),g=n(24740),y=n(651);let b=["messageId","clientThreadId","href"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let q="sandbox:";function v(e){let{messageId:t,clientThreadId:n,href:r}=e,f=(0,a.Z)(e,b),p=(0,s.h9)(),w=(0,c.NL)(),{0:v,1:k}=(0,d.useState)(!1),F=r.substring(q.length),T=s.tQ.getServerThreadId(n),V=(0,h.Z)(),C=(0,d.useCallback)(e=>{let t=document.createElement("a");t.href=e,t.click(),k(!1)},[]),D=function(e,t,n,r,a,s){let c=(0,i.VF)();return(0,u.a)({queryKey:S(t,r),queryFn:()=>o.Z.downloadFromInterpreter(t,n,r).then(e=>(e?.status==="success"&&s(e.download_url),e)).catch(e=>{let t=c("default_download_link_error",{fileName:r});throw e instanceof l.vq&&null!=e.code&&(t=c(e.code)),a?.(t),e}),enabled:!!(e&&t&&n&&r)})}(v&&!p,t,T,F,(0,d.useCallback)(e=>{k(!1),g.m.danger(e)},[]),C).data,P=(0,d.useCallback)(async e=>{void 0!==n&&(e.preventDefault(),(void 0===D||D?.status!=="success")&&w.invalidateQueries({queryKey:S(t,F)}),D?.status==="success"&&D?.download_url?C(D.download_url):k(!0))},[n,D,w,t,F,C]);return(0,y.jsx)(x.u,{closeOnOutsideClick:!1,delayDuration:0,label:(0,y.jsxs)("span",{className:"flex items-center gap-1",children:[v?V.formatMessage(O.startingDownload):V.formatMessage(O.downloadFile),v&&(0,y.jsx)(m.Z,{})]}),side:"top",sideOffset:4,children:(0,y.jsx)("a",j(j({},f),{},{className:"cursor-pointer",onClick:e=>!v&&P(e)}))})}function k(e){return(0,y.jsx)(x.u,{closeOnOutsideClick:!1,delayDuration:0,label:(0,y.jsx)("span",{className:"flex items-center gap-1",children:(0,y.jsx)(f.Z,j({},O.downloadUnavailable))}),side:"top",sideOffset:4,children:(0,y.jsx)("span",j(j({},e),{},{className:"font-semibold text-token-text-secondary underline"}))})}function S(e,t){return["downloadSandboxLink",e,t]}let O=(0,p.vU)({downloadFile:{id:"SandboxDownload.downloadFile",defaultMessage:"Download file"},startingDownload:{id:"SandboxDownload.startingDownload",defaultMessage:"Starting download"},downloadUnavailable:{id:"SandboxDownload.downloadUnavailable",defaultMessage:"File download not supported in a shared chat"}})},99027:function(e,t,n){n.d(t,{Yu:function(){return N},Hf:function(){return Z},SQ:function(){return E}});var r=n(26868),a=n(55975),i=n(46050),o=n(29874),s=n(8449),l=n(15472);let c={tokenize:function(e,t,n){let r=this,c=this.events[this.events.length-1],d=c&&c[1].type===l.V.linePrefix?c[2].sliceSerialize(c[1],!0).length:0,h=[];return function(t){return a.q.backslash,e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(r){return r===a.q.backslash||r===a.q.leftSquareBracket&&h[0]===a.q.backslash?(e.consume(r),h.push(r),t):(e.exit("mathFlowFenceSequence"),h.length<2?n(r):(0,i.f)(e,f,l.V.whitespace)(r))}(t)};function f(t){return t===a.q.eof||(0,o.Ch)(t)?p(t):(e.enter("mathFlowFenceMeta"),e.enter(l.V.chunkString,{contentType:s._.contentTypeString}),function t(r){return r===a.q.eof||(0,o.Ch)(r)?(e.exit(l.V.chunkString),e.exit("mathFlowFenceMeta"),p(r)):r===a.q.rightSquareBracket?n(r):(e.consume(r),t)}(t))}function p(n){return e.exit("mathFlowFence"),r.interrupt?t(n):function t(n){return n===a.q.eof?m(n):(0,o.Ch)(n)?e.attempt(u,e.attempt({tokenize:x,partial:!0},m,d?(0,i.f)(e,t,l.V.linePrefix,d+1):t),m)(n):(e.enter("mathFlowValue"),function n(r){return r===a.q.eof||(0,o.Ch)(r)?(e.exit("mathFlowValue"),t(r)):(e.consume(r),n)}(n))}(n)}function m(n){return e.exit("mathFlow"),t(n)}function x(e,t,n){let r=[];return(0,i.f)(e,function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(o){return o===a.q.backslash&&0===r.length||o===a.q.rightSquareBracket&&r[0]===a.q.backslash?(e.consume(o),r.push(o),t):r<h?n(o):(e.exit("mathFlowFenceSequence"),(0,i.f)(e,c,l.V.whitespace)(o))}(t)},l.V.linePrefix,s._.tabSize);function c(r){return r===a.q.eof||(0,o.Ch)(r)?(e.exit("mathFlowFence"),t(r)):n(r)}}},concrete:!0},u={tokenize:function(e,t,n){let r=this;return function(t){return e.enter(l.V.lineEnding),e.consume(t),e.exit(l.V.lineEnding),a};function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},d={tokenize:function(e,t,n){let r=this,c=r.events[r.events.length-1],u=c&&c[1].type===l.V.linePrefix?c[2].sliceSerialize(c[1],!0).length:0,d=0;return function(t){return a.q.dollarSign,e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(r){return r===a.q.dollarSign?(e.consume(r),d++,t):(e.exit("mathFlowFenceSequence"),d<2?n(r):(0,i.f)(e,f,l.V.whitespace)(r))}(t)};function f(t){return t===a.q.eof||(0,o.Ch)(t)?p(t):(e.enter("mathFlowFenceMeta"),e.enter(l.V.chunkString,{contentType:s._.contentTypeString}),function t(r){return r===a.q.eof||(0,o.Ch)(r)?(e.exit(l.V.chunkString),e.exit("mathFlowFenceMeta"),p(r)):r===a.q.dollarSign?n(r):(e.consume(r),t)}(t))}function p(n){return e.exit("mathFlowFence"),r.interrupt?t(n):function t(n){return n===a.q.eof?m(n):(0,o.Ch)(n)?e.attempt(h,e.attempt({tokenize:x,partial:!0},m,u?(0,i.f)(e,t,l.V.linePrefix,u+1):t),m)(n):(e.enter("mathFlowValue"),function n(r){return r===a.q.eof||(0,o.Ch)(r)?(e.exit("mathFlowValue"),t(r)):(e.consume(r),n)}(n))}(n)}function m(n){return e.exit("mathFlow"),t(n)}function x(e,t,n){let r=0;return(0,i.f)(e,function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(o){return o===a.q.dollarSign?(e.consume(o),r++,t):r<d?n(o):(e.exit("mathFlowFenceSequence"),(0,i.f)(e,c,l.V.whitespace)(o))}(t)},l.V.linePrefix,s._.tabSize);function c(r){return r===a.q.eof||(0,o.Ch)(r)?(e.exit("mathFlowFence"),t(r)):n(r)}}},concrete:!0},h={tokenize:function(e,t,n){let r=this;return function(t){return(0,o.Ch)(t),e.enter(l.V.lineEnding),e.consume(t),e.exit(l.V.lineEnding),a};function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0};function f(e){let t,n,r=e.length-4,a=3;if((e[3][1].type===l.V.lineEnding||"space"===e[a][1].type)&&(e[r][1].type===l.V.lineEnding||"space"===e[r][1].type)){for(t=a;++t<r;)if("mathTextData"===e[t][1].type){e[r][1].type="mathTextPadding",e[a][1].type="mathTextPadding",a+=2,r-=2;break}}for(t=a-1,r++;++t<=r;)void 0===n?t!==r&&e[t][1].type!==l.V.lineEnding&&(n=t):(t===r||e[t][1].type===l.V.lineEnding)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e}function p(e){return e!==a.q.backslash||this.events[this.events.length-1][1].type===l.V.characterEscape}function m(e){let t,n,r=e.length-4,a=3;if((e[3][1].type===l.V.lineEnding||"space"===e[a][1].type)&&(e[r][1].type===l.V.lineEnding||"space"===e[r][1].type)){for(t=a;++t<r;)if("mathTextData"===e[t][1].type){e[r][1].type="mathTextPadding",e[a][1].type="mathTextPadding",a+=2,r-=2;break}}for(t=a-1,r++;++t<=r;)void 0===n?t!==r&&e[t][1].type!==l.V.lineEnding&&(n=t):(t===r||e[t][1].type===l.V.lineEnding)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e}function x(e){return e!==a.q.dollarSign||this.events[this.events.length-1][1].type===l.V.characterEscape}function g(e){let t,n,r=e.length-4,a=3;if((e[3][1].type===l.V.lineEnding||"space"===e[a][1].type)&&(e[r][1].type===l.V.lineEnding||"space"===e[r][1].type)){for(t=a;++t<r;)if("mathTextData"===e[t][1].type){e[r][1].type="mathTextPadding",e[a][1].type="mathTextPadding",a+=2,r-=2;break}}for(t=a-1,r++;++t<=r;)void 0===n?t!==r&&e[t][1].type!==l.V.lineEnding&&(n=t):(t===r||e[t][1].type===l.V.lineEnding)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e}function y(e){return e!==a.q.backslash||this.events[this.events.length-1][1].type===l.V.characterEscape}var b=n(52620),w=n(50895),j=n(70229),q=n(91488),v=n(79619),k=n(15758),S=n(33549),O=n(58748),F=n(10295),T=n(51866),V=n(63585),C=n(65994),D=n(84654),P=n(22440);let E=e=>e.startsWith(P.O6)?e:(0,w.n)(e),Z=[O.Z,[function(){let e=this.data();function t(t,n){(e[t]?e[t]:e[t]=[]).push(n)}t("micromarkExtensions",{flow:{[a.q.dollarSign]:d,[a.q.backslash]:c},text:{[a.q.dollarSign]:{tokenize:function(e,t,n){let r,i,s=0;return function(t){return e.enter("mathText"),e.enter("mathTextSequence"),function t(r){return r===a.q.dollarSign?(e.consume(r),s++,t):s<2?n(r):(e.exit("mathTextSequence"),c(r))}(t)};function c(d){return d===a.q.eof?n(d):d===a.q.dollarSign?(i=e.enter("mathTextSequence"),r=0,function n(o){return o===a.q.dollarSign?(e.consume(o),r++,n):r===s?(e.exit("mathTextSequence"),e.exit("mathText"),t(o)):(i.type="mathTextData",u(o))}(d)):d===a.q.space?(e.enter("space"),e.consume(d),e.exit("space"),c):(0,o.Ch)(d)?(e.enter(l.V.lineEnding),e.consume(d),e.exit(l.V.lineEnding),c):(e.enter("mathTextData"),u(d))}function u(t){return t===a.q.eof||t===a.q.space||t===a.q.dollarSign||(0,o.Ch)(t)?(e.exit("mathTextData"),c(t)):(e.consume(t),u)}},resolve:m,previous:x},[a.q.backslash]:[{tokenize:function(e,t,n){let r;let i=[],s=[],c=this;return function(t){return a.q.backslash,p.call(c,c.previous)&&c.previous,e.enter("mathText"),e.enter("mathTextSequence"),function t(r){return(i.join(","),r===a.q.backslash&&0===i.length||r===a.q.leftParenthesis&&1===i.length)?(e.consume(r),i.push(r),t):i.length<2?n(r):(e.exit("mathTextSequence"),u(r))}(t)};function u(c){return c===a.q.eof?n(c):c===a.q.backslash?(r=e.enter("mathTextSequence"),s=[],function n(o){return(i.join(","),o===a.q.backslash&&0===s.length||o===a.q.rightParenthesis&&1===s.length)?(e.consume(o),s.push(o),n):s.length===i.length?(e.exit("mathTextSequence"),e.exit("mathText"),t(o)):(r.type="mathTextData",d(o))}(c)):c===a.q.space?(e.enter("space"),e.consume(c),e.exit("space"),u):(0,o.Ch)(c)?(e.enter(l.V.lineEnding),e.consume(c),e.exit(l.V.lineEnding),u):(e.enter("mathTextData"),d(c))}function d(t){return t===a.q.eof||t===a.q.space||t===a.q.backslash||(0,o.Ch)(t)?(e.exit("mathTextData"),u(t)):(e.consume(t),d)}},resolve:f,previous:p},{tokenize:function(e,t,n){let r;let i=[],s=[],c=this;return function(t){return a.q.backslash,y.call(c,c.previous)&&c.previous,e.enter("mathText"),e.enter("mathTextSequence"),function t(r){return(i.join(","),r===a.q.backslash&&0===i.length||r===a.q.leftSquareBracket&&1===i.length)?(e.consume(r),i.push(r),t):i.length<2?n(r):(e.exit("mathTextSequence"),u(r))}(t)};function u(c){return c===a.q.eof?n(c):c===a.q.backslash?(r=e.enter("mathTextSequence"),s=[],function n(o){return(i.join(","),o===a.q.backslash&&0===s.length||o===a.q.rightSquareBracket&&1===s.length)?(e.consume(o),s.push(o),n):s.length===i.length?(e.exit("mathTextSequence"),e.exit("mathText"),t(o)):(r.type="mathTextData",d(o))}(c)):c===a.q.space?(e.enter("space"),e.consume(c),e.exit("space"),u):(0,o.Ch)(c)?(e.enter(l.V.lineEnding),e.consume(c),e.exit(l.V.lineEnding),u):(e.enter("mathTextData"),d(c))}function d(t){return t===a.q.eof||t===a.q.space||t===a.q.backslash||(0,o.Ch)(t)?(e.exit("mathTextData"),u(t)):(e.consume(t),d)}},resolve:g,previous:y}]}}),t("fromMarkdownExtensions",(0,r.N)()),t("toMarkdownExtensions",(0,r.O)())},{singleDollarTextMath:!1}],S.Z,()=>e=>{(0,V.Vn)(e,e=>{if(!(0,D.j)(e)||e.name!==C.b)return;let t=e.data??(e.data={}),n=e.attributes?.index;if(null==n)return;t.hName=C.b,t.hProperties={index:n};let r="inline";switch(e.type){case"textDirective":r="inline";break;case"leafDirective":r="block";break;case"containerDirective":r="container"}t.hProperties.displayLayout=r})},F.Iz],N=[[q.Z,{languages:{mathematica:b.Z},detect:!0,subset:["arduino","bash","c","cpp","csharp","css","diff","go","graphql","java","javascript","json","kotlin","latex","less","lua","makefile","makefile","markdown","matlab","mathematica","nginx","objectivec","perl","pgsql","php-template","php","plaintext","python-repl","python","r","ruby","rust","scss","shell","sql","swift","typescript","vbnet","wasm","xml","yaml"],ignoreMissing:!0,aliases:{mathematica:"wolfram"}}],v.Z,[k.Z,{newlines:!0}],[j.Z,{target:"_new",rel:"noopener noreferrer"}],T.b]},84654:function(e,t,n){n.d(t,{j:function(){return r}});function r(e){return("containerDirective"===e.type||"textDirective"===e.type||"leafDirective"===e.type)&&"name"in e}},10295:function(e,t,n){n.d(t,{GP:function(){return y},Iz:function(){return b},qD:function(){return j}});var r=n(47313),a=n(84654),i=n(30853),o=n(65994),s=n(62789),l=n(95204),c=n(88600),u=n(18939),d=n.n(u),h=n(92379),f=n(75325),p=n(15478),m=n(63585),x=n(71868),g=n(651);let y="contextList";function b(){return e=>{(0,m.Vn)(e,e=>{(0,a.j)(e)&&e.name===y&&((e.data??(e.data={})).hName=y)})}}let w=p.Z.div`gap-6 border-b pb-4 my-4 context-list text-sm border-token-border-light`;function j(e){let{children:t}=e,n=(0,h.useContext)(r.G),a=Array.isArray(t)?t:d()([t]);if(0===a.length)return null;let[i,...s]=a,l=function(e){if("object"==typeof e&&null!=e&&"props"in e&&e.props.node&&e.props.node.tagName===o.b)return parseInt(e.props.index)}(i);if(null!=l&&null!=n){let e=n?.contentReferences?.[l],t=e?.type==="image_v2",r=e?.type==="optimistic_image_citation";if(t||r)return(0,g.jsxs)(w,{className:"flex w-full",children:[(0,g.jsx)("div",{className:"grow",children:s}),(0,g.jsxs)("div",{className:"mt-2 flex w-24 shrink-0",children:[t&&e.images[0]&&(0,g.jsx)(v,{imageRef:e,turnIndex:n.turnIndex}),r&&(0,g.jsx)(k,{optimisticRef:e})]})]})}return(0,g.jsx)(w,{children:a})}let q=p.Z.button`not-prose flex w-full h-fit	items-center justify-center overflow-hidden shadow-[0px_1px_0px_rgba(0,0,0,0.05)] rounded-lg border-[0.5px] border-token-border-light`;function v(e){let{imageRef:t,turnIndex:n}=e,r=t.images[0],a=r.thumbnail_size.width/r.thumbnail_size.height,i=(0,x.Wz)(r,{width:200,height:Math.max(Math.round(200/a),112)}),{isSuccess:o}=(0,x.Fw)(i);return(0,g.jsx)(q,{onClick:()=>{s.Tn.setCurrentImage({image:r,source:s.zo.Turn,turnIndex:n})},children:(0,g.jsx)(c.E.img,{src:i,className:"w-full object-cover",alt:r.title,initial:{opacity:0},animate:o?{opacity:1}:{},whileHover:{scale:1.03,transition:x._F}})})}function k(e){let{optimisticRef:t}=e;return(0,g.jsx)(q,{children:"done"===t.status?(0,g.jsx)(i.u,{label:(0,g.jsx)(f.Z,{id:"8JYwCi",defaultMessage:"Error fetching image"}),children:(0,g.jsx)(l.Z,{className:"h-24 w-12 text-token-text-tertiary"})}):(0,g.jsx)("div",{className:"h-24 w-full animate-pulse bg-token-main-surface-tertiary"})})}}}]);
//# sourceMappingURL=9027.4001b41d78cbbeeb.js.map