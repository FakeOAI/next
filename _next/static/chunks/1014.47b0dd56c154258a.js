"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1014],{81014:function(e,t,n){n.d(t,{A8:function(){return d},K8:function(){return g},NK:function(){return O},Y5:function(){return q},a2:function(){return y},dN:function(){return f},k4:function(){return _},lw:function(){return p},mH:function(){return h},mO:function(){return l},pV:function(){return m},qE:function(){return w},tF:function(){return j},v5:function(){return k},zq:function(){return b}});var r=n(98601),c=n(16351),o=n(72409),a=n(82363),u=n(23047);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let l=async e=>{let{queryKey:t}=e,[n,r]=t;if(r.length<2)return[];let a=new URLSearchParams({query_fragment:r});return o.c.get("".concat(c.rq,"/suggestions?").concat(a.toString())).then(e=>e.suggestions).catch(()=>[])};async function f(e){let{threadId:t,sessionId:n,query:r,agentSettingsOverrides:u,metadata:i}=e,l=p(u),f=t?"".concat(c.rq,"/threads/").concat(t,"/turns?blocking=false"):"".concat(c.rq,"/turns?nonce=").concat(n);u.emulated_location&&(i=s(s({},i),u.emulated_location));let d=new PerformanceObserver(e=>{let t=e.getEntriesByName(f,"resource");if(t.length){let e=t[0];if(e.connectEnd){let t=e.connectEnd-e.fetchStart;a.U.addAction("sonic.web.home.new_turn_connection_time",{durationMs:t})}d.disconnect()}});return d.observe({type:"resource"}),o.c.post(f,s(s({},l),{},{turn:{user_query:r},user_metadata:i}))}async function d(){return o.c.delete("".concat(c.rq,"/threads"))}function p(e){var t;return{settings_overrides:{search_results:{search_engines:e.use_labrador?{bing:{}}:{bing:{ranking_model:null,rrf_alpha:1,rrf_input_threshold:0},labrador:null}},model_response:{enable_multimodal:e.show_image_to_model,completion_model:e.completion_model?{model:e.completion_model,clip_model:"@mmapi",direct_connection_urls:[]}:{}}},base_config:null!==(t=e.base_config)&&void 0!==t?t:u.l.SCALLION,eval_preset:e.eval_preset}}async function g(e){let{threadId:t,threadUserId:n,routePrefix:r}=e,a=c.rq;r&&(a+=r);let u=new URL("".concat(a,"/threads/").concat(t,"/with_turns"));return n&&u.searchParams.append("thread_user_id",n),await o.c.get(u.toString())}async function _(e){let t=new FormData;return t.append("feedback",JSON.stringify({thread_id:e.threadId,turn_index:e.turnIndex,rating:e.rating,search_query:e.searchQuery,text:e.text,model_instructions:e.modelInstructions,tags:e.tags,user_email:e.userEmail})),e.screenshot&&t.append("file",new File([e.screenshot],"screenshot.jpeg",{type:"image/jpeg"})),o.c.post("".concat(c.rq,"/feedback/turns"),t)}async function h(e,t){return o.c.post("".concat(c.rq,"/threads/").concat(e,"/turns/").concat(t,"/images_try_hard"))}async function m(){return o.c.get("".concat(c.rq,"/feedback/turns"))}async function y(e,t){return o.c.get("".concat(c.rq,"/feedback/turns/").concat(e,"/").concat(t))}async function b(e,t){return o.c.get("".concat(c.rq,"/feedback/links/").concat(e,"/").concat(t))}async function O(e){let t=new FormData;return e.screenshot&&t.append("file",new File([e.screenshot],"screenshot.jpeg",{type:"image/jpeg"})),t.append("feedback",JSON.stringify({thread_id:e.threadId,url:e.url,title:e.title,snippet:e.snippet,rating:e.rating,search_query:e.searchQuery,text:e.text,tags:e.tags,user_email:e.userEmail})),o.c.post("".concat(c.rq,"/feedback/links"),t)}function q(e){let t=p(e.agentSettingsOverrides);o.c.post("".concat(c.rq,"/prefetch"),s(s({},t),{},{turn:{user_query:e.query},user_metadata:e.metadata}))}function w(){return o.c.get("".concat(c.rq,"/healthcheck"))}function k(){return o.c.post("".concat(c.rq,"/waitlist"))}function j(){return o.c.delete("".concat(c.rq,"/waitlist"))}},23047:function(e,t,n){var r;n.d(t,{l:function(){return c}});let c=((r={}).SCALLION="scallion",r.SCALLION_RC="scallion-rc",r)}}]);
//# sourceMappingURL=1014.47b0dd56c154258a.js.map