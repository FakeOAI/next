"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9027],{51866:function(e,t,n){n.d(t,{B:function(){return f},b:function(){return d}});var r=n(98601),i=n(52088),a=n(51308),o=n(63585),l=n(89905),c=n(651);let s=["node","className","children","inline"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){let{node:t,className:n,children:r,inline:o}=e,u=(0,i.Z)(e,s);if(o)return(0,c.jsx)("code",h(h({className:n},u),{},{children:r}));{let e=n?.split(" ").filter(e=>e.startsWith("language-"))?.[0],i=e?e.split("-")[1]:"",o=t?(0,a.B)(t):"";return(0,c.jsx)(l.Z,{language:i,className:n,content:o,children:r})}}function p(e){return"element"===e.type}function d(){return function(e){(0,o.Vn)(e,"element",function(e,t,n){p(e)&&"code"===e.tagName&&(n&&p(n)&&"pre"===n.tagName?e.properties.inline=!1:e.properties.inline=!0)})}}},22440:function(e,t,n){n.d(t,{O6:function(){return k},ZP:function(){return v},c7:function(){return j}});var r=n(98601),i=n(52088),a=n(66114),o=n(2721),l=n(92745),c=n(92319),s=n(42420),u=n(84760),h=n(92379),f=n(49764),p=n(75325),d=n(47584),m=n(97537),g=n(30853),x=n(24740),b=n(651);let y=["messageId","clientThreadId","href"];function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let k="sandbox:";function v(e){let{messageId:t,clientThreadId:n,href:r}=e,p=(0,i.Z)(e,y),d=(0,l.h9)(),q=(0,s.NL)(),{0:v,1:j}=(0,h.useState)(!1),T=r.substring(k.length),V=l.tQ.getServerThreadId(n),O=(0,f.Z)(),D=(0,h.useCallback)(e=>{let t=document.createElement("a");t.href=e,t.click(),j(!1)},[]),E=function(e,t,n,r,i,l){let s=(0,a.VF)();return(0,u.a)({queryKey:S(t,r),queryFn:()=>o.Z.downloadFromInterpreter(t,n,r).then(e=>(e?.status==="success"&&l(e.download_url),e)).catch(e=>{let t=s("default_download_link_error",{fileName:r});throw e instanceof c.vq&&null!=e.code&&(t=s(e.code)),i?.(t),e}),enabled:!!(e&&t&&n&&r)})}(v&&!d,t,V,T,(0,h.useCallback)(e=>{j(!1),x.m.danger(e)},[]),D).data,P=(0,h.useCallback)(async e=>{void 0!==n&&(e.preventDefault(),(void 0===E||E?.status!=="success")&&q.invalidateQueries({queryKey:S(t,T)}),E?.status==="success"&&E?.download_url?D(E.download_url):j(!0))},[n,E,q,t,T,D]);return(0,b.jsx)(g.u,{closeOnOutsideClick:!1,delayDuration:0,label:(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[v?O.formatMessage(F.startingDownload):O.formatMessage(F.downloadFile),v&&(0,b.jsx)(m.Z,{})]}),side:"top",sideOffset:4,children:(0,b.jsx)("a",w(w({},p),{},{className:"cursor-pointer",onClick:e=>!v&&P(e)}))})}function j(e){return(0,b.jsx)(g.u,{closeOnOutsideClick:!1,delayDuration:0,label:(0,b.jsx)("span",{className:"flex items-center gap-1",children:(0,b.jsx)(p.Z,w({},F.downloadUnavailable))}),side:"top",sideOffset:4,children:(0,b.jsx)("span",w(w({},e),{},{className:"font-semibold text-token-text-secondary underline"}))})}function S(e,t){return["downloadSandboxLink",e,t]}let F=(0,d.vU)({downloadFile:{id:"SandboxDownload.downloadFile",defaultMessage:"Download file"},startingDownload:{id:"SandboxDownload.startingDownload",defaultMessage:"Starting download"},downloadUnavailable:{id:"SandboxDownload.downloadUnavailable",defaultMessage:"File download not supported in a shared chat"}})},99027:function(e,t,n){n.d(t,{Yu:function(){return Z},Hf:function(){return N},SQ:function(){return C}});var r=n(26868),i=n(55975),a=n(46050),o=n(29874),l=n(8449),c=n(15472);let s={tokenize:function(e,t,n){let r=this,s=this.events[this.events.length-1],h=s&&s[1].type===c.V.linePrefix?s[2].sliceSerialize(s[1],!0).length:0,f=[];return function(t){return i.q.backslash,e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(r){return r===i.q.backslash||r===i.q.leftSquareBracket&&f[0]===i.q.backslash?(e.consume(r),f.push(r),t):(e.exit("mathFlowFenceSequence"),f.length<2?n(r):(0,a.f)(e,p,c.V.whitespace)(r))}(t)};function p(t){return t===i.q.eof||(0,o.Ch)(t)?d(t):(e.enter("mathFlowFenceMeta"),e.enter(c.V.chunkString,{contentType:l._.contentTypeString}),function t(r){return r===i.q.eof||(0,o.Ch)(r)?(e.exit(c.V.chunkString),e.exit("mathFlowFenceMeta"),d(r)):r===i.q.rightSquareBracket?n(r):(e.consume(r),t)}(t))}function d(n){return e.exit("mathFlowFence"),r.interrupt?t(n):function t(n){return n===i.q.eof?m(n):(0,o.Ch)(n)?e.attempt(u,e.attempt({tokenize:g,partial:!0},m,h?(0,a.f)(e,t,c.V.linePrefix,h+1):t),m)(n):(e.enter("mathFlowValue"),function n(r){return r===i.q.eof||(0,o.Ch)(r)?(e.exit("mathFlowValue"),t(r)):(e.consume(r),n)}(n))}(n)}function m(n){return e.exit("mathFlow"),t(n)}function g(e,t,n){let r=[];return(0,a.f)(e,function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(o){return o===i.q.backslash&&0===r.length||o===i.q.rightSquareBracket&&r[0]===i.q.backslash?(e.consume(o),r.push(o),t):r<f?n(o):(e.exit("mathFlowFenceSequence"),(0,a.f)(e,s,c.V.whitespace)(o))}(t)},c.V.linePrefix,l._.tabSize);function s(r){return r===i.q.eof||(0,o.Ch)(r)?(e.exit("mathFlowFence"),t(r)):n(r)}}},concrete:!0},u={tokenize:function(e,t,n){let r=this;return function(t){return e.enter(c.V.lineEnding),e.consume(t),e.exit(c.V.lineEnding),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},h={tokenize:function(e,t,n){let r=this,s=r.events[r.events.length-1],u=s&&s[1].type===c.V.linePrefix?s[2].sliceSerialize(s[1],!0).length:0,h=0;return function(t){return i.q.dollarSign,e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(r){return r===i.q.dollarSign?(e.consume(r),h++,t):(e.exit("mathFlowFenceSequence"),h<2?n(r):(0,a.f)(e,p,c.V.whitespace)(r))}(t)};function p(t){return t===i.q.eof||(0,o.Ch)(t)?d(t):(e.enter("mathFlowFenceMeta"),e.enter(c.V.chunkString,{contentType:l._.contentTypeString}),function t(r){return r===i.q.eof||(0,o.Ch)(r)?(e.exit(c.V.chunkString),e.exit("mathFlowFenceMeta"),d(r)):r===i.q.dollarSign?n(r):(e.consume(r),t)}(t))}function d(n){return e.exit("mathFlowFence"),r.interrupt?t(n):function t(n){return n===i.q.eof?m(n):(0,o.Ch)(n)?e.attempt(f,e.attempt({tokenize:g,partial:!0},m,u?(0,a.f)(e,t,c.V.linePrefix,u+1):t),m)(n):(e.enter("mathFlowValue"),function n(r){return r===i.q.eof||(0,o.Ch)(r)?(e.exit("mathFlowValue"),t(r)):(e.consume(r),n)}(n))}(n)}function m(n){return e.exit("mathFlow"),t(n)}function g(e,t,n){let r=0;return(0,a.f)(e,function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(o){return o===i.q.dollarSign?(e.consume(o),r++,t):r<h?n(o):(e.exit("mathFlowFenceSequence"),(0,a.f)(e,s,c.V.whitespace)(o))}(t)},c.V.linePrefix,l._.tabSize);function s(r){return r===i.q.eof||(0,o.Ch)(r)?(e.exit("mathFlowFence"),t(r)):n(r)}}},concrete:!0},f={tokenize:function(e,t,n){let r=this;return function(t){return(0,o.Ch)(t),e.enter(c.V.lineEnding),e.consume(t),e.exit(c.V.lineEnding),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0};function p(e){let t,n,r=e.length-4,i=3;if((e[3][1].type===c.V.lineEnding||"space"===e[i][1].type)&&(e[r][1].type===c.V.lineEnding||"space"===e[r][1].type)){for(t=i;++t<r;)if("mathTextData"===e[t][1].type){e[r][1].type="mathTextPadding",e[i][1].type="mathTextPadding",i+=2,r-=2;break}}for(t=i-1,r++;++t<=r;)void 0===n?t!==r&&e[t][1].type!==c.V.lineEnding&&(n=t):(t===r||e[t][1].type===c.V.lineEnding)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e}function d(e){return e!==i.q.backslash||this.events[this.events.length-1][1].type===c.V.characterEscape}function m(e){let t,n,r=e.length-4,i=3;if((e[3][1].type===c.V.lineEnding||"space"===e[i][1].type)&&(e[r][1].type===c.V.lineEnding||"space"===e[r][1].type)){for(t=i;++t<r;)if("mathTextData"===e[t][1].type){e[r][1].type="mathTextPadding",e[i][1].type="mathTextPadding",i+=2,r-=2;break}}for(t=i-1,r++;++t<=r;)void 0===n?t!==r&&e[t][1].type!==c.V.lineEnding&&(n=t):(t===r||e[t][1].type===c.V.lineEnding)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e}function g(e){return e!==i.q.dollarSign||this.events[this.events.length-1][1].type===c.V.characterEscape}function x(e){let t,n,r=e.length-4,i=3;if((e[3][1].type===c.V.lineEnding||"space"===e[i][1].type)&&(e[r][1].type===c.V.lineEnding||"space"===e[r][1].type)){for(t=i;++t<r;)if("mathTextData"===e[t][1].type){e[r][1].type="mathTextPadding",e[i][1].type="mathTextPadding",i+=2,r-=2;break}}for(t=i-1,r++;++t<=r;)void 0===n?t!==r&&e[t][1].type!==c.V.lineEnding&&(n=t):(t===r||e[t][1].type===c.V.lineEnding)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e}function b(e){return e!==i.q.backslash||this.events[this.events.length-1][1].type===c.V.characterEscape}var y=n(52620),q=n(50895),w=n(70229),k=n(91488),v=n(79619),j=n(15758),S=n(33549),F=n(58748),T=n(10295),V=n(51866),O=n(63585),D=n(65994),E=n(84654),P=n(22440);let C=e=>e.startsWith(P.O6)?e:(0,q.n)(e),N=[F.Z,[function(){let e=this.data();function t(t,n){(e[t]?e[t]:e[t]=[]).push(n)}t("micromarkExtensions",{flow:{[i.q.dollarSign]:h,[i.q.backslash]:s},text:{[i.q.dollarSign]:{tokenize:function(e,t,n){let r,a,l=0;return function(t){return e.enter("mathText"),e.enter("mathTextSequence"),function t(r){return r===i.q.dollarSign?(e.consume(r),l++,t):l<2?n(r):(e.exit("mathTextSequence"),s(r))}(t)};function s(h){return h===i.q.eof?n(h):h===i.q.dollarSign?(a=e.enter("mathTextSequence"),r=0,function n(o){return o===i.q.dollarSign?(e.consume(o),r++,n):r===l?(e.exit("mathTextSequence"),e.exit("mathText"),t(o)):(a.type="mathTextData",u(o))}(h)):h===i.q.space?(e.enter("space"),e.consume(h),e.exit("space"),s):(0,o.Ch)(h)?(e.enter(c.V.lineEnding),e.consume(h),e.exit(c.V.lineEnding),s):(e.enter("mathTextData"),u(h))}function u(t){return t===i.q.eof||t===i.q.space||t===i.q.dollarSign||(0,o.Ch)(t)?(e.exit("mathTextData"),s(t)):(e.consume(t),u)}},resolve:m,previous:g},[i.q.backslash]:[{tokenize:function(e,t,n){let r;let a=[],l=[],s=this;return function(t){return i.q.backslash,d.call(s,s.previous)&&s.previous,e.enter("mathText"),e.enter("mathTextSequence"),function t(r){return(a.join(","),r===i.q.backslash&&0===a.length||r===i.q.leftParenthesis&&1===a.length)?(e.consume(r),a.push(r),t):a.length<2?n(r):(e.exit("mathTextSequence"),u(r))}(t)};function u(s){return s===i.q.eof?n(s):s===i.q.backslash?(r=e.enter("mathTextSequence"),l=[],function n(o){return(a.join(","),o===i.q.backslash&&0===l.length||o===i.q.rightParenthesis&&1===l.length)?(e.consume(o),l.push(o),n):l.length===a.length?(e.exit("mathTextSequence"),e.exit("mathText"),t(o)):(r.type="mathTextData",h(o))}(s)):s===i.q.space?(e.enter("space"),e.consume(s),e.exit("space"),u):(0,o.Ch)(s)?(e.enter(c.V.lineEnding),e.consume(s),e.exit(c.V.lineEnding),u):(e.enter("mathTextData"),h(s))}function h(t){return t===i.q.eof||t===i.q.space||t===i.q.backslash||(0,o.Ch)(t)?(e.exit("mathTextData"),u(t)):(e.consume(t),h)}},resolve:p,previous:d},{tokenize:function(e,t,n){let r;let a=[],l=[],s=this;return function(t){return i.q.backslash,b.call(s,s.previous)&&s.previous,e.enter("mathText"),e.enter("mathTextSequence"),function t(r){return(a.join(","),r===i.q.backslash&&0===a.length||r===i.q.leftSquareBracket&&1===a.length)?(e.consume(r),a.push(r),t):a.length<2?n(r):(e.exit("mathTextSequence"),u(r))}(t)};function u(s){return s===i.q.eof?n(s):s===i.q.backslash?(r=e.enter("mathTextSequence"),l=[],function n(o){return(a.join(","),o===i.q.backslash&&0===l.length||o===i.q.rightSquareBracket&&1===l.length)?(e.consume(o),l.push(o),n):l.length===a.length?(e.exit("mathTextSequence"),e.exit("mathText"),t(o)):(r.type="mathTextData",h(o))}(s)):s===i.q.space?(e.enter("space"),e.consume(s),e.exit("space"),u):(0,o.Ch)(s)?(e.enter(c.V.lineEnding),e.consume(s),e.exit(c.V.lineEnding),u):(e.enter("mathTextData"),h(s))}function h(t){return t===i.q.eof||t===i.q.space||t===i.q.backslash||(0,o.Ch)(t)?(e.exit("mathTextData"),u(t)):(e.consume(t),h)}},resolve:x,previous:b}]}}),t("fromMarkdownExtensions",(0,r.N)()),t("toMarkdownExtensions",(0,r.O)())},{singleDollarTextMath:!1}],S.Z,()=>e=>{(0,O.Vn)(e,e=>{if(!(0,E.j)(e)||e.name!==D.b)return;let t=e.data??(e.data={}),n=e.attributes?.index;if(null==n)return;t.hName=D.b,t.hProperties={index:n};let r="inline";switch(e.type){case"textDirective":r="inline";break;case"leafDirective":r="block";break;case"containerDirective":r="container"}t.hProperties.displayLayout=r})},T.Iz],Z=[[k.Z,{languages:{mathematica:y.Z},detect:!0,subset:["arduino","bash","c","cpp","csharp","css","diff","go","graphql","java","javascript","json","kotlin","latex","less","lua","makefile","makefile","markdown","matlab","mathematica","nginx","objectivec","perl","pgsql","php-template","php","plaintext","python-repl","python","r","ruby","rust","scss","shell","sql","swift","typescript","vbnet","wasm","xml","yaml"],ignoreMissing:!0,aliases:{mathematica:"wolfram"}}],v.Z,[j.Z,{newlines:!0}],[w.Z,{target:"_new",rel:"noopener noreferrer"}],V.b]},84654:function(e,t,n){n.d(t,{j:function(){return r}});function r(e){return("containerDirective"===e.type||"textDirective"===e.type||"leafDirective"===e.type)&&"name"in e}},10295:function(e,t,n){n.d(t,{GP:function(){return b},Iz:function(){return y},qD:function(){return w}});var r=n(47313),i=n(84654),a=n(30853),o=n(65994),l=n(62789),c=n(95204),s=n(88600),u=n(18939),h=n.n(u),f=n(92379),p=n(75325),d=n(15478),m=n(63585),g=n(71868),x=n(651);let b="contextList";function y(){return e=>{(0,m.Vn)(e,e=>{(0,i.j)(e)&&e.name===b&&((e.data??(e.data={})).hName=b)})}}let q=d.Z.div`gap-6 border-b pb-4 my-4 context-list text-sm border-token-border-light`;function w(e){let{children:t}=e,n=(0,f.useContext)(r.G),i=Array.isArray(t)?t:h()([t]);if(0===i.length)return null;let[a,...l]=i,c=function(e){if("object"==typeof e&&null!=e&&"props"in e&&e.props.node&&e.props.node.tagName===o.b)return parseInt(e.props.index)}(a);if(null!=c&&null!=n){let e=n?.contentReferences?.[c],t=e?.type==="image_v2",r=e?.type==="optimistic_image_citation";if(t||r)return(0,x.jsxs)(q,{className:"clear-right items-center sm:flex",children:[(0,x.jsxs)("div",{className:"float-right ml-2 flex h-32 w-20 shrink-0 sm:float-none sm:ml-0",children:[t&&(0,x.jsx)(v,{imageRef:e}),r&&(0,x.jsx)(j,{optimisticRef:e})]}),(0,x.jsx)("div",{className:"grow sm:first:*:mt-0",children:l}),(0,x.jsx)("div",{className:"clear-right sm:clear-none"})]})}return(0,x.jsx)(q,{children:i})}let k=d.Z.button`flex w-full items-center justify-center overflow-hidden rounded-lg border-[0.5px] border-token-border-light`;function v(e){let{imageRef:t}=e,n=t.images[0],r=(0,g.Wz)(n,{width:180,height:270}),{isSuccess:i}=(0,g.Fw)(r);return(0,x.jsx)(k,{onClick:()=>{l.Tn.setCurrentImage({image:n,source:l.zo.Turn})},children:(0,x.jsx)(s.E.img,{src:r,className:"h-full w-full object-cover",alt:n.title,initial:{opacity:0},animate:i?{opacity:1}:{},whileHover:{scale:1.03,transition:g._F}})})}function j(e){let{optimisticRef:t}=e;return(0,x.jsx)(k,{children:"done"===t.status?(0,x.jsx)(a.u,{label:(0,x.jsx)(p.Z,{id:"8JYwCi",defaultMessage:"Error fetching image"}),children:(0,x.jsx)(c.Z,{className:"h-12 w-12 text-token-text-tertiary"})}):(0,x.jsx)("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}}}]);
//# sourceMappingURL=9027.9c910461124a983f.js.map