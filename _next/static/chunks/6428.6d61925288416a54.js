"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6428],{26428:function(e,t,r){r.r(t),r.d(t,{DirectorySyncSection:function(){return $}});var n=r(98601),c=r(16779),s=r(78571),a=r(75172),o=r(62984);let i=(0,r(68306).vU)({directorySyncTitle:{id:"DCMJUb",defaultMessage:"Directory Sync via SCIM"},directorySyncInfoText:{id:"ipcg0v",defaultMessage:"Sync this workspace with your identity provider to automatically manage user accounts and invites."},launchDirectorySyncSetupPortalText:{id:"3fyH6/",defaultMessage:"Directory Sync Setup"},launchDirectorySyncManagementPortalText:{id:"OW1q/N",defaultMessage:"Manage Directory Connection"},directorySyncProvider:{id:"mZV7Lm",defaultMessage:"Provider: {provider}"},directorySyncProviderStatus:{id:"qob48x",defaultMessage:"Status: {status}"},directorySyncUserSyncStatus:{id:"Ni8hrN",defaultMessage:"{numUsersSynced} of {numUsersInDirectory} Users"},directorySyncGroupSyncStatus:{id:"r+lgXp",defaultMessage:"{numGroupsSynced} of {numGroupsInDirectory} Groups"},failedDirectorySyncEventsTableHeader:{id:"yQdm/O",defaultMessage:"Failed Directory Sync Events"},directorySyncEventsTableFailureReasonColumnHeader:{id:"Ddmhmk",defaultMessage:"Failure Reason"},retryDirectorySyncEventButton:{id:"3QaOGG",defaultMessage:"Retry"},discardDirectorySyncEventButton:{id:"p0LUwh",defaultMessage:"Discard"},retryAllFailedDirectorySyncEventsButton:{id:"GXtAfJ",defaultMessage:"Retry All"},deleteDirectorySyncConnectionButton:{id:"w5AJ9G",defaultMessage:"Delete Connection"},enableDirectorySyncButton:{id:"DDgQMA",defaultMessage:"Enable Directory Sync"},deleteDirectorySyncConnectionModalHeader:{id:"uXBhGF",defaultMessage:"Delete Directory Connection"},deleteDirectorySyncConnectionModalExplanation:{id:"brV/xh",defaultMessage:"This will remove the link between your identity provider and the users in this workspace. All previously synced users and invitations will be retained, but will no longer update in sync with your external directory."},deleteDirectorySyncConnectionModalConfirmButton:{id:"DhkgE6",defaultMessage:"Delete Directory"},deleteDirectorySyncConnectionModalCancelButton:{id:"iiVvaa",defaultMessage:"Cancel"},directorySyncEventsTableFailureEventTypeColumnHeader:{id:"Wb7Azo",defaultMessage:"Event Type"},directorySyncEventTypeUserCreated:{id:"Ya2xoM",defaultMessage:"Create User"},directorySyncEventTypeUserUpdated:{id:"LNNqq0",defaultMessage:"Update User"},directorySyncEventTypeUserDeleted:{id:"PuSJhL",defaultMessage:"Delete User"},directorySyncEventTypeGroupCreated:{id:"3/Jcxf",defaultMessage:"Create Group"},directorySyncEventTypeGroupUpdated:{id:"SZup72",defaultMessage:"Update Group"},directorySyncEventTypeGroupDeleted:{id:"sJ7m43",defaultMessage:"Delete Group"},directorySyncEventTypeGroupUserAdded:{id:"FtuD7G",defaultMessage:"Add User to Group"},directorySyncEventTypeGroupUserRemoved:{id:"TMFr4V",defaultMessage:"Remove User from Group"},directorySyncEventTypeActivated:{id:"LUym0F",defaultMessage:"Activate Directory"},directorySyncEventTypeDeleted:{id:"lYWP3g",defaultMessage:"Delete Directory"},directorySyncEventsTableActionsColumnHeader:{id:"94YthC",defaultMessage:"Actions"},showEventDirectorySyncEventButton:{id:"5E4whV",defaultMessage:"Show"},sendInviteEmailsLabel:{id:"+FzXTj",defaultMessage:"Send invitation emails."}});var l=r(651);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){let{setEnabled:t,isLoading:r,isEnabled:u}=e,y=(0,a.Z)();return(0,l.jsxs)("div",{className:"flex flex-row content-center items-center justify-items-center",children:[(0,l.jsx)(c.Z,{disabled:r,enabled:u,onChange:t,label:y.formatMessage(i.sendInviteEmailsLabel)}),(0,l.jsx)(s._,{className:"ml-2",children:(0,l.jsx)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},i.sendInviteEmailsLabel))})]})}var y=r(8040),p=r(97537),f=r(88667),v=r(11550),m=r(53128),g=r(92379);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j(e){let{setEnabled:t,isLoading:r,isEnabled:n}=e,c=(0,a.Z)(),{0:s,1:d}=(0,g.useState)(!1),u=()=>{d(!0)},y=e=>{d(!1),e&&t(!1)};return(0,l.jsx)("div",{className:"pt-1.5",children:n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v.z,{disabled:r,color:"danger",onClick:()=>{r||u()},children:(0,l.jsx)(o.Z,S({},i.deleteDirectorySyncConnectionButton))}),(0,l.jsx)(m.Z,{title:c.formatMessage(i.deleteDirectorySyncConnectionModalHeader),description:c.formatMessage(i.deleteDirectorySyncConnectionModalExplanation),confirmText:c.formatMessage(i.deleteDirectorySyncConnectionModalConfirmButton),cancelText:c.formatMessage(i.deleteDirectorySyncConnectionModalCancelButton),isOpen:s,primaryButtonColor:"danger",onClose:()=>y(!1),onConfirm:()=>y(!0)})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(v.z,{disabled:r,color:"primary",onClick:()=>{r||t(!0)},children:(0,l.jsx)(o.Z,S({},i.enableDirectorySyncButton))})})})}var h=r(13490),O=r(24740),D=r(28438),x=r(72409);class E{static async getWorkspaceDirectorySyncSettings(e){return x.c.safeGet("/accounts/{account_id}/scim",{parameters:{path:{account_id:e}}})}static async setWorkspaceDirectorySyncEnabled(e,t){return x.c.safePost("/accounts/{account_id}/scim/set_enabled",{parameters:{path:{account_id:e}},requestBody:{enabled:t}})}static async setWorkspaceDirectorySyncEmailInvitesEnabled(e,t){return x.c.safePost("/accounts/{account_id}/scim/set_email_invites_enabled",{parameters:{path:{account_id:e}},requestBody:{enabled:t}})}static async getWorkspaceDirectorySyncPortalUrl(e){return x.c.safeGet("/accounts/{account_id}/scim/portal_link",{parameters:{path:{account_id:e}}})}static async getWorkspaceDirectorySyncFailedEvents(e){return x.c.safeGet("/accounts/{account_id}/scim/failed_events",{parameters:{path:{account_id:e}}})}static async retryWorkspaceDirectorySyncFailedEvent(e,t){return x.c.safePost("/accounts/{account_id}/scim/failed_events/{event_id}/retry",{parameters:{path:{account_id:e,event_id:t}},requestBody:{}})}static async retryAllWorkspaceDirectorySyncFailedEvents(e){return x.c.safePost("/accounts/{account_id}/scim/failed_events/retry_all",{parameters:{path:{account_id:e}},requestBody:{}})}static async discardWorkspaceDirectorySyncFailedEvent(e,t){return x.c.delete("".concat(D.B,"/accounts/").concat(e,"/scim/failed_events/").concat(t))}static async getWorkspaceDirectorySyncProgressUsers(e){return x.c.safeGet("/accounts/{account_id}/scim/sync_progress_users",{parameters:{path:{account_id:e}}})}static async getWorkspaceDirectorySyncProgressGroups(e){return x.c.safeGet("/accounts/{account_id}/scim/sync_progress_groups",{parameters:{path:{account_id:e}}})}}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _(e){let{isLoading:t,workspaceId:r,isDirectoryConnectionConfigured:n}=e,{0:c,1:s}=(0,g.useState)(!1),a=async()=>{try{s(!0);let e=await E.getWorkspaceDirectorySyncPortalUrl(r);s(!1),null!=e&&e.portal_link?window.open(e.portal_link,"_blank"):O.m.danger("Portal link not found.")}catch(e){e instanceof Error?O.m.danger(e.message):O.m.danger("An unexpected error occurred.")}};return(0,l.jsxs)(v.z,{disabled:t||c,color:"secondary",className:" mt-3",onClick:a,children:[n?(0,l.jsx)(o.Z,P({},i.launchDirectorySyncManagementPortalText)):(0,l.jsx)(o.Z,P({},i.launchDirectorySyncSetupPortalText)),(0,l.jsx)(h.Pfi,{className:"icon-sm ml-1"})]})}var k=r(19841);function M(e){let{percentage:t,height:r=10,className:n,backgroundClassName:c="bg-gray-400",transitionDuration:s,transitionTimingFunction:a,onTransitionEnd:o}=e;return(0,l.jsxs)("div",{className:(0,k.default)("relative w-full",n),style:{height:r},children:[(0,l.jsx)("div",{className:(0,k.default)("absolute left-0 top-0 h-full w-full",c)}),(0,l.jsx)("div",{className:"absolute left-0 top-0 h-full bg-current transition-[width]",style:{width:"".concat(Math.max(Math.min(t,100),0),"%"),transitionDuration:s,transitionTimingFunction:a},onTransitionEnd:o})]})}var C=r(24434),Z=r(36792);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function U(e){switch(e){case"dsync.user.created":return i.directorySyncEventTypeUserCreated;case"dsync.user.updated":return i.directorySyncEventTypeUserUpdated;case"dsync.user.deleted":return i.directorySyncEventTypeUserDeleted;case"dsync.group.created":return i.directorySyncEventTypeGroupCreated;case"dsync.group.updated":return i.directorySyncEventTypeGroupUpdated;case"dsync.group.deleted":return i.directorySyncEventTypeGroupDeleted;case"dsync.group.user_added":return i.directorySyncEventTypeGroupUserAdded;case"dsync.group.user_removed":return i.directorySyncEventTypeGroupUserRemoved;case"dsync.activated":return i.directorySyncEventTypeActivated;case"dsync.deleted":case"dsync.deactivated":return i.directorySyncEventTypeDeleted}}function G(e){let{isLoading:t,failedEvents:r,retryEventWithId:n,retryAllFailedEvents:c,discardFailedEventWithId:s}=e,{0:d,1:u}=(0,g.useState)(!1),{0:p,1:f}=(0,g.useState)(),m=(0,a.Z)();return(0,l.jsxs)(l.Fragment,{children:[p&&(0,l.jsx)(C.Z,{isOpen:d,onClose:u,title:m.formatMessage(U(p.event.event)),description:p.failure_reason,type:"success",showCloseButton:!0,isScrollable:!0,children:(0,l.jsx)("pre",{children:JSON.stringify(p.event,null,2)})}),r.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(y.i$,{className:"flex items-center space-x-4",children:[(0,l.jsx)(o.Z,F({},i.failedDirectorySyncEventsTableHeader)),(0,l.jsx)(v.z,{disabled:t,color:"secondary",size:"small",className:"ml-auto",onClick:()=>{c()},children:(0,l.jsx)(o.Z,F({},i.retryAllFailedDirectorySyncEventsButton))})]}),(0,l.jsxs)(Z.Z.Root,{className:"w-full table-auto",children:[(0,l.jsxs)(Z.Z.Header,{children:[(0,l.jsx)(Z.Z.HeaderCell,{className:"bg-token-main-surface-primary",children:(0,l.jsx)(o.Z,F({},i.directorySyncEventsTableFailureEventTypeColumnHeader))}),(0,l.jsx)(Z.Z.HeaderCell,{className:"bg-token-main-surface-primary",children:(0,l.jsx)(o.Z,F({},i.directorySyncEventsTableFailureReasonColumnHeader))}),(0,l.jsx)(Z.Z.HeaderCell,{className:"bg-token-main-surface-primary",children:(0,l.jsx)(o.Z,F({},i.directorySyncEventsTableActionsColumnHeader))})]}),(0,l.jsx)(Z.Z.Body,{children:r.map((e,r)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)(Z.Z.Cell,{children:(0,l.jsx)(o.Z,F({},U(e.event.event)))}),(0,l.jsx)(Z.Z.Cell,{children:e.failure_reason}),(0,l.jsxs)(Z.Z.Cell,{children:[(0,l.jsx)("div",{children:(0,l.jsx)(v.z,{disabled:t,color:"secondary",size:"small",onClick:()=>{f(e),u(!0)},children:(0,l.jsx)(o.Z,F({},i.showEventDirectorySyncEventButton))})}),(0,l.jsx)("div",{className:"ml-2",children:(0,l.jsx)(v.z,{disabled:t,color:"secondary",size:"small",onClick:()=>{n(e.event.id)},children:(0,l.jsx)(o.Z,F({},i.retryDirectorySyncEventButton))})}),(0,l.jsx)("div",{className:"ml-2",children:s&&(0,l.jsx)(v.z,{disabled:t,color:"secondary",size:"small",onClick:()=>{s(e.event.id)},children:(0,l.jsx)(o.Z,F({},i.discardDirectorySyncEventButton))})})]})]},e.event.id))})]})]})]})}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L(e){let{isLoading:t,numUsersSynced:r,numUsersInDirectory:n,numGroupsSynced:c,numGroupsInDirectory:s,failedEvents:a,retryEventWithId:d,retryAllFailedEvents:u,discardFailedEventWithId:p}=e,{value:v}=(0,f.sB)("4182851027");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(y.Li,{className:"my-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(o.Z,B(B({},i.directorySyncUserSyncStatus),{},{values:{numUsersSynced:r,numUsersInDirectory:n}})),(0,l.jsx)(M,{percentage:r/(n||1)*100})]}),(0,l.jsx)("div",{className:"mt-4",children:v&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"flex items-center space-x-4",children:(0,l.jsx)(o.Z,B(B({},i.directorySyncGroupSyncStatus),{},{values:{numGroupsSynced:c,numGroupsInDirectory:s}}))}),(0,l.jsx)(M,{percentage:c/(s||1)*100})]})})]}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(G,{isLoading:t,failedEvents:a,retryEventWithId:d,retryAllFailedEvents:u,discardFailedEventWithId:p})})]})}var A=r(52088),W=r(84760),q=r(42420),I=r(56032);let H=["data"],z=["data"],R=["data"];function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function J(e,t){let{0:r,1:n}=(0,g.useState)(!1),c=(0,W.a)({queryKey:["workspace/directorySync",e],queryFn:async()=>{if(void 0!==e)return await E.getWorkspaceDirectorySyncSettings(e)},enabled:!!e,refetchInterval:!!t&&!!r&&2e3}),{data:s}=c,a=(0,A.Z)(c,H);return(0,g.useEffect)(()=>{null!=s&&s.enabled&&(null==s?void 0:s.directory_connection)==null?n(!0):n(!1)},[s]),Q({data:s},a)}function V(e,t){let{0:r,1:n}=(0,g.useState)(!1),{data:c}=J(e,t),s=(0,W.a)({queryKey:["workspace/directorySyncStatus/progressUsers","workspace/directorySync",e],queryFn:async()=>{if(void 0!==e)return await E.getWorkspaceDirectorySyncProgressUsers(e)},enabled:!!e&&!!(null!=c&&c.directory_connection),refetchInterval:!!t&&!!r&&2e3}),{data:a}=s,o=(0,A.Z)(s,z);return(0,g.useEffect)(()=>{(null==a?void 0:a.synced_scim_users)===0||(null==a?void 0:a.synced_scim_users)!==(null==a?void 0:a.total_scim_users)?n(!0):n(!1)},[a,null==c?void 0:c.directory_connection]),Q({isLoadingUsers:r,data:a},o)}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $(e){var t,r,n,c,s,a;let{workspaceId:d}=e,{value:v}=(0,f.sB)("4182851027"),{value:m}=(0,f.sB)("2494375100"),{data:b,isLoading:S}=J(d,!0),{data:h,isLoading:O}=V(d,!0),{data:D,isLoading:x}=function(e,t){let{0:r,1:n}=(0,g.useState)(!1),{data:c}=J(e,t),s=(0,W.a)({queryKey:["workspace/directorySyncStatus/progressGroups","workspace/directorySync",e],queryFn:async()=>{if(void 0!==e)return await E.getWorkspaceDirectorySyncProgressGroups(e)},enabled:!!e&&!!(null!=c&&c.directory_connection),refetchInterval:!!t&&!!r&&2e3}),{data:a}=s,o=(0,A.Z)(s,R);return(0,g.useEffect)(()=>{(null==a?void 0:a.synced_scim_groups)===0||(null==a?void 0:a.synced_scim_groups)!==(null==a?void 0:a.total_scim_groups)?n(!0):n(!1)},[a,null==c?void 0:c.directory_connection]),Q({isLoadingGroups:r,data:a},o)}(d,v),{data:w,isLoading:P}=function(e,t){let{isLoadingUsers:r}=V(e,t);return(0,W.a)({queryKey:["workspace/directorySyncStatus/failedEvents","workspace/directorySync",e],queryFn:async()=>{if(void 0!==e)return await E.getWorkspaceDirectorySyncFailedEvents(e)},enabled:!!e,refetchInterval:!!t&&!!r&&2e3})}(d,!0),{mutateAsync:k,status:M}=function(e){let t=(0,q.NL)();return(0,I.D)({mutationFn:t=>E.setWorkspaceDirectorySyncEnabled(e,t),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/directorySync",e]})}})}(d),{mutateAsync:C,status:Z}=function(e){let t=(0,q.NL)();return(0,I.D)({mutationFn:t=>E.retryWorkspaceDirectorySyncFailedEvent(e,t),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/directorySyncStatus/failedEvents","workspace/directorySyncStatus/progressUsers","workspace/directorySyncStatus/progressGroups"]})}})}(d),{mutateAsync:T,status:F}=function(e){let t=(0,q.NL)();return(0,I.D)({mutationFn:()=>E.retryAllWorkspaceDirectorySyncFailedEvents(e),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/directorySyncStatus/failedEvents","workspace/directorySyncStatus/progressUsers","workspace/directorySyncStatus/progressGroups"]})}})}(d),{mutateAsync:U,status:G}=function(e){let t=(0,q.NL)();return(0,I.D)({mutationFn:t=>E.discardWorkspaceDirectorySyncFailedEvent(e,t),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/directorySyncStatus/failedEvents"]})}})}(d),{mutateAsync:N,status:B}=function(e){let t=(0,q.NL)();return(0,I.D)({mutationFn:t=>E.setWorkspaceDirectorySyncEmailInvitesEnabled(e,t),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/directorySync",e]})}})}(d),H="pending"===M||"pending"===Z||"pending"===F||"pending"===G||"pending"==B||S||O||x||P;return(0,l.jsxs)(y.i9,{className:"".concat(H?"text-token-text-secondary":""),children:[(0,l.jsx)(y.A4,{children:(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsx)("div",{children:(0,l.jsx)(o.Z,Y({},i.directorySyncTitle))}),(0,l.jsx)("div",{className:"ml-2 mt-1",children:H&&(0,l.jsx)(p.Z,{})})]})}),(0,l.jsx)(y.Li,{children:(0,l.jsx)(o.Z,Y({},i.directorySyncInfoText))}),(null==b?void 0:b.directory_connection)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsx)(L,{isLoading:H,numUsersSynced:null!==(t=null==h?void 0:h.synced_scim_users)&&void 0!==t?t:0,numUsersInDirectory:null!==(r=null==h?void 0:h.total_scim_users)&&void 0!==r?r:0,numGroupsSynced:null!==(n=null==D?void 0:D.synced_scim_groups)&&void 0!==n?n:0,numGroupsInDirectory:null!==(c=null==D?void 0:D.total_scim_groups)&&void 0!==c?c:0,failedEvents:null!=w?w:[],retryEventWithId:C,retryAllFailedEvents:T,discardFailedEventWithId:U})}),m&&(0,l.jsx)("div",{children:(0,l.jsx)(u,{setEnabled:N,isLoading:H,isEnabled:null!==(s=null==b?void 0:b.send_user_invite_emails)&&void 0!==s&&s})})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)(j,{setEnabled:k,isLoading:H,isEnabled:null===(a=null==b?void 0:b.enabled)||void 0===a||a}),(null==b?void 0:b.enabled)&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(_,{isLoading:H,workspaceId:d,isDirectoryConnectionConfigured:!!(null!=b&&b.directory_connection)})})]})]})}},53128:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(75172),c=r(68306),s=r(59144),a=r(24434),o=r(651);function i(e){let{title:t,description:r,confirmText:c,cancelText:i,isOpen:d=!1,onClose:u,onConfirm:y,primaryButtonColor:p="primary",children:f}=e,v=(0,n.Z)();return(0,o.jsx)(a.Z,{isOpen:d,onClose:u,type:"success",title:t,description:r,primaryButton:(0,o.jsx)(s.Z.Button,{title:null!=c?c:v.formatMessage(l.confirmLabel),color:p,onClick:y}),secondaryButton:(0,o.jsx)(s.Z.Button,{title:null!=i?i:v.formatMessage(l.cancelLabel),color:"secondary",onClick:u}),children:f})}let l=(0,c.vU)({confirmLabel:{id:"ConfirmModal.confirmLabel",defaultMessage:"Confirm"},cancelLabel:{id:"ConfirmModal.cancelLabel",defaultMessage:"Cancel"}})},78571:function(e,t,r){r.d(t,{_:function(){return a}});var n=r(37088),c=r(92379),s=r(52125);let a=(0,c.forwardRef)((e,t)=>(0,c.createElement)(s.WV.label,(0,n.Z)({},e,{ref:t,onMouseDown:t=>{var r;null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}})))}}]);
//# sourceMappingURL=6428.6d61925288416a54.js.map