"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[601,8284],{66802:function(e,t,a){var s;a.d(t,{w:function(){return r}});let r=((s={}).Personal="chat",s.Workspace="workspace",s.Team="team",s)},96786:function(e,t,a){a.d(t,{Z:function(){return S}});var s,r=a(94521),n=a(8649),o=a(93223),l=a(4702),i=a(24040),c=a(45779),d=a(19841),u=a(61888),m=a(43128),f=a(92379),g=a(72256),x=a(26123),p=a(25940),h=a(27084),M=a(84281),y=a(55257),j=a(33481),b=a(49217),v=a(41870),w=a(73570),k=a(651);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach(function(t){(0,r.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let T=e=>{let{value:t,isSelected:a,onSelect:s}=e;return(0,k.jsxs)("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-none lg:text-left",onClick:()=>s(t),children:[(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:"transfer"===t?(0,k.jsx)(y.EW,{}):(0,k.jsx)(y.C5,{})}),(0,k.jsxs)("div",{className:"flex flex-col text-left",children:[(0,k.jsx)("div",{className:"font-semibold",children:"transfer"===t?(0,k.jsx)(g.Z,P({},A.teamAccountTransferModalTransferLabel)):(0,k.jsx)(g.Z,P({},A.teamAccountTransferModalCreateLabel))}),(0,k.jsx)("div",{className:"flex-wrap text-sm text-token-text-secondary",children:"transfer"===t?(0,k.jsx)(g.Z,P({},A.teamAccountTransferModalTransferDetail)):(0,k.jsx)(g.Z,P({},A.teamAccountTransferModalCreateDetail))})]})]}),(0,k.jsx)("div",{className:(0,d.default)("flex h-4 w-4 flex-shrink-0 items-center justify-center rounded-full border",{"bg-black":a}),children:a&&(0,k.jsx)(j.$As,{className:"h-3 w-3 scale-x-75 stroke-[4] text-white"})})]})},N=e=>{let{setCurrentStep:t,setHasSeenOnboarding:a}=e,{0:s,1:r}=(0,f.useState)(""),o=(0,x.Z)();return(0,k.jsx)(b.Z,{isOpen:!0,onClose:u.noop,type:"warning",title:o.formatMessage(A.teamAccountTransferModalTitle),primaryButton:(0,k.jsx)(n.mH,{title:o.formatMessage(A.teamAccountTransferModalConfirm),onClick:()=>{"transfer"===s?t(Z.TransferModal):"create"===s&&a&&a()},color:"primary",className:"ml-4"}),children:(0,k.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,k.jsx)("div",{className:"text-md mb-2 text-token-text-primary",children:(0,k.jsx)(g.Z,P({},A.teamAccountTransferModalExplanation))}),(0,k.jsx)(T,{value:"transfer",isSelected:"transfer"===s,onSelect:r}),(0,k.jsx)(M.b,{}),(0,k.jsx)(T,{value:"create",isSelected:"create"===s,onSelect:r})]})})},C=e=>{let{currentWorkspace:t,setCurrentStep:a,fromSettings:s,setHasSeenOnboarding:r,onClose:l=u.noop}=e,d=(0,x.Z)(),f=(0,i.aF)(),p=(0,m.useRouter)(),M=null==f?void 0:f.name;return(0,k.jsx)(b.Z,{isOpen:!0,onClose:r?u.noop:l,type:"success",title:d.formatMessage(A.selectedModalTitle),primaryButton:(0,k.jsx)(n.mH,{title:s?d.formatMessage(A.mergeModalConfirm):d.formatMessage(A.teamTransferModalConfirm),color:"primary",onClick:async()=>{let e=await o.Z.transferAccount(t.id);if(r&&r(),e.success)(0,c.M)();else{let e=(0,w.M5)(w.LT.ACCOUNT_TRANSFER_ERROR,"/",void 0);p.push(e)}}}),secondaryButton:(0,k.jsx)(n.mH,{title:d.formatMessage(A.selectedModalBack),color:"secondary",onClick:s?l:async()=>{a(Z.InitialModal)}}),children:(0,k.jsxs)("div",{className:"flex flex-col justify-center gap-4",children:[(0,k.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,k.jsx)(h.Yt,{user:f,size:"large",roundedStyle:"rounded-full"}),(0,k.jsxs)("div",{className:"pt-2",children:[(0,k.jsx)("div",{className:"font-semibold",children:M}),(0,k.jsx)("div",{className:"mb-2 text-sm text-token-text-secondary",children:(0,k.jsx)(g.Z,P({},A.tansferModalPersonalAccount))})]})]}),(0,k.jsx)("div",{className:"-mb-2 -mt-3 flex justify-start pl-3",children:(0,k.jsx)(j.veu,{className:"icon-sm"})}),(0,k.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,k.jsx)(h.B0,{src:t.profilePictureUrl,size:"large"}),(0,k.jsx)("div",{className:"font-semibold",children:t.name})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{className:"mb-2 text-base font-semibold",children:(0,k.jsx)(g.Z,P({},A.teamTransferModalConfirmTitle))}),(0,k.jsxs)("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary ",children:[(0,k.jsx)("li",{className:"mb-2",children:(0,k.jsx)(g.Z,P({},A.teamTransferModalMigrateData))}),(0,k.jsx)("li",{className:"mb-2",children:(0,k.jsx)(g.Z,P({},A.teamTransferModalDeleteData))}),(0,k.jsx)("li",{children:(0,k.jsx)(g.Z,P({},A.teamTransferModalCancelPlus))})]})]}),(0,k.jsx)("div",{className:"mx-auto mb-2 flex max-w-5xl items-center rounded-md border border-token-border-medium bg-token-main-surface-secondary px-2 py-2 md:px-2 lg:px-4 lg:py-3",children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)(y.FE,{className:"flex-shrink-0 text-red-500"}),(0,k.jsx)("p",{className:"ml-4 text-sm",children:(0,k.jsx)(g.Z,P(P({},A.teamTransferModalWarning),{},{values:{link:e=>(0,k.jsx)("a",{href:"https://help.openai.com/en/articles/8801890 ",target:"_blank",className:"underline",rel:"noreferrer",children:e})}}))})]})})]})})};var Z=((s=Z||{})[s.InitialModal=0]="InitialModal",s[s.TransferModal=1]="TransferModal",s);function S(e){var t;let{onClose:a=u.noop,fromSettings:s=!1}=e,{0:r,1:n}=(0,f.useState)(s?Z.TransferModal:Z.InitialModal),o=null===(t=(0,l.t)())||void 0===t?void 0:t.data,{setHasSeenTeamOwnerOnboarding:i}=(0,v.Yc)(),c=s?void 0:i;switch(r){case Z.InitialModal:return(0,k.jsx)(N,{setCurrentStep:n,setHasSeenOnboarding:c});case Z.TransferModal:return(0,k.jsx)(C,{setCurrentStep:n,currentWorkspace:o,onClose:a,fromSettings:s,setHasSeenOnboarding:c})}}let A=(0,p.vU)({teamAccountTransferModalTitle:{id:"teamAccountTransferModal.title",defaultMessage:"Your ChatGPT Team workspace is ready"},teamAccountTransferModalExplanation:{id:"teamAccountTransferModal.explanation",defaultMessage:"Do you want to transfer your chat history and GPTs to the Team workspace?"},teamAccountTransferModalConfirm:{id:"teamAccountTransferModal.confirm",defaultMessage:"Continue"},teamAccountTransferModalTransferLabel:{id:"teamAccountTransferModal.transferLabel",defaultMessage:"Transfer chat history and GPTs"},teamAccountTransferModalTransferDetail:{id:"teamAccountTransferModal.transferDetail",defaultMessage:"Carry over existing data from your personal workspace"},teamAccountTransferModalCreateLabel:{id:"teamAccountTransferModal.createLabel",defaultMessage:"Start as empty workspace"},teamAccountTransferModalCreateDetail:{id:"teamAccountTransferModal.createDetail",defaultMessage:"Keep your personal workspace separate. If you’re on Plus, you will maintain your subscription until you cancel"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},tansferModalPersonalAccount:{id:"teamTransferModal.personalAccount",defaultMessage:"Personal workspace"},teamTransferModalConfirmTitle:{id:"teamTransferModal.confirmTitle",defaultMessage:"Transfer of existing data is permanent and can't be undone."},teamTransferModalMigrateData:{id:"teamTransferModal.migrateData",defaultMessage:"Your chat history and GPTs in your personal workspace will be migrated to the Team workspace."},teamTransferModalDeleteData:{id:"teamTransferModal.deleteData",defaultMessage:"Your Plugins and custom instructions in your personal workspace will be deleted."},teamTransferModalCancelPlus:{id:"teamTransferModal.cancelPlus",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon merging."},teamTransferModalWarning:{id:"teamTransferModal.warning",defaultMessage:"You will lose access to your data if you leave or are removed from the Team workspace, or if the workspace is deactivated. <link>Learn more</link>"},teamTransferModalConfirm:{id:"teamTransferModal.confirm",defaultMessage:"Confirm transfer"},mergeModalConfirm:{id:"mergerModal.confirm",defaultMessage:"Confirm merge"}})},47392:function(e,t,a){a.d(t,{a:function(){return x},g:function(){return g}});var s=a(21904),r=a(94631),n=a(2377),o=a(93223),l=a(4702),i=a(14816),c=a(44529),d=a(18939),u=a.n(d),m=a(92379);let f=new Map;function g(){let{gdriveLinkStatus:e,o365LinkStatus:t}=(0,r.r)();return p(e,t)}function x(){let{gdriveStatus:e,o365Status:t}=(0,r.r)();return p(e,t)}function p(e,t){var a,r,o;let c=(0,l.t)(),d=null==c?void 0:c.getWorkspaceId(),{connectors:g,isLoading:x}=function(){let{0:e,1:t}=(0,m.useState)(f),{isSuccess:a,data:s,isLoading:r}=(0,i.a)({queryKey:["fetchConnectorData"],queryFn:h,refetchInterval:18e5});return(0,m.useEffect)(()=>{a&&t(new Map(s.map(e=>[e.type,e])))},[a,s]),{connectors:e,isLoading:r}}(),{data:p,isLoading:M}=(0,n.C)(d),y=!d||(null==p||null===(a=p.beta_settings)||void 0===a?void 0:a.context_connector_gdrive),j=!d||(null==p||null===(r=p.beta_settings)||void 0===r?void 0:r.context_connector_o365_personal),b=!d||(null==p||null===(o=p.beta_settings)||void 0===o?void 0:o.context_connector_o365_business),v=g.get(s.PO.GDRIVE),w=g.get(s.PO.O365_PERSONAL),k=g.get(s.PO.O365_BUSINESS),O=(e,t)=>"true"===e||"ifConnected"===e&&t;return{connectorConfig:(0,m.useMemo)(()=>{var a;let r=O(e,!!(null!=v&&v.access_token)),n=O(t,!!(null!==(a=null==w?void 0:w.access_token)&&void 0!==a?a:null==k?void 0:k.access_token)),o=[r&&v&&y?[s.PO.GDRIVE,v]:null,n&&w&&j?[s.PO.O365_PERSONAL,w]:null,n&&k&&b?[s.PO.O365_BUSINESS,k]:null];return new Map(u()(o))},[v,w,k,e,t,y,j,b]),isLoading:x||M}}async function h(e){let{queryKey:t}=e,[a]=t,r=null;try{r=await o.Z.checkConnectorAPI([s.PO.GDRIVE,s.PO.O365_PERSONAL,s.PO.O365_BUSINESS])}catch(e){c.U.addError(Error("Error while retrieving context connector entry",{cause:e}))}return r?r.connectors.filter(M).map(e=>{if(!e.access_token)return e;if(e.type===s.PO.O365_PERSONAL)e.onedrive_endpoint_hint={type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"};else if(e.type===s.PO.O365_BUSINESS){var t;let a=null===(t=e.onedrive_business_metadata)||void 0===t?void 0:t.base_url;if(a){let t=new URL(a);e.onedrive_endpoint_hint={type:"business",baseUrl:a,parsedUrl:"https://".concat(t.hostname,"/_layouts/15/FilePicker.aspx")}}}return e}):[]}function M(e){return e.type===s.PO.GDRIVE||e.type===s.PO.O365_PERSONAL||e.type===s.PO.O365_BUSINESS}},94631:function(e,t,a){a.d(t,{r:function(){return o}});var s=a(24040),r=a(48580),n=a(92379);function o(){let e=(0,s.aF)(),t=(0,r.xb)("chatgpt-context-connector-enabled-types").config,a=t.get("gdrivePicker",!1),o=t.get("o365Picker",!1),i=t.get("gdriveLink",!1),c=t.get("o365Link",!1),d=t.get("gdrivePercentage",0),u=t.get("o365Percentage",0),m=t.get("loadTestPercentage",0),f=t.get("showWorkspaceSettings",!1),g=e?Math.abs(function(e){let t=0;for(let a=0;a<e.length;a++)t=(t<<5)-t+e.charCodeAt(a)|0;return t}(e.id)%100):null;return(0,n.useMemo)(()=>({gdriveStatus:l(a,g,d),o365Status:l(o,g,u),gdriveLinkStatus:l(i,g,d),o365LinkStatus:l(c,g,u),loadTest:"true"===l(!0,g,m),showWorkspaceSettings:f}),[g,d,a,i,o,c,u,m,f])}function l(e,t,a){return e&&null!=t?t<a?"true":"ifConnected":"false"}},41870:function(e,t,a){a.d(t,{PV:function(){return h},Yc:function(){return M},ZP:function(){return y}});var s=a(94521),r=a(66802),n=a(54591),o=a(92379),l=a(26123),i=a(72256),c=a(25940),d=a(55257),u=a(8649),m=a(33481),f=a(651);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach(function(t){(0,s.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let p=n.pm.Onboarding,h=()=>{let{eligible:e,markAsViewed:t,isLoading:a}=(0,n.qg)(p);return{setHasSeenOnboarding:t,hasSeenOnboardingDate:a?null:!e}},M=()=>{let{eligible:e,markAsViewed:t,isLoading:a}=(0,n.qg)(n.pm.TeamOwnerOnboarding);return{setHasSeenTeamOwnerOnboarding:t,hasSeenTeamOwnerOnboardingDate:a?null:!e}};function y(e){let{onClose:t,scope:a}=e,{setHasSeenOnboarding:s}=h(),n=(0,o.useCallback)(()=>{t(!0),s()},[t,s]);return a===r.w.Personal?(0,f.jsx)(b,{onSubmit:n}):(0,f.jsx)(v,{onSubmit:()=>{t(!0)}})}let j=e=>{let{icon:t,title:a,body:s}=e;return(0,f.jsxs)("div",{className:"flex flex-col gap-2 md:w-1/3",children:[(0,f.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,f.jsx)("div",{children:t}),(0,f.jsx)("div",{className:"font-semibold text-token-text-primary",children:a})]}),(0,f.jsx)("div",{className:"text-sm text-token-text-secondary",children:s})]})},b=e=>{let{onSubmit:t}=e,a=(0,l.Z)();return(0,f.jsxs)("div",{className:"flex flex-col gap-3 p-4 md:p-6",children:[(0,f.jsxs)("div",{className:"flex flex-col gap-6 md:flex-row",children:[(0,f.jsx)(j,{icon:(0,f.jsx)(m.kBi,{isSolid:!0,className:"icon-md text-green-600"}),title:(0,f.jsx)(i.Z,x({},w.askAway)),body:(0,f.jsx)(i.Z,x({},w.askAwayBody))}),(0,f.jsx)(j,{icon:(0,f.jsx)(d.NJ,{className:"icon-md text-brand-purple"}),title:(0,f.jsx)(i.Z,x({},w.warning)),body:(0,f.jsx)(i.Z,x(x({},w.warningBody),{},{values:{article:e=>(0,f.jsx)("a",{href:"https://help.openai.com/en/articles/7039943-data-usage-for-consumer-services-faq",target:"_blank",className:"underline",rel:"noopener noreferrer",children:e})}}))}),(0,f.jsx)(j,{icon:(0,f.jsx)(d.FE,{className:"icon-md text-orange-300"}),title:(0,f.jsx)(i.Z,x({},w.accuracy)),body:(0,f.jsx)(i.Z,x({},w.accuracyBody))})]}),(0,f.jsx)("div",{className:"flex flex-row justify-end",children:(0,f.jsx)(u.mH,{title:a.formatMessage(w.gettingStartedButton),onClick:t,color:"primary","data-testid":"getting-started-button"})})]})},v=e=>{let{onSubmit:t}=e,a=(0,l.Z)();return(0,f.jsxs)("div",{className:"flex flex-col gap-6 p-4 md:p-6",children:[(0,f.jsxs)("div",{className:"flex flex-col gap-6 md:flex-row",children:[(0,f.jsx)(j,{icon:(0,f.jsx)(m.oVl,{className:"icon-md text-brand-purple"}),title:(0,f.jsx)(i.Z,x({},w.workUse)),body:(0,f.jsx)(i.Z,x({},w.workUseBody))}),(0,f.jsx)(j,{icon:(0,f.jsx)(m.kBi,{className:"icon-md text-green-600"}),title:(0,f.jsx)(i.Z,x({},w.askAway)),body:(0,f.jsx)(i.Z,x({},w.askAwayBody))}),(0,f.jsx)(j,{icon:(0,f.jsx)(d.FE,{className:"icon-md text-orange-300"}),title:(0,f.jsx)(i.Z,x({},w.accuracy)),body:(0,f.jsx)(i.Z,x({},w.accuracyBody))})]}),(0,f.jsx)("div",{className:"flex flex-row justify-end",children:(0,f.jsx)(u.mH,{title:a.formatMessage(w.gettingStartedButton),onClick:t,color:"primary"})})]})},w=(0,c.vU)({askAway:{id:"onboarding.askAway",defaultMessage:"Ask away"},askAwayBody:{id:"onboarding.askAwayBody",defaultMessage:"ChatGPT can answer questions, help you learn, write code, brainstorm together, and much more."},warning:{id:"onboarding.warning",defaultMessage:"Don’t share sensitive info"},warningBody:{id:"onboarding.warningBody",defaultMessage:"Chat history may be reviewed or used to improve our services. Learn more about your choices in our <article>Help Center</article>."},accuracy:{id:"onboarding.accuracy",defaultMessage:"Check your facts"},accuracyBody:{id:"onboarding.accuracyBody",defaultMessage:"While we have safeguards, ChatGPT may give you inaccurate information. It’s not intended to give advice."},gettingStartedButton:{id:"onboarding.gettingStartedButton",defaultMessage:"Okay, let’s go"},workspaceWelcome:{id:"onboarding.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} Workspace"},workspaceWelcomeNoName:{id:"onboarding.workspaceWelcomeNoName",defaultMessage:"Welcome to the your Workspace"},workspaceWelcomeBody:{id:"onboarding.workspaceWelcomeBody",defaultMessage:"Here you can use our latest models, with more capabilities, and fewer limits."},workUse:{id:"onboarding.workUse",defaultMessage:"Made for use at work"},workUseBody:{id:"onboarding.workUseBody",defaultMessage:"By default, chats in this workspace are not used to train our AI models."}})},16020:function(e,t,a){a.d(t,{Z:function(){return A}});var s,r=a(41141),n=a(21904),o=a(43852),l=a(93223),i=a(24040),c=a(35226),d=a(96053),u=a(14816),m=a(61888),f=a(92379),g=a(26123),x=a(72256),p=a(74091),h=a(5443),M=a(67165),y=a(69482),j=a(62484),b=a(33481),v=a(22763),w=a(49217),k=a(83252),O=a(94982),P=a(96943),T=a(651);function N(e){return["memories",e]}function C(e){let{gizmoId:t,memory:a}=e,s=(0,g.Z)(),r=(0,c.NL)(),{mutate:n,isPending:o}=(0,d.D)({mutationFn:e=>l.Z.deleteMemory(e,t),onSettled:()=>{r.invalidateQueries({queryKey:N(t)})},onError:()=>{O.m.danger(s.formatMessage({id:"MemoriesModal.deleteFailed",defaultMessage:"Deleting failed"}),{id:"memoryDeleteFailed"})}}),{0:i,1:u}=(0,f.useState)(!1),p=s.formatMessage({id:"MemoriesModal.deleteMemory.1",defaultMessage:"Forget memory"});return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(y.Z.Row,{disabled:o,children:[(0,T.jsx)(y.Z.Cell,{children:(0,T.jsx)("div",{className:"whitespace-pre-wrap py-2",children:a.content})}),(0,T.jsx)(y.Z.Cell,{textAlign:"right",children:(0,T.jsx)(y.Z.Actions,{children:(0,T.jsx)(j.u,{className:"leading-none",label:p,sideOffset:4,side:"top",children:(0,T.jsx)("button",{onClick:()=>u(!0),"aria-label":p,className:"text-token-text-tertiary hover:text-token-text-secondary",children:(0,T.jsx)(b.XHJ,{className:"icon-sm"})})})})})]}),i&&(0,T.jsx)(v.Z,{isOpen:!0,primaryButtonColor:"danger",title:p,confirmText:s.formatMessage({id:"MemoriesModal.delete",defaultMessage:"Delete"}),onConfirm:()=>{n(a.id),u(!1)},onClose:()=>{u(!1)},children:(0,T.jsx)(x.Z,{id:"MemoriesModal.deleteMemoryDescription",defaultMessage:"This will delete the memory: {title}",values:{title:(0,T.jsx)("strong",{children:(0,m.truncate)(a.content,{length:130,omission:"..."})})}})})]})}function Z(e){let{selectedGizmoId:t,onSelect:a,items:s}=e,r=s.find(e=>e.id===t);function n(e){var t;return(0,T.jsx)(k.Z,{isFirstParty:void 0===e.id,src:null!==(t=e.iconUrl)&&void 0!==t?t:null,className:"icon-md"})}return(0,T.jsx)("div",{className:"mb-2 inline-flex rounded-md border border-token-border-medium",children:(0,T.jsxs)(M.Z.Root,{children:[(0,T.jsx)(M.Z.Trigger,{children:(0,T.jsxs)("div",{className:"flex items-center gap-2",children:[r?(0,T.jsxs)(T.Fragment,{children:[n(r),(0,T.jsx)("span",{className:"text-token-text-primary",children:null==r?void 0:r.name})]}):(0,T.jsx)(x.Z,{id:"MemoriesModal.unknownGizmo",defaultMessage:"Unknown GPT"}),(0,T.jsx)(b.Tg4,{className:"icon-sm text-token-text-tertiary"})]})}),(0,T.jsx)(M.Z.Portal,{children:(0,T.jsx)(M.Z.Content,{children:s.map(e=>(0,T.jsxs)(M.Z.Item,{className:"flex items-center gap-3",onClick:()=>{a(e.id)},children:[n(e),e.name]},e.id))})})]})})}let S=p.Z.div(s||(s=(0,r.Z)(["flex h-full items-center justify-center pb-8 text-sm text-token-text-tertiary rounded-lg border border-token-border-light"])));function A(e){var t,a,s,r;let d;let{onClose:m}=e,p=(0,g.Z)(),M=(0,c.NL)(),{data:j,isLoading:b}=(0,o.R1)(n.sh.Sunshine),{0:v,1:k}=(0,f.useState)(),O=(0,i.m0)(),{data:A,isLoading:_,isError:D,refetch:B}=(0,u.a)({queryKey:N(v),queryFn:()=>l.Z.getMemories(v),refetchOnMount:"always"}),E=null==A?void 0:A.memories,{data:L,refetch:R}=(0,u.a)({queryKey:["memory_gizmos"],queryFn:()=>l.Z.getGizmosWithMemory(),refetchOnMount:"always"}),G=[{id:void 0,name:"ChatGPT",iconUrl:null},...null!==(t=null==L||null===(a=L.items)||void 0===a?void 0:a.map(e=>{let{gizmo:t}=e;return{id:t.id,name:t.display.name,iconUrl:t.display.profile_picture_url}}))&&void 0!==t?t:[]],I=G.find(e=>e.id===v);return d=_||b?(0,T.jsx)(S,{children:(0,T.jsx)(x.Z,{id:"MemoriesModal.loading",defaultMessage:"Loading..."})}):D?(0,T.jsx)(S,{children:(0,T.jsxs)("div",{className:"max-w-sm text-center",children:[(0,T.jsx)("div",{className:"mb-4 text-red-500",children:(0,T.jsx)(x.Z,{id:"MemoriesModal.somethingWentWrong",defaultMessage:"Something went wrong..."})}),(0,T.jsx)("div",{children:(0,T.jsx)(h.z,{color:"secondary",onClick:()=>{B()},children:(0,T.jsx)(x.Z,{id:"MemoriesModal.retry",defaultMessage:"Retry"})})})]})}):E&&0!==E.length?(0,T.jsx)(y.Z.Root,{className:"h-full",size:"compact",bordered:!0,children:(0,T.jsx)(y.Z.Body,{children:E.map(e=>(0,T.jsx)(C,{gizmoId:v,memory:e},e.id))})}):(0,T.jsx)(S,{children:(0,T.jsx)("div",{className:"max-w-sm text-center",children:j?(0,T.jsx)(x.Z,{id:"MemoriesModal.noMemories.1",defaultMessage:"As you chat with {name}, the details and preferences it remembers will be shown here.",values:{name:null!==(r=null==I?void 0:I.name)&&void 0!==r?r:"ChatGPT"}}):(0,T.jsx)(x.Z,{id:"MemoriesModal.noMemoriesAndDisabled",defaultMessage:"Memory is disabled. ChatGPT won't use or create memories."})})}),(0,T.jsxs)(w.Z,{isOpen:!0,onClose:m,size:"custom",className:"max-w-5xl",type:"success",title:p.formatMessage({id:"MemoriesModal.title",defaultMessage:"Memory"}),showCloseButton:!0,children:[O&&G.length>1&&(0,T.jsx)("div",{className:"mb-4",children:(0,T.jsx)(Z,{selectedGizmoId:v,items:G,onSelect:e=>{M.invalidateQueries({queryKey:N(e)}),k(e)}})}),(0,T.jsx)("div",{className:"h-[24rem]",children:d}),(0,T.jsx)("div",{className:"mt-5",children:(0,T.jsx)(P.n,{onReset:()=>{B(),R(),v&&k(void 0)},gizmoId:v,memoryName:null!==(s=null==I?void 0:I.name)&&void 0!==s?s:"ChatGPT"})})]})}},96943:function(e,t,a){a.d(t,{Z:function(){return Z},n:function(){return A}});var s=a(94521),r=a(21904),n=a(50684),o=a(65321),l=a(43852),i=a(93223),c=a(4702),d=a(27603),u=a(55371),m=a(48580),f=a(92379),g=a(86078),x=a.n(g),p=a(26123),h=a(72256),M=a(25940),y=a(5443),j=a(21515),b=a(8649),v=a(49217),w=a(94982),k=a(16020),O=a(651);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach(function(t){(0,s.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function N(e){let{description:t,onClose:a,onConfirm:s}=e,r=(0,p.Z)();return(0,O.jsx)(v.Z,{isOpen:!0,onClose:a,type:"success",title:r.formatMessage({id:"MemoriesModal.resetModalTitle",defaultMessage:"Are you sure?"}),description:t,primaryButton:(0,O.jsx)(b.ZP.Button,{title:r.formatMessage({id:"MemoriesModal.resetModalConfirm",defaultMessage:"Clear memory"}),color:"danger",onClick:s}),secondaryButton:(0,O.jsx)(b.ZP.Button,{title:r.formatMessage({id:"MemoriesModal.resetModalCancel",defaultMessage:"Cancel"}),color:"secondary",onClick:a})})}function C(e){let{children:t}=e;return(0,O.jsxs)("li",{children:["“",t,"”"]})}function Z(){let{0:e,1:t}=(0,f.useState)(!1),a=(0,p.Z)(),{data:s,isLoading:i}=(0,l.R1)(r.sh.Sunshine),{isLoading:g,data:x}=(0,j.Xu)(!0),M=(0,l.Gt)(),{value:b}=(0,m.sB)("chatgpt-gizmo-contacts-tool"),v=(0,c.hz)();return i||g?(0,O.jsx)("div",{className:"flex justify-center",children:(0,O.jsx)(n.Z,{})}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(o.ZR,{children:(0,O.jsx)(o.c0,{label:(0,O.jsx)(h.Z,T({},_.customInstructions)),stateLabel:null!=x&&x.enabled?a.formatMessage(_.on):a.formatMessage(_.off),onClick:()=>u.vm.openModal(u.B.UserContext)})}),(0,O.jsxs)(o.ZR,{children:[(0,O.jsx)(o.wy,{label:a.formatMessage(_.toggleLabel),enabled:null!=s&&s,onChange:e=>{M.mutate({setting:r.sh.Sunshine,value:e})},description:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("p",{children:(0,O.jsx)(h.Z,T(T({},_.exampleDescription1),{},{values:{link:e=>(0,O.jsx)("a",{href:"https://help.openai.com/en/articles/8590148-memory-in-chatgpt-faq",target:"_blank",className:"underline",rel:"noreferrer",children:e})}}))}),(0,O.jsx)("p",{className:"mt-3",children:(0,O.jsx)(h.Z,T({},_.exampleDescription2))}),(0,O.jsxs)("ul",{className:"my-2 flex list-disc flex-col gap-1 pl-5",children:[(0,O.jsx)(C,{children:(0,O.jsx)(h.Z,T({},_.exampleMessage1))}),(0,O.jsx)(C,{children:(0,O.jsx)(h.Z,T({},_.exampleMessage2))}),(0,O.jsx)(C,{children:(0,O.jsx)(h.Z,T({},_.exampleMessage3))}),(0,O.jsx)(C,{children:(0,O.jsx)(h.Z,T({},_.exampleMessage4))})]})]})}),(null==v?void 0:v.includes(d.L0.MemoryHistoryEnabled))&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(y.z,{onClick:()=>{t(!0)},color:"secondary",className:"mt-3",children:(0,O.jsx)(h.Z,T({},_.manageMemoriesButton))}),e&&(0,O.jsx)(k.Z,{onClose:()=>t(!1)})]})]}),!(null!=v&&v.includes(d.L0.MemoryHistoryEnabled))&&(0,O.jsx)("span",{children:(0,O.jsx)(A,{memoryName:"ChatGPT"})}),b&&(0,O.jsx)(S,{})]})}let S=x()(()=>Promise.all([a.e(8682),a.e(5904)]).then(a.bind(a,35117)).then(e=>e.GizmoRolodex),{loadableGenerated:{webpack:()=>[35117]}});function A(e){let{onReset:t,gizmoId:a,memoryName:s}=e,{0:r,1:n}=(0,f.useState)(!1),o=(0,p.Z)(),l=async()=>{try{await i.Z.clearUserMemory(a),w.m.success(o.formatMessage({id:"ResetMemoriesButton.resetSuccess",defaultMessage:"Memory cleared."})),null==t||t(),n(!1)}catch(e){w.m.danger(o.formatMessage({id:"ResetMemoriesButton.resetFailed",defaultMessage:"Failed to clear memory."}))}};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(y.z,{color:"danger-outline",onClick:()=>n(!0),children:a?(0,O.jsx)(h.Z,{id:"ResetMemoriesButton.resetGizmo",defaultMessage:"Clear this GPT's memory"}):(0,O.jsx)(h.Z,{id:"ResetMemoriesButton.resetChatGPT",defaultMessage:"Clear ChatGPT's memory"})}),r&&(0,O.jsx)(N,{description:o.formatMessage({id:"MemoriesModal.resetGizmoModalDescription",defaultMessage:"{name} will forget everything it has remembered from your chats. This cannot be undone."},{name:s}),onClose:()=>n(!1),onConfirm:l})]})}let _=(0,M.vU)({toggleLabel:{id:"settingsModal.myChagtGptToggleLabel.2",defaultMessage:"Memory"},exampleDescription1:{id:"settingsModal.exampleDescription1.1",defaultMessage:"ChatGPT will become more helpful as you chat, picking up on details and preferences to tailor its responses to you. <link>Learn more</link>"},exampleDescription2:{id:"settingsModal.exampleDescription2.2",defaultMessage:"To understand what ChatGPT remembers or teach it something new, just chat with it:"},exampleMessage1:{id:"settingsModal.exampleMessage1.1",defaultMessage:"Remember that I like concise responses."},exampleMessage2:{id:"settingsModal.exampleMessage2.1",defaultMessage:"I just got a puppy!"},exampleMessage3:{id:"settingsModal.exampleMessage3.2",defaultMessage:"What do you remember about me?"},exampleMessage4:{id:"settingsModal.exampleMessage4",defaultMessage:"Where did we leave off on my last project?"},reset:{id:"settingsModal.reset",defaultMessage:"Reset memories"},resetModalTitle:{id:"settingsModal.resetModalTitle",defaultMessage:"Are you sure?"},resetModalDescription:{id:"settingsModal.resetModalDescription",defaultMessage:"Your GPT will forget what it has learned from your previous chats. This can't be undone."},resetModalConfirm:{id:"settingsModal.resetModalConfirm",defaultMessage:"Confirm reset"},resetModalCancel:{id:"settingsModal.resetModalCancel",defaultMessage:"Cancel"},resetSuccessful:{id:"settingsModal.resetSuccessful",defaultMessage:"Your GPT's memory has been reset."},resetFailed:{id:"settingsModal.resetFailed",defaultMessage:"Failed to reset your GPT's memory."},on:{id:"personalizationSettings.on",defaultMessage:"On"},off:{id:"personalizationSettings.off",defaultMessage:"Off"},customInstructions:{id:"personalizationSettings.customInstructions",defaultMessage:"Custom instructions"},manageMemoriesButton:{id:"personalizationSettings.manageMemoriesButton",defaultMessage:"Manage"}})},48284:function(e,t,a){a.d(t,{$N:function(){return f},SK:function(){return d},hE:function(){return m},qn:function(){return u}});var s=a(21904),r=a(50663),n=a(43852),o=a(93223),l=a(14816),i=a(50406),c=a(92379);function d(){var e,t;let a=null===(e=(0,n.R1)(s.sh.VoiceName))||void 0===e?void 0:e.data,r=null===(t=(0,n.R1)(s.sh.VoiceMainLanguage))||void 0===t?void 0:t.data;return{voiceName:f(a,u()),voiceMainLanguage:null!=r?r:s.P9.Auto}}function u(){let e=m(),{currentLocale:t}=(0,r.b)();return(0,c.useCallback)(()=>{if(0===e.length)return"juniper";let a=e[0].voice;return t.startsWith("zh")&&(a="cove"),a},[e,t])}function m(){let{session:e}=(0,i.kP)(),{data:t}=(0,l.a)({queryKey:["getUserSettingVoices"],queryFn:()=>o.Z.getUserSettingVoices(),enabled:null!=e});return t?t.voices:[]}function f(e,t){return"sky"===e?"juniper":null!=e?e:t()}},25994:function(e,t,a){a.d(t,{S:function(){return x}});var s=a(94521),r=a(73570),n=a(50406),o=a(53985),l=a(58328),i=a(83263),c=a(92379);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach(function(t){(0,s.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let m=new Set(["google-oauth2","windowslive","apple"]);function f(e){return null!=e&&e.idp&&m.has(e.idp)?{connection:e.idp,login_hint:e.email}:null!=e&&e.email?{login_hint:e.email}:{}}function g(e){if(!e)throw Error("No session found, cannot enable MFA");if("mocked"===e.authProvider)throw Error("Mock users can't enable MFA! Please setup Auth0 following the instructions in the README")}function x(){var e,t;let{session:a}=(0,n.kP)(),s=(null==a||null===(e=a.user)||void 0===e?void 0:e.idp)==="auth0",d=!!(null!=a&&null!==(t=a.user)&&void 0!==t&&t.mfa);return{setupMfa:(0,c.useCallback)(async()=>{g(a);let e=new URL((0,r.M5)(r.LT.MFA_ENABLED,"/#settings"),window.location.origin).toString();(0,i.signIn)(null==a?void 0:a.authProvider,{callbackUrl:e},u(u({},(null==a?void 0:a.authProvider)===n.Ho.OpenAI?{login_hint:(0,n.W_)({oai_enforce_mfa:!0,idp:"openai"})}:u(u({},f(null==a?void 0:a.user)),{},{max_age:"0",oai_enforce_mfa:"true"})),(0,o.gk)((0,l.f3)())))},[a]),isUsernamePassword:s,isLoggedInWithMfa:d,removeMfa:(0,c.useCallback)(async()=>{g(a);let e=new URL("/auth/disable_mfa",window.location.origin).toString();(0,i.signIn)(null==a?void 0:a.authProvider,{callbackUrl:e},u(u({},(null==a?void 0:a.authProvider)===n.Ho.OpenAI?{login_hint:(0,n.W_)({idp:"openai"})}:u(u({},f(null==a?void 0:a.user)),{},{max_age:"0"})),(0,o.gk)((0,l.f3)())))},[a])}}}}]);
//# sourceMappingURL=601-f6027b695e88e146.js.map