"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9830],{38838:function(e,t,r){r.d(t,{Dz:function(){return c},Rp:function(){return u},Yf:function(){return a}});var n=r(19841),o=r(41619),i=r(651);function a(e){let{className:t}=e;return(0,i.jsx)(o.ob9,{className:(0,n.default)(t,"rtl:-scale-x-100")})}function c(e){let{className:t}=e;return(0,i.jsx)(o.Y1T,{className:(0,n.default)(t,"rtl:-scale-x-100")})}function u(e){let{className:t}=e;return(0,i.jsx)(o.Y4O,{className:(0,n.default)(t,"rtl:-scale-x-100")})}},42606:function(e,t,r){r.d(t,{I:function(){return i},o:function(){return a}});let n=["xlsx","pptx","docx"],o={"application/vnd.google-apps.spreadsheet":"xlsx","application/vnd.google-apps.presentation":"pptx","application/vnd.google-apps.document":"docx"};function i(e){var t;return e&&null!==(t=o[e.split(";")[0]])&&void 0!==t?t:null}function a(e){return e&&n.includes(e)?e:null}},93866:function(e,t,r){r.d(t,{AJ:function(){return a},XX:function(){return u},xA:function(){return c}});var n,o,i=r(42606);let a=((n={})[n.None=0]="None",n[n.Multimodal=1]="Multimodal",n[n.Interpreter=2]="Interpreter",n[n.Retrieval=3]="Retrieval",n[n.ContextConnector=4]="ContextConnector",n[n.ProfilePicture=5]="ProfilePicture",n);function c(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:(0,i.o)(e.synthetic_extension),type:e.type}}let u=((o={}).Uploading="uploading",o.Ready="ready",o)},66114:function(e,t,r){r.d(t,{$H:function(){return y},$p:function(){return E},Ad:function(){return K},B:function(){return A},BV:function(){return q},CO:function(){return O},Iy:function(){return g},KL:function(){return M},L8:function(){return m},O6:function(){return z},Tu:function(){return B},VF:function(){return h},Vm:function(){return F},WI:function(){return C},YN:function(){return w},Z8:function(){return P},Zp:function(){return x},_0:function(){return U},kr:function(){return v},p0:function(){return S},s1:function(){return b},ww:function(){return _},xs:function(){return k}});var n=r(99333),o=r(16757),i=r(2721),a=r(86025),c=r(58695),u=r(82363),l=r(92379),s=r(75172),d=r(68306),f=r(24740),p=r(93866);function g(e){return e.replace("file-service://","")}function m(e){return"file-service://"+e}function y(e){return e.startsWith("file-service://")}function v(e,t,r){switch(t){case"file_zero_bytes":return e.formatMessage(L.fileZeroBytes,r);case"file_too_large":return e.formatMessage(L.fileTooLarge,r);case"over_user_quota":return e.formatMessage(L.overUserQuota,r);case"file_not_found":case"file_expired":return e.formatMessage(L.fileNotFound,r);case"file_timed_out":return e.formatMessage(L.fileTimedOut,r);case"ace_pod_expired":return e.formatMessage(L.codeInterpreterSessionTimeout,r);case"permission_error":return e.formatMessage(L.permissionError,r);case"default_upload_error":case"file_rejected":return e.formatMessage(L.defaultCreateEntryError,r);case"default_download_link_error":return e.formatMessage(L.defaultDownloadLinkError,r);case"file_empty":return e.formatMessage(L.fileEmpty,r);case"too_many_tokens":return e.formatMessage(L.fileTooManyTokens,r);case"file_encrypted":return e.formatMessage(L.fileEncrypted,r);case"file_corrupted":return e.formatMessage(L.fileCorrupted,r);case"failed_upload_to_blobstore":return e.formatMessage(L.failedUploadToBlobStore,r);default:return e.formatMessage(L.unknownError)}}function h(){let e=(0,s.Z)();return(0,l.useCallback)((t,r)=>v(e,t,r),[e])}function z(){let{session:e}=(0,c.kP)(),{isUnauthenticated:t}=(0,a.u)(),r=(0,s.Z)();return async(o,a)=>{if(!t&&null==e)return f.m.danger(r.formatMessage(L.fileDownloadFailed)),!1;try{let e=await i.Z.getFileDownloadLink(o,void 0,t);if(e.status!==n.KF.Success)throw Error("File is not ready to download: "+JSON.stringify(e));let r=e.download_url,c=document.createElement("a");c.href=r,c.download=a,c.click(),window.open(r,"_blank")}catch(e){return f.m.danger(r.formatMessage(L.fileDownloadFailed)),!1}return!0}}function _(e,t){if((null==t?void 0:t.kind)===o.OL.GizmoInteraction||(null==t?void 0:t.kind)===o.OL.GizmoTest){var r;return null===(r=t.gizmo)||void 0===r?void 0:r.product_features}return null==e?void 0:e.product_features}function w(e,t){var r,o,i,a;let c=_(e,t);return(null==c||null===(r=c.attachments)||void 0===r?void 0:r.type)===n.Cd.CodeInterpreter?p.AJ.Interpreter:(null==c||null===(o=c.attachments)||void 0===o?void 0:o.type)===n.Cd.Multimodal?p.AJ.Multimodal:(null==c||null===(i=c.attachments)||void 0===i?void 0:i.type)===n.Cd.Retrieval?p.AJ.Retrieval:(null==c||null===(a=c.attachments)||void 0===a?void 0:a.type)===n.Cd.ContextConnector?p.AJ.ContextConnector:p.AJ.None}function b(e){var t;let r=null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase();return({md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp"})[null!=r?r:""]||""}function k(e,t,r,n,o){if(null==o)return e;let i=b(t);i&&(r=i),n&&(r=function(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}(r));let{accepted_mime_types:a,can_accept_all_mime_types:c}=o;return null!=a&&0!==a.length&&c?a.includes(r)?e:p.AJ.Interpreter:e}function U(e,t,r){var o,i,a;let c=""!==t?t:b(r),u=null==e||null===(o=e.product_features)||void 0===o?void 0:o.attachments;return null==u?void 0:null!==(i=u.accepted_mime_types)&&void 0!==i&&i.includes(c)?u.type:null!==(a=u.image_mime_types)&&void 0!==a&&a.includes(c)?n.Cd.Multimodal:n.Cd.CodeInterpreter}function x(e,t){var r,n;let o=_(e,t);return null!=o&&null!==(r=o.attachments)&&void 0!==r&&r.can_accept_all_mime_types?void 0:null==o||null===(n=o.attachments)||void 0===n?void 0:n.accepted_mime_types}function S(e,t){let r=_(e,t),{attachments:n}=null!=r?r:{};if(null!=n&&n.image_mime_types)return n.image_mime_types;if((null==n?void 0:n.type)==="multimodal"){var o;return null!==(o=n.accepted_mime_types)&&void 0!==o?o:M}return[]}let M=["image/png","image/jpeg","image/gif","image/webp"];function P(e){return(0,l.useMemo)(()=>{if(void 0===e)return{};let t={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]};return{accept:e.reduce((e,r)=>(r in t?e[r]=t[r]:r.includes("/")&&(e[r]=[".".concat(r.split("/")[1])]),e),{})}},[e])}function E(e){var t;return null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()}function O(e){let t=E(e);return null!=t&&["jpg","jpeg","png","gif","webp"].includes(t)}function F(e){let t=E(e);return null!=t&&["xls","xlsx","csv"].includes(t)}function q(e){let t=E(e);return null!=t&&["xls","xlsx"].includes(t)}function B(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fit";return new Promise((n,o)=>{let i=new FileReader;i.onerror=e=>{u.U.addError(Error("File reading has failed:",{cause:e})),o(Error("Failed to read the file."))},i.onload=i=>{let a=new Image;a.onerror=e=>{u.U.addError(Error("Image loading has failed:",{cause:e})),o(Error("Failed to load the image."))},a.onload=()=>{let i=document.createElement("canvas"),c,l=0,s=0;switch(r){case"fill":case"square":c=t/Math.min(a.width,a.height);break;case"fit":c=t/Math.max(a.width,a.height)}let d=a.width*c,f=a.height*c;"square"===r?(i.width=t,i.height=t,l=(t-d)/2,s=(t-f)/2):(i.width=d,i.height=f);let p=i.getContext("2d");if(null==p){u.U.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),o(Error("Failed to create canvas context."));return}p.drawImage(a,l,s,d,f);let g=e.type||"image/png";i.toBlob(t=>{t?n(new File([t],e.name,{type:g})):(u.U.addError("Blob creation failed. Blob is null."),o(Error("Failed to create blob from image data.")))},g)},null==i.target?(u.U.addError("Event target is null. Failed to load image."),o("Failed to load image.")):a.src=i.target.result},i.readAsDataURL(e)})}function C(e,t){return B(e,t,"square")}function A(e){var t,r;let n=null!==(t=e.name.split("/"))&&void 0!==t?t:[];return(null!==(r=n[n.length-1])&&void 0!==r?r:"").replace(/[-_]/g," ").split(".")[0]}function K(e,t){return t?e.slice(0,-t.length-1):e}let L=(0,d.vU)({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}})},39004:function(e,t,r){r.d(t,{AG:function(){return b},D2:function(){return B},DC:function(){return A},DS:function(){return R},Dq:function(){return E},EF:function(){return U},F0:function(){return D},Fi:function(){return P},HW:function(){return h},K7:function(){return V},K9:function(){return G},M0:function(){return T},N_:function(){return N},Sg:function(){return S},UQ:function(){return H},Vw:function(){return L},WL:function(){return W},Wd:function(){return K},Wz:function(){return F},YR:function(){return Z},Z1:function(){return J},ZJ:function(){return j},b9:function(){return C},i6:function(){return x},kX:function(){return _},kb:function(){return I},m_:function(){return k},pJ:function(){return Q},un:function(){return w},uy:function(){return z},z5:function(){return M}});var n=r(98601),o=r(16757),i=r(10080),a=r(24740),c=r(84760),u=r(19856),l=r(49166),s=r(42420),d=r(56032),f=r(85567),p=r(42906),g=r(99555),m=r(45334);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let h="GPT Builder";function z(e){if(e)return"ChatGPT - ".concat(e)}function _(e){var t,r;return null!==(t=null!==(r=e.gizmo.short_url)&&void 0!==r?r:e.gizmo.id)&&void 0!==t?t:"-"}function w(e){return"/g/".concat(e)}function b(e){return"".concat("https://chatgpt.com").concat(w(e))}function k(e){return w(_(e))}function U(e,t){let r=new URLSearchParams;return null!=t&&r.set(p.l,t),(0,f.I)(new URL("".concat(k(e),"?").concat(r),"https://chatgpt.com"))}function x(e){return"/g/".concat(_(e))}function S(e){return(0,m.S9)(e)&&0===e.gizmo.live_version||(0,m.WQ)(e)&&0===e.liveVersion}function M(e,t){return(0,c.a)({queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:async()=>g.U.getGizmoDiscovery(e,t)})}function P(e){let{cutId:t,locale:r,limit:n,cursor:o,enabled:i=!0}=e;return(0,u.N)({queryKey:["gizmos","discovery",{cutId:t,locale:r,limit:n}],queryFn:async e=>{let{pageParam:o}=e;return g.U.getGizmoDiscoveryCut(t,{locale:r,cursor:o,limit:n})},initialPageParam:o,getNextPageParam:e=>{var t;return null!==(t=e.list.cursor)&&void 0!==t?t:void 0},enabled:i})}function E(){return(0,c.a)({queryKey:["gizmos","pinned"],queryFn:async()=>g.U.getGizmoPinned()})}function O(){return(0,l.C)({queryKey:["gizmos","bootstrap"],queryFn:async()=>g.U.getGizmoBootstrap().then(e=>({gizmos:e.gizmos.map(e=>({resource:e.resource,flair:e.flair}))}))})}function F(){return(0,c.a)(O())}function q(e,t){let r=e.filter(e=>e.resource.gizmo.id!==t.resource.gizmo.id),n=r.findIndex(e=>e.flair.kind===i.JK.Recent);return -1===n&&(n=r.length),r.splice(n,0,t),r}let B={handleGizmoInteracted(e,t){let r=e.getQueryData(L(e,t).queryKey);null!=r&&e.setQueryData(O().queryKey,e=>{if(null==e)return e;let n=e.gizmos.find(e=>e.resource.gizmo.id===t);return(null==n?void 0:n.flair.kind)===i.JK.FirstParty||(null==n?void 0:n.flair.kind)===i.JK.SidebarKeep?e:{gizmos:q(e.gizmos,{resource:r,flair:{kind:i.JK.Recent}})}})},handleGizmoSidebarKeep(e,t){let r=e.getQueryData(L(e,t).queryKey);null!=r&&e.setQueryData(O().queryKey,e=>null==e?e:{gizmos:q(e.gizmos,{resource:r,flair:{kind:i.JK.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(O().queryKey,e=>null!=e&&e.gizmos.some(e=>e.resource.gizmo.id===t)?{gizmos:e.gizmos.filter(e=>e.resource.gizmo.id!==t)}:e)}};function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,s.NL)();return(0,c.a)(L(r,e,t))}function A(e){let{gizmoId:t,draft:r,version:n}=e,o=(0,s.NL)(),i=n?{queryKey:["gizmo","version",{gizmoId:t,version:n}],queryFn:async()=>g.U.getVersion({gizmoId:t,version:n}),enabled:null!=t}:L(o,t,r);return(0,c.a)(i)}function K(e,t){return(0,c.a)({queryKey:["gizmo","userActionSettings",{gizmoId:e}],queryFn:async()=>g.U.getUserActionSettings(e),enabled:null!=e&&t})}function L(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,l.C)({queryKey:["gizmo",{gizmoId:t},{draft:r}],queryFn:async()=>g.U.getGizmo(t,r),enabled:null!=t,initialData:()=>{var n,o;if(!0===r)return;let i=e.getQueryData(O().queryKey);if(null!=i)return null===(n=i.gizmos.find(e=>e.resource.gizmo.id===t))||void 0===n?void 0:n.resource;let a=e.getQueryData(["gizmos","discovery"]);if(null!=a)for(let e of a.cuts){let r=null===(o=e.list.items.find(e=>e.resource.gizmo.id===t))||void 0===o?void 0:o.resource;if(null!=r)return r}}})}function D(e,t){return e.fetchQuery(L(e,t))}function G(e){return(0,c.a)({queryKey:["gizmo",{search:e}],queryFn:async()=>g.U.getGizmoSearch(e),enabled:e.length>0})}function T(e,t){return(0,c.a)({queryKey:["gizmo-search-workspace",{search:e}],queryFn:async()=>g.U.getGizmoSearchForWorkspace(e),enabled:e.length>0&&t})}function R(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,u.N)({queryKey:[r?"gizmo-search-workspace":"gizmo",{query:e,cursor:n}],queryFn:async t=>{let{pageParam:o}=t;return r?g.U.getGizmoSearchForWorkspace(e,n=o):g.U.getGizmoSearch(e,n=o)},initialPageParam:n,getNextPageParam:e=>{var t;return null!==(t=e.cursor)&&void 0!==t?t:void 0},enabled:t})}function N(){let e=(0,s.NL)();return(0,d.D)({mutationFn:async e=>{let{gizmoId:t,editorData:r}=e,{instructions:n,name:o,description:a,profilePictureId:c,profilePictureUrl:u,promptStarters:l,tools:s,files:d,trainingDisabled:f}=r;return g.U.upsertDraft({instructions:n,display:{name:o,description:a,profile_pic_id:c,profile_picture_url:u,prompt_starters:l},tools:s,files:d.map(e=>v(v({},e),{},{location:i.Nh.FILE_SERVICE})),training_disabled:f},t)},onSettled:t=>{t&&(e.setQueryData(L(e,t.gizmo.id,!0).queryKey,t),e.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}})}function j(){let e=(0,s.NL)();return(0,d.D)({mutationFn:async e=>{let{gizmoId:t,data:r}=e,{sharingRecipient:n,categories:o}=r,a=await g.U.promoteDraft({sharing:r.sharingSubjects&&r.sharingSubjects.length>0?r.sharingSubjects:{recipient:n},categories:o},t);if(a.error)throw new i.DC(a);return a.resource},onSettled:t=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),e.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),t&&e.setQueryData(L(e,t.gizmo.id,!1).queryKey,t)}})}function I(){let e=(0,s.NL)();return(0,d.D)({mutationFn:async e=>{let{gizmoId:t}=e;return g.U.deleteGizmo(t)},onSettled:()=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}})}function Q(){let e=(0,s.NL)();return(0,d.D)({mutationFn:async e=>{let{name:t,hideName:r,websiteUrl:n,willReceiveSupportEmails:o}=e;return g.U.updateBuilderProfile({name:t,hide_name:r,website_url:n,will_receive_support_emails:o})},onSuccess:t=>{e.setQueryData(["builderProfile"],t)},onError:e=>{a.m.warning(e.message)}})}function W(){return(0,c.a)({queryKey:["builderProfile"],queryFn:async()=>g.U.getBuilderProfile()})}function Z(){return(0,d.D)({mutationFn:async e=>{let{gizmoId:t}=e;return g.U.copyGizmo({gizmoId:t})}})}function J(){return(0,c.a)({queryKey:["gizmoCategories"],queryFn:async()=>g.U.getCategories()})}function H(e,t){return!!(null!=t&&[o.OL.PrimaryAssistant,o.OL.GizmoInteraction].includes(t)&&(null==e?void 0:e.includes(o.S.GPT_4)))}function V(e,t){let r=(0,s.NL)();return(0,d.D)({mutationFn:async t=>{let{rating:r,message:n,includeFrom:o}=t;await g.U.upsertUserReview(e,r,n,o)},onSuccess:async()=>{null==t||t(),r.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},onError:e=>{a.m.danger(e.message)}})}},99555:function(e,t,r){r.d(t,{U:function(){return l}});var n=r(98601),o=r(28438),i=r(72409),a=r(39004);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class l{static getMyGizmos(){return i.c.get("".concat(o.B,"/gizmos?mine=true"))}static getGizmosByUser(e){return i.c.get("".concat(o.B,"/gizmos/u/").concat(e))}static getGizmo(e,t){return i.c.get("".concat(o.B,"/gizmos/").concat(e).concat(t?"?draft=true":""))}static shareGizmo(e,t){return i.c.post("".concat(o.B,"/gizmos/").concat(e,"/share"),t)}static getGizmoDiscovery(e,t){let r=new URLSearchParams;return null!=e&&r.set("locale",e),i.c.get(t?"".concat(o.k5,"/gizmos/discovery_anon?").concat(r):"".concat(o.k5,"/gizmos/discovery?").concat(r),{authOption:o.FB.SendIfAvailable})}static async getGizmoDiscoveryCut(e,t){let r=r=>{let n={};null!=r&&(n.cursor=r),(null==t?void 0:t.limit)!=null&&(n.limit="".concat(t.limit)),(null==t?void 0:t.locale)!=null&&(n.locale=t.locale);let a="".concat(o.k5,"/gizmos/discovery/").concat(e);return i.c.get(a,{params:n,authOption:o.FB.SendIfAvailable})},n=await r(null==t?void 0:t.cursor);return 0===n.list.items.length&&null!=n.list.cursor?(await new Promise(e=>setTimeout(e,30*Math.random())),r(n.list.cursor)):n}static getGizmoBootstrap(){return i.c.get("".concat(o.B,"/gizmos/bootstrap?limit=2"))}static getGizmoPinned(){return i.c.get("".concat(o.B,"/gizmos/pinned"))}static getGizmoSearch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?i.c.get("".concat(o.B,"/gizmos/search?q=").concat(e,"&cursor=").concat(t," ")):i.c.get("".concat(o.B,"/gizmos/search?q=").concat(e))}static getGizmoSearchForWorkspace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?i.c.get("".concat(o.B,"/gizmos/search?q=").concat(e,"&workspace_only=",!0,"&cursor=").concat(t)):i.c.get("".concat(o.B,"/gizmos/search?q=").concat(e,"&workspace_only=",!0))}static async postGizmoAppeal(e,t,r,n,a){await i.c.post("".concat(o.B,"/gizmos/").concat(t,"/appeal"),{reason:r,share_recipient:n,categories:a}),await e.invalidateQueries({queryKey:["gizmo",{gizmoId:t}]})}static async postGizmoCancelAppeal(e,t){await i.c.post("".concat(o.B,"/gizmos/").concat(t,"/cancel_appeal"),{}),await e.invalidateQueries({queryKey:["gizmo",{gizmoId:t}]})}static upsertDraft(e,t){return void 0!==t?i.c.post("".concat(o.B,"/gizmos?gizmo_id=").concat(t),e):i.c.post("".concat(o.B,"/gizmos"),e)}static promoteDraft(e,t){return i.c.post("".concat(o.B,"/gizmos/").concat(t,"/promote"),e)}static deleteGizmo(e){return i.c.delete("".concat(o.B,"/gizmos/").concat(e))}static getBuilderProfile(){return i.c.get("".concat(o.B,"/gizmo_creator_profile"))}static updateBuilderProfile(e){return i.c.post("".concat(o.B,"/gizmo_creator_profile"),e)}static unverifySocialAuth(e){return i.c.delete("".concat(o.B,"/gizmo_creator_profile/socials/").concat(e))}static async updateGizmoSidebar(e,t,r){let n=await i.c.post("".concat(o.B,"/gizmos/").concat(t,"/sidebar"),{action:r});switch(r){case"keep":a.D2.handleGizmoSidebarKeep(e,t);break;case"hide":a.D2.handleGizmoSidebarHide(e,t)}return n}static async removeFromRecent(e,t){let r=await i.c.post("".concat(o.B,"/gizmos/").concat(t,"/remove_recent"),{});return e.invalidateQueries({queryKey:["gizmos","bootstrap"]}),e.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(e){return i.c.post("".concat(o.B,"/gizmos/fetch_openapi"),{url:e})}static validateOpenAPISpec(e){return i.c.post("".concat(o.B,"/gizmos/validate_openapi"),{raw_spec:e})}static transformToOpenAPISpec(e,t){return i.c.post("".concat(o.B,"/gizmos/transform_openapi"),u(u({},e),{},{auth:t}))}static async doOAuthRedirect(e,t,r,n,a){let c=await i.c.post("".concat(o.B,"/gizmos/oauth_redirect"),{gizmo_id:e,gizmo_action_id:t,domain:r,redirect_to:n,draft:a});window.location.href=c.redirect_uri}static async upsertUserActionSettings(e,t,r){return i.c.post("".concat(o.B,"/gizmos/action_settings"),{gizmo_action_id:e,domain:t,action_settings:r})}static async getUserActionSettings(e){return i.c.get("".concat(o.B,"/gizmos/user_action_settings?gizmo_id=").concat(e))}static async generateCategory(e,t){return i.c.post("".concat(o.B,"/gizmos/gen_category"),{name:e,instructions:t})}static async getCategories(){return i.c.get("".concat(o.B,"/gizmos/categories"))}static async getUserReview(e){return i.c.get("".concat(o.B,"/gizmo_reviews/").concat(e))}static async upsertUserReview(e,t,r,n){return i.c.post("".concat(o.B,"/gizmo_reviews/").concat(e),{rating:t,message:r,include_from:n})}static async sendFeedbackEmail(e,t,r){return i.c.post("".concat(o.B,"/gizmos/").concat(e,"/feedback"),{message:t,include_from:r})}static async getAbout(e){return i.c.get("".concat(o.B,"/gizmos/").concat(e,"/about"))}static async getCreatorSlice(e){let{creatorId:t}=e;return i.c.get("".concat(o.B,"/gizmo_creators/").concat(t,"/gizmos"))}static async getVersion(e){let{gizmoId:t,version:r}=e;return null==r?i.c.get("".concat(o.B,"/gizmos/").concat(t,"/version/latest")):i.c.get("".concat(o.B,"/gizmos/").concat(t,"/version/").concat(r))}static async listVersions(e){let{gizmoId:t,limit:r,cursor:n}=e,a={};return r&&(a.limit=r),n&&(a.cursor=n),i.c.get("".concat(o.B,"/gizmos/").concat(t,"/versions"),{params:a})}static async getRolodex(){return i.c.get("".concat(o.B,"/rolodex"))}static async upsertToRolodex(e,t){let{gizmoId:r,usageDescription:n,remove:a}=t,c=await i.c.post("".concat(o.B,"/rolodex"),{gizmo_id:r,usage_description:n,remove:a});return e.invalidateQueries({queryKey:["gizmoRolodex"],refetchType:"all"}),c}static async copyGizmo(e){let{gizmoId:t}=e;return await i.c.post("".concat(o.B,"/gizmos/").concat(t,"/copy"))}}},10080:function(e,t,r){var n,o,i,a,c;r.d(t,{AR:function(){return k},CS:function(){return u},DC:function(){return b},EL:function(){return d},H$:function(){return _},JK:function(){return U},LA:function(){return s},Mj:function(){return w},Nh:function(){return v},U9:function(){return g},Zz:function(){return p},fV:function(){return f},h:function(){return h},q0:function(){return y},qL:function(){return l},yS:function(){return m}});let u="g-YyyyMT9XH",l="g-2fkFE8rbu",s=((n={})[n.USER=1]="USER",n[n.GROUP=2]="GROUP",n[n.WORKSPACE=3]="WORKSPACE",n[n.ALL=4]="ALL",n[n.PROJECT=5]="PROJECT",n[n.ORGANIZATION=6]="ORGANIZATION",n[n.SYSTEM=7]="SYSTEM",n[n.AGENT=8]="AGENT",n),d={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},f={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},p={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"},g=((o={}).FirstParty="first_party",o.UsesFunctionCalls="uses_function_calls",o.Reportable="reportable",o.Private="private",o.Workspace="workspace",o.Public="public",o.Beta="beta",o.Pinned="pinned",o.WorkspaceDisabled="workspace_disabled",o.Unreviewable="unreviewable",o),m=e=>{var t;return null===(t=e.gizmo.tags)||void 0===t?void 0:t.includes(g.FirstParty)},y=e=>{var t;return!(null!==(t=e.gizmo.tags)&&void 0!==t&&t.includes(g.Unreviewable))},v=((i={}).FILE_SERVICE="fs",i);function h(e){return e.type===s.USER||e.type===s.GROUP}let z=[s.USER,s.GROUP,s.WORKSPACE,s.ALL];function _(e){return 0===e.length?null:e.reduce((e,t)=>z.indexOf(t.type)<z.indexOf(e.type)?e:t,e[0])}function w(e,t,r){return(t=t.filter(e=>e.type===p.User||e.type===p.Group),e===p.Private||e===p.User||e===p.Group)?[{type:p.Private,capabilities:d},...t]:[...t,{type:e,capabilities:r}]}class b{constructor(e){this.response=e}}let k=((a={}).ENGLISH="en",a.GLOBAL="global",a),U=((c={}).FirstParty="first_party",c.SidebarKeep="sidebar_keep",c.Mine="mine",c.Recent="recent",c.Workspace="workspace",c)},45334:function(e,t,r){r.d(t,{R2:function(){return c},S9:function(){return l},VN:function(){return d},WQ:function(){return s},XA:function(){return u},k1:function(){return a}});var n=r(10080),o=r(31498),i=r(75172);function a(e){var t,r;return null!==(t=null===(r=e.gizmo.current_user_permission)||void 0===r?void 0:r.can_write)&&void 0!==t&&t}function c(e){var t,r;return null!==(t=null===(r=e.gizmo.current_user_permission)||void 0===r?void 0:r.can_view_config)&&void 0!==t&&t}function u(e){let t=(0,i.Z)();return function(e,t,r){let o=null==t?void 0:t.name;switch(e){case n.Zz.Link:return r.formatMessage(f.privacyAnyoneWithLink);case n.Zz.Private:return r.formatMessage(f.privacyOnlyMe);case n.Zz.Group:case n.Zz.User:return r.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case n.Zz.Marketplace:return r.formatMessage(f.privacyMarketplace);case n.Zz.Workspace:return r.formatMessage(f.privacyWorkspace,{workspaceName:o});case n.Zz.WorkspaceLink:return r.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:o})}}(e,(0,o.ec)(e=>e.currentWorkspace),t)}function l(e){return"gizmo"in e}function s(e){return"id"in e}function d(e){return"".concat(e.replaceAll(".","_").replaceAll("-","_"),"__jit_plugin")}let f=(0,r(68306).vU)({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}})},42906:function(e,t,r){r.d(t,{M:function(){return g},l:function(){return p}});var n=r(52088),o=r(16757),i=r(67437),a=r(92745),c=r(30474),u=r(85567),l=r(34977),s=r(92379),d=r(92054);function f(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let p="q";function g(e){var t,r;let{clientThreadId:g,currentLeafId:y,handleRequestCompletion:v}=e,h=(0,s.useRef)(!1),{isLoading:z}=(0,i.Y7)(),_=(0,l.useRouter)(),w=(0,s.useCallback)((e,t,r,n)=>{a.tQ.updateTree(g,i=>{i.addNode(e,r,t,o.uU.User,void 0,n)})},[g]),b=(0,s.useCallback)(async(e,t,r,n)=>{let{content:i,attachments:a}=t;w(e,y,i,a.length>0?{attachments:a}:{}),v({type:o.Os.Next,promptId:e,eventMetadata:r,cancelActiveRequests:!0,completionMetadata:n})},[w,v,y]),k=null!==(t=(0,c.L)(()=>window.location.pathname))&&void 0!==t?t:null,U=!z&&null!=(r=k)&&("/"===r||m(r)),x=a.iN.getConversationMode(g),S=(0,u.f)();m(k)&&void 0===S&&(U=!1),(0,s.useEffect)(()=>{var e;if(!U||h.current)return;let t=_.query,{[p]:r,m:o}=t,i=(0,n.Z)(t,[p,"m"].map(f)),c=null!==(e="string"==typeof r?r:null)&&void 0!==e?e:"string"==typeof o?o:null;if(!c||null!=a.tQ.getServerThreadId(g)||null==x)return;let u=(0,d.Z)();h.current=!0,_.replace({query:i},void 0,{shallow:!0}),b(u,{content:c,attachments:[]},{eventSource:"url"},{conversationMode:x,source:"instant-query"})},[U,_,b,g,x])}function m(e){return null!=e&&/^\/g\/[\w-]+$/.test(e)}},85567:function(e,t,r){r.d(t,{I:function(){return c},f:function(){return u}});var n=r(84760);let o="client-correlated-secret";function i(){let e=localStorage.getItem(o);return null==e?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function a(){null==i()&&localStorage.setItem(o,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));let e=i();if(null==e)throw Error("Failed to get key from storage");return e}function c(e){let t=new URL(e),r=(0,n.a)({queryKey:[o,"generate-challenge",e.search],queryFn:async()=>[...new Uint8Array(await crypto.subtle.sign("HMAC",await a(),new TextEncoder().encode(e.search)))].map(e=>e.toString(16).padStart(2,"0")).join(""),staleTime:0});if(void 0!==r.data)return t.hash=r.data,t}function u(){var e,t;let r=null===(e=location)||void 0===e?void 0:e.search,i=null===(t=location)||void 0===t?void 0:t.hash;return(0,n.a)({queryKey:[o,"verify-challenge",r,i],queryFn:async()=>"string"==typeof r&&"string"==typeof i&&crypto.subtle.verify("HMAC",await a(),function(e){let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++)t[r]=parseInt(e.substr(2*r,2),16);return t.buffer}(i.slice(1)),new TextEncoder().encode(r))}).data?new URLSearchParams(r):void 0}}}]);
//# sourceMappingURL=9830-8fd7f344eb2bd4de.js.map