"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5920],{55920:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var s,a=t(98601),r=t(16757),l=t(49764),o=t(47584),i=t(99529),u=t(42117),g=t(54028),c=t(651);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,s)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach(function(n){(0,a.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var f=((s=f||{}).Planning="planning",s.Running="running",s.Done="done",s.Stopped="stopped",s);function b(e){let n,{messages:t}=e,s=(0,l.Z)(),[a,o]=t,d=function(e,n){let t;let s=n?.message.metadata?.parallel_browse?.frontend_info.sub_agent_infos??e.message.metadata?.parallel_browse?.frontend_info.sub_agent_infos,a=0,l=0;null!=s&&(a=(t=Object.values(Object.values(s).reduce((e,n)=>{let t=n.task_index;return null==e[t]&&(e[t]=[]),e[t].push(n),e},{})).map(e=>p(p({},e[0]),{},{status:function(e){let n=e.map(e=>e.status);for(let e of[r.RF.Starting,r.RF.Running,r.RF.Done,r.RF.Error,r.RF.Timeout,r.RF.Cancelled])if(n.some(n=>n===e))return e;return r.RF.Starting}(e)})).sort((e,n)=>e.task_index-n.task_index)).length,l=t.filter(m).length);let o=f.Planning;return(0,g.We)(e.message)?o=f.Stopped:null!=n&&(o=l===a?f.Done:f.Running),{status:o,subAgentInfos:t,numTotalSubAgents:a,numCompletedSubAgents:l}}(a,o),b=i.X.Running,O=h.creatingPlan;switch(d.status){case f.Running:d.numTotalSubAgents>0&&d.numCompletedSubAgents/d.numTotalSubAgents>=.75?O=h.almostDone:(O=h.running,n={numTasks:d.numTotalSubAgents});break;case f.Done:b=i.X.Finished,O=void 0;break;case f.Stopped:b=i.X.Stopped,O=h.cancelled;case f.Planning:}let w=O?s.formatMessage(O,n):null;return(0,c.jsx)(u.D,{highlightedCommand:w,status:b,showWorkUserSetting:!1})}function m(e){return e.status===r.RF.Done||e.status===r.RF.Timeout||e.status===r.RF.Error||e.status===r.RF.Cancelled}let h=(0,o.vU)({creatingPlan:{id:"parallelBrowsingMessage.creatingPlanV2",defaultMessage:"Making a research plan"},running:{id:"parallelBrowsingMessage.running_2",defaultMessage:"Visiting {numTasks, plural, one {# site} other {# sites}}"},almostDone:{id:"parallelBrowsingMessage.almostDone",defaultMessage:"Almost done"},cancelled:{id:"parallelBrowsingMessage.cancelledV2",defaultMessage:"Stopped doing research"},done:{id:"parallelBrowsingMessage.done",defaultMessage:"Finished research"}})}}]);
//# sourceMappingURL=5920.5c1d8f23370d4ad8.js.map