"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[211],{13350:function(e,t,r){r.d(t,{h:function(){return f},t:function(){return j}});var a,n,s,l=r(2346),o=r(19841),i=r(95182),c=r.n(i),d=r(15478),m=r(47563),u=r(43009),x=r(651);function f(e){let{currentPage:t,onChangeIndex:r,length:a,showInline:n=!1}=e,s=e=>{r(c()(t+e,0,a-1))};return(0,x.jsxs)("div",{className:(0,o.default)("flex items-center justify-center rounded-lg text-token-text-secondary",!n&&u.W.MessageAction),children:[(0,x.jsx)("button",{onClick:()=>s(-1),disabled:0===t,className:"flex h-[30px] w-[30px] items-center justify-center rounded-md hover:bg-token-main-surface-secondary disabled:opacity-50 disabled:hover:bg-transparent",children:(0,x.jsx)(m.DUf,{className:"icon-md-heavy"})}),(0,x.jsx)("div",{className:"px-0.5 text-sm font-semibold tabular-nums",children:"".concat(t+1,"/").concat(a)}),(0,x.jsx)("button",{onClick:()=>s(1),disabled:t===a-1,className:"flex h-[30px] w-[30px] items-center justify-center rounded-md hover:bg-token-main-surface-secondary disabled:opacity-50 disabled:hover:bg-transparent",children:(0,x.jsx)(m.ob9,{className:"icon-md-heavy"})})]})}function j(e){let{currentPage:t,onChangeIndex:r,length:a,className:n}=e,s=e=>{r(c()(t+e,0,a-1))};return 0===a?null:(0,x.jsxs)(b,{className:n,children:[(0,x.jsx)(g,{onClick:()=>s(-1),disabled:0===t,children:(0,x.jsx)(m.DUf,{className:"icon-sm"})}),(0,x.jsx)(v,{children:"".concat(t+1,"/").concat(a)}),(0,x.jsx)(g,{onClick:()=>s(1),disabled:t===a-1,children:(0,x.jsx)(m.ob9,{className:"icon-sm"})})]})}let b=d.Z.div(a||(a=(0,l.Z)(["text-xs inline-flex bg-token-main-surface-secondary h-8 border rounded border-token-border-medium"]))),g=d.Z.button(n||(n=(0,l.Z)(["text-token-text-secondary disabled:text-token-border-medium w-8 flex items-center justify-center hover:bg-token-main-surface-tertiary"]))),v=d.Z.span(s||(s=(0,l.Z)(["text-token-text-tertiary px-2 flex items-center font-mono tracking-widest"])))},60211:function(e,t,r){r.d(t,{ZP:function(){return W},bq:function(){return J},mJ:function(){return H},p5:function(){return F}});var a=r(98601),n=r(99333),s=r(97537),l=r(2721),o=r(31438),i=r(31498),c=r(56032),d=r(42420),m=r(88667),u=r(19841),x=r(70933),f=r(38482),j=r.n(f),b=r(92379),g=r(62984),v=r(75172),h=r(68306),p=r(68810),M=r(13350),y=r(98095),k=r(59144),Z=r(73062),U=r(36792),N=r(47563),C=r(24434),D=r(24740),w=r(18898),R=r(44087),O=r(651);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let I=j()(()=>r.e(6638).then(r.bind(r,76638)).then(e=>e.DirectorySyncResourceManagedIndication),{loadableGenerated:{webpack:()=>[76638]}}),P=(0,p.Ue)(()=>({confirmModalUserData:null})),B=e=>{P.setState({confirmModalUserData:e})},T=()=>{P.setState({confirmModalUserData:null})};function W(e){var t;let{workspaceId:r,filterInputValue:a}=e,{0:n,1:s}=(0,b.useState)(0),m=(0,i.aF)(),u=null==m?void 0:m.id,x=(0,R.Gk)(r),f=(0,R.bE)(r),j=x||f,v=(0,c.D)({mutationFn:e=>{let{userId:t,workspaceId:r,value:a}=e;return l.Z.updateWorkspaceUserRole(r,t,a).catch(e=>{D.m.danger("Unable to update user (".concat(t,") role: ").concat(e.message))})}}),h=function(e){let t=(0,d.NL)();return(0,c.D)({mutationFn:t=>{let{userId:r}=t;return l.Z.removeWorkspaceUser(e,r).catch(e=>{D.m.danger("Unable to remove user (".concat(r,") from workspace: ").concat(e.message))})},onSuccess:()=>{t.invalidateQueries({queryKey:["workspace",e]})}})}(r),{data:p}=(0,w.Z)(r,n*w.I,a),y=(0,b.useCallback)(e=>{B(e)},[]),k=(0,b.useCallback)(()=>{var e;let t=null===(e=P.getState().confirmModalUserData)||void 0===e?void 0:e.id;void 0!==t&&h.mutate({userId:t}),T()},[h]),Z=(0,b.useCallback)((e,t)=>{v.mutate({userId:e,value:t,workspaceId:r})},[v,r]);if(void 0===p)return(0,O.jsx)(J,{});let C=p.items,A=Math.ceil((null!==(t=p.total)&&void 0!==t?t:0)/w.I);return n>=A&&0!==A&&s(Math.max(A-1,0)),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(U.Z.Root,{fixed:!0,size:"normal",children:[(0,O.jsxs)(U.Z.Header,{children:[(0,O.jsx)(U.Z.HeaderCell,{className:"bg-token-main-surface-primary",children:(0,O.jsx)(g.Z,S({},q.name))}),(0,O.jsx)(U.Z.HeaderCell,{className:"bg-token-main-surface-primary",children:(0,O.jsx)(g.Z,S({},q.email))}),(0,O.jsx)(U.Z.HeaderCell,{className:"w-28 bg-token-main-surface-primary",children:(0,O.jsx)("span",{className:x?"pl-3":"",children:(0,O.jsx)(g.Z,S({},q.role))})}),j&&(0,O.jsx)(U.Z.HeaderCell,{className:"w-16 bg-token-main-surface-primary"})]}),(0,O.jsxs)(U.Z.Body,{children:[C.map(e=>(0,O.jsx)(E,{isCurrentUser:void 0!==u&&e.id===u,user:e,currentUserHasAdminRights:j,isCurrentUserOwner:x,onRemoveUserClick:()=>{var t,r;return y({id:e.id,name:null!==(t=e.name)&&void 0!==t?t:"",email:null!==(r=e.email)&&void 0!==r?r:"",created_time:e.created_time})},onUpdateUserRole:Z},e.id)),0===C.length&&(0,O.jsx)(U.Z.Row,{children:(0,O.jsx)(U.Z.Cell,{children:(0,O.jsx)("div",{className:"text-token-text-tertiary",children:(0,O.jsx)(g.Z,S({},q.noResults))})})})]})]}),(0,O.jsxs)("div",{className:"relative mb-8 mt-4 min-h-[20px]",children:[x&&(0,O.jsxs)("button",{onClick:()=>o.vm.openModal(o.B.InviteUsersToWorkspace),className:"flex items-center gap-2 text-token-text-secondary hover:text-token-text-primary",children:[(0,O.jsx)(N.Vz5,{className:"icon-sm"}),(0,O.jsx)(g.Z,S({},q.inviteMemberButton))]}),A>1&&(0,O.jsx)("div",{className:"absolute start-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 justify-center",children:(0,O.jsx)(M.t,{currentPage:n,onChangeIndex:s,length:A})})]}),(0,O.jsx)(_,{onDeleteConfirm:k})]})}function _(e){var t;let{onDeleteConfirm:r}=e,a=(0,v.Z)(),n=P(e=>null!==e.confirmModalUserData),s=P(e=>null===e.confirmModalUserData?{}:{userId:e.confirmModalUserData.id,email:e.confirmModalUserData.email,name:e.confirmModalUserData.name,dateAdded:(0,x.Z)(e.confirmModalUserData.created_time)});return(0,O.jsx)(C.Z,{isOpen:n,title:a.formatMessage(q.removeMemberModalTitle),onClose:()=>T(),type:"success",primaryButton:(0,O.jsx)(k.Z.Button,{title:a.formatMessage(q.removeMemberModalConfirm),color:"danger",onClick:r}),secondaryButton:(0,O.jsx)(k.Z.Button,{title:a.formatMessage(q.removeMemberModalCancel),color:"secondary",onClick:()=>T()}),children:(0,O.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[null!==(t=s.name)&&void 0!==t?t:s.email,(0,O.jsx)("div",{className:"text-token-text-tertiary",children:(0,O.jsx)(g.Z,S(S({},q.dateJoined),{},{values:{dateAdded:a.formatDate(s.dateAdded,{year:"numeric",month:"long",day:"numeric"})}}))})]})})}function E(e){var t;let{user:r,currentUserHasAdminRights:a,isCurrentUserOwner:n,isCurrentUser:s,onRemoveUserClick:l,onUpdateUserRole:o}=e,i=(0,R.Ap)()[r.role],c=null==r.name||""===r.name,{value:d}=(0,m.sB)("3999712942");return(0,O.jsxs)(U.Z.Row,{children:[(0,O.jsx)(U.Z.Cell,{children:(0,O.jsxs)("span",{className:(0,u.default)("flex flex-grow items-center justify-between gap-2",c&&"text-token-text-tertiary"),children:[(0,O.jsx)("span",{children:null!==(t=r.name)&&void 0!==t?t:(0,O.jsx)(g.Z,S({},q.missingName))}),s&&(0,O.jsx)("span",{children:(0,O.jsx)(g.Z,S({},q.youSpecifier))}),d&&r.is_scim_managed&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("span",{className:"flex-grow"}),(0,O.jsx)(I,{})]})]})}),(0,O.jsx)(U.Z.Cell,{children:r.email}),(0,O.jsx)(U.Z.Cell,{children:n?(0,O.jsx)(H,{currentRole:r.role,onUpdateUserRole:e=>{o(r.id,e)},disabled:s}):i}),a&&(0,O.jsx)(U.Z.Cell,{children:(0,O.jsx)(z,{userId:r.id,onRemoveUserClick:l,disabled:s})})]})}function H(e){let{currentRole:t,onUpdateUserRole:r,disabled:a=!1}=e,s=(0,R.Ap)();return(0,O.jsx)(Z.g,{disabled:a,defaultValue:t,onValueChange:e=>{r(e)},options:[{label:s[n.r3.STANDARD],value:n.r3.STANDARD},{label:s[n.r3.ADMIN],value:n.r3.ADMIN},{label:s[n.r3.OWNER],value:n.r3.OWNER}]})}function z(e){let{disabled:t,onRemoveUserClick:r,userId:a}=e;return t?null:(0,O.jsxs)(y.Z.Root,{children:[(0,O.jsx)(y.Z.Trigger,{className:"-my-2",children:(0,O.jsx)(N.nWS,{className:"icon-sm"})}),(0,O.jsx)(y.Z.Portal,{children:(0,O.jsx)(y.Z.Content,{children:(0,O.jsx)(y.Z.Item,{onClick:()=>{r(a)},children:(0,O.jsx)(g.Z,S({},q.removeMemberModalTitle))})})})]})}function F(e){var t;let{data:r}=(0,w.Z)(e);return null!==(t=null==r?void 0:r.total)&&void 0!==t?t:0}function J(){return(0,O.jsx)("div",{className:"flex w-full items-center justify-center",children:(0,O.jsx)(s.Z,{})})}let q=(0,h.vU)({name:{id:"UserManager.name",defaultMessage:"Name"},email:{id:"UserManager.email",defaultMessage:"Email"},role:{id:"UserManager.role",defaultMessage:"Role"},missingName:{id:"UserManager.missingName",defaultMessage:"No name provided"},youSpecifier:{id:"UserManager.youSpecifier",defaultMessage:"(You)"},removeUser:{id:"UserManager.removeUser",defaultMessage:"Remove user from workspace"},removeMemberModalTitle:{id:"UserManager.removeMemberModalTitle",defaultMessage:"Remove member"},removeMemberModalConfirm:{id:"UserManager.removeMemberModalConfirm",defaultMessage:"Delete"},removeMemberModalCancel:{id:"UserManager.removeMemberModalCancel",defaultMessage:"Cancel"},dateJoined:{id:"UserManager.dateJoined",defaultMessage:"Joined workspace on {dateAdded}"},inviteMemberButton:{id:"UserManager.inviteMemberButton",defaultMessage:"Invite member"},noResults:{id:"UserManager.noResults",defaultMessage:"No results"}})},18898:function(e,t,r){r.d(t,{I:function(){return s},Z:function(){return l}});var a=r(2721),n=r(84760);let s=25;function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return(0,n.a)({queryKey:["workspace",e,t,r],queryFn:async()=>await a.Z.getWorkspaceUsers(e,t,l,r),placeholderData:o,enabled:!!e})}},43009:function(e,t,r){r.d(t,{W:function(){return a}});let a={MessageAction:"z-10",ScrollToBottom:"z-10",PromptTextareaHeader:"z-20",TagGpt:"z-20"}}}]);
//# sourceMappingURL=211-3541f8ca4cfa2699.js.map