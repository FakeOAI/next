(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6377],{68039:function(e,t,n){var r=n(790),o=n(65064),i=n(43735),l=n(2428),a=n(71701),u=n(7757),s=n(92403),d=n(56868),c=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(a(e)&&(l(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||d(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(s(e))return!r(e).length;for(var n in e)if(c.call(e,n))return!1;return!0}},49030:function(e,t,n){"use strict";var r,o;n.d(t,{A:function(){return i},X:function(){return l}});let i=((r={})[r.None=0]="None",r[r.Multimodal=1]="Multimodal",r[r.Interpreter=2]="Interpreter",r[r.Retrieval=3]="Retrieval",r[r.ContextConnector=4]="ContextConnector",r[r.ProfilePicture=5]="ProfilePicture",r),l=((o={}).Uploading="uploading",o.Ready="ready",o)},3395:function(e,t,n){"use strict";n.d(t,{$H:function(){return g},$p:function(){return F},Ad:function(){return B},B:function(){return j},BV:function(){return I},CO:function(){return L},Iy:function(){return p},KL:function(){return U},L8:function(){return m},O6:function(){return y},Tu:function(){return N},VF:function(){return h},Vm:function(){return T},WI:function(){return P},YN:function(){return _},Z8:function(){return k},Zp:function(){return b},_0:function(){return M},kr:function(){return v},p0:function(){return C},s1:function(){return x},ww:function(){return w},xs:function(){return E}});var r=n(58554),o=n(61145),i=n(71727),l=n(2829),a=n(86705),u=n(70079),s=n(9063),d=n(68498),c=n(65733),f=n(49030);function p(e){return e.replace("file-service://","")}function m(e){return"file-service://"+e}function g(e){return e.startsWith("file-service://")}function v(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage(S.fileZeroBytes,n);case"file_too_large":return e.formatMessage(S.fileTooLarge,n);case"over_user_quota":return e.formatMessage(S.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage(S.fileNotFound,n);case"file_timed_out":return e.formatMessage(S.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage(S.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage(S.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage(S.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage(S.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage(S.fileEmpty,n);case"too_many_tokens":return e.formatMessage(S.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage(S.fileEncrypted,n);case"file_corrupted":return e.formatMessage(S.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage(S.failedUploadToBlobStore,n);default:return e.formatMessage(S.unknownError)}}function h(){let e=(0,s.Z)();return(0,u.useCallback)((t,n)=>v(e,t,n),[e])}function y(){let{session:e}=(0,l.kP)(),t=(0,s.Z)();return async(n,o)=>{if(null==e)return c.m.danger(t.formatMessage(S.fileDownloadFailed)),!1;try{var l;let e=await i.Z.getFileDownloadLink(n);if(e.status!==r.KF.Success)throw Error("File is not ready to download: "+JSON.stringify(e));let t=null===(l=e.metadata)||void 0===l||null===(l=l.context_connector)||void 0===l?void 0:l.url;if(null!=t)window.open(t,"_blank");else{let t=e.download_url,n=document.createElement("a");n.href=t,n.download=o,n.click(),window.open(t,"_blank")}}catch(e){return c.m.danger(t.formatMessage(S.fileDownloadFailed)),!1}return!0}}function w(e,t){if((null==t?void 0:t.kind)===o.OL.GizmoInteraction||(null==t?void 0:t.kind)===o.OL.GizmoTest){var n;return null===(n=t.gizmo)||void 0===n?void 0:n.product_features}return null==e?void 0:e.product_features}function _(e,t){var n,o,i,l;let a=w(e,t);return(null==a||null===(n=a.attachments)||void 0===n?void 0:n.type)===r.Cd.CodeInterpreter?f.A.Interpreter:(null==a||null===(o=a.attachments)||void 0===o?void 0:o.type)===r.Cd.Multimodal?f.A.Multimodal:(null==a||null===(i=a.attachments)||void 0===i?void 0:i.type)===r.Cd.Retrieval?f.A.Retrieval:(null==a||null===(l=a.attachments)||void 0===l?void 0:l.type)===r.Cd.ContextConnector?f.A.ContextConnector:f.A.None}function x(e){var t;let n=null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase();return({md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp"})[null!=n?n:""]||""}function E(e,t,n,r,o){if(null==o)return e;let i=x(t);i&&(n=i),r&&(n=function(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":return"text/plain";default:return e}}(n));let{accepted_mime_types:l,can_accept_all_mime_types:a}=o;return null!=l&&0!==l.length&&a?l.includes(n)?e:f.A.Interpreter:e}function M(e,t,n){var o,i,l;let a=""!==t?t:x(n),u=null==e||null===(o=e.product_features)||void 0===o?void 0:o.attachments;return null==u?void 0:null!==(i=u.accepted_mime_types)&&void 0!==i&&i.includes(a)?u.type:null!==(l=u.image_mime_types)&&void 0!==l&&l.includes(a)?r.Cd.Multimodal:r.Cd.CodeInterpreter}function b(e,t){var n,r;let o=w(e,t);return null!=o&&null!==(n=o.attachments)&&void 0!==n&&n.can_accept_all_mime_types?void 0:null==o||null===(r=o.attachments)||void 0===r?void 0:r.accepted_mime_types}function C(e,t){let n=w(e,t),{attachments:r}=null!=n?n:{};if(null!=r&&r.image_mime_types)return r.image_mime_types;if((null==r?void 0:r.type)==="multimodal"){var o;return null!==(o=r.accepted_mime_types)&&void 0!==o?o:U}return[]}let U=["image/png","image/jpeg","image/gif","image/webp"];function k(e){return(0,u.useMemo)(()=>{if(void 0===e)return{};let t={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]};return{accept:e.reduce((e,n)=>(n in t?e[n]=t[n]:n.includes("/")&&(e[n]=[".".concat(n.split("/")[1])]),e),{})}},[e])}function F(e){var t;return null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()}function L(e){let t=F(e);return null!=t&&["jpg","jpeg","png","gif","webp"].includes(t)}function T(e){let t=F(e);return null!=t&&["xls","xlsx","csv"].includes(t)}function I(e){let t=F(e);return null!=t&&["xls","xlsx"].includes(t)}function N(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fit";return new Promise((r,o)=>{let i=new FileReader;i.onerror=e=>{a.U.addError(Error("File reading has failed:",{cause:e})),o(Error("Failed to read the file."))},i.onload=i=>{let l=new Image;l.onerror=e=>{a.U.addError(Error("Image loading has failed:",{cause:e})),o(Error("Failed to load the image."))},l.onload=()=>{let i=document.createElement("canvas"),u,s=0,d=0;switch(n){case"fill":case"square":u=t/Math.min(l.width,l.height);break;case"fit":u=t/Math.max(l.width,l.height)}let c=l.width*u,f=l.height*u;"square"===n?(i.width=t,i.height=t,s=(t-c)/2,d=(t-f)/2):(i.width=c,i.height=f);let p=i.getContext("2d");if(null==p){a.U.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),o(Error("Failed to create canvas context."));return}p.drawImage(l,s,d,c,f);let m=e.type||"image/png";i.toBlob(t=>{t?r(new File([t],e.name,{type:m})):(a.U.addError("Blob creation failed. Blob is null."),o(Error("Failed to create blob from image data.")))},m)},null==i.target?(a.U.addError("Event target is null. Failed to load image."),o("Failed to load image.")):l.src=i.target.result},i.readAsDataURL(e)})}function P(e,t){return N(e,t,"square")}function j(e){var t,n;let r=null!==(t=e.name.split("/"))&&void 0!==t?t:[];return(null!==(n=r[r.length-1])&&void 0!==n?n:"").replace(/[-_]/g," ").split(".")[0]}function B(e,t){return t?e.slice(0,-t.length-1):e}let S=(0,d.vU)({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}})},42483:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});let r=["moz","ms","o","webkit"];function o(e){return e?e+"Hidden":"hidden"}function i(e){let t=function(){for(let e=0;e<r.length;e++)if(o(r[e]) in document)return r[e];return null}(),n=(t||"")+"visibilitychange";function i(n){return"boolean"==typeof n?n?e.onVisible():e.onHidden():document[o(t)]?e.onHidden():e.onVisible()}return document.addEventListener(n,i,!1),document.addEventListener("focus",e.onVisible,!1),document.addEventListener("blur",e.onHidden,!1),window.addEventListener("focus",e.onVisible,!1),window.addEventListener("blur",e.onHidden,!1),()=>{document.removeEventListener(n,i,!1),document.removeEventListener("focus",e.onVisible,!1),document.removeEventListener("blur",e.onHidden,!1),window.removeEventListener("focus",e.onVisible,!1),window.removeEventListener("blur",e.onHidden,!1)}}},47573:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70079);function o(e,t,n){(0,r.useInsertionEffect)(()=>e.on(t,n),[e,t,n])}},67482:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(70079),o=n(76930),i=n(74516),l=n(85578);function a(e){let t=(0,l.h)(()=>(0,o.BX)(e)),{isStatic:n}=(0,r.useContext)(i._);if(n){let[,n]=(0,r.useState)(e);(0,r.useEffect)(()=>t.on("change",n),[])}return t}},64411:function(e,t,n){"use strict";n.d(t,{q:function(){return d}});var r=n(70079),o=n(38874),i=n(67482),l=n(74516),a=n(5607),u=n(48697),s=n(59788);function d(e,t={}){let{isStatic:n}=(0,r.useContext)(l._),d=(0,r.useRef)(null),c=(0,i.c)((0,o.i)(e)?e.get():e),f=()=>{d.current&&d.current.stop()};return(0,r.useInsertionEffect)(()=>c.attach((e,r)=>{if(n)return r(e);let o=d.current;return o&&0===o.time&&o.sample(s.frameData.delta),f(),d.current=(0,u.y)({keyframes:[c.get(),e],velocity:c.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:r}),c.get()},f),[JSON.stringify(t)]),(0,a.L)(()=>{if((0,o.i)(e))return e.on("change",e=>c.set(parseFloat(e)))},[c]),c}}}]);
//# sourceMappingURL=6377.d43a3f9ddd9e96dc.js.map