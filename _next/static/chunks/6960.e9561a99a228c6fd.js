"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6960,4169],{89905:function(e,t,n){n.d(t,{Z:function(){return y}});var o,s,i,r=n(2346),a=n(99333),c=n(58025),l=n(79746),d=n(19841),u=n(92379),f=n(75172),m=n(62984),g=n(15478),p=n(39358),h=n(16779),b=n(41871),w=n(651);function y(e){let{children:t,className:n,language:o,content:s,shouldWrapCode:i}=e,r=(0,u.useCallback)(()=>{(0,l.v)(s)},[s]),a=(0,f.Z)(),{isWithinDataAnalysisToolMessage:c}=(0,u.useContext)(b.cm);return(0,w.jsx)(x,{title:o,shouldWrapCode:i,headerDecoration:(0,w.jsxs)("div",{className:"flex items-center",children:[c&&(0,w.jsx)(v,{}),(0,w.jsx)(p.Z,{buttonText:a.formatMessage({id:"zIa6ZQ",defaultMessage:"Copy code"}),onCopy:r})]}),codeClassName:n,children:t})}function v(){let e=(0,c.Gt)(),{data:t=!1}=(0,c.R1)(a.sh.ShowExpandedCodeView),n=(0,f.Z)();return(0,w.jsxs)("div",{className:"mr-2 flex items-center gap-2 border-r border-token-border-medium pr-2",children:[(0,w.jsx)("label",{htmlFor:"ada-always-show",children:(0,w.jsx)(m.Z,{defaultMessage:"Always show details",id:"message.tools.codeInterpreter.alwaysShowAnalysis"})}),(0,w.jsx)(h.Z,{id:"ada-always-show",size:"small",onChange:t=>{e.mutate({setting:a.sh.ShowExpandedCodeView,value:t})},enabled:t,label:t?n.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis on",id:"message.tools.codeInterpreter.alwaysShowAnalysis.enabled"}):n.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis off",id:"message.tools.codeInterpreter.alwaysShowAnalysis.disabled"})})]})}function x(e){let{children:t,title:n,headerDecoration:o,shouldWrapCode:s=!1,className:i,codeContainerClassName:r,codeClassName:a}=e;return(0,w.jsxs)(j,{className:i,children:[(null!=n||null!=o)&&(0,w.jsxs)(O,{children:[n&&(0,w.jsx)("span",{children:n}),o]}),(0,w.jsx)(T,{className:r,children:(0,w.jsx)(L,{$shouldWrap:s,className:a,children:t})})]})}let j=g.Z.div(o||(o=(0,r.Z)(["dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"]))),O=g.Z.div(s||(s=(0,r.Z)(["flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"]))),T=function(e){let{children:t,className:n}=e;return(0,w.jsx)("div",{className:(0,d.default)("overflow-y-auto p-4",n),dir:"ltr",children:t})},L=g.Z.code(i||(i=(0,r.Z)(["",""])),e=>e.$shouldWrap?"!whitespace-pre-wrap":"!whitespace-pre")},39358:function(e,t,n){n.d(t,{Z:function(){return b}});var o,s=n(2346),i=n(98601),r=n(92379),a=n(68306),c=n(62984),l=n(15478),d=n(15174),u=n(30853),f=n(47563),m=n(651);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let h=(0,a.vU)({copy:{id:"CopyButton.copy",defaultMessage:"Copy"},copied:{id:"CopyButton.copied",defaultMessage:"Copied!"}});function b(e){let{buttonText:t,shouldChangeText:n=!0,iconClassName:o="icon-sm",onCopy:s,className:i}=e,{0:a,1:l}=(0,r.useState)(!1),g=(0,d.Z)(),b=(0,r.useCallback)(e=>{e.stopPropagation(),s(),l(!0),setTimeout(()=>{g()&&l(!1)},2e3)},[g,s]),y=t;return n&&a?y=(0,m.jsx)(c.Z,p({},h.copied)):!0===t&&(y=(0,m.jsx)(c.Z,p({},h.copy))),(0,m.jsxs)(m.Fragment,{children:[!a&&(0,m.jsx)(u.u,{label:(0,m.jsx)(c.Z,{id:"CopyButton.copyTooltip",defaultMessage:"Copy"}),sideOffset:0,children:(0,m.jsxs)(w,{onClick:b,className:i,children:[(0,m.jsx)(f.TIy,{className:o}),y]})}),a&&(0,m.jsxs)(w,{className:i,children:[(0,m.jsx)(f.$As,{className:o}),y]})]})}let w=l.Z.button(o||(o=(0,s.Z)(["flex gap-1 items-center"])))},88398:function(e,t,n){n.d(t,{R:function(){return i}});let o=["moz","ms","o","webkit"];function s(e){return e?e+"Hidden":"hidden"}function i(e){let t=function(){for(let e=0;e<o.length;e++)if(s(o[e]) in document)return o[e];return null}(),n=(t||"")+"visibilitychange";function i(n){return"boolean"==typeof n?n?e.onVisible():e.onHidden():document[s(t)]?e.onHidden():e.onVisible()}return document.addEventListener(n,i,!1),document.addEventListener("focus",e.onVisible,!1),document.addEventListener("blur",e.onHidden,!1),window.addEventListener("focus",e.onVisible,!1),window.addEventListener("blur",e.onHidden,!1),()=>{document.removeEventListener(n,i,!1),document.removeEventListener("focus",e.onVisible,!1),document.removeEventListener("blur",e.onHidden,!1),window.removeEventListener("focus",e.onVisible,!1),window.removeEventListener("blur",e.onHidden,!1)}}},17096:function(e,t,n){n.d(t,{Z:function(){return s}});var o=n(92379);function s(){let e=(0,o.useRef)([]),t=(0,o.useRef)((t,n)=>{let o=setTimeout(t,n);return e.current.push(o),o});return(0,o.useEffect)(()=>{let t=e.current;return()=>{t.forEach(e=>{clearTimeout(e)})}},[]),t.current}},27393:function(e,t,n){n.d(t,{Ef:function(){return g},UG:function(){return p},dG:function(){return l},gb:function(){return h},mK:function(){return m}});var o,s=n(98601),i=n(37671),r=n(82363),a=n(92379);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}let l=((o={}).SonicHome="sonic.web.home",o.SonicServer="sonic.ssr.search",o.ChatPageLoad="chatgpt.web.pageLoad",o.CompletionRequest="chatgpt.web.completionRequest",o.ProofOfWork="chatgpt.web.proofOfWork",o);class d{constructor(e,t){var n,o;(0,s.Z)(this,"expectedTimingLogTimeouts",{}),(0,s.Z)(this,"startMs",-1),(0,s.Z)(this,"lastLogMs",-1),(0,s.Z)(this,"loggedTimings",new Set),(0,s.Z)(this,"timingBlocks",{}),(0,s.Z)(this,"debug",!1),this.namespace=e,this.expectedTimingLogs=null!==(n=null==t?void 0:t.expectedTimingLogs)&&void 0!==n?n:[],this.debug=null!==(o=null==t?void 0:t.debug)&&void 0!==o&&o,this.reset()}reset(){for(let e of(this.startMs=this.lastLogMs=performance.now(),this.timingBlocks={},this.loggedTimings=new Set,Object.values(this.expectedTimingLogTimeouts)))clearTimeout(e);for(let e of(this.expectedTimingLogTimeouts={},this.expectedTimingLogs)){let t=setTimeout(()=>{var t;r.U.addAction("".concat(this.namespace,".").concat(e.name,".timed_out"),null!==(t=e.initializationInfo)&&void 0!==t?t:{})},e.expectedInMs);this.expectedTimingLogTimeouts[e.name]=t,this.debug&&console.debug("[DatadogProfiler] Expecting ".concat(this.namespace,".").concat(e.name," to be logged within ").concat(e.expectedInMs,"ms"))}}logTiming(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromLastLog:!1};if(this.loggedTimings.has(e)){console.warn("[DatadogProfiler] Timing ".concat(this.namespace,".").concat(e," already logged"));return}let n=performance.now()-(t.fromLastLog?this.lastLogMs:this.startMs);r.U.addAction("".concat(this.namespace,".").concat(e),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({durationMs:n},t.context)),this.lastLogMs=performance.now(),this.loggedTimings.add(e),e in this.expectedTimingLogTimeouts&&(clearTimeout(this.expectedTimingLogTimeouts[e]),delete this.expectedTimingLogTimeouts[e]),this.debug&&console.debug("[DatadogProfiler] ".concat(this.namespace,".").concat(e,": ").concat(n,"ms"))}startBlock(e){this.timingBlocks[e]=performance.now()}endBlock(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{throwError:!0},n=this.timingBlocks[e];if(void 0===n&&t.throwError)throw Error("Block ".concat(e," not started"));let o=performance.now()-n;r.U.addAction("".concat(this.namespace,".").concat(e),{durationMs:o}),delete this.timingBlocks[e]}}let u={},f="__global__";function m(e){let{namespace:t,key:n=f,opts:o}=e;void 0===u[t]&&(u[t]={});let s=(0,i.S)(u[t]);return void 0!==s[n]&&r.U.addError("Profiler already exists for namespace ".concat(t," and key ").concat(n)),s[n]=new d(t,o),s[n]}function g(e){let{namespace:t,key:n=f}=e;if(void 0!==u[t])return(0,i.S)(u[t])[n]}function p(e){let{namespace:t,key:n=f}=e;if(void 0!==u[t]){let e=(0,i.S)(u[t]);delete e[n]}}function h(e){let{namespace:t,key:n=f,opts:o}=e,{0:s}=(0,a.useState)(()=>m({namespace:t,key:n,opts:o}));return s}}}]);
//# sourceMappingURL=6960.e9561a99a228c6fd.js.map