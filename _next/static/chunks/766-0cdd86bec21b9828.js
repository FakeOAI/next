"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{87200:function(e,l,n){n.d(l,{Z:function(){return v}});var a=n(94521),i=n(5443),s=n(49217),t=n(10852),r=n(35226),o=n(91530),d=n.n(o),c=n(92379),u=n(75172),m=n(62984),g=n(68306),p=n(651);function f(e,l){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);l&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,a)}return n}function y(e){for(var l=1;l<arguments.length;l++){var n=null!=arguments[l]?arguments[l]:{};l%2?f(Object(n),!0).forEach(function(l){(0,a.Z)(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}function v(e){let{isOpen:l,onClose:n,account:a,gpt:o}=e,g=(0,u.Z)(),{0:f,1:v}=(0,c.useState)(!1),x=(0,r.NL)();return(0,p.jsxs)(s.Z,{size:"custom",className:"max-w-lg text-sm",isOpen:l,onClose:d(),type:"success",title:g.formatMessage(h.removeModalTitle),children:[(0,p.jsx)("p",{className:"mb-4 text-token-text-primary",children:(0,p.jsx)(m.Z,y(y({},h.removeModalPrompt),{},{values:{gptName:o.gizmo.display.name}}))}),(0,p.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,p.jsx)(i.z,{color:"secondary",onClick:()=>{n(!1)},loading:f,children:(0,p.jsx)(m.Z,y({},h.cancelButtonText))}),(0,p.jsx)(i.z,{color:"danger",loading:f,onClick:()=>{v(!0),t.Z.removeThirdPartyGPTFromWorkspace(a.id,o.gizmo.id).finally(()=>{x.invalidateQueries({queryKey:["gizmo"]}),n(!0),v(!1)})},children:(0,p.jsx)(m.Z,y({},h.removeButtonText))})]})]})}let h=(0,g.vU)({removeModalTitle:{id:"removeThirdPartyGPTModal.accessModalTitle",defaultMessage:"Remove GPT from workspace"},removeModalPrompt:{id:"removeThirdPartyGPTModal.accessModalPrompt",defaultMessage:"Are you sure you want to revoke approval of {gptName} for your workspace? Members won't be able to chat with this GPT anymore."},cancelButtonText:{id:"removeThirdPartyGPTModal.cancelButtonText",defaultMessage:"Cancel"},removeButtonText:{id:"removeThirdPartyGPTModal.removeButtonText",defaultMessage:"Remove GPT"}})},40766:function(e,l,n){n.d(l,{Bo:function(){return es},Eu:function(){return ea},j4:function(){return en}});var a,i,s,t,r=n(94521),o=n(41141),d=n(21904),c=n(35131),u=n(55371),m=n(14816),g=n(93747),p=n(15236),f=n(48580),y=n(19841),v=n(556),h=n(18939),x=n.n(h),k=n(96594),j=n.n(k),b=n(40319),z=n.n(b),S=n(92379),w=n(62984),G=n(68306),C=n(74091),F=n(5443),N=n(50684),P=n(67165),L=n(14975),D=n(3445),T=n(49217),M=n(82823),O=n(17903),K=n(46868),R=n(56029),I=n(651);function Z(e,l){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);l&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,a)}return n}function E(e){for(var l=1;l<arguments.length;l++){var n=null!=arguments[l]?arguments[l]:{};l%2?Z(Object(n),!0).forEach(function(l){(0,r.Z)(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}let A=C.Z.div(a||(a=(0,o.Z)(["font-bold mt-6"]))),_=e=>(0,m.a)({queryFn:async()=>R.U.getAbout(e),queryKey:["gizmo","about",{gizmoId:e}]}),U=e=>(0,m.a)({queryFn:async()=>R.U.getCreatorSlice({creatorId:e}),queryKey:["gizmo","creator",{creatorId:e}],enabled:null!=e}),q=e=>{switch(e.type){case d.qK.BROWSER:return{title:et.browsing};case d.qK.PYTHON:return{title:et.dataAnalysis};case d.qK.DALLE:return{title:et.dalle};case d.qK.MEMORY:return{title:et.memory,description:et.memoryDescription};case d.qK.JIT_PLUGIN:return{title:et.actions,description:et.actionsDescription};default:return null}},B=e=>{var l;let{tools:n}=e,a=j()(null!=n?n:[],e=>e.type),i=x()(null!==(l=a.map(q).filter(e=>null!=e))&&void 0!==l?l:[]);return 0===i.length?null:(0,I.jsxs)("div",{className:"flex flex-col",children:[(0,I.jsx)(A,{className:"mb-2",children:(0,I.jsx)(w.Z,{id:"gizmo.about.capabilitiesHeader",defaultMessage:"Capabilities"})}),i.map(e=>(0,I.jsxs)("div",{className:"flex flex-row items-start gap-2 py-1 text-sm",children:[(0,I.jsx)(D.$As,{className:"icon-sm mt-0.5 text-green-600"}),(0,I.jsxs)("div",{children:[(0,I.jsx)(w.Z,E({},e.title)),null!=e.description&&(0,I.jsx)("div",{className:"text-xs text-token-text-tertiary",children:(0,I.jsx)(w.Z,E({},e.description))})]})]},e.title.id))]})},V=C.Z.div(i||(i=(0,o.Z)(["flex flex-col justify-center items-center gap-2 border-l border-token-border-heavy first:border-0 w-48 mt-4 px-2"]))),W=C.Z.div(s||(s=(0,o.Z)(["flex flex-row items-center gap-1.5 pt-1 text-xl font-semibold text-center leading-none"]))),Q=C.Z.div(t||(t=(0,o.Z)(["text-xs text-token-text-tertiary"]))),$=e=>{let{gizmoResource:l}=e;return(0,I.jsxs)(P.d,{contentAlign:"end",sideOffset:4,triggerButton:(0,I.jsx)(F.z,{color:"ghost",icon:D.nWS}),children:[(0,I.jsx)(O.GizmoKeepInSidebarMenuItem,{gizmoResource:l}),(0,I.jsx)(O.GizmoShareMenuItem,{gizmoResource:l})]})},H=e=>{let{aboutBlock:l}=e;switch(l.type){case"generic_title_subtitle":return(0,I.jsxs)(V,{children:[(0,I.jsx)(W,{children:l.title}),(0,I.jsx)(Q,{children:l.subtitle})]});case"rating":return(0,I.jsxs)(V,{children:[(0,I.jsxs)(W,{children:[(0,I.jsx)(D.e0l,{className:"icon-sm"}),l.avg]}),(0,I.jsx)(Q,{children:l.count_str})]});case"category":var n;if(null==l.category_ranking)return(0,I.jsxs)(V,{children:[(0,I.jsx)(W,{children:l.category_str}),(0,I.jsx)(Q,{children:(0,I.jsx)(w.Z,{id:"gizmo.about.category",defaultMessage:"Category"})})]});return(0,I.jsxs)(V,{children:[(0,I.jsx)(W,{children:(0,I.jsx)(w.Z,{id:"gizmo.about.trendingRank",defaultMessage:"#{rank}",values:{rank:l.category_ranking}})}),(0,I.jsx)(Q,{children:(0,I.jsx)(w.Z,{id:"gizmo.about.inCategory",defaultMessage:"in {category} {locale}",values:{category:l.category_str,locale:null!==(n=l.category_locale_str)&&void 0!==n?n:""}})})]})}},J=e=>{let{blocks:l}=e;return(0,I.jsx)("div",{className:"flex justify-center",children:l.map(e=>(0,I.jsx)(H,{aboutBlock:e},e.type))})},Y=e=>{let{href:l,onClick:n,children:a}=e;return(0,I.jsx)(v.E.div,{whileTap:{scale:.98},className:"flex",children:(0,I.jsxs)(z(),{href:l,onClick:n,className:(0,y.default)("group relative ml-2 h-14 flex-grow rounded-xl border border-token-border-medium bg-token-main-surface-primary px-4 hover:bg-token-main-surface-secondary focus:outline-none"),children:[(0,I.jsx)("div",{className:"flex h-full items-center",children:(0,I.jsx)("div",{className:"line-clamp-2 text-sm",children:a})}),(0,I.jsx)("div",{className:"absolute -bottom-px -left-2 h-3 w-4 border-b border-token-border-medium bg-token-main-surface-primary group-hover:bg-token-main-surface-secondary",children:(0,I.jsx)("div",{className:"h-3 w-2 rounded-br-full border-b border-r border-token-border-medium bg-token-main-surface-primary"})}),(0,I.jsx)("div",{className:"absolute bottom-0 right-2 top-0 hidden items-center group-hover:flex",children:(0,I.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-token-main-surface-primary",children:(0,I.jsx)(D.kBi,{className:"icon-md text-token-text-primary"})})})]})})},X=e=>{var l;let{gizmo:n,onClose:a}=e,i=(0,f.sB)("1825130190").value,s=null===(l=n.gizmo.display.prompt_starters)||void 0===l?void 0:l.slice(0,4);return null!=s&&0!==s.length&&i?(0,I.jsxs)("div",{className:"flex flex-col",children:[(0,I.jsx)(A,{children:(0,I.jsx)(w.Z,{id:"gizmo.about.conversationStartersHeader",defaultMessage:"Conversation Starters"})}),(0,I.jsx)("div",{className:"mt-4 grid grid-cols-2 gap-x-1.5 gap-y-2",children:s.map((e,l)=>(0,I.jsx)(ee,{gizmo:n,prompt:e,onClick:a},l))})]}):null};function ee(e){var l;let{gizmo:n,prompt:a,onClick:i}=e,s=(0,M.EF)(n,a);return(0,I.jsx)(Y,{href:null!==(l=null==s?void 0:s.toString())&&void 0!==l?l:"#",onClick:i,children:a})}let el=e=>{let{reviewStats:l}=e;return(0,f.sB)("1825130190").value?(0,I.jsxs)("div",{className:"flex flex-col",children:[(0,I.jsx)("div",{className:"mb-2",children:(0,I.jsx)(A,{children:(0,I.jsx)(w.Z,{id:"gizmo.about.ratingsHeader",defaultMessage:"Ratings"})})}),null!=l?[5,4,3,2,1].map(e=>{var n;return(0,I.jsxs)("div",{className:"flex flex-row items-center gap-2 py-1 text-xl font-semibold",children:[(0,I.jsxs)("div",{className:"icon-lg relative",children:[(0,I.jsx)(D.e0l,{className:"icon-lg text-green-500"}),(0,I.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-[11px] text-white",children:e})]}),(0,I.jsx)("div",{className:"h-2.5 flex-grow overflow-hidden rounded-full bg-gray-100 dark:bg-gray-700",children:(0,I.jsx)("div",{className:"h-full bg-green-500",style:{width:"".concat((null!==(n=null==l?void 0:l.by_rating[e-1])&&void 0!==n?n:0)*100,"%")}})})]},e)}):(0,I.jsx)("div",{className:"text-sm text-token-text-tertiary",children:(0,I.jsx)(w.Z,{id:"gizmo.about.ratings.notEnoughRatings",defaultMessage:"Not enough ratings yet"})})]}):null},en=e=>{let{gizmoId:l,creatorId:n}=e;return(0,u.EV)(u.B.GPTDetails)?(0,I.jsx)(ea,{gizmoId:l,creatorId:n,onClose:()=>u.vm.closeModal(u.B.GPTDetails)}):null},ea=e=>{var l;let{gizmoId:n,creatorId:a,onClose:i,children:s}=e,t=_(n),{data:r}=U(a),o=null===(l=t.data)||void 0===l?void 0:l.gizmo,d=(0,M.b9)(n),c=null==d?void 0:d.data;return(0,S.useEffect)(()=>{g.A.logEvent(p.M.showDetailModal,{gizmo_id:n})},[n]),(0,I.jsx)(T.Z,{isOpen:!0,onClose:i,type:"success",hideSeparator:!0,showCloseButton:!0,noPadding:!0,className:"flex h-[calc(100vh-25rem)] min-h-[80vh] max-w-xl flex-col",children:(0,I.jsx)("div",{className:"relative flex h-full flex-col gap-2 overflow-hidden px-2 py-4",children:t.isLoading||d.isLoading?(0,I.jsx)("div",{className:"flex h-40 items-center justify-center pb-10",children:(0,I.jsx)(N.Z,{})}):null==o||null==c||null==t.data?(0,I.jsx)("div",{className:"flex flex-col gap-4 pb-10",children:(0,I.jsx)(w.Z,{id:"gizmo.about.notFound",defaultMessage:"GPT not found"})}):(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:"relative flex flex-grow flex-col gap-4 overflow-y-auto px-6 pb-20 pt-16",children:[(0,I.jsx)("div",{className:"absolute top-0",children:(0,I.jsxs)("div",{className:"fixed left-4 right-4 z-10 flex items-center justify-end bg-gradient-to-b from-token-main-surface-primary to-transparent pb-2",children:[c&&(0,I.jsx)($,{gizmoResource:c}),(0,I.jsx)(L.P,{onClick:i})]})}),(0,I.jsx)("div",{className:"absolute bottom-[64px]",children:(0,I.jsx)("div",{className:"fixed left-4 right-4 z-10 flex min-h-[64px] items-end bg-gradient-to-t from-token-main-surface-primary to-transparent px-2",children:s})}),(0,I.jsx)(K.r,{gizmo:c,className:"!h-fit",avatarClassName:"!h-20 !w-20"}),(0,I.jsx)(J,{blocks:t.data.about_blocks}),(0,I.jsx)(X,{gizmo:c,onClose:i}),(0,I.jsx)(B,{tools:c.tools}),(0,I.jsx)(el,{reviewStats:t.data.review_stats}),r&&(0,I.jsx)(ei,{gizmos:r.items})]})})})})};function ei(e){let{gizmos:l}=e;return l.length>0?(0,I.jsxs)("div",{className:"flex flex-col",children:[(0,I.jsx)("div",{className:"mb-2",children:(0,I.jsx)(A,{children:(0,I.jsx)(w.Z,{id:"gizmo.about.moreByHeader",defaultMessage:"More by {creatorName}",values:{creatorName:l[0].gizmo.author.display_name}})})}),(0,I.jsx)("div",{className:(0,y.default)("no-scrollbar group flex min-h-[104px] items-center space-x-2 overflow-x-auto overflow-y-hidden"),children:l&&l.map(e=>(0,I.jsx)("a",{onClick:()=>{g.A.logEvent(p.M.detailClickGizmo,{gizmo_id:e.gizmo.id})},href:(0,M.m_)(e),className:"h-fit min-w-fit rounded-xl bg-token-main-surface-secondary px-1 py-4 md:px-3 md:py-4 lg:px-3",children:(0,I.jsx)(c.Xq,{resource:e})},e.gizmo.id))})]}):null}let es=e=>(0,I.jsx)("div",{className:"flex flex-grow flex-col items-center",children:(0,I.jsxs)(F.z,E(E({color:"primary",className:"h-12 w-full",icon:D.kBi},e),{},{children:[(0,I.jsx)(w.Z,{id:"gizmo.about.startChat",defaultMessage:"Start Chat"}),e.children]}))}),et=(0,G.vU)({browsing:{id:"gizmo.about.tools.browsing",defaultMessage:"Browsing"},dataAnalysis:{id:"gizmo.about.tools.dataAnalysis",defaultMessage:"Code Interpreter & Data Analysis"},dalle:{id:"gizmo.about.tools.dalle",defaultMessage:"DALL\xb7E Images"},memory:{id:"gizmo.about.tools.memory",defaultMessage:"Memory"},actions:{id:"gizmo.about.tools.actions",defaultMessage:"Actions"},actionsDescription:{id:"gizmo.about.tools.actionsDescription",defaultMessage:"Retrieves or takes actions outside of ChatGPT"},memoryDescription:{id:"gizmo.about.tools.memoryDescription",defaultMessage:"Learns from previous chats to improve future conversations"}})},40876:function(e,l,n){n.d(l,{S:function(){return x},X:function(){return h}});var a=n(55257),i=n(82823),s=n(2915),t=n(18454),r=n(48580),o=n(19841),d=n(40319),c=n.n(d),u=n(92379),m=n(62984),g=n(5443),p=n(46868),f=n(69817),y=n(80006),v=n(651);function h(e){var l;let{gizmo:n}=e,a=(0,i.i6)(n),{0:o,1:d}=(0,u.useState)(!1),c=null===(l=(0,r.sB)("1855896025"))||void 0===l?void 0:l.value,g=(0,t.b)();return(0,v.jsxs)("div",{className:"flex h-full flex-col",children:[(0,v.jsx)(s.N,{gizmo:n}),(0,v.jsx)(x,{redirectUrl:a}),(0,v.jsxs)("div",{className:"flex grow flex-col items-center justify-center p-2",children:[(0,v.jsx)(p.r,{gizmo:n,isAnon:!0,children:(0,v.jsxs)("div",{className:"mt-7 flex flex-col items-center gap-4",children:[(0,v.jsx)(y.p,{onClick:()=>g({callbackUrl:a}),children:(0,v.jsx)(m.Z,{id:"gizmo.anonLandingPage.login",defaultMessage:"Sign up to chat"})}),(0,v.jsxs)("div",{className:"flex gap-2 whitespace-nowrap text-sm text-token-text-tertiary",children:[(0,v.jsx)("div",{children:(0,v.jsx)(m.Z,{id:"gizmo.anonLandingPage.loginSubtext",defaultMessage:"Sign up or Log in to chat"})}),c&&(0,v.jsxs)(v.Fragment,{children:["|",(0,v.jsx)("div",{onClick:()=>d(!0),className:"cursor-pointer",children:(0,v.jsx)(m.Z,{id:"gizmo.anonLandingPage.report",defaultMessage:"Report illegal content"})})]})]})]})}),o&&(0,v.jsx)(f.W,{onClose:()=>d(!1),gizmoId:n.gizmo.id})]})]})}function x(e){let{redirectUrl:l,className:n}=e,a=(0,t.b)();return(0,v.jsxs)("div",{className:(0,o.default)("flex items-center justify-between px-7 py-4",n),children:[(0,v.jsx)(k,{}),(0,v.jsx)(g.z,{color:"primary",onClick:()=>a({callbackUrl:l}),children:(0,v.jsx)(m.Z,{id:"gizmo.anonLandingPage.signup",defaultMessage:"Sign up"})})]})}function k(){return(0,v.jsx)(c(),{href:"/",children:(0,v.jsx)(a.nI,{className:"h-8 w-8"})})}},35131:function(e,l,n){n.d(l,{Xq:function(){return eZ},fN:function(){return ev},n_:function(){return eE}});var a,i,s,t,r,o,d,c,u,m,g=n(94521),p=n(41141),f=n(21904),y=n(5443),v=n(50684),h=n(82823),x=n(2933),k=n(16645),j=n(44254),b=n(4702),z=n(55371),S=n(98506),w=n(27860),G=n(79688),C=n(20876),F=n(93747),N=n(15236),P=n(17927),L=n(48580),D=n(19841),T=n(88281),M=n(18939),O=n.n(M),K=n(96594),R=n.n(K),I=n(40319),Z=n.n(I),E=n(43128),A=n(92379),_=n(62984),U=n(75172),q=n(68306),B=n(6522),V=n(74091),W=n(8844),Q=n(12715),$=n(55775),H=n(23041),J=n(8735),Y=n(62484),X=n(3445),ee=n(40766),el=n(40876),en=n(61885),ea=n(83252),ei=n(28862),es=n(8372),et=n(651);function er(e,l){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);l&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,a)}return n}function eo(e){for(var l=1;l<arguments.length;l++){var n=null!=arguments[l]?arguments[l]:{};l%2?er(Object(n),!0).forEach(function(l){(0,g.Z)(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}let ed=V.Z.div(m||(m=(0,p.Z)(["grid grid-cols-1 gap-x-1.5 gap-y-1 md:gap-x-2 md:gap-y-1.5 lg:grid-cols-2 lg:gap-x-3 lg:gap-y-2.5"]))),ec="gpt_store";function eu(e){let{gizmo:l,children:n,onClick:a,onModalOpen:i,onModalClose:s,selectOnly:t,className:r}=e,o=(0,L.sB)("1825130190").value,{0:d,1:c}=(0,A.useState)(!1);return t?(0,et.jsx)("a",{className:(0,D.default)("gizmo-link cursor-pointer",r),href:"#",onClick:e=>{e.preventDefault(),null==a||a(e)},children:n}):o?(0,et.jsxs)(et.Fragment,{children:[d&&(0,et.jsx)(ee.Eu,{gizmoId:l.gizmo.id,creatorId:l.gizmo.author.user_id,onClose:()=>{c(!1),null==s||s()},children:(0,et.jsx)(ee.Bo,{as:"link",to:(0,h.m_)(l)})}),(0,et.jsx)("a",{className:(0,D.default)("gizmo-link cursor-pointer",r),href:"#",onClick:e=>{e.preventDefault(),null==a||a(e),c(!0),null==i||i()},children:n})]}):(0,et.jsx)(Z(),{href:(0,h.m_)(l),className:(0,D.default)("gizmo-link",r),target:"_blank",onClick:a,children:n})}let em=void 0!==a?a:a=n(51642),eg=void 0!==i?i:i=n(70734),ep=void 0!==s?s:s=n(55568),ef=void 0!==t?t:t=n(54474),ey=void 0!==r?r:r=n(26603);function ev(e){var l,n;let{anon:a}=e,{0:i,1:s}=(0,A.useState)(()=>P.m.getItem(P.F.GizmoDiscoveryLocale)),t=e=>{s(e),P.m.setItem(P.F.GizmoDiscoveryLocale,e)},r=(0,b.t)(),{0:o,1:d}=(0,A.useState)(!1),c=null!=r&&r.isOwnerOfAccount()&&!o?f.r3.OWNER:f.r3.STANDARD,u=null===(l=(0,L.sB)("4006408854"))||void 0===l?void 0:l.value,m=null===(n=(0,b.t)())||void 0===n?void 0:n.isWorkspaceAccount(),g=u&&!m,p=u&&m,[y,v]=(0,B.useQueryLoader)(em),[h,x]=(0,B.useQueryLoader)(eg);return(0,A.useEffect)(()=>{v({skip:!g}),x({skip:!p})},[v,x,p,g]),(0,et.jsxs)(et.Fragment,{children:[u&&(0,et.jsxs)(A.Suspense,{fallback:(0,et.jsx)(eA,{}),children:[y&&g&&(0,et.jsx)(ek,{anon:a,queryReference:y,effectiveRole:c,requestedLocale:i,setPretendStandardUser:d,setLocale:t}),h&&p&&(0,et.jsx)(ej,{anon:a,queryReference:h,effectiveRole:c,requestedLocale:i,setPretendStandardUser:d,setLocale:t})]}),!u&&(0,et.jsx)(ez,{anon:a,currAccount:r,requestedLocale:i,effectiveRole:c,setPretendStandardUser:d,setLocale:t})]})}function eh(e){let{cutId:l,locale:n,limit:a,cursor:i,enabled:s}=e,t=e=>{switch(e){case k.AR.ENGLISH:return"EN";case k.AR.GLOBAL:return"GLOBAL";default:return}},{0:r,1:o}=(0,A.useState)([]),{0:d,1:c}=(0,A.useState)(i),{0:u,1:m}=(0,A.useState)(null!=s&&s),{0:g,1:p}=(0,A.useState)(!1),{0:f}=(0,A.useState)(!1),y=(0,B.useRelayEnvironment)();return{data:r,hasNextPage:u,fetchNextPage:(0,A.useCallback)(async()=>{p(!0);let e=await (0,B.fetchQuery_DEPRECATED)(y,ey,{id:l,locale:t(n),first:a,after:d});if(p(!1),e){var i,s,r,u;m(null!==(i=null===(s=e.gizmoDiscoveryCut)||void 0===s||null===(s=s.items)||void 0===s?void 0:s.pageInfo.hasNextPage)&&void 0!==i&&i);let l=O()(null===(r=e.gizmoDiscoveryCut)||void 0===r||null===(r=r.items)||void 0===r||null===(r=r.edges)||void 0===r?void 0:r.map(e=>{var l;return ex(null!==(l=null==e?void 0:e.node)&&void 0!==l?l:null)}));o(e=>[...e,...l]),c(null===(u=e.gizmoDiscoveryCut)||void 0===u||null===(u=u.items)||void 0===u?void 0:u.pageInfo.endCursor)}},[d,l,n,y,a,c]),isFetchingNextPage:g,isError:f}}function ex(e){var l,n,a,i,s,t,r,o,d,c,u;if(!e)return null;let m=(0,B.readInlineData)(ef,e);return{gizmo:{id:m.legacyId,author:{display_name:null!==(l=null===(n=m.author)||void 0===n?void 0:n.displayName)&&void 0!==l?l:null,link_to:null!==(a=null===(i=m.author)||void 0===i?void 0:i.linkTo)&&void 0!==a?a:null,user_id:null===(s=m.author)||void 0===s?void 0:s.userId},display:{name:m.display.name,description:null!==(t=m.display.description)&&void 0!==t?t:null,profile_picture_url:null!==(r=m.display.profilePictureUrl)&&void 0!==r?r:null},vanity_metrics:{num_conversations_str:null!==(o=null===(d=m.vanityMetrics)||void 0===d?void 0:d.numConversationsStr)&&void 0!==o?o:void 0},tags:null!==(c=null===(u=m.tags)||void 0===u?void 0:u.map(eH))&&void 0!==c?c:null,short_url:m.shortUrl}}}function ek(e){let{anon:l,queryReference:n,requestedLocale:a,effectiveRole:i,setPretendStandardUser:s,setLocale:t}=e,r=(0,B.usePreloadedQuery)(em,n);return(0,et.jsx)(eb,{anon:l,data:r.gizmoDiscovery,requestedLocale:a,effectiveRole:i,setPretendStandardUser:s,setLocale:t})}function ej(e){let{anon:l,queryReference:n,requestedLocale:a,effectiveRole:i,setPretendStandardUser:s,setLocale:t}=e,r=(0,B.usePreloadedQuery)(eg,n);return(0,et.jsx)(eb,{anon:l,data:r.gizmoDiscoveryForViewer,requestedLocale:a,effectiveRole:i,setPretendStandardUser:s,setLocale:t})}function eb(e){let{anon:l,data:n,requestedLocale:a,effectiveRole:i,setPretendStandardUser:s,setLocale:t}=e,{0:r,1:o}=(0,A.useState)(!0),{0:d}=(0,A.useState)(!1),{0:c,1:u}=(0,A.useState)(void 0),m=e=>{switch(e){case"EN":default:return k.AR.ENGLISH;case"GLOBAL":return k.AR.GLOBAL}},g=e=>{switch(e){case"FEATURED":return"featured";case"RANKED":return"ranked";default:return"none"}};return(0,A.useEffect)(()=>{if(n){var e,l;o(!1),u({locale:m(null==n?void 0:n.locale),workspace_filtered:null!==(e=null==n?void 0:n.workspaceFiltered)&&void 0!==e&&e,cuts:(null!==(l=null==n?void 0:n.cuts)&&void 0!==l?l:[]).map(e=>{var l,n,a,i,s;let t=(0,B.readInlineData)(ep,e);return{info:{id:t.info.id,title:null!==(l=t.info.title)&&void 0!==l?l:void 0,description:null!==(n=t.info.description)&&void 0!==n?n:void 0,display_type:g(t.info.displayType),display_group:null!==(a=t.info.displayGroup)&&void 0!==a?a:void 0,locale:m(t.info.locale)},list:{items:O()(null===(i=t.items)||void 0===i||null===(i=i.edges)||void 0===i?void 0:i.map(e=>{var l;return ex(null!==(l=null==e?void 0:e.node)&&void 0!==l?l:null)})),cursor:null===(s=t.items)||void 0===s?void 0:s.pageInfo.endCursor}}})})}},[n]),(0,et.jsx)(eS,{anon:l,discoveryLanding:c,isLoading:r,isError:d,effectiveRole:i,setPretendStandardUser:s,requestedLocale:a,setLocale:t,useFetchMoreQuery:eh})}function ez(e){let{anon:l,currAccount:n,requestedLocale:a,effectiveRole:i,setPretendStandardUser:s,setLocale:t}=e,{0:r,1:o}=(0,A.useState)(void 0),d=!!l||(null==n?void 0:n.isPersonalAccount())&&!0,{data:c,isLoading:u,isError:m}=(0,h.z5)(a,d);return(0,A.useEffect)(()=>{c&&o({locale:c.locale,workspace_filtered:c.workspace_filtered,cuts:c.cuts.map(e=>({info:e.info,list:{items:e.list.items.map(e=>e.resource),cursor:e.list.cursor}}))})},[c]),(0,et.jsx)(eS,{anon:l,discoveryLanding:r,isLoading:u,isError:m,effectiveRole:i,setPretendStandardUser:s,requestedLocale:a,setLocale:t,useFetchMoreQuery:function(){var e,l;let n=(0,h.Fi)(...arguments);return eo(eo({},n),{},{data:null!==(e=null===(l=n.data)||void 0===l?void 0:l.pages.flatMap(e=>e.list.items.map(e=>e.resource)))&&void 0!==e?e:[]})}})}function eS(e){var l,n,a;let{anon:i,discoveryLanding:s,isLoading:t,isError:r,effectiveRole:o,setPretendStandardUser:d,requestedLocale:c,setLocale:u,useFetchMoreQuery:m}=e,g=(0,b.t)(),p=null!==(l=null==s?void 0:s.locale)&&void 0!==l?l:c,f=(0,A.useRef)({}),{0:y,1:h}=(0,A.useState)({}),x=(0,A.useMemo)(()=>R()(O()(null==s?void 0:s.cuts.map(e=>({id:e.info.id,name:e.info.display_group}))),"name"),[s]),k=(0,A.useRef)(null),j=null!==(n=x.find(e=>y[e.id]))&&void 0!==n?n:x[0];(0,A.useEffect)(()=>{let e=f.current,l=new IntersectionObserver(l=>{l.forEach(l=>{for(let n of x){let a=e[n.id];null!=a&&l.target===a&&h(e=>eo(eo({},e),{},{[n.id]:l.isIntersecting}))}})},{root:null,rootMargin:"-96px",threshold:.1});return Object.values(e).forEach(e=>{null!=e&&l.observe(e)}),()=>{Object.values(e).forEach(e=>{null!=e&&l.unobserve(e)})}},[f,x]);let z=(0,A.useRef)(null),S=(0,A.useRef)(null),{0:G,1:C}=(0,A.useState)(0);return((0,A.useEffect)(()=>{let e=S.current,l=()=>{null!=e&&C(e.scrollTop)};return null==e||e.addEventListener("scroll",l),window.addEventListener("resize",l),l(),()=>{null==e||e.removeEventListener("scroll",l),window.removeEventListener("resize",l)}},[S,C]),t||r)?(0,et.jsxs)(et.Fragment,{children:[i?(0,et.jsx)(el.S,{redirectUrl:(0,w.cy)(),className:"sticky top-0 z-30 h-14 bg-token-main-surface-primary"}):(0,et.jsx)(eN,{locale:p,setLocale:u,currAccount:g}),(0,et.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:r?(0,et.jsx)(H.Z,{type:"danger",children:(0,et.jsx)(_.Z,eo({},eJ.discoveryError))}):(0,et.jsx)(v.Z,{})})]}):(0,et.jsxs)("div",{ref:S,className:"h-full overflow-y-auto",children:[i?(0,et.jsx)(el.S,{redirectUrl:(0,w.cy)(),className:"sticky top-0 z-30 h-14 bg-token-main-surface-primary"}):(0,et.jsxs)(et.Fragment,{children:[(null==g?void 0:g.isWorkspaceAccount())&&(0,et.jsx)(eF,{role:o,onPretendStandardUser:e=>{d(e)}}),(0,et.jsx)(eN,{pageSearchRef:z,locale:p,setLocale:u,currAccount:g})]}),(0,et.jsxs)("div",{className:"mx-auto max-w-3xl overflow-x-clip px-4",children:[(0,et.jsx)(ew,{}),!i&&(0,et.jsx)(eE,{ref:z,className:"z-20 mb-6 mt-2 flex-grow shadow-[0px_10px_10px_-6px_rgba(0,0,0,0.04)]",inputClassName:"md:h-14 h-12 text-base pl-12",iconClassName:"left-5",resultsSizeOffset:Math.min(G-260,-110)}),x.length>1&&(0,et.jsx)(eG,{displayGroups:x,currentDisplayGroup:j,scrollToDisplayGroup:e=>{var l;(null!==(l=f.current[e.id])&&void 0!==l?l:k.current).scrollIntoView({behavior:"smooth",block:"start"})}}),(0,et.jsx)("div",{ref:k,className:"scroll-mt-28"}),null!==(a=null==s?void 0:s.cuts.map(e=>{var l;return"featured"===e.info.display_type?(0,et.jsx)(eL,{info:e.info,items:e.list.items,ref:l=>{null!=l&&(f.current[e.info.id]=l)},effectiveRole:o},e.info.id):(0,et.jsx)(eT,{info:e.info,items:e.list.items,cursor:null!==(l=e.list.cursor)&&void 0!==l?l:void 0,ref:l=>{null!=l&&(f.current[e.info.id]=l)},anon:i,effectiveRole:o,useFetchMoreQuery:m},e.info.id)}))&&void 0!==a?a:[]]}),(null==s?void 0:s.workspace_filtered)&&!(null!=g&&g.isOwnerOfAccount())&&(0,et.jsx)(eC,{})]})}function ew(){return(0,et.jsxs)("div",{className:"mb-6",children:[(0,et.jsx)("div",{className:"my-2 text-center text-3xl font-bold md:my-4 md:text-5xl",children:(0,et.jsx)(_.Z,eo({},eJ.discoverySplashHeader))}),(0,et.jsx)("div",{className:"mx-auto w-full text-center text-sm text-token-text-secondary md:text-lg md:leading-tight",children:(0,et.jsx)(_.Z,eo({},eJ.discoverySplashDescription))})]})}function eG(e){let{displayGroups:l,currentDisplayGroup:n,scrollToDisplayGroup:a}=e,i=(0,A.useRef)(null),s=(0,U.Z)(),t=(0,A.useRef)({}),{0:r,1:o}=(0,A.useState)(!1);(0,A.useEffect)(()=>{if(r||null==n)return;let e=t.current[n.id];if(null==e)return;let l=i.current;null!=l&&(l.scrollLeft>e.offsetLeft?l.scrollBy({left:e.offsetLeft-l.scrollLeft-20,behavior:"smooth"}):l.scrollLeft+l.clientWidth<e.offsetLeft+e.clientWidth&&l.scrollBy({left:e.offsetLeft+e.clientWidth-l.clientWidth-l.scrollLeft+20,behavior:"smooth"}))},[n,r]);let{0:d,1:c}=(0,A.useState)(!1),{0:u,1:m}=(0,A.useState)(!1);return(0,A.useEffect)(()=>{let e=i.current,l=()=>{null!=e&&(c(e.scrollLeft>0),m(e.scrollLeft+e.clientWidth<e.scrollWidth))};return null==e||e.addEventListener("scroll",l),window.addEventListener("resize",l),l(),()=>{null==e||e.removeEventListener("scroll",l),window.removeEventListener("resize",l)}},[i]),(0,et.jsxs)("div",{className:"sticky top-14 z-10 -ml-4 mb-12 w-screen bg-token-main-surface-primary py-2 text-sm md:ml-0 md:w-full md:pb-0",children:[d&&(0,et.jsx)("div",{className:"absolute left-0 top-2 hidden h-full items-end bg-gradient-to-r from-white from-50% to-transparent pr-8 dark:from-gray-800 md:block",children:(0,et.jsx)("button",{className:"mt-2 rounded-full bg-gray-100 p-1 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-white/20",onClick:()=>{null!=i.current&&i.current.scrollBy({left:-400,behavior:"smooth"})},children:(0,et.jsx)(X.Y4O,{className:"icon-sm"})})}),(0,et.jsx)("div",{className:"no-scrollbar flex scroll-m-5 gap-1.5 overflow-x-auto md:overflow-hidden",ref:i,children:l.map(e=>(0,et.jsx)("div",{className:(0,D.default)("cursor-pointer scroll-mx-5 whitespace-nowrap rounded-3xl px-3 py-2 first:ml-4 last:mr-4 md:px-2 md:first:ml-0 md:last:mr-0",e.id===(null==n?void 0:n.id)?"border-token-text-primary bg-black text-token-main-surface-primary dark:bg-gray-100 md:rounded-none md:border-b-2 md:bg-transparent md:text-token-text-primary dark:md:bg-transparent":"bg-token-main-surface-secondary hover:bg-gray-100 hover:text-token-text-primary dark:hover:bg-white/20 md:rounded-lg md:bg-transparent md:text-token-text-tertiary md:hover:bg-gray-50 dark:md:bg-transparent dark:md:hover:bg-gray-700"),onClick:()=>{o(!0),a(e),setTimeout(()=>{o(!1)},1e3),F.A.logEvent(N.M.storeClickCategory,{category:e.id})},ref:l=>{null!=l&&(t.current[e.id]=l)},children:function(){return s.formatMessage(...arguments)}({id:"gizmo.categoryName.".concat(e.name),defaultMessage:e.name,description:"store category"})},e.id))}),u&&(0,et.jsx)("div",{className:"absolute right-0 top-2 hidden h-full bg-gradient-to-l from-white from-50% to-transparent pl-8 dark:from-gray-800 md:block",children:(0,et.jsx)("button",{className:"mt-2 rounded-full bg-gray-100 p-1 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-white/10",onClick:()=>{null!=i.current&&i.current.scrollBy({left:400,behavior:"smooth"})},children:(0,et.jsx)(X.LZ3,{className:"icon-sm"})})})]})}function eC(){let e=(0,U.Z)(),l=(0,$.$3)(),n=(0,z.xH)();return(0,et.jsxs)("div",{className:(0,D.default)("fixed bottom-0 flex w-full items-center justify-center gap-2 bg-token-main-surface-secondary p-3 text-sm text-token-text-secondary",!n&&"md:w-[calc(100%-16rem)]"),children:[(0,et.jsx)(X.ZyU,{className:"icon-sm"}),e.formatMessage(eJ.discoveryThirdPartyGPTsDisabled,{workspaceName:l})]})}function eF(e){let{role:l,onPretendStandardUser:n}=e,a=(0,U.Z)();return(0,b.S0)()?(0,et.jsxs)("div",{className:"h-52px flex w-full items-center justify-center gap-2 bg-gray-100 p-3 text-sm dark:bg-gray-700",children:[(0,et.jsx)(X.ZyU,{className:"icon-sm"}),(0,et.jsx)(_.Z,{id:"gizmo.discovery.browsingAsOwner",defaultMessage:"You're viewing as a <b>workspace member</b>",values:{b:e=>(0,et.jsxs)(J.Z.Root,{defaultValue:l,onValueChange:e=>{n(e===f.r3.STANDARD)},children:[(0,et.jsxs)(J.Z.Trigger,{className:"-mx-2 -my-2 bg-transparent px-1 font-semibold",children:[(0,et.jsx)(Y.E,{disabled:l!==f.r3.OWNER,label:a.formatMessage({id:"gizmo.discovery.browsingAsOwnerTooltip",defaultMessage:"Owners can access all third-party GPTs, even if they haven’t been approved."}),side:"bottom",children:(0,et.jsx)(J.Z.Value,{})}),(0,et.jsx)(J.Z.Icon,{})]}),(0,et.jsx)(J.Z.Portal,{children:(0,et.jsxs)(J.Z.Content,{children:[(0,et.jsx)(J.Z.Item,{value:f.r3.OWNER,children:(0,et.jsx)(_.Z,{id:"gizmo.discovery.browsingOwnerRole",defaultMessage:"workspace owner"})}),(0,et.jsx)(J.Z.Item,{value:f.r3.STANDARD,children:(0,et.jsx)(_.Z,{id:"gizmo.discovery.browsingMemberRole",defaultMessage:"workspace member"})})]})})]})}})]}):null}function eN(e){let{pageSearchRef:l,locale:n,setLocale:a,currAccount:i}=e,s=(0,w.AA)(),t=(0,E.useRouter)(),r=(0,U.Z)(),o=(0,S.w$)(),{0:d,1:c}=(0,A.useState)(!1),{0:u,1:m}=(0,A.useState)(!1);(0,A.useEffect)(()=>{if(null==l||"function"==typeof l){c(!1);return}let e=null==l?void 0:l.current,n=new IntersectionObserver(l=>{l.forEach(l=>{l.target===e&&c(!l.isIntersecting)})},{root:null,rootMargin:"20px",threshold:.5});return null!=e&&n.observe(e),()=>{null!=e&&n.unobserve(e)}},[l]);let g=null==i?void 0:i.canCreateGizmos();return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)(x.QT,{className:"z-30 mx-auto flex w-full justify-center gap-2 whitespace-nowrap pt-[1.125rem]",children:[(0,et.jsxs)("div",{className:(0,D.default)("w-[calc((100%-768px)/2)] min-w-fit items-center",u?"hidden lg:flex":"flex"),children:[(0,et.jsx)(es.M3,{}),(0,et.jsx)(Y.u,{side:"right",label:n===k.AR.GLOBAL?r.formatMessage(eJ.discoveryGlobalViewOn):r.formatMessage(eJ.discoveryGlobalViewOff),children:(0,et.jsx)(y.z,{color:"ghost",onClick:()=>{n===k.AR.GLOBAL?a(k.AR.ENGLISH):a(k.AR.GLOBAL)},children:(0,et.jsx)(X.n9J,{className:(0,D.default)("icon-sm",n===k.AR.GLOBAL?"text-token-text-primary":"text-token-text-tertiary")})})})]}),(0,et.jsx)(eE,{className:"max-w-3xl flex-grow",inputClassName:(0,D.default)("h-10 text-sm pl-9",!d&&"hidden"),iconClassName:"left-4",open:u,setOpen:m,resultsSizeOffset:-90,placeholder:o?r.formatMessage(eJ.discoverySearch):r.formatMessage(eJ.discoverySearchSmall)}),(0,et.jsxs)("div",{className:(0,D.default)("w-[calc((100%-768px)/2)] min-w-fit justify-end gap-2",u?"hidden lg:flex":"flex"),children:[g&&(0,et.jsx)(y.z,{color:"ghost",onClick:()=>{t.push("/gpts/mine",void 0,{shallow:!0}),F.A.logEvent(N.M.storeMyGizmos)},children:(0,et.jsx)(_.Z,eo({},eJ.discoveryMyGPTs))}),(0,et.jsx)(eP,{canCreateGizmos:g,createUrl:s})]}),(0,et.jsx)(es.CT,{})]})})}let eP=e=>{var l;let{canCreateGizmos:n,createUrl:a}=e,{0:i,1:s}=(0,A.useState)(!1),t=(0,A.useRef)(),r=(0,G.Z)(),o=(0,b.t)(),d=null!==(l=null==o?void 0:o.planType)&&void 0!==l?l:"unknown",c="create_gpt";return(0,et.jsxs)("div",{onMouseEnter:()=>{n||(F.A.logPopoverHover({location:ec,type:c,plan_type:d}),clearTimeout(t.current),s(!0))},onMouseLeave:()=>{n||(t.current=r(function(){s(!1)},300))},className:"relative",children:[(0,et.jsx)(y.z,{color:"primary",disabled:!n,visuallyDisabled:!n,onClick:n?()=>F.A.logEvent(N.M.storeCreateGizmo):e=>e.preventDefault(),as:"link",to:a,icon:X.Vz5,children:(0,et.jsx)(_.Z,eo({},eJ.discoveryCreateGPT))}),!n&&i&&(0,et.jsxs)("div",{className:"absolute right-0 z-10 mt-2 w-64 rounded-lg  border border-token-border-light bg-token-main-surface-primary p-3 text-sm shadow-lg",children:[(0,et.jsx)("p",{className:"mb-2 whitespace-normal break-words from-token-text-tertiary text-left font-normal",children:(0,et.jsx)(_.Z,eo({},eJ.createGPTUpsell))}),(0,et.jsx)(y.z,{color:"secondary",onClick:()=>{F.A.logUpsellGetPlusButtonClicked({location:ec,type:c,plan_type:d}),(0,j.MG)("Gizmo Discovery page upsell")},size:"small",children:(0,et.jsx)(_.Z,eo({},eJ.createGPTUpsellButtonLabel))})]})]})},eL=(0,A.forwardRef)(function(e,l){let{info:n,items:a,effectiveRole:i}=e;return(0,et.jsx)(e$,{title:n.title,description:n.description,ref:l,children:(0,et.jsx)(ed,{children:a.map((e,l)=>(0,et.jsx)(eD,{resource:e,effectiveRole:i},"".concat(l,"-").concat(e.gizmo.id)))})})});function eD(e){var l,n,a,i;let{resource:s,effectiveRole:t}=e,r=null===(l=s.gizmo.vanity_metrics)||void 0===l?void 0:l.num_conversations_str,o=(null===(n=s.gizmo.tags)||void 0===n?void 0:n.includes(k.U9.WorkspaceDisabled))&&t!==f.r3.OWNER;return(0,et.jsx)(ei.h9,{children:(0,et.jsxs)(eu,{gizmo:s,className:(0,D.default)("group flex h-24 items-center gap-5 overflow-hidden rounded-xl bg-gray-50 px-7 py-8 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-white/10 md:h-32 lg:h-36",o&&"opacity-50 hover:opacity-100"),onClick:()=>{F.A.logEvent(N.M.storeClickGizmo,{gizmo_id:s.gizmo.id,section:"featured"})},children:[(0,et.jsx)(ea.Z,{isFirstParty:!!(null!==(a=s.gizmo.tags)&&void 0!==a&&a.includes(k.U9.FirstParty)),src:null!==(i=s.gizmo.display.profile_picture_url)&&void 0!==i?i:void 0,className:(0,D.default)("h-16 w-16 flex-shrink-0 md:h-24 md:w-24",o&&"grayscale group-hover:grayscale-0")}),(0,et.jsxs)("div",{className:"flex flex-col",children:[(0,et.jsx)("div",{className:"line-clamp-2 font-semibold md:text-lg",children:s.gizmo.display.name}),(0,et.jsx)("span",{className:"line-clamp-2 text-xs md:line-clamp-3",children:s.gizmo.display.description}),(0,et.jsxs)("div",{className:"mt-1 line-clamp-1 flex justify-start gap-1 text-xs text-token-text-tertiary",children:[(0,et.jsx)(en.Z,{gizmo:s,className:"text-xs",hideLink:!0}),r&&(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)("span",{className:"text-[10px]",children:"•"}),(0,et.jsx)(X.qZr,{className:"mt-0.5 h-3 w-3"}),r]})]})]})]})})}let eT=(0,A.forwardRef)(function(e,l){let{info:n,items:a,cursor:i,anon:s,effectiveRole:t,useFetchMoreQuery:r}=e,{0:o,1:d}=(0,A.useState)(0===a.length),{data:c,hasNextPage:u,fetchNextPage:m,isFetchingNextPage:g,isError:p}=r({cutId:n.id,locale:n.locale,limit:6,cursor:i,enabled:o});(0,A.useEffect)(()=>{0===a.length&&m()},[m,a.length]);let{0:f,1:v}=(0,A.useState)(c.length),h=(0,A.useRef)(null),x=(0,T.E)(.1);return(0,A.useEffect)(()=>{if(c.length>f){var e;v(c.length),null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"})}},[c.length,f]),(0,et.jsxs)(e$,{title:n.title,description:n.description,ref:l,children:[(0,et.jsxs)(ed,{children:[a.map((e,l)=>(0,et.jsx)(eM,{resource:e,rank:l+1,cutId:n.id,effectiveRole:t},l)),c.map((e,l)=>(0,et.jsx)(eM,{resource:e,rank:a.length+l+1,cutId:n.id,delay:x(l-f,c.length-f),effectiveRole:t},l))]}),(!o||u||g||p)&&!s&&null!=i&&(0,et.jsx)(y.z,{color:p?"danger-outline":"secondary",onClick:()=>{d(!0),F.A.logEvent(N.M.storeLoadMore,{section:n.id}),m()},fullWidth:!0,className:"mt-2 md:mt-3",loading:g,children:p?(0,et.jsx)(_.Z,eo({},eJ.discoveryLoadMoreError)):(0,et.jsx)(_.Z,eo({},eJ.discoveryLoadMore))}),(0,et.jsx)("div",{ref:h})]})});function eM(e){var l,n;let{resource:a,rank:i,cutId:s,delay:t,effectiveRole:r}=e,o=(null===(l=a.gizmo.tags)||void 0===l?void 0:l.includes(k.U9.WorkspaceDisabled))&&r!==f.r3.OWNER,d=null===(n=a.gizmo.tags)||void 0===n?void 0:n.includes(k.U9.FirstParty);return(0,et.jsx)(ei.h9,{delay:t,children:(0,et.jsxs)(eu,{gizmo:a,className:(0,D.default)("group flex h-[104px] items-center gap-2.5 overflow-hidden rounded-xl px-1 py-4 hover:bg-token-main-surface-secondary md:px-3 md:py-4 lg:px-3",o&&"opacity-50 hover:opacity-100"),onClick:()=>{F.A.logEvent(N.M.storeClickGizmo,{gizmo_id:a.gizmo.id,position:i,section:d?"first_party":s})},children:[(0,et.jsx)("div",{className:"text-md flex w-8 shrink-0 items-center justify-center font-semibold",children:i}),(0,et.jsx)(eZ,{resource:a,grayedOut:o})]},a.gizmo.id)})}let eO=void 0!==o?o:o=n(97448),eK=void 0!==d?d:d=n(25173),eR=void 0!==c?c:c=n(71330),eI=void 0!==u?u:u=n(19798);function eZ(e){var l,n,a;let{resource:i,grayedOut:s,className:t}=e,r=null===(l=i.gizmo.vanity_metrics)||void 0===l?void 0:l.num_conversations_str;return(0,et.jsxs)("div",{className:(0,D.default)("flex w-full flex-grow items-center gap-4 overflow-hidden",t),children:[(0,et.jsx)(ea.Z,{isFirstParty:!!(null!==(n=i.gizmo.tags)&&void 0!==n&&n.includes(k.U9.FirstParty)),src:null!==(a=i.gizmo.display.profile_picture_url)&&void 0!==a?a:void 0,className:(0,D.default)("h-12 w-12 flex-shrink-0",s&&"grayscale group-hover:grayscale-0")}),(0,et.jsxs)("div",{className:"overflow-hidden text-ellipsis break-words",children:[(0,et.jsx)("span",{className:"line-clamp-2 text-sm font-semibold leading-tight",children:i.gizmo.display.name}),(0,et.jsx)("span",{className:"line-clamp-3 text-xs",children:i.gizmo.display.description}),(0,et.jsxs)("div",{className:"mt-1 flex items-center gap-1 text-ellipsis whitespace-nowrap pr-1 text-xs text-token-text-tertiary",children:[(0,et.jsx)(en.Z,{gizmo:i,className:"text-xs",hideLink:!0}),r&&(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)("span",{className:"text-[8px]",children:"•"}),(0,et.jsx)(X.qZr,{className:"h-3 w-3"}),r]})]})]})]})}let eE=(0,A.forwardRef)(function(e,l){var n,a;let{className:i,inputClassName:s,iconClassName:t,open:r,setOpen:o,resultsSizeOffset:d,placeholder:c,effectiveRole:u,onSelect:m}=e,g=(0,U.Z)(),{0:p,1:f}=(0,A.useState)(""),{0:y,1:v}=(0,A.useState)(""),{0:h,1:x}=(0,A.useState)(!1),k=null!=r?r:h,j=null!=o?o:x,z=(0,A.useRef)(null),S=null===(n=(0,L.sB)("4006408854"))||void 0===n?void 0:n.value,w=null===(a=(0,b.t)())||void 0===a?void 0:a.isWorkspaceAccount(),G=(0,L.sB)("3054422710").value,P=void 0!==w&&w&&G;(0,A.useEffect)(()=>{if(!k)return;let e=e=>{if("Escape"===e.key){var l;j(!1),null===(l=z.current)||void 0===l||l.blur()}},n=e=>{var n;e.target instanceof Node&&"function"!=typeof l&&!(null!=l&&null!==(n=l.current)&&void 0!==n&&n.contains(e.target))&&j(!1)};return document.addEventListener("keydown",e,!1),document.addEventListener("mousedown",n,!1),()=>{document.removeEventListener("keydown",e,!1),document.removeEventListener("mousedown",n,!1)}},[k,j,z,l]);let{0:T,1:M}=(0,A.useState)();(0,A.useEffect)(()=>{var e;let l=()=>{var e;M(null===(e=window.visualViewport)||void 0===e?void 0:e.height)};return null===(e=window.visualViewport)||void 0===e||e.addEventListener("resize",l),l(),()=>{var e;null===(e=window.visualViewport)||void 0===e||e.removeEventListener("resize",l)}},[M]);let{0:O,1:K}=(0,A.useState)(!1);(0,A.useEffect)(()=>{O&&!k&&j(!0)},[O,j,k]);let[R,I]=(0,B.useQueryLoader)(eO),[Z,E]=(0,B.useQueryLoader)(eR),[_,q]=(0,B.useQueryLoader)(eK);return(0,A.useEffect)(()=>{S&&E({skip:!S})},[E,S]),(0,A.useEffect)(()=>{let e=setTimeout(()=>{v(p),S&&(I({q:p,skip:0===p.length}),q({q:p,skip:0===p.length||!P}))},250);return()=>{clearTimeout(e)}},[p,S,I,q,P]),(0,et.jsxs)(C.J,{as:"div",className:(0,D.default)("group relative rounded-xl",i),ref:l,children:[(0,et.jsx)(X.W1M,{className:(0,D.default)("pointer-none icon-md absolute top-0 h-full text-token-text-tertiary",t)}),(0,et.jsx)("input",{className:(0,D.default)("z-10 w-full rounded-xl border border-token-border-light bg-token-main-surface-primary py-2 pr-3 font-normal outline-0 delay-100","",s),placeholder:null!=c?c:g.formatMessage(eJ.discoverySearch),value:p,onChange:e=>f(e.target.value),onFocus:()=>{j(!0),F.A.logEvent(N.M.searchOpened)},ref:z}),(0,et.jsx)(Q.m,{show:k,children:(0,et.jsxs)(C.J.Panel,{static:!0,className:"absolute top-[calc(100%-10px)] w-full overflow-y-auto rounded-lg rounded-t-none border border-t-0 border-token-border-light bg-token-main-surface-primary px-3 py-2",style:{maxHeight:null!=T?T+(null!=d?d:0):"100vh"},children:[S&&(0,et.jsx)(A.Suspense,{fallback:(0,et.jsx)(eA,{}),children:R&&Z&&_&&(0,et.jsx)(e_,{debouncedQuery:y,searchQueryReference:R,recentQueryReference:Z,workspaceQueryReference:_,effectiveRole:u,setPopoverForceOpen:K,onSelect:m,showWorkspaceResults:P})}),!S&&(0,et.jsx)(eU,{query:y,effectiveRole:u,setPopoverForceOpen:K,onSelect:m,showWorkspaceResults:P})]})})]})});function eA(){return(0,et.jsx)("div",{className:"flex items-center justify-center py-1",children:(0,et.jsx)(v.Z,{})})}function e_(e){let{searchQueryReference:l,recentQueryReference:n,workspaceQueryReference:a,effectiveRole:i,debouncedQuery:s,setPopoverForceOpen:t,onSelect:r,showWorkspaceResults:o}=e,{0:d,1:c}=(0,A.useState)("ALL"),{0:u,1:m}=(0,A.useState)(!0),{0:g,1:p}=(0,A.useState)(o),{0:f,1:y}=(0,A.useState)(null),{0:v,1:h}=(0,A.useState)(null),{0:x,1:k}=(0,A.useState)(null),{0:j,1:b}=(0,A.useState)(null),{0:z,1:S}=(0,A.useState)(null),{0:w,1:G}=(0,A.useState)(!0);(0,A.useEffect)(()=>{F.A.logEvent(N.M.searchStart)},[]),(0,A.useEffect)(()=>{h(null),b(null)},[s]);let C=(0,B.usePreloadedQuery)(eO,l),P=(0,B.usePreloadedQuery)(eR,n),L=(0,B.usePreloadedQuery)(eK,a);(0,A.useEffect)(()=>{m(!0)},[s]);let D=(0,A.useCallback)(e=>{var l,n,a,i,s,t,r,o,d,c,u,m;let g=(0,B.readInlineData)(eI,e);return g?{gizmo:{id:g.legacyId,author:{display_name:null!==(l=null===(n=g.author)||void 0===n?void 0:n.displayName)&&void 0!==l?l:null,link_to:null!==(a=null===(i=g.author)||void 0===i?void 0:i.linkTo)&&void 0!==a?a:null,user_id:null!==(s=null===(t=g.author)||void 0===t?void 0:t.userId)&&void 0!==s?s:null},display:{name:g.display.name,description:null!==(r=g.display.description)&&void 0!==r?r:null,profile_picture_url:null!==(o=g.display.profilePictureUrl)&&void 0!==o?o:null},vanity_metrics:{num_conversations_str:null!==(d=null===(c=g.vanityMetrics)||void 0===c?void 0:c.numConversationsStr)&&void 0!==d?d:void 0},tags:null!==(u=null===(m=g.tags)||void 0===m?void 0:m.map(eH))&&void 0!==u?u:null,short_url:g.shortUrl}}:null},[]);return(0,A.useEffect)(()=>{if(C){var e,l;m(!1),y(O()(null===(e=C.gizmoSearch)||void 0===e||null===(e=e.edges)||void 0===e?void 0:e.map(e=>{var l;return D(null!==(l=null==e?void 0:e.node)&&void 0!==l?l:null)}))),null!==(l=C.gizmoSearch)&&void 0!==l&&null!==(l=l.pageInfo)&&void 0!==l&&l.endCursor&&h(C.gizmoSearch.pageInfo.endCursor)}},[C,D,h]),(0,A.useEffect)(()=>{if(L){var e,l;p(!1),k(O()(null===(e=L.gizmoSearch)||void 0===e||null===(e=e.edges)||void 0===e?void 0:e.map(e=>{var l;return D(null!==(l=null==e?void 0:e.node)&&void 0!==l?l:null)}))),null!==(l=L.gizmoSearch)&&void 0!==l&&null!==(l=l.pageInfo)&&void 0!==l&&l.endCursor&&b(L.gizmoSearch.pageInfo.endCursor)}},[L,D,b]),(0,A.useEffect)(()=>{if(P){var e;G(!1),S(O()(null===(e=P.gizmoDiscoveryCut)||void 0===e||null===(e=e.items)||void 0===e||null===(e=e.edges)||void 0===e?void 0:e.map(e=>{var l;return D(null!==(l=null==e?void 0:e.node)&&void 0!==l?l:null)})))}},[P,n,D]),(0,A.useEffect)(()=>{F.A.logEvent(N.M.searchStart)},[]),(0,et.jsx)(eq,{debouncedQuery:s,searchResults:f,isLoadingSearch:u,searchResultsCursor:v,showWorkspaceResults:o,workspaceSearchResults:x,workspaceSearchResultsCursor:j,isLoadingWorkspaceSearch:g,isLoadingRecent:w,recent:z,effectiveRole:i,setPopoverForceOpen:t,onSelect:r,activeTab:d,setActiveTab:c})}function eU(e){var l;let{query:n,effectiveRole:a,setPopoverForceOpen:i,showWorkspaceResults:s,onSelect:t}=e,{0:r,1:o}=(0,A.useState)("ALL");(0,A.useEffect)(()=>{F.A.logEvent(N.M.searchStart)},[]);let{data:d,isLoading:c}=(0,h.K9)(n),{data:u,isLoading:m}=(0,h.M0)(n,s),{data:g,isLoading:p}=(0,h.Fi)({cutId:"recent",limit:3});return(0,et.jsx)(eq,{debouncedQuery:n,searchResults:null==d?void 0:d.items,isLoadingSearch:c,searchResultsCursor:null==d?void 0:d.cursor,showWorkspaceResults:s,workspaceSearchResults:null==u?void 0:u.items,workspaceSearchResultsCursor:null==u?void 0:u.cursor,isLoadingWorkspaceSearch:m,isLoadingRecent:p,recent:null!==(l=null==g?void 0:g.pages.flatMap(e=>e.list.items.map(e=>e.resource)))&&void 0!==l?l:[],effectiveRole:a,setPopoverForceOpen:i,onSelect:t,activeTab:r,setActiveTab:o})}function eq(e){let{debouncedQuery:l,searchResults:n,isLoadingSearch:a,searchResultsCursor:i,showWorkspaceResults:s,workspaceSearchResults:t,workspaceSearchResultsCursor:r,isLoadingWorkspaceSearch:o,recent:d,isLoadingRecent:c,effectiveRole:u,setPopoverForceOpen:m,onSelect:g,activeTab:p,setActiveTab:f}=e,y=(0,A.useRef)((0,W.Z)());if((0,A.useEffect)(()=>{F.A.logEvent(N.M.searchStart)},[]),(0,A.useEffect)(()=>{!a&&n&&(y.current=(0,W.Z)(),n.length>0?Promise.all(n.map((e,n)=>{F.A.logEvent(N.M.searchDisplayResult,{search_id:y.current,gizmo_id:e.gizmo.id,position:n,query:l})})):F.A.logEvent(N.M.searchNoResults,{query:l}))},[n,a,l]),""===l&&c)return(0,et.jsx)(eA,{});if(s){if("ALL"===p&&a||"WORKSPACE"===p&&o)return(0,et.jsx)(eA,{});if(""!=l&&!a&&!o&&(!n||0===n.length)&&(!t||0===t.length))return(0,et.jsx)("div",{className:"mx-2",children:(0,et.jsx)(eB,{onClick:void 0,isSelected:void 0,isClickable:!1,children:(0,et.jsx)(_.Z,eo({},eJ.discoveryNoResultsSearch))})})}else{if(a)return(0,et.jsx)(eA,{});if(""!=l&&!a&&(!n||0===n.length))return(0,et.jsx)("div",{className:"mx-2",children:(0,et.jsx)(eB,{onClick:void 0,isSelected:void 0,isClickable:!1,children:(0,et.jsx)(_.Z,eo({},eJ.discoveryNoResultsSearch))})})}return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(eV,{query:l,activeTab:p,setActiveTab:f,showWorkspaceResults:s,recentSearchResults:null!=d?d:[]}),(0,et.jsx)(eW,{query:l,searchIdRef:y.current,searchResults:n,searchResultsCursor:i,isLoadingSearch:a,workspaceSearchResults:t,workspaceSearchResultsCursor:r,isLoadingWorkspaceSearch:o,recentSearchResults:null!=d?d:[],activeTab:p,setPopoverForceOpen:m,effectiveRole:u,onSelect:g})]})}function eB(e){let{children:l,onClick:n,isSelected:a,isClickable:i}=e;return(0,et.jsx)("div",{className:"px-3 pb-2 text-xs text-token-text-tertiary ".concat(a?"border-b-2 font-bold":"font-semibold"," ").concat(i?"cursor-pointer":""),onClick:()=>{null==n||n()},children:l})}function eV(e){let{query:l,activeTab:n,setActiveTab:a,showWorkspaceResults:i,recentSearchResults:s}=e,t=(0,$.$3)();return""===l?s&&s.length>0?(0,et.jsx)(eB,{onClick:void 0,isSelected:!1,isClickable:!1,children:(0,et.jsx)(_.Z,eo({},eJ.discoverySearchRecentlyUsed))}):(0,et.jsx)(eB,{onClick:void 0,isSelected:void 0,isClickable:!1,children:(0,et.jsx)(_.Z,eo({},eJ.discoverySearchRecentlyUsedEmpty))}):(0,et.jsxs)("div",{className:"flex",children:[(0,et.jsx)(eB,{onClick:()=>a("ALL"),isSelected:"ALL"===n&&i,isClickable:i,children:(0,et.jsx)(_.Z,eo({},eJ.discoveryAllResultsHeader))}),i&&(0,et.jsx)(eB,{onClick:()=>a("WORKSPACE"),isSelected:"WORKSPACE"===n,isClickable:!0,children:(0,et.jsx)(_.Z,eo(eo({},eJ.discoveryWorkspaceResultsHeader),{},{values:{workspaceName:t}}))})]})}function eW(e){var l,n;let{query:a,searchIdRef:i,searchResults:s,searchResultsCursor:t,isLoadingSearch:r,workspaceSearchResults:o,workspaceSearchResultsCursor:d,isLoadingWorkspaceSearch:c,recentSearchResults:u,setPopoverForceOpen:m,activeTab:g,effectiveRole:p,onSelect:f}=e,{0:v,1:x}=(0,A.useState)(!1),k=(0,h.DS)(a,v,"WORKSPACE"===g,"WORKSPACE"===g?d:t),{data:j,hasNextPage:b,fetchNextPage:z,isFetchingNextPage:S,isError:w}=eo(eo({},k),{},{data:null!==(l=null===(n=k.data)||void 0===n?void 0:n.pages.flatMap(e=>e.items.map(e=>e)))&&void 0!==l?l:[]}),{0:G,1:C}=(0,A.useState)(j.length),F=(0,A.useRef)(null);return((0,A.useEffect)(()=>{if(j.length>G){var e;C(j.length),null===(e=F.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"})}},[j.length,G]),""===a&&u&&u.length>0)?(0,et.jsx)(et.Fragment,{children:u.map((e,l)=>(0,et.jsx)(eQ,{searchId:i,position:l,query:a,resource:e,effectiveRole:p,setPopoverForceOpen:m,onSelect:f},e.gizmo.id))}):(""===a||r||"ALL"!==g||null!=s&&0!==s.length)&&(""===a||c||"WORKSPACE"!==g||null!=o&&0!==o.length)?(0,et.jsx)("div",{children:"ALL"===g?(0,et.jsxs)("div",{children:[s&&s.map((e,l)=>(0,et.jsx)(eQ,{searchId:i,position:l,query:a,resource:e,effectiveRole:p,setPopoverForceOpen:m,onSelect:f},e.gizmo.id)),s&&j&&j.map((e,l)=>(0,et.jsx)(eQ,{searchId:i,position:l+(null==s?void 0:s.length),query:a,resource:e,effectiveRole:p,setPopoverForceOpen:m,onSelect:f},e.gizmo.id)),(!v&&0===j.length||b||S||w)&&null!=t&&(0,et.jsx)(y.z,{color:w?"danger-outline":"secondary",onClick:()=>{x(!0),z(),null==m||m(!0)},loading:S,fullWidth:!0,className:"mt-2 md:mt-3",children:w?(0,et.jsx)(_.Z,eo({},eJ.discoveryLoadMoreError)):(0,et.jsx)(_.Z,eo({},eJ.discoveryLoadMore))})]}):(0,et.jsxs)("div",{children:[o&&o.map((e,l)=>(0,et.jsx)(eQ,{searchId:i,position:l,resource:e,query:a,setPopoverForceOpen:m},e.gizmo.id)),o&&j&&j.map((e,l)=>(0,et.jsx)(eQ,{searchId:i,position:l+(null==o?void 0:o.length),query:a,resource:e,effectiveRole:p,setPopoverForceOpen:m,onSelect:f},e.gizmo.id)),(!v&&0===j.length||b||S||w)&&null!=d&&(0,et.jsx)(y.z,{color:w?"danger-outline":"secondary",onClick:()=>{x(!0),z(),null==m||m(!0)},fullWidth:!0,className:"mt-2 md:mt-3",loading:S,children:w?(0,et.jsx)(_.Z,eo({},eJ.discoveryLoadMoreError)):(0,et.jsx)(_.Z,eo({},eJ.discoveryLoadMore))})]})}):(0,et.jsx)("div",{className:"mt-4 px-3 pb-2 text-xs font-semibold text-token-text-tertiary",children:(0,et.jsx)(_.Z,eo({},eJ.discoveryNoResultsSearch))})}function eQ(e){var l,n,a,i;let{searchId:s,resource:t,position:r,query:o,effectiveRole:d,setPopoverForceOpen:c,onSelect:u}=e,m=null===(l=t.gizmo.vanity_metrics)||void 0===l?void 0:l.num_conversations_str,g=(0,S.oc)(),p=(null===(n=t.gizmo.tags)||void 0===n?void 0:n.includes(k.U9.WorkspaceDisabled))&&d!==f.r3.OWNER;return(0,et.jsxs)(eu,{gizmo:t,className:(0,D.default)("group mx-2 flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-gray-50 dark:hover:bg-white/10",p&&"opacity-50 hover:opacity-100"),onClick:()=>{u?u(t):F.A.logEvent(N.M.storeClickGizmo,{search_id:s,gizmo_id:t.gizmo.id,position:r,query:o,section:"search"})},onModalOpen:()=>{null==c||c(!0)},onModalClose:()=>{null==c||c(!1)},selectOnly:!!u,children:[(0,et.jsx)(ea.Z,{isFirstParty:!!(null!==(a=t.gizmo.tags)&&void 0!==a&&a.includes(k.U9.FirstParty)),src:null!==(i=t.gizmo.display.profile_picture_url)&&void 0!==i?i:void 0,className:(0,D.default)("h-8 w-8 shrink-0",p&&"grayscale group-hover:grayscale-0")}),(0,et.jsxs)("div",{className:"flex flex-col space-y-1 truncate",children:[(0,et.jsx)("div",{className:"flex flex-row items-end space-x-2",children:(0,et.jsx)("span",{className:"shrink-0 truncate text-sm font-semibold",children:t.gizmo.display.name})}),g&&(0,et.jsx)("span",{className:"max-w-md truncate text-xs text-token-text-tertiary",children:t.gizmo.display.description}),(0,et.jsxs)("div",{className:"flex gap-2",children:[(0,et.jsx)("div",{className:"-mt-1",children:(0,et.jsx)(en.Z,{gizmo:t,className:"truncate text-xs text-token-text-tertiary",hideLink:!0})}),m&&(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"flex items-center gap-1 font-semibold text-token-text-tertiary",children:[(0,et.jsx)(X.qZr,{className:"icon-xs"}),(0,et.jsx)("span",{className:"line-clamp-1 text-xs",children:m})]})})]})]})]})}let e$=(0,A.forwardRef)(function(e,l){let{title:n,description:a,className:i,children:s}=e;return(0,et.jsxs)("div",{ref:l,className:"h-fit scroll-mt-28 last:min-h-[calc(100vh-8rem)]",children:[(0,et.jsxs)(ei.h9,{animateTap:!1,children:[(0,et.jsx)("div",{className:"text-xl font-semibold md:text-2xl",children:n}),a&&(0,et.jsx)("div",{className:"text-sm text-token-text-tertiary md:text-base",children:a})]}),(0,et.jsx)("div",{className:(0,D.default)("mb-10 mt-4",i),children:s})]})});function eH(e){switch(e){case"FIRST_PARTY":return k.U9.FirstParty;case"WORKSPACE_DISABLED":return k.U9.WorkspaceDisabled;case"USES_FUNCTION_CALLS":return k.U9.UsesFunctionCalls;case"BETA":return k.U9.Beta;case"PINNED":return k.U9.Pinned;case"PRIVATE":return k.U9.Private;case"PUBLIC":return k.U9.Public;case"REPORTABLE":return k.U9.Reportable;case"WORKSPACE":return k.U9.Workspace;default:return e}}(0,q.vU)({Writing:{id:"gizmo.categoryName.Writing",defaultMessage:"Writing"},Productivity:{id:"gizmo.categoryName.Productivity",defaultMessage:"Productivity"},"Research & Analysis":{id:"gizmo.categoryName.Research & Analysis",defaultMessage:"Research & Analysis"},Programming:{id:"gizmo.categoryName.Programming",defaultMessage:"Programming"},Education:{id:"gizmo.categoryName.Education",defaultMessage:"Education"},Lifestyle:{id:"gizmo.categoryName.Lifestyle",defaultMessage:"Lifestyle"}});let eJ=(0,q.vU)({discoveryAllResultsHeader:{id:"gizmo.discovery.AllResultsHeader",defaultMessage:"All"},discoveryWorkspaceResultsHeader:{id:"gizmo.discovery.workspaceResultsHeaderName",defaultMessage:"{workspaceName} workspace"},discoveryEmpty:{id:"gizmo.discovery.empty",defaultMessage:"Nothing to discover"},discoveryNoResultsSearch:{id:"gizmo.discovery.search.empty",defaultMessage:"No results found"},discoveryError:{id:"gizmo.discovery.error",defaultMessage:"Error loading GPTs"},discoverySearch:{id:"gizmo.discovery.search",defaultMessage:"Search GPTs"},discoverySearchSmall:{id:"gizmo.discovery.searchSmall",defaultMessage:"Search"},discoverySearchRecentlyUsed:{id:"gizmo.discovery.search.recentlyUsed",defaultMessage:"Recently Used"},discoverySearchRecentlyUsedEmpty:{id:"gizmo.discovery.search.recentlyUsedEmpty",defaultMessage:"No recently used GPTs"},discoverySearchResults:{id:"gizmo.discovery.search.results",defaultMessage:"Search Results"},discoveryLoadMore:{id:"gizmo.discovery.loadMore",defaultMessage:"See more"},discoveryLoadMoreError:{id:"gizmo.discovery.loadMoreError",defaultMessage:"Error loading more"},discoveryMyGPTs:{id:"gizmo.discovery.myGPTs",defaultMessage:"My GPTs"},discoveryCreateGPT:{id:"gizmo.discovery.createGPT",defaultMessage:"Create"},discoveryThirdPartyGPTsDisabled:{id:"gizmo.discovery.thirdPartyGPTsDisabled",defaultMessage:"Your admin has blocked GPTs created outside {workspaceName}."},discoverySplashHeader:{id:"gizmo.discovery.splashHeader",defaultMessage:"GPTs"},discoverySplashDescription:{id:"gizmo.discovery.splashDescription",defaultMessage:"Discover and create custom versions of ChatGPT that combine instructions, extra knowledge, and any combination of skills."},discoveryGlobalViewOn:{id:"gizmo.discovery.globalViewOn",defaultMessage:"Global View On"},discoveryGlobalViewOff:{id:"gizmo.discovery.globalViewOff",defaultMessage:"Global View Off"},createdAgoLabel:{id:"gizmo.discovery.createdAgoLabel",defaultMessage:"Created {createdAgo}"},createGPTUpsell:{id:"gizmo.discovery.createGPTUpsell",defaultMessage:"Get ChatGPT Plus to create and share your own GPTs"},createGPTUpsellButtonLabel:{id:"gizmo.discovery.createGPTUpsellButtonLabel",defaultMessage:"Get Plus"}})},52899:function(e,l,n){n.d(l,{b:function(){return c}});var a=n(8649),i=n(49217),s=n(82823),t=n(94982),r=n(75172),o=n(62984),d=n(651);function c(e){let{gizmoId:l,onSuccess:n,onClose:c}=e,u=(0,r.Z)(),m=(0,s.kb)(),g=async()=>{try{await m.mutateAsync({gizmoId:l}),n()}catch{t.m.danger("Failed to delete gizmo. Please try again.")}};return(0,d.jsx)(i.Z,{isOpen:!0,onClose:c,type:"danger",title:(0,d.jsx)(o.Z,{id:"shLmv5",defaultMessage:"Delete GPT"}),primaryButton:(0,d.jsx)(a.Z.Button,{title:u.formatMessage({id:"nlWRPu",defaultMessage:"Delete GPT"}),color:"danger",loading:m.isPending,onClick:()=>{g()}}),secondaryButton:(0,d.jsx)(a.Z.Button,{title:u.formatMessage({id:"D4IuIb",defaultMessage:"Cancel"}),color:"secondary",onClick:c}),children:(0,d.jsx)("div",{className:"text-sm",children:(0,d.jsx)(o.Z,{id:"zIR+cK",defaultMessage:"Are you sure you want to delete this GPT? This cannot be undone."})})})}},17903:function(e,l,n){n.r(l),n.d(l,{GizmoConversationOptionsDropdown:function(){return ef},GizmoInformationDropdown:function(){return eu},GizmoInformationDropdownItems:function(){return eg},GizmoKeepInSidebarMenuItem:function(){return ed},GizmoShareMenuItem:function(){return ec}});var a,i,s=n(94521),t=n(21904),r=n(81816),o=n(82823),d=n(5443),c=n(41854),u=n(49217),m=n(56029),g=n(94982),p=n(55371),f=n(24040),y=n(96053),v=n(92379),h=n(75172),x=n(62984),k=n(68306),j=n(651);function b(e,l){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);l&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,a)}return n}function z(e){for(var l=1;l<arguments.length;l++){var n=null!=arguments[l]?arguments[l]:{};l%2?b(Object(n),!0).forEach(function(l){(0,s.Z)(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}let S=(0,k.vU)({title:{id:"GizmoFeedbackEmailModal.title",defaultMessage:"Feedback about {name}"},send:{id:"GizmoFeedbackEmailModal.sendTo",defaultMessage:"Send To {name}"},successToast:{id:"GizmoFeedbackEmailModal.successToast",defaultMessage:"Feedback sent"},includeFrom:{id:"GizmoFeedbackEmailModal.includeFrom",defaultMessage:"Include my email address {email}"}});var w=e=>{var l;let{gizmo:n}=e,a=(0,f.aF)(),i=(0,p.EV)(p.B.GPTFeedbackEmail),s=()=>p.vm.closeModal(p.B.GPTFeedbackEmail),t=(0,h.Z)(),{0:r,1:o}=(0,v.useState)(""),{0:k,1:b}=(0,v.useState)(!0),w=(l=n.gizmo.id,(0,y.D)({mutationFn:async e=>{let{message:n,includeFrom:a}=e;await m.U.sendFeedbackEmail(l,n,a)}})),G=0===r.length;return(0,j.jsx)(u.Z,{type:"success",title:t.formatMessage(S.title,{name:n.gizmo.display.name}),isOpen:i,onClose:s,size:"custom",showCloseButton:!0,className:"max-w-xl overflow-y-auto",hideSeparator:!0,children:(0,j.jsx)("div",{className:"flex flex-row",children:(0,j.jsxs)("div",{className:"-mt-4 flex flex-grow flex-col space-y-4",children:[(0,j.jsx)(c.Z,{className:"mb-1 w-full resize-none overflow-y-auto rounded-md bg-transparent focus:border-gray-200 focus:ring-gray-200 dark:focus:border-white dark:focus:ring-white",placeholder:"Write feedback about ".concat(n.gizmo.display.name,"..."),value:r,rows:4,onChange:e=>o(e.target.value)}),(0,j.jsxs)("div",{className:"flex flex-row items-center space-x-2 self-start",children:[(0,j.jsx)("input",{type:"checkbox",checked:k,onChange:e=>b(e.target.checked)}),a&&(0,j.jsx)("span",{className:"text-sm",children:(0,j.jsx)(x.Z,z(z({},S.includeFrom),{},{values:{email:(0,j.jsx)("strong",{children:a.email})}}))})]}),(0,j.jsx)(d.z,{color:"primary",disabled:G,onClick:async()=>{await w.mutateAsync({message:r,includeFrom:k}),g.m.success(t.formatMessage(S.successToast),{duration:3}),s()},children:(0,j.jsx)(x.Z,z(z({},S.send),{},{values:{name:n.gizmo.author.display_name}}))})]})})})},G=n(41141),C=n(35226),F=n(50684),N=n(10852),P=n(16054),L=n(19841),D=n(74091),T=n(3445);function M(e,l){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);l&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,a)}return n}function O(e){for(var l=1;l<arguments.length;l++){var n=null!=arguments[l]?arguments[l]:{};l%2?M(Object(n),!0).forEach(function(l){(0,s.Z)(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}function K(e){let{value:l,message:n}=e;return(0,j.jsx)(P.xz,{className:"flex rounded-md px-2 py-1.5 text-sm text-token-text-primary radix-state-active:bg-white dark:radix-state-active:bg-token-main-surface-tertiary md:radix-state-active:bg-token-main-surface-tertiary md:radix-state-active:text-token-text-primary",value:l,children:(0,j.jsx)("div",{className:"truncate",children:(0,j.jsx)(x.Z,O({},n))})})}function R(e){var l,n,a;let{gizmoId:i,actionSettings:s,actionTool:t}=e,r=function(e){let l=(0,C.NL)();return(0,y.D)({mutationFn:async e=>{let{actionId:l,domain:n,settings:a}=e;return m.U.upsertUserActionSettings(l,n,a)},onSuccess:()=>{l.invalidateQueries({queryKey:["gizmo","userActionSettings",{gizmoId:e}]})}})}(i),o=null===(l=s.action_settings)||void 0===l?void 0:l.all,d=e=>{var l,n;null!==(l=t.metadata)&&void 0!==l&&l.action_id&&null!==(n=t.metadata)&&void 0!==n&&n.domain&&r.mutateAsync({actionId:t.metadata.action_id,domain:t.metadata.domain,settings:{all:e}})};return(0,j.jsx)("div",{children:(0,j.jsxs)(E,{className:"border-b border-black/10 dark:border-white/10",children:[(0,j.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,j.jsx)("div",{className:"font-semibold",children:null===(n=t.metadata)||void 0===n?void 0:n.domain}),(0,j.jsxs)("a",{href:null===(a=t.metadata)||void 0===a?void 0:a.privacy_policy_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-1 text-token-text-tertiary hover:cursor-pointer hover:text-token-text-secondary",children:[(0,j.jsx)(x.Z,O({},A.privacyPolicyLink)),(0,j.jsx)(T.Pfi,{className:"icon-md"})]})]}),(0,j.jsxs)("select",{value:o?"always_allow":"unset",onChange:e=>d(e.target.value),className:"rounded border-none bg-token-main-surface-primary text-sm",children:[(0,j.jsx)("option",{value:"always_allow",children:(0,j.jsx)(x.Z,O({},A.alwaysAllowDropdown))}),(0,j.jsx)("option",{value:"unset",children:(0,j.jsx)(x.Z,O({},A.askDropdown))})]})]})})}function I(e){var l;let{gizmoId:n,actionSettings:a,actionTool:i}=e,s=function(e){let l=(0,C.NL)();return(0,y.D)({mutationFn:async e=>{let{pluginId:l}=e;await N.Z.deletePluginUserSettings({pluginId:l})},onSuccess:()=>{l.invalidateQueries({queryKey:["gizmo","userActionSettings",{gizmoId:e}]})}})}(n),t="valid"===a.oauth_status;return(0,j.jsxs)(E,{children:[(0,j.jsx)("div",{className:"font-semibold",children:null==i||null===(l=i.metadata)||void 0===l?void 0:l.domain}),(0,j.jsx)(d.z,{color:"secondary",size:"small",onClick:()=>{var e,l,a,r,o;null!==(e=i.metadata)&&void 0!==e&&e.action_id&&null!==(l=i.metadata)&&void 0!==l&&l.domain&&(t?s.mutateAsync({pluginId:null===(a=i.metadata)||void 0===a?void 0:a.action_id}):m.U.doOAuthRedirect(n,null===(r=i.metadata)||void 0===r?void 0:r.action_id,null===(o=i.metadata)||void 0===o?void 0:o.domain,window.location.href))},children:(0,j.jsx)(x.Z,O({},t?A.logout:A.login))})]})}let Z=D.Z.div(a||(a=(0,G.Z)(["flex flex-col gap-6"]))),E=D.Z.div(i||(i=(0,G.Z)(["flex flex-row justify-between py-3 items-center"]))),A=(0,k.vU)({title:{defaultMessage:"GPT's privacy settings",id:"GizmoPrivacySettings.title"},actions:{defaultMessage:"Actions",id:"GizmoPrivacySettings.actions"},connectedAccounts:{defaultMessage:"Connected accounts",id:"GizmoPrivacySettings.connectedAccounts"},connectedAccountsDesc:{defaultMessage:"Manage which 3rd party accounts can be accessed by {gizmoName}.",id:"GizmoPrivacySettings.connectedAccountsDesc"},allowedActionsTitle:{defaultMessage:"GPT's privacy settings",id:"GizmoPrivacySettings.allowedActionsTitle"},allowedActionsDesc:{defaultMessage:"Select which 3rd party actions are allowed in conversations with {gizmoName}.",id:"GizmoPrivacySettings.allowedActionsDesc"},privacyPolicyLink:{defaultMessage:"Privacy policy",id:"GizmoPrivacySettings.privacyPolicyLink"},alwaysAllowDropdown:{defaultMessage:"Always allow",id:"GizmoPrivacySettings.alwaysAllowDropdown"},askDropdown:{defaultMessage:"Ask",id:"GizmoPrivacySettings.askDropdown"},login:{defaultMessage:"Log in",id:"GizmoPrivacySettings.login"},logout:{defaultMessage:"Log out",id:"GizmoPrivacySettings.logout"}});var _=e=>{let{gizmo:l}=e,{data:n,isLoading:a}=(0,o.Wd)(l.gizmo.id,!0),i=(0,p.EV)(p.B.GPTPrivacySettings),s=(0,h.Z)(),{0:r,1:d}=(0,v.useState)("actions"),c=null!=n&&n.settings.some(e=>null!=e.oauth_status&&l.tools.some(l=>{var n;return l.type===t.qK.JIT_PLUGIN&&(null===(n=l.metadata)||void 0===n?void 0:n.action_id)===e.action_id}));return"connected_accounts"!==r||c||d("actions"),(0,j.jsx)(u.Z,{title:s.formatMessage(A.title),isOpen:i,onClose:()=>p.vm.closeModal(p.B.GPTPrivacySettings),type:"success",size:"custom",className:"min-h-[50vh] max-w-3xl overflow-y-auto scroll-smooth",noPadding:!0,showCloseButton:!0,children:a?(0,j.jsx)(F.Z,{}):(0,j.jsxs)(P.fC,{className:"flex flex-row gap-6 p-4",orientation:"vertical",defaultValue:r,onValueChange:e=>{d(e)},children:[c&&(0,j.jsxs)(P.aV,{className:(0,L.default)("flex min-w-[180px] max-w-[200px] flex-shrink-0 flex-col gap-2"),children:[(0,j.jsx)(K,{value:"actions",message:A.actions}),c&&(0,j.jsx)(K,{value:"connected_accounts",message:A.connectedAccounts})]}),(0,j.jsxs)("div",{className:"flex-1 text-sm",children:["actions"===r&&(0,j.jsxs)(Z,{children:[(0,j.jsx)(x.Z,O(O({},A.allowedActionsDesc),{},{values:{gizmoName:l.gizmo.display.name}})),null==n?void 0:n.settings.map((e,n)=>{var a;let i=null===(a=l.tools)||void 0===a?void 0:a.find(l=>{var n;return l.type===t.qK.JIT_PLUGIN&&(null===(n=l.metadata)||void 0===n?void 0:n.action_id)===e.action_id});return i&&(0,j.jsx)(R,{gizmoId:l.gizmo.id,actionSettings:e,actionTool:i},n)})]}),"connected_accounts"===r&&(0,j.jsxs)(Z,{children:[(0,j.jsx)(x.Z,O(O({},A.connectedAccountsDesc),{},{values:{gizmoName:l.gizmo.display.name}})),(0,j.jsx)("div",{children:null==n?void 0:n.settings.map((e,n)=>{var a;let i=null===(a=l.tools)||void 0===a?void 0:a.find(l=>{var n;return l.type===t.qK.JIT_PLUGIN&&(null===(n=l.metadata)||void 0===n?void 0:n.action_id)===e.action_id});return i&&e.oauth_status&&(0,j.jsx)(I,{gizmoId:l.gizmo.id,actionSettings:e,actionTool:i},n)})})]})]})]})})},U=n(9085),q=n(16645),B=n(4702),V=n(27603),W=n(86021),Q=n(54538),$=n(32512),H=n(27860),J=n(93747),Y=n(48538),X=n(59031),ee=n(48580),el=n(43128),en=n(87200),ea=n(67165),ei=n(40766),es=n(70410),et=n(75438);function er(e,l){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);l&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,a)}return n}function eo(e){for(var l=1;l<arguments.length;l++){var n=null!=arguments[l]?arguments[l]:{};l%2?er(Object(n),!0).forEach(function(l){(0,s.Z)(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}function ed(e){let{gizmoResource:l}=e,n=(0,U.eY)(l.gizmo.id),a=(0,h.Z)(),i=n?a.formatMessage({id:"GizmoInformation.pin.sidebar.hide",defaultMessage:"Hide from sidebar"}):a.formatMessage({id:"GizmoInformation.pin.sidebar.keep",defaultMessage:"Keep in sidebar"}),s=(0,C.NL)();return(0,j.jsx)(ea.Z.Item,{onClick:()=>{m.U.updateGizmoSidebar(s,l.gizmo.id,n?"hide":"keep")},icon:n?T.Xl7:T.qQX,children:i})}function ec(e){let{gizmoResource:l}=e,{0:n,1:a}=(0,v.useState)(!1);return l.gizmo.share_recipient===q.Zz.Private?null:(0,j.jsx)(ea.Z.Item,{onClick:async e=>{e.stopPropagation(),e.preventDefault();try{let e=l.gizmo.short_url?(0,o.AG)(l.gizmo.short_url):"".concat("https://chatgpt.com").concat((0,o.m_)(l));await (0,Y.v)(e),a(!0),setTimeout(()=>{a(!1)},2e3)}catch(e){X.U.addError(e);return}},icon:T.xPt,children:n?(0,j.jsx)(x.Z,eo({},ey.copiedURL)):(0,j.jsx)(x.Z,eo({},ey.copyLink))})}function eu(e){let{children:l,clientThreadId:n,gizmoResource:a,showReportModal:i,inMobileHeader:s}=e;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ea.d,{contentAlign:s?"center":"start",size:"small",triggerButton:l,children:(0,j.jsx)(eg,{clientThreadId:n,gizmoResource:a,showReportModal:i})}),(0,j.jsx)(em,{gizmoResource:a})]})}function em(e){let{gizmoResource:l}=e,n=(0,p.EV)(p.B.GPTRemoveThirdParty),a=(0,B.t)(),i=(0,q.q0)(l);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ei.j4,{gizmoId:l.gizmo.id,creatorId:l.gizmo.author.user_id}),(0,j.jsx)(_,{gizmo:l}),i&&(0,j.jsx)(w,{gizmo:l}),i&&(0,j.jsx)(es.Z,{gizmo:l}),(0,j.jsx)(en.Z,{gpt:l,isOpen:n,onClose:()=>p.vm.closeModal(p.B.GPTRemoveThirdParty),account:a})]})}function eg(e){var l;let{clientThreadId:n,gizmoResource:a,showReportModal:i}=e,s=(0,el.useRouter)(),d=(0,et.k1)(a),c=(0,et.R2)(a),u=(0,H.xj)(a.gizmo.id),g=(0,B.hz)(),f=(0,q.yS)(a),y=a.gizmo.share_recipient===q.Zz.Marketplace||a.gizmo.share_recipient===q.Zz.Link,v=(0,ee.sB)("1825130190").value,h=(0,ee.sB)("3645668434").value,k=v&&!f&&(0,q.q0)(a),b=(null==g?void 0:g.includes(V.L0.GizmoSupportEmails))&&!f&&a.gizmo.author.will_receive_support_emails&&k,z=(0,B.S0)(),S=(0,W.XK)(n),w=(0,r.C)(V.L0.WorkspaceShareLinks),{isUnauthenticated:G}=(0,Q.u)(),C=S&&w&&!G;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ea.Z.Item,{onClick:()=>{J.A.logNewChatButtonClicked({location:"Gizmo information dropdown",gizmo_id:a.gizmo.id}),s.push("/g/".concat(a.gizmo.short_url))},icon:T.bl$,children:(0,j.jsx)(x.Z,eo({},ey.newChat))}),(0,j.jsx)(ea.Z.Item,{onClick:()=>p.vm.openModal(p.B.GPTDetails),icon:T.szr,children:(0,j.jsx)(x.Z,eo({},ey.about))}),(null===(l=a.tools)||void 0===l?void 0:l.find(e=>e.type===t.qK.JIT_PLUGIN))&&(0,j.jsx)(ea.Z.Item,{onClick:()=>p.vm.openModal(p.B.GPTPrivacySettings),icon:T.oVl,children:(0,j.jsx)(x.Z,eo({},ey.privacySettings))}),d&&(0,j.jsx)(ea.Z.Item,{onClick:()=>{s.push(u,void 0,{shallow:!0})},icon:T.SWE,children:(0,j.jsx)(x.Z,eo({},ey.customize))}),!d&&c&&h&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ea.Z.Item,{onClick:async()=>{s.push("/g/".concat(a.gizmo.id,"/view"))},icon:T.tEF,children:(0,j.jsx)(x.Z,{id:"GizmoInformation.viewGizmoLabel",defaultMessage:"View configuration"})}),(0,j.jsx)(ea.Z.Item,{onClick:async()=>{let e=await m.U.copyGizmo({gizmoId:a.gizmo.id});e.gizmo.id&&s.push("/gpts/editor/".concat(e.gizmo.id))},icon:T.TIy,children:(0,j.jsx)(x.Z,{id:"GizmoInformation.copyGizmoLabel",defaultMessage:"Duplicate GPT"})})]}),(0,j.jsx)(ed,{gizmoResource:a}),(0,j.jsx)(ec,{gizmoResource:a}),b&&(0,j.jsx)(ea.Z.Item,{onClick:()=>p.vm.openModal(p.B.GPTFeedbackEmail),icon:T.kBi,children:(0,j.jsx)(x.Z,eo({},ey.feedbackEmail))}),k&&(0,j.jsx)(ea.Z.Item,{onClick:()=>p.vm.openModal(p.B.GPTReview),icon:T.qtd,children:(0,j.jsx)(x.Z,eo({},ey.reviewGPT))}),!f&&y&&(0,j.jsx)(ea.Z.Item,{onClick:i,icon:T.U65,children:(0,j.jsx)(x.Z,eo({},ey.report))}),C&&(0,j.jsx)(ea.Z.Item,{onClick:()=>p.vm.openSharingModal(S),icon:T.aAc,children:(0,j.jsx)(x.Z,eo({},ey.shareChat))}),z&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ea.Z.Separator,{}),(0,j.jsx)(ea.Z.Item,{color:"danger",onClick:()=>p.vm.openModal(p.B.GPTRemoveThirdParty),icon:T.tPq,children:(0,j.jsx)(x.Z,{defaultMessage:"Remove GPT from workspace",id:"GizmoInformation.removeGPT"})})]}),(null==g?void 0:g.includes("debug"))&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ea.Z.Separator,{}),(0,j.jsx)(ea.Z.Item,{onClick:()=>{s.push((0,o.i6)(a),void 0)},children:"(Internal) See share page"})]})]})}let ep=e=>{let{clientThreadId:l}=e,n=(0,B.hz)(),a=null==n?void 0:n.includes("debug"),i=W.tQ.getServerThreadId(l),s=(0,r.C)(V.L0.WorkspaceShareLinks),{isUnauthenticated:t}=(0,Q.u)(),o=s&&i&&!t;return(0,j.jsxs)(j.Fragment,{children:[o&&(0,j.jsx)(ea.Z.Item,{onClick:()=>p.vm.openSharingModal(i,"History Item Menu"),icon:T.aAc,children:(0,j.jsx)(x.Z,eo({},ey.shareChat))}),(0,j.jsx)(ea.Z.Item,{disabled:!i,onClick:()=>{setTimeout(()=>{i&&$.n.publish({kind:"editTitle",serverThreadId:i})},100)},icon:T.vdY,children:(0,j.jsx)(x.Z,eo({},ey.renameChat))}),(0,j.jsx)(ea.Z.Item,{disabled:!i,onClick:()=>{i&&$.n.publish({kind:"archiveChat",serverThreadId:i})},icon:T.rKT,children:(0,j.jsx)(x.Z,eo({},ey.archiveChat))}),(0,j.jsx)(ea.Z.Item,{color:"danger",disabled:!i,onClick:()=>{i&&$.n.publish({kind:"deleteChat",serverThreadId:i})},icon:T.XHJ,children:(0,j.jsx)(x.Z,eo({},ey.deleteChat))}),a&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ea.Z.Separator,{}),(0,j.jsx)(ea.Z.Item,{onClick:()=>p.vm.toggleActiveSidebar("debug"),icon:T.reV,children:(0,j.jsx)(x.Z,eo({},ey.debugChat))})]})]})},ef=e=>{let{clientThreadId:l,children:n,onOpenChange:a}=e;return(0,j.jsx)(ea.d,{onOpenChange:a,side:"bottom",contentAlign:"start",triggerButton:n,size:"auto",children:(0,j.jsx)(ep,{clientThreadId:l})})},ey=(0,k.vU)({newChat:{defaultMessage:"New chat",id:"GizmoInformation.newChat"},about:{defaultMessage:"About",id:"GizmoInformation.about"},privacySettings:{defaultMessage:"Privacy settings",id:"GizmoInformation.privacySettings"},viewDetails:{defaultMessage:"View details",id:"GizmoInformation.viewDetails"},share:{defaultMessage:"Share",id:"GizmoInformation.share"},favorite:{defaultMessage:"Favorite",id:"GizmoInformation.favorite"},customize:{defaultMessage:"Edit GPT",id:"GizmoInformation.customize"},feedbackEmail:{defaultMessage:"Send feedback",id:"GizmoInformation.feedbackEmail"},reviewGPT:{defaultMessage:"Review GPT",id:"GizmoInformation.reviewGPT"},report:{defaultMessage:"Report",id:"GizmoInformation.report"},privacy:{defaultMessage:"Privacy",id:"GizmoInformation.privacy"},deleteChat:{defaultMessage:"Delete",id:"GizmoInformation.deleteChat.0"},debugChat:{defaultMessage:"(Internal) Debug",id:"GizmoInformation.debugChat"},renameChat:{defaultMessage:"Rename",id:"GizmoInformation.renameChat"},archiveChat:{defaultMessage:"Archive",id:"GizmoInformation.archiveChat.0"},copyLink:{defaultMessage:"Copy link",id:"GizmoInformation.copyLink"},shareChat:{defaultMessage:"Share",id:"GizmoInformation.shareChat"},shareChatLong:{defaultMessage:"Share chat",id:"GizmoInformation.shareChatLong"},copiedURL:{defaultMessage:"Copied URL",id:"GizmoInformation.copiedURL"}})},69817:function(e,l,n){n.d(l,{W:function(){return f},i:function(){return y}});var a=n(21904),i=n(82823),s=n(86021),t=n(23653),r=n(48580),o=n(92379),d=n(75172),c=n(62984),u=n(49217),m=n(7050),g=n(70604),p=n(651);function f(e){let{gizmoId:l,onClose:n}=e,{data:s}=(0,i.b9)(l),{data:r}=(0,t.sQ)(a.CD.Gizmo),o=(0,d.Z)(),c=(0,t.gm)(o,l,a.CD.Gizmo);if(null==r)return null;let u=null!=s?"Report ".concat(s.gizmo.display.name):"Report";return(0,p.jsx)(g.UM,{reasons:r.reasons,submitReport:c,title:u,onClose:n,header:r.header,subHeader:r.header_explanation})}function y(e){var l,n,a;let{gizmoId:i,clientThreadId:t,onClose:y}=e,v=(0,d.Z)(),h=null===(l=(0,r.sB)("1855896025"))||void 0===l?void 0:l.value,x=null===(n=(0,r.sB)("3376455464"))||void 0===n?void 0:n.value,k=(0,s.XK)(t),j=null===(a=(0,r.sB)("90459671"))||void 0===a?void 0:a.value,{0:b,1:z}=(0,o.useState)();return h&&x&&"gpt"!==b&&j&&null!=k?"conversation"===b?(0,p.jsx)(m.E,{serverThreadId:k,onClose:y}):(0,p.jsxs)(u.Z,{title:v.formatMessage({id:"gizmo.report.selectorModal.title",defaultMessage:"Report"}),onClose:y,isOpen:!0,showCloseButton:!0,type:"success",children:[(0,p.jsx)(g.Rh,{header:v.formatMessage({id:"gizmo.report.selectorModal.header",defaultMessage:"What would you like to report?"})}),(0,p.jsxs)(g._4,{children:[(0,p.jsx)(g.Ag,{onClick:e=>{e.preventDefault(),z("conversation")},children:(0,p.jsx)(c.Z,{id:"gizmo.report.selectorModal.conversation",defaultMessage:"The conversation"})}),(0,p.jsx)(g.Ag,{onClick:e=>{e.preventDefault(),z("gpt")},children:(0,p.jsx)(c.Z,{id:"gizmo.report.selectorModal.gpt",defaultMessage:"The GPT"})})]})]}):(0,p.jsx)(f,{gizmoId:i,onClose:y})}},55568:function(e,l,n){n.r(l);let a={kind:"InlineDataFragment",name:"GizmoDiscoveryCutFragment"};a.hash="fdc786e0e8d5e95c726dada0fa923ec5",l.default=a},26603:function(e,l,n){var a,i,s,t,r,o,d;n.r(l);let c={fragment:{argumentDefinitions:[a={defaultValue:null,kind:"LocalArgument",name:"after"},i={defaultValue:null,kind:"LocalArgument",name:"first"},s={defaultValue:null,kind:"LocalArgument",name:"id"},t={defaultValue:null,kind:"LocalArgument",name:"locale"}],kind:"Fragment",metadata:null,name:"GizmoDiscoveryCutLoadMoreQuery",selections:[{alias:null,args:r=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"locale",variableName:"locale"}],concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"gizmoDiscoveryCut",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"GizmoDiscoveryLandingFragment",selections:o=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacyId",storageKey:null},{alias:null,args:null,concreteType:"GizmoDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profilePictureUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GizmoVanityMetrics",kind:"LinkedField",name:"vanityMetrics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"numConversationsStr",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortUrl",storageKey:null},{alias:null,args:null,concreteType:"GizmoAuthor",kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkTo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null},d={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,t,i,a],kind:"Operation",name:"GizmoDiscoveryCutLoadMoreQuery",selections:[{alias:null,args:r,concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"gizmoDiscoveryCut",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:o,storageKey:null}],storageKey:null},d],storageKey:null}],storageKey:null}]},params:{cacheID:"36d68b449a76cd91a0c163ca704bfe71",id:"183f687bb51f2ee7e120e663d4b489dd6ac9eb62a73368352ff4022be136f08b",metadata:{},name:"GizmoDiscoveryCutLoadMoreQuery",operationKind:"query",text:"query GizmoDiscoveryCutLoadMoreQuery(\n  $id: String!\n  $locale: GizmoCategoryLocale\n  $first: Int!\n  $after: Cursor\n) {\n  gizmoDiscoveryCut(id: $id, first: $first, after: $after, locale: $locale) {\n    items {\n      edges {\n        node {\n          ...GizmoDiscoveryLandingFragment\n          id\n        }\n      }\n      pageInfo {\n        endCursor\n        hasNextPage\n      }\n    }\n  }\n}\n\nfragment GizmoDiscoveryLandingFragment on Gizmo {\n  id\n  legacyId\n  display {\n    name\n    description\n    profilePictureUrl\n  }\n  vanityMetrics {\n    numConversationsStr\n  }\n  tags\n  shortUrl\n  author {\n    displayName\n    linkTo\n    userId\n  }\n}\n"}};c.hash="5a6cf482526687b7abccf6a708796da5",l.default=c},70734:function(e,l,n){var a,i,s,t,r,o,d,c,u;n.r(l);let m=(a=[{defaultValue:null,kind:"LocalArgument",name:"skip"}],r={alias:null,args:null,concreteType:"GizmoDiscoveryCutInfo",kind:"LinkedField",name:"info",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayGroup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayType",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null}],storageKey:null},o={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},c=[s,{alias:null,args:null,kind:"ScalarField",name:"legacyId",storageKey:null},{alias:null,args:null,concreteType:"GizmoDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"profilePictureUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GizmoVanityMetrics",kind:"LinkedField",name:"vanityMetrics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"numConversationsStr",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortUrl",storageKey:null},{alias:null,args:null,concreteType:"GizmoAuthor",kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkTo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null}],storageKey:null}],{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GizmoDiscoveryLandingForViewerQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryLandingForViewer",kind:"LinkedField",name:"gizmoDiscoveryForViewer",plural:!1,selections:[i,{alias:null,args:null,concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"cuts",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"GizmoDiscoveryCutFragment",selections:[r,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[o,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[d,{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:[s,{kind:"InlineDataFragmentSpread",name:"GizmoDiscoveryLandingFragment",selections:c,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"workspaceFiltered",storageKey:null}],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GizmoDiscoveryLandingForViewerQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryLandingForViewer",kind:"LinkedField",name:"gizmoDiscoveryForViewer",plural:!1,selections:[i,{alias:null,args:null,concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"cuts",plural:!0,selections:[r,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[o,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[d,{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:c,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},u],storageKey:null}]}]},params:{cacheID:"23015c9c007ae8898b1d1c7505dbf071",id:"ea61cceff43f62cd3e43106f5ddc9037d6ee4784fd66a9df29312554db87bbc2",metadata:{},name:"GizmoDiscoveryLandingForViewerQuery",operationKind:"query",text:"query GizmoDiscoveryLandingForViewerQuery(\n  $skip: Boolean!\n) {\n  gizmoDiscoveryForViewer @skip(if: $skip) {\n    locale\n    cuts {\n      ...GizmoDiscoveryCutFragment\n    }\n    workspaceFiltered\n  }\n}\n\nfragment GizmoDiscoveryCutFragment on GizmoDiscoveryCut {\n  info {\n    id\n    displayGroup\n    title\n    description\n    displayType\n    locale\n  }\n  items {\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n    edges {\n      cursor\n      node {\n        id\n        ...GizmoDiscoveryLandingFragment\n      }\n    }\n  }\n}\n\nfragment GizmoDiscoveryLandingFragment on Gizmo {\n  id\n  legacyId\n  display {\n    name\n    description\n    profilePictureUrl\n  }\n  vanityMetrics {\n    numConversationsStr\n  }\n  tags\n  shortUrl\n  author {\n    displayName\n    linkTo\n    userId\n  }\n}\n"}});m.hash="17404783875f8625eac8cdae0fafb9b7",l.default=m},54474:function(e,l,n){n.r(l);let a={kind:"InlineDataFragment",name:"GizmoDiscoveryLandingFragment"};a.hash="481cc035f04fcf6c9178d83416b7fbf9",l.default=a},51642:function(e,l,n){var a,i,s,t,r,o,d,c,u;n.r(l);let m=(a=[{defaultValue:null,kind:"LocalArgument",name:"skip"}],r={alias:null,args:null,concreteType:"GizmoDiscoveryCutInfo",kind:"LinkedField",name:"info",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayGroup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayType",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null}],storageKey:null},o={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},c=[s,{alias:null,args:null,kind:"ScalarField",name:"legacyId",storageKey:null},{alias:null,args:null,concreteType:"GizmoDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"profilePictureUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GizmoVanityMetrics",kind:"LinkedField",name:"vanityMetrics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"numConversationsStr",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortUrl",storageKey:null},{alias:null,args:null,concreteType:"GizmoAuthor",kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkTo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null}],storageKey:null}],{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GizmoDiscoveryLandingQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryLanding",kind:"LinkedField",name:"gizmoDiscovery",plural:!1,selections:[i,{alias:null,args:null,concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"cuts",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"GizmoDiscoveryCutFragment",selections:[r,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[o,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[d,{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:[s,{kind:"InlineDataFragmentSpread",name:"GizmoDiscoveryLandingFragment",selections:c,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"workspaceFiltered",storageKey:null}],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GizmoDiscoveryLandingQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryLanding",kind:"LinkedField",name:"gizmoDiscovery",plural:!1,selections:[i,{alias:null,args:null,concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"cuts",plural:!0,selections:[r,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[o,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[d,{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:c,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},u],storageKey:null}]}]},params:{cacheID:"eb70cae73c61fdf9b0e22e628281cb01",id:"61717afe8e2e87eb8384313c6aeb667029db6128bb66c1ac25c832375709e25e",metadata:{},name:"GizmoDiscoveryLandingQuery",operationKind:"query",text:"query GizmoDiscoveryLandingQuery(\n  $skip: Boolean!\n) {\n  gizmoDiscovery @skip(if: $skip) {\n    locale\n    cuts {\n      ...GizmoDiscoveryCutFragment\n    }\n    workspaceFiltered\n  }\n}\n\nfragment GizmoDiscoveryCutFragment on GizmoDiscoveryCut {\n  info {\n    id\n    displayGroup\n    title\n    description\n    displayType\n    locale\n  }\n  items {\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n    edges {\n      cursor\n      node {\n        id\n        ...GizmoDiscoveryLandingFragment\n      }\n    }\n  }\n}\n\nfragment GizmoDiscoveryLandingFragment on Gizmo {\n  id\n  legacyId\n  display {\n    name\n    description\n    profilePictureUrl\n  }\n  vanityMetrics {\n    numConversationsStr\n  }\n  tags\n  shortUrl\n  author {\n    displayName\n    linkTo\n    userId\n  }\n}\n"}});m.hash="3cadd0873e6a4e54be7e78d26a0fea45",l.default=m},97448:function(e,l,n){var a,i,s,t;n.r(l);let r={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"q"},{defaultValue:null,kind:"LocalArgument",name:"skip"}],kind:"Fragment",metadata:null,name:"GizmoDiscoverySearchQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:i=[{kind:"Variable",name:"q",variableName:"q"}],concreteType:"GizmoSearchResultConnection",kind:"LinkedField",name:"gizmoSearch",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoSearchResultEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"GizmoDiscoverySearchResultFragment",selections:s=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacyId",storageKey:null},{alias:null,args:null,concreteType:"GizmoDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profilePictureUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GizmoVanityMetrics",kind:"LinkedField",name:"vanityMetrics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"numConversationsStr",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortUrl",storageKey:null},{alias:null,args:null,concreteType:"GizmoAuthor",kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkTo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null},t={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GizmoDiscoverySearchQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:i,concreteType:"GizmoSearchResultConnection",kind:"LinkedField",name:"gizmoSearch",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoSearchResultEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:s,storageKey:null}],storageKey:null},t],storageKey:null}]}]},params:{cacheID:"4072e50358c9a36b0520aa8f19d109ea",id:"a729daad0c7f7a7f438e19b21729a3cb6a6ab244a5e6faef10a995aa960f828a",metadata:{},name:"GizmoDiscoverySearchQuery",operationKind:"query",text:"query GizmoDiscoverySearchQuery(\n  $q: String!\n  $skip: Boolean!\n) {\n  gizmoSearch(q: $q) @skip(if: $skip) {\n    edges {\n      node {\n        ...GizmoDiscoverySearchResultFragment\n        id\n      }\n    }\n    pageInfo {\n      endCursor\n    }\n  }\n}\n\nfragment GizmoDiscoverySearchResultFragment on Gizmo {\n  id\n  legacyId\n  display {\n    name\n    description\n    profilePictureUrl\n  }\n  vanityMetrics {\n    numConversationsStr\n  }\n  tags\n  shortUrl\n  author {\n    displayName\n    linkTo\n    userId\n  }\n}\n"}};r.hash="ecc53fe4da40d180a6679828a01fbe62",l.default=r},71330:function(e,l,n){var a,i,s;n.r(l);let t={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"skip"}],kind:"Fragment",metadata:null,name:"GizmoDiscoverySearchRecentQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:i=[{kind:"Literal",name:"first",value:3},{kind:"Literal",name:"id",value:"recent"}],concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"gizmoDiscoveryCut",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"GizmoDiscoverySearchResultFragment",selections:s=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacyId",storageKey:null},{alias:null,args:null,concreteType:"GizmoDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profilePictureUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GizmoVanityMetrics",kind:"LinkedField",name:"vanityMetrics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"numConversationsStr",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortUrl",storageKey:null},{alias:null,args:null,concreteType:"GizmoAuthor",kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkTo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'gizmoDiscoveryCut(first:3,id:"recent")'}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GizmoDiscoverySearchRecentQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:i,concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"gizmoDiscoveryCut",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:s,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'gizmoDiscoveryCut(first:3,id:"recent")'}]}]},params:{cacheID:"e95b9a90b6a2230bc87b54ad9906e916",id:"8ec50d7747182d2845113037aaca7d8b90c8984df1967edc46b78be1cc194c79",metadata:{},name:"GizmoDiscoverySearchRecentQuery",operationKind:"query",text:'query GizmoDiscoverySearchRecentQuery(\n  $skip: Boolean!\n) {\n  gizmoDiscoveryCut(id: "recent", first: 3) @skip(if: $skip) {\n    items {\n      edges {\n        node {\n          ...GizmoDiscoverySearchResultFragment\n          id\n        }\n      }\n    }\n  }\n}\n\nfragment GizmoDiscoverySearchResultFragment on Gizmo {\n  id\n  legacyId\n  display {\n    name\n    description\n    profilePictureUrl\n  }\n  vanityMetrics {\n    numConversationsStr\n  }\n  tags\n  shortUrl\n  author {\n    displayName\n    linkTo\n    userId\n  }\n}\n'}};t.hash="cd8dfafd3765a6c177f962cbd0a3032d",l.default=t},19798:function(e,l,n){n.r(l);let a={kind:"InlineDataFragment",name:"GizmoDiscoverySearchResultFragment"};a.hash="f1079dddf3cead4b3a74620fbbbd6d9d",l.default=a},25173:function(e,l,n){var a,i,s,t;n.r(l);let r={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"q"},{defaultValue:null,kind:"LocalArgument",name:"skip"}],kind:"Fragment",metadata:null,name:"GizmoDiscoverySearchWorkspaceOnlyQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:i=[{kind:"Variable",name:"q",variableName:"q"},{kind:"Literal",name:"workspaceOnly",value:!0}],concreteType:"GizmoSearchResultConnection",kind:"LinkedField",name:"gizmoSearch",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoSearchResultEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"GizmoDiscoverySearchResultFragment",selections:s=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacyId",storageKey:null},{alias:null,args:null,concreteType:"GizmoDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profilePictureUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GizmoVanityMetrics",kind:"LinkedField",name:"vanityMetrics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"numConversationsStr",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortUrl",storageKey:null},{alias:null,args:null,concreteType:"GizmoAuthor",kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkTo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null},t={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GizmoDiscoverySearchWorkspaceOnlyQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:i,concreteType:"GizmoSearchResultConnection",kind:"LinkedField",name:"gizmoSearch",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoSearchResultEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:s,storageKey:null}],storageKey:null},t],storageKey:null}]}]},params:{cacheID:"83e5dcb21aa71a0b6f7cac4afa2c868e",id:"3a5e9c35db88b5a1f36dfd30317fb3d4bc7ab1fea18fc2ccfcf8488e3b8fdf0c",metadata:{},name:"GizmoDiscoverySearchWorkspaceOnlyQuery",operationKind:"query",text:"query GizmoDiscoverySearchWorkspaceOnlyQuery(\n  $q: String!\n  $skip: Boolean!\n) {\n  gizmoSearch(q: $q, workspaceOnly: true) @skip(if: $skip) {\n    edges {\n      node {\n        ...GizmoDiscoverySearchResultFragment\n        id\n      }\n    }\n    pageInfo {\n      endCursor\n    }\n  }\n}\n\nfragment GizmoDiscoverySearchResultFragment on Gizmo {\n  id\n  legacyId\n  display {\n    name\n    description\n    profilePictureUrl\n  }\n  vanityMetrics {\n    numConversationsStr\n  }\n  tags\n  shortUrl\n  author {\n    displayName\n    linkTo\n    userId\n  }\n}\n"}};r.hash="9b0252d2089c7325c26e7cba0ac166b8",l.default=r},28862:function(e,l,n){n.d(l,{a7:function(){return M},at:function(){return I},h9:function(){return T},r1:function(){return K}});var a,i,s=n(41141),t=n(94521);n(11823);var r=n(46193),o=n(67165),d=n(62484),c=n(3445),u=n(83252),m=n(5994),g=n(82823),p=n(56029),f=n(16645),y=n(75438),v=n(27860),h=n(35226),x=n(19841),k=n(556),j=n(40319),b=n.n(j),z=n(43128),S=n(92379),w=n(62984),G=n(68306),C=n(74091),F=n(61885),N=n(52899),P=n(651);function L(e,l){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);l&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,a)}return n}function D(e){for(var l=1;l<arguments.length;l++){var n=null!=arguments[l]?arguments[l]:{};l%2?L(Object(n),!0).forEach(function(l){(0,t.Z)(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}function T(e){let{delay:l,animateTap:n=!0,children:a}=e;return(0,P.jsx)(k.E.div,{whileTap:{scale:n?.98:void 0},initial:{opacity:0,translateY:5},animate:{opacity:1,translateY:0,transition:{duration:.3,ease:"easeIn",delay:null!=l?l:0}},children:a})}let M=((a={}).Enabled="enabled",a.ComingSoon="coming-soon",a);function O(e){var l,n;let{gizmoResource:a}=e,i=null===(l=a.gizmo.vanity_metrics)||void 0===l?void 0:l.num_conversations_str,s=null!==(n=a.gizmo.share_recipient)&&void 0!==n?n:f.Zz.Private,t=(0,y.XA)(s);return(0,P.jsxs)("div",{children:[a.gizmo.share_recipient!==f.Zz.Private&&null!=i?(0,P.jsxs)("div",{className:"flex items-center gap-1",children:[(0,P.jsx)(c.qZr,{className:"icon-sm"}),(0,P.jsx)("span",{children:(0,P.jsx)(w.Z,D(D({},A.conversationCountStrLabel),{},{values:{numConvos:i}}))})]}):void 0,(0,P.jsxs)("div",{className:"flex items-center gap-1",children:[s===f.Zz.Link||s===f.Zz.Marketplace?(0,P.jsx)(c.tEF,{className:"icon-sm shrink-0"}):s===f.Zz.Workspace?(0,P.jsx)(c.ZyV,{className:"icon-sm shrink-0"}):(0,P.jsx)(c.oVl,{className:"icon-sm shrink-0"}),(0,P.jsx)("span",{className:"line-clamp-1",children:t})]})]})}function K(e){var l,n,a;let{gizmoResource:i,canRemoveRecent:s}=e,t=(0,z.useRouter)(),r=(0,y.k1)(i),o=(0,g.Sg)(i),p=!!(null===(l=i.gizmo.tags)||void 0===l?void 0:l.includes(f.U9.FirstParty));return(0,P.jsx)(Z,{href:o?(0,v.AA)(i.gizmo.id):(0,g.m_)(i),icon:(0,P.jsx)(u.Z,{isFirstParty:p,src:null!==(n=null==i?void 0:i.gizmo.display.profile_picture_url)&&void 0!==n?n:void 0,className:"h-[42px] w-[42px] flex-shrink-0"}),title:i.gizmo.display.name||m.zf,isDraft:o,description:null!==(a=i.gizmo.display.description)&&void 0!==a?a:"",byline:r?(0,P.jsx)(O,{gizmoResource:i}):(0,P.jsx)(F.Z,{gizmo:i}),buttons:(0,P.jsxs)(P.Fragment,{children:[r&&(0,P.jsx)(d.u,{label:(0,P.jsx)(w.Z,{id:"gizmo.gpt.grid.EditGPT",defaultMessage:"Edit GPT"}),className:"flex justify-center",side:"top",children:(0,P.jsx)("button",{className:"rounded-lg px-3 py-2 text-token-text-primary transition-transform duration-100 ease-in hover:bg-white active:scale-[0.9] dark:bg-transparent dark:hover:bg-gray-700",onClick:()=>{t.push((0,v.AA)(i.gizmo.id),void 0,{shallow:!0})},children:(0,P.jsx)(c.vdY,{className:"icon-sm"})})}),(0,P.jsx)(E,{gizmoResource:i,isOwner:r,canRemoveRecent:s})]})})}let R=C.Z.div(i||(i=(0,s.Z)(["flex h-[42px] w-[42px] flex-shrink-0 items-center justify-center rounded-full border border-dashed\n",""])),e=>{let{$disabled:l}=e;return l?"":"border-token-border-light bg-token-main-surface-secondary"});function I(e){let{type:l}=e,n=(0,v.J8)(),a=l===M.ComingSoon;return(0,P.jsxs)(d.E,{disabled:!a,label:(0,P.jsx)(w.Z,{id:"gizmo.gpt.grid.CreateGPTComingSoon",defaultMessage:"GPT creation will be available in the coming weeks"}),children:[(0,P.jsx)(Z,{href:n,disabled:a,icon:(0,P.jsx)(R,{$disabled:a,children:(0,P.jsx)(c.Vz5,{className:(0,x.default)("icon-sm",a&&"opacity-30")})}),title:(0,P.jsx)("div",{className:"flex items-center gap-1",children:(0,P.jsx)(w.Z,{id:"gizmo.gpt.grid.CreateGPT",defaultMessage:"Create a GPT"})}),description:"Customize a version of ChatGPT for a specific purpose",byline:a?(0,P.jsx)("div",{className:"flex items-center justify-end",children:(0,P.jsx)("div",{className:"flex items-center",children:(0,P.jsx)(w.Z,{id:"gizmo.gpt.grid.ComingSoon",defaultMessage:"Coming soon"})})}):void 0}),(0,P.jsx)("div",{className:"h-px bg-gray-100 dark:bg-gray-700"})]})}function Z(e){let{href:l,icon:n,title:a,isDraft:i=!1,description:s,byline:t,buttons:r,disabled:o,className:c}=e,u=(0,x.default)("flex items-center px-2 py-4 rounded-xl",o?"":"hover:bg-token-main-surface-secondary",c),m=(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"flex grow items-center overflow-hidden md:w-3/5 md:grow-0",children:[n,(0,P.jsxs)("div",{className:(0,x.default)("grow overflow-hidden pl-4 pr-9 leading-tight",o?"opacity-50":"hover:cursor-pointer"),children:[(0,P.jsxs)("div",{className:"flex items-center gap-1",children:[(0,P.jsx)("span",{className:"font-semibold",children:a}),i&&(0,P.jsx)(d.u,{label:(0,P.jsx)(w.Z,{id:"gizmo.gpt.grid.Draft",defaultMessage:"Draft"}),className:"flex justify-center",side:"top",children:(0,P.jsx)("div",{className:"m-1.5 inline-block h-1.5 w-1.5 rounded-full bg-gray-200 dark:bg-gray-600"})})]}),(0,P.jsx)("div",{className:"line-clamp-2 overflow-hidden text-ellipsis break-words text-sm",children:s}),null!=t&&(0,P.jsx)("div",{className:"text-ellipsis text-sm text-token-text-tertiary md:hidden",children:t})]})]}),null!=t&&(0,P.jsx)("div",{className:"hidden flex-1 text-ellipsis text-sm text-token-text-tertiary md:block",children:t}),null!=r&&(0,P.jsx)("div",{onClick:e=>{e.preventDefault()},onPointerDownCapture:e=>{e.stopPropagation()},className:"flex h-9 shrink-0 justify-end gap-2 font-semibold md:w-[100px]",children:r})]});return o?(0,P.jsx)(T,{children:(0,P.jsx)("span",{className:u,children:m})}):(0,P.jsx)(T,{children:(0,P.jsx)(b(),{className:u,href:l,shallow:!0,children:m})})}function E(e){let{gizmoResource:l,isOwner:n,canRemoveRecent:a}=e,{0:i,1:s}=(0,S.useState)(!1),{0:t,1:d}=(0,S.useState)(!1),u=(0,h.NL)();return n||a?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(o.d,{side:"top",contentAlign:"end",sideOffset:8,open:t,onOpenChange:e=>d(e),triggerButton:(0,P.jsx)("button",{color:"secondary",className:"rounded-lg bg-transparent px-3 py-2 text-token-text-primary duration-100 ease-in hover:bg-white active:scale-[0.9] dark:bg-transparent dark:hover:bg-gray-700",onClick:()=>{d(e=>!e)},children:(0,P.jsx)(c.nWS,{className:"icon-md"})}),children:[n&&(0,P.jsx)(o.Z.Item,{color:"danger",onClick:()=>{s(!0)},icon:c.XHJ,children:(0,P.jsx)(w.Z,{id:"gizmo.gpt.grid.DeleteGPT",defaultMessage:"Delete GPT"})}),a&&(0,P.jsx)(o.Z.Item,{onClick:()=>{p.U.removeFromRecent(u,l.gizmo.id)},children:(0,P.jsx)(w.Z,{id:"gizmo.gpt.grid.RemoveFromRecent",defaultMessage:"Remove from Recent"})})]}),i&&(0,P.jsx)(r.h,{children:(0,P.jsx)(N.b,{gizmoId:l.gizmo.id,onSuccess:()=>{s(!1)},onClose:()=>{s(!1)}})})]}):null}let A=(0,G.vU)({conversationCountStrLabel:{id:"gizmo.gpt.grid.conversationCountStrLabel",defaultMessage:"{numConvos} Chats"}})}}]);
//# sourceMappingURL=766-0cdd86bec21b9828.js.map