"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7750],{42508:function(e,t,n){var r=n(92379);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=e=>r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none",viewBox:"0 0 14 14"},e),r.createElement("path",{stroke:"currentColor",strokeWidth:1.2,d:"m10.67 9.087 2.252-6.347c.367-1.033-.63-2.03-1.662-1.662L4.913 3.33A2.6 2.6 0 0 0 3.33 4.913L1.078 11.26c-.367 1.033.63 2.03 1.662 1.662l6.347-2.251a2.6 2.6 0 0 0 1.584-1.584Z",style:{stroke:"currentColor",strokeOpacity:1}}),r.createElement("path",{stroke:"currentColor",d:"M7 8.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z",style:{stroke:"currentColor",strokeOpacity:1}}))},95033:function(e,t,n){n.d(t,{Dy:function(){return W},Vq:function(){return V},eY:function(){return H},xL:function(){return J}});var r,o=n(98601),i=n(30853),a=n(12128),l=n(25899),s=n(39004),c=n(99555),u=n(10080),d=n(93951),p=n(86025),f=n(31438),g=n(3551),m=n(42420),v=n(58695),h=n(13490),b=n(66290),y=n(99976),x=n(61619),k=n(27393),P=n(19841),w=n(88600),j=n(14015),S=n.n(j),O=n(38482),E=n.n(O),C=n(24098),M=n.n(C),T=n(92379),N=n(62984),z=n(75172),I=n(68306),D=n(98095),A=n(34643),B=n(75372),L=n(15972),R=n(47762),G=n(651);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let K=E()(()=>Promise.all([n.e(6746),n.e(8826)]).then(n.bind(n,52245)).then(e=>e.GizmoKeepInSidebarMenuItem),{loadableGenerated:{webpack:()=>[52245]}}),_=((r={})[r.Keep=0]="Keep",r[r.Recents=1]="Recents",r);function H(e){let{data:{gizmos:t}={}}=(0,s.Wz)();return!!t&&t.some(t=>t.resource.gizmo.id===e)}function V(e){let{isActive:t,isNewConversation:n}=e,r=(0,m.NL)(),o=(0,b.Z)();return(0,G.jsx)("div",{className:"mb-5 mt-2 bg-token-sidebar-surface-primary",children:(0,G.jsx)(q,{gizmo:void 0,isActive:t,onClick:e=>{(0,p.P)((0,v.y_)(r))&&!n&&(e.preventDefault(),(0,L.Xl)(o))}})})}function U(e){let{gizmo:t,currentGizmoId:n}=e,r=(0,T.useRef)(!1),o=(0,f.tN)(),{0:i,1:a}=(0,T.useState)(!1),{itemsLeft:l,listItems:s,needsToCollapseItems:c}=function(e,t){var n,r,o,i,a,l;let s=S()(e,e=>e.flair.kind),c=[...null!==(n=null===(r=s[u.JK.FirstParty])||void 0===r?void 0:r.map(e=>{let{resource:t}=e;return{gizmo:t,section:_.Keep}}))&&void 0!==n?n:[],...null!==(o=null===(i=s[u.JK.SidebarKeep])||void 0===i?void 0:i.map(e=>{let{resource:t}=e;return{gizmo:t,section:_.Keep}}))&&void 0!==o?o:[],...null!==(a=null===(l=s[u.JK.Recent])||void 0===l?void 0:l.slice(0,2).map(e=>{let{resource:t}=e;return{gizmo:t,section:_.Recents}}))&&void 0!==a?a:[]],d=c.length>5,p=d&&!t&&c.length>4?c.slice(0,4):c;return{listItems:[...p.filter(e=>{let{section:t}=e;return t===_.Keep}),...p.filter(e=>{let{section:t}=e;return t===_.Recents})],itemsLeft:c.length-p.length,needsToCollapseItems:d}}(t,i);return(0,T.useEffect)(()=>{if(s.length>0&&!r.current){var e;null===(e=(0,k.Ef)({namespace:k.dG.ChatPageLoad}))||void 0===e||e.logTiming("render_gizmo_sidebar"),r.current=!0}},[s]),(0,G.jsxs)("div",{children:[s.map((e,t)=>{let{gizmo:r,section:o}=e;return(0,G.jsxs)(T.Fragment,{children:[t>1&&o!==s[t-1].section&&(0,G.jsx)("div",{className:"my-2 ml-2 h-px w-7 bg-token-sidebar-surface-tertiary"}),(0,G.jsx)(q,{gizmo:r,isActive:r.gizmo.id===n,section:o},r.gizmo.id)]},t)}),c?(0,G.jsxs)("button",{onClick:()=>{a(!i)},className:"flex h-10 w-full items-center gap-2 rounded-lg px-2 text-sm text-token-text-primary hover:bg-token-sidebar-surface-secondary",children:[(0,G.jsx)("div",{className:"flex h-6 w-6 flex-shrink-0 items-center justify-center",children:(0,G.jsx)(h.nWS,{className:"icon-md text-token-text-primary"})}),(0,G.jsx)("div",{className:"flex grow items-center gap-1",children:i?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(N.Z,{id:"GizmoSidebarList.showLess",defaultMessage:"See less"}),(0,G.jsx)(h.r0F,{className:"icon-xs"})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(N.Z,{id:"GizmoSidebarList.showMoreItems",defaultMessage:"{numMore} more",values:{numMore:l}}),(0,G.jsx)(h.Tg4,{className:"icon-xs"})]})})]}):null,(0,G.jsx)(A.Z,{children:(0,G.jsx)(w.E.div,{whileTap:{scale:.98},children:(0,G.jsx)(M(),{href:(0,g.cy)(),onClick:()=>{"mobile-nav"===o.activeSidebar&&f.vm.toggleActiveSidebar("mobile-nav")},children:(0,G.jsx)(B.f,{icon:h.frp,children:(0,G.jsx)(N.Z,F({},Y.exploreStoreEnabled))})},"explore")})})]})}function W(e){let{currentGizmoId:t}=e,{data:{gizmos:n}={}}=(0,s.Wz)();return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(R.Z,{}),null!=n?(0,G.jsx)(U,{gizmo:n,currentGizmoId:t}):null]})}function $(e){let{gizmo:t,isOpen:n,setIsOpen:r,section:o}=e,i=(0,m.NL)();return(0,G.jsxs)(D.d,{open:n,onOpenChange:r,triggerButton:(0,G.jsx)("button",{className:(0,P.default)("flex text-token-text-secondary hover:text-token-text-primary",n?"":"invisible group-hover:visible"),children:(0,G.jsx)(h.nWS,{className:"icon-md"})}),contentAlign:"start",sideOffset:4,alignOffset:-4,size:"auto",children:[o===_.Recents&&(0,G.jsx)(D.Z.Item,{onClick:async()=>{await c.U.updateGizmoSidebar(i,t.gizmo.id,"keep")},children:(0,G.jsx)(N.Z,F({},Y.keepInSidebar))}),(0,G.jsx)(K,{gizmoResource:t})]})}function q(e){var t,n;let r;let{gizmo:o,historyDisabled:c,section:p,onClick:f}=e,g=(0,z.Z)(),{0:m,1:v}=(0,T.useState)(!1),{0:b,1:y}=(0,T.useState)(!1),x=(0,d.t)(),k=!!(null==o||null===(t=o.gizmo.tags)||void 0===t?void 0:t.includes(u.U9.FirstParty));if(null!=o)r=o.gizmo.display.name||l.zf;else{if(null==x)return null;r=c?g.formatMessage(Y.clearChat):x.canInteractWithGizmos()?l.Dd:g.formatMessage({id:"GizmoSidebarListItem.newChat",defaultMessage:"New chat"})}return(0,G.jsx)(w.E.div,{whileTap:{scale:.98},onMouseEnter:()=>{y(!0)},onMouseLeave:()=>{y(!1)},children:(0,G.jsx)(J,{loggingGizmoId:null!==(n=null==o?void 0:o.gizmo.id)&&void 0!==n?n:"primary",href:null!=o?(0,s.m_)(o):"/",onClick:f,icon:(0,G.jsx)(a.Z,{isFirstParty:null==o||k,src:null==o?void 0:o.gizmo.display.profile_picture_url,className:"h-6 w-6 flex-shrink-0"}),isMenuOpen:m,label:r,hoverRightIcon:(0,G.jsxs)("div",{className:"flex gap-2",children:[(b||m)&&null!=o&&(0,G.jsx)("div",{className:"text-token-text-tertiary",onClick:e=>{e.preventDefault()},children:(0,G.jsx)($,{gizmo:o,isOpen:m,setIsOpen:v,section:p})}),(0,G.jsx)(i.u,{side:"right",label:g.formatMessage(c?Y.clearChat:Y.newChat),className:"flex items-center",children:(0,G.jsx)("button",{className:m?"text-token-text-tertiary":"invisible text-token-text-secondary hover:text-token-text-primary group-hover:visible",children:c?(0,G.jsx)(h.Ezi,{className:"icon-md"}):(0,G.jsx)(h.bl$,{className:"icon-md"})})})]})})})}function J(e){let{href:t,icon:n,label:r,hoverRightIcon:o,isMenuOpen:i,loggingGizmoId:a,onClick:l,target:s}=e;return(0,G.jsxs)(M(),{href:t,target:s,shallow:!0,className:(0,P.default)("group flex h-10 items-center gap-2.5 rounded-lg bg-token-sidebar-surface-primary px-2 font-normal",i?"bg-token-main-surface-primary":"hover:bg-token-sidebar-surface-secondary"),onClick:e=>{y.A.logNewChatButtonClicked({location:"Sidebar gizmo list",gizmo_id:a}),y.A.logEvent(x.M.sidebarClickGizmo,{gizmo_id:a}),null==l||l(e)},children:[n,(0,G.jsx)("div",{className:"grow overflow-hidden text-ellipsis whitespace-nowrap text-sm text-token-text-primary",children:r}),o]})}let Y=(0,I.vU)({exploreStoreEnabled:{id:"gizmo.exploreStoreEnabled",defaultMessage:"Explore GPTs"},keepInSidebar:{id:"gizmo.keepInSidebar",defaultMessage:"Keep in sidebar"},newChat:{id:"gizmo.newChat",defaultMessage:"New chat"},clearChat:{id:"gizmo.clearChat",defaultMessage:"Clear chat"}})},47762:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(13490),o=n(95033),i=n(60682),a=n(98095),l=n(40833),s=n(34643),c=n(31438),u=n(45120),d=n(19841),p=n(88600),f=n(92379),g=n(62984),m=n(42508),v=n(651);function h(){let e=(0,i.qg)(i.pm.SonicSidebar),{0:t,1:n}=(0,f.useState)(!1);return e.isLoading||!e.eligible?null:(0,v.jsx)(p.E.div,{className:"group pb-0",whileTap:{scale:.98},children:(0,v.jsx)(b,{children:(0,v.jsx)(o.xL,{href:"/search",target:"_blank",icon:(0,v.jsx)("div",{className:(0,d.default)("gizmo-shadow-stroke mr-[0.5] flex h-6 w-6 items-center justify-center rounded-full bg-token-main-surface-primary align-middle text-token-text-primary"),children:(0,v.jsx)(m.Z,{})}),label:"SearchGPT",hoverRightIcon:(0,v.jsxs)("div",{className:"flex gap-3",children:[(0,v.jsx)(y,{isOpen:t,setIsOpen:n,onDismiss:()=>e.markAsViewed()}),(0,v.jsx)(r.Pfi,{className:(0,d.default)("icon-md text-token-text-tertiary",!t&&"invisible group-hover:visible")})]}),isMenuOpen:!1,loggingGizmoId:"search-gpt-sidebar"})})})}function b(e){let{children:t}=e,n=function(){let e=(0,c.xH)(),t=(0,i.qg)(i.pm.hasSeenSncSidebarTooltip),n=(0,s.c)(),r=(0,c.ss)(),{activeModals:o}=(0,c.tN)(),a=(0,u.AH)("717266490").layer.get("optimize_initial_modals",!1);return!t.isLoading&&t.eligible&&!n&&0===o.size&&!e&&(!a||!r)}(),r=(0,i.qg)(i.pm.hasSeenSncSidebarTooltip);return n?(0,v.jsx)(l.v,{side:"right",show:!0,badge:"new",title:"Try SearchGPT",onDismiss:r.markAsViewed,sideOffset:10,theme:"bright",description:"You're in. Get answers with real-time information from relevant sources, and ask follow-up questions.",children:(0,v.jsx)("div",{className:"w-full",children:t})}):(0,v.jsx)(v.Fragment,{children:t})}function y(e){let{isOpen:t,setIsOpen:n,onDismiss:o}=e;return(0,v.jsx)(a.d,{open:t,onOpenChange:n,triggerButton:(0,v.jsx)("button",{className:(0,d.default)("flex text-token-text-tertiary",t?"":"invisible group-hover:visible"),onClick:e=>{e.preventDefault()},children:(0,v.jsx)(r.nWS,{className:"icon-md"})}),children:(0,v.jsx)(a.Z.Item,{onClick:e=>{e.preventDefault(),o()},children:(0,v.jsx)(g.Z,{id:"sidebar.hideFromSidebar",defaultMessage:"Hide from sidebar"})})})}var x=n(88667);function k(){return(0,x.sB)("114024").value?(0,v.jsx)(h,{}):null}},51517:function(e,t,n){n.r(t),n.d(t,{ThreadHeaderGizmoDropdown:function(){return g}});var r,o=n(2346),i=n(13490),a=n(92379),l=n(15478),s=n(39004),c=n(52245),u=n(78976),d=n(10080),p=n(651);let f=l.Z.div(r||(r=(0,o.Z)(["group flex cursor-pointer items-center gap-1 rounded-lg py-1.5 text-token-text-secondary font-semibold hover:bg-token-main-surface-secondary radix-state-open:bg-token-main-surface-secondary overflow-hidden whitespace-nowrap"])));function g(e){var t;let{clientThreadId:n,inMobileHeader:r,gizmoId:o,triggerButton:l}=e,{0:g,1:m}=(0,a.useState)(!1),{data:v}=(0,s.b9)(o);return null==v?null:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.GizmoInformationDropdown,{clientThreadId:n,gizmoResource:v,showReportModal:()=>{m(!0)},inMobileHeader:r,children:l||(0,p.jsxs)(f,{children:[v.gizmo.display.name,(null===(t=v.gizmo.tags)||void 0===t?void 0:t.includes(d.U9.Beta))&&(0,p.jsx)("div",{className:"rounded-full bg-token-main-surface-secondary px-1.5 text-xs text-token-text-primary",children:"Beta"}),(0,p.jsx)(i.Tg4,{className:"icon-md text-token-text-tertiary"})]})}),g&&(0,p.jsx)(u.i,{gizmoId:o,clientThreadId:n,onClose:()=>{m(!1)}})]})}},34643:function(e,t,n){n.d(t,{Z:function(){return b},c:function(){return h}});var r=n(98601),o=n(93951),i=n(31438),a=n(99976),l=n(61619),s=n(45120),c=n(92379),u=n(75172),d=n(62984),p=n(68306),f=n(60682),g=n(40833),m=n(651);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(){let{activeModals:e}=(0,i.tN)(),t=(0,o.t)(),n=(0,f.qg)(f.pm.ExploreGPTs),r=(0,f.qg)(f.pm.ExploreGPTsNewNux),u=(0,i.ss)(),d=(0,i.xH)(),p=(0,s.AH)("717266490").layer.get("optimize_initial_modals",!1),g=n.eligible&&!n.isLoading&&!d,m=r.eligible&&!r.isLoading&&!d&&(!p||!u);return e.size>0&&(m=!1),!g&&null!=t&&t.hasPlusFeatures()&&(m=!1),(0,c.useEffect)(()=>{m&&a.A.logEvent(l.M.storeDisplayNewNux)},[m]),m}function b(e){let{children:t}=e,n=h(),o=(0,u.Z)(),i=(0,f.qg)(f.pm.ExploreGPTsNewNux);return n?(0,m.jsx)(g.v,{side:"right",show:!0,title:o.formatMessage(y.exploreGPTsTitle),onDismiss:i.markAsViewed,sideOffset:20,theme:"bright",description:(0,m.jsx)(d.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},y.exploreGPTsDescriptionNewNux)),children:t}):(0,m.jsx)(m.Fragment,{children:t})}let y=(0,p.vU)({exploreGPTsTitle:{id:"gptExploreGPTs.title",defaultMessage:"Explore GPTs"},exploreGPTsDescription:{id:"gptExploreGPTs.description",defaultMessage:"Now you can discover GPTs created by the community"},exploreGPTsDescriptionNewNux:{id:"gptExploreGPTs.descriptionNewNux",defaultMessage:"Discover custom versions of ChatGPT created for specific use cases like writing, research, and coding."}})},75372:function(e,t,n){n.d(t,{f:function(){return g}});var r,o=n(98601),i=n(52088),a=n(2346),l=n(92379),s=n(15478),c=n(651);let u=["icon","children"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let f=s.Z.button(r||(r=(0,a.Z)(["flex h-10 w-full items-center gap-2.5 rounded-lg px-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary"]))),g=(0,l.forwardRef)(function(e,t){let{icon:n,children:r}=e,o=(0,i.Z)(e,u);return(0,c.jsxs)(f,p(p({ref:t},o),{},{children:[(0,c.jsx)("div",{className:"flex h-6 w-6 items-center justify-center text-token-text-secondary",children:(0,c.jsx)(n,{className:"icon-md"})}),(0,c.jsx)("span",{className:"text-sm",children:r})]}))})},13391:function(e,t,n){n.d(t,{n:function(){return T},A3:function(){return C},yx:function(){return D},JS:function(){return I}});var r,o=n(98601),i=n(15858),a=n(70879),l=n(99976),s=n(61619),c=n(79746),u=n(82363),d=n(91530),p=n.n(d),f=n(92379),g=n(68306),m=n(16757),v=n(24740),h=n(92745),b=n(31438),y=n(49763),x=n(22433),k=n(45248);let P=f.useLayoutEffect;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let j=/```.*?\n([\s\S]+?)\n?```[^`]*$/gms;var S=((r=S||{}).Core="Core",r.Chat="Chat",r.Settings="Settings",r);let O=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({Mod:"mod",Comma:","},i.s),E={[O.Mod]:/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"⌘":"Ctrl",[O.Comma]:",",[O.Enter]:"⏎",[O.Escape]:"Esc",[O.ArrowUp]:"↑",[O.ArrowDown]:"↓",[O.ArrowLeft]:"←",[O.ArrowRight]:"→",[O.Backspace]:"⌫",[O.Delete]:"⌦",[O.Tab]:"⇥",[O.Control]:"Ctrl",[O.Shift]:"Shift"},C=e=>e.map(e=>{var t;return null!==(t=E[e])&&void 0!==t?t:e}),M=(0,g.vU)({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block"},copyLastResponse:{id:"keyboardActions.copyLastResponse",defaultMessage:"Copy last response"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat"},archiveChat:{id:"keyboardActions.archiveChat",defaultMessage:"Archive chat"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts"}}),T=new y.V,N=e=>{let{resetThreadAction:t,clientThreadId:n}=e;return[{key:"newChat",action:t||p(),actionMessageDescriptor:M.newChat,group:S.Core,keyboardBinding:[O.Mod,O.Shift,"o"],altKeyboardBindings:[[O.Mod,"k"]]},{key:"focusPromptTextarea",action:a.go,actionMessageDescriptor:M.focusPromptTextarea,group:S.Chat,keyboardBinding:[O.Shift,O.Escape]},{key:"copyLastCodeBlock",action:()=>{if(null!=n){let e=h.tQ.getThreadCurrentLeafId(n),t=h.tQ.getThreadConversationTurns(n,e);for(let e=t.length-1;e>=0;e--){let{messages:n}=t[e],r=[...n.reduce((e,t)=>null==t.err&&t.message.author.role===m.uU.Assistant&&"all"===t.message.recipient?e+(e?"\n\n":"")+(0,x.RR)(t.message):e,"").matchAll(j)],o=r.length?r[r.length-1][1]:null;if(null!=o){(0,c.v)(o).then(()=>{v.m.success("Copied code block to clipboard")});break}}}},actionMessageDescriptor:M.copyLastCodeBlock,group:S.Chat,keyboardBinding:[O.Mod,O.Shift,";"],altKeyboardBindings:[[O.Mod,O.Shift,":"]]},{key:"copyLastResponse",action:()=>{null!=n&&h.tQ.copyLastMessageToClipboard(n,"keyboard").then(()=>{v.m.success("Last response copied to clipboard")})},actionMessageDescriptor:M.copyLastResponse,group:S.Chat,keyboardBinding:[O.Mod,O.Shift,"c"]},{key:"toggleCustomInstructions",action:()=>b.vm.toggleModal(b.B.UserContext),actionMessageDescriptor:M.toggleCustomInstructions,group:S.Settings,keyboardBinding:[O.Mod,O.Shift,"i"]},{key:"navigationToggle",action:()=>b.vm.toggleDesktopNavCollapsed(),actionMessageDescriptor:M.navigationToggle,group:S.Core,keyboardBinding:[O.Mod,O.Shift,"s"]},{key:"deleteChat",action:()=>{if(n){let e=h.tQ.getServerThreadId(n);e&&T.publish({kind:"deleteChat",serverThreadId:e})}},actionMessageDescriptor:M.deleteChat,group:S.Chat,keyboardBinding:[O.Mod,O.Shift,O.Backspace],altKeyboardBindings:[[O.Mod,O.Shift,O.Delete]]},{key:"toggleKeyboardActions",action:()=>b.vm.toggleModal(b.B.KeyboardActions),actionMessageDescriptor:M.toggleKeyboardActions,group:S.Settings,keyboardBinding:[O.Mod,"/"]}]},z=e=>(function(e,t,n){let r=e.map(e=>{let{keyboardBinding:t}=e,n=t.join("+");if(e.altKeyboardBindings){n=[n];let t=e.altKeyboardBindings.map(e=>e.join("+"));n=n.concat(t)}return(0,k.ZP)(n,{byKey:!0})});P(()=>{if((null==n?void 0:n.enabled)===!1)return;let o=n=>{if(!n.repeat)for(let o=0;o<r.length;o++)r[o](n)&&(void 0===e[o].enabled||e[o].enabled)&&(n.preventDefault(),t(e[o]),e[o].action())},i=e=>{void 0!==e.key&&o(e)},a=document;return a.addEventListener("keydown",i),()=>{a.removeEventListener("keydown",i)}},[e,n])})(e,e=>{l.A.logEvent(s.M.keyboardShortcut,{keyboardActionKey:e.key}),u.U.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:e.key})},{enabled:!0}),I=function(){let{resetThreadAction:e,clientThreadId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.useMemo)(()=>N({resetThreadAction:e,clientThreadId:t}).filter(e=>{let{enabled:t=!0}=e;return t}),[t,e])},D=e=>{let{resetThreadAction:t,clientThreadId:n}=e;z(I({resetThreadAction:t,clientThreadId:n}))}},17096:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(92379);function o(){let e=(0,r.useRef)([]),t=(0,r.useRef)((t,n)=>{let r=setTimeout(t,n);return e.current.push(r),r});return(0,r.useEffect)(()=>{let t=e.current;return()=>{t.forEach(e=>{clearTimeout(e)})}},[]),t.current}},89039:function(e,t,n){let r,o;n.d(t,{J:function(){return R}});var i=n(92379),a=n(782),l=n(78789),s=n(91157),c=n(86060),u=n(76227),d=n(88554),p=n(98397),f=n(57084),g=n(60839),m=n(67607),v=n(87054),h=n(25825),b=n(39231),y=n(37927),x=n(11943),k=n(51973),P=((r=P||{})[r.Open=0]="Open",r[r.Closed=1]="Closed",r),w=((o=w||{})[o.TogglePopover=0]="TogglePopover",o[o.ClosePopover=1]="ClosePopover",o[o.SetButton=2]="SetButton",o[o.SetButtonId=3]="SetButtonId",o[o.SetPanel=4]="SetPanel",o[o.SetPanelId=5]="SetPanelId",o);let j={0:e=>({...e,popoverState:(0,a.E)(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},S=(0,i.createContext)(null);function O(e){let t=(0,i.useContext)(S);if(null===t){let t=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,O),t}return t}S.displayName="PopoverContext";let E=(0,i.createContext)(null);function C(e){let t=(0,i.useContext)(E);if(null===t){let t=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,C),t}return t}E.displayName="PopoverAPIContext";let M=(0,i.createContext)(null);function T(){return(0,i.useContext)(M)}M.displayName="PopoverGroupContext";let N=(0,i.createContext)(null);function z(e,t){return(0,a.E)(t.type,j,e,t)}N.displayName="PopoverPanelContext";let I=(0,l.yV)(function(e,t){var n;let r=`headlessui-popover-button-${(0,c.M)()}`,o=`headlessui-popover-panel-${(0,c.M)()}`,u=(0,i.useRef)(null),d=(0,s.T)(t,(0,s.h)(e=>{u.current=e})),g=(0,i.useReducer)(z,{popoverState:1,button:null,buttonId:r,panel:null,panelId:o,beforePanelSentinel:(0,i.createRef)(),afterPanelSentinel:(0,i.createRef)()}),[{popoverState:v,button:y,panel:k,beforePanelSentinel:P,afterPanelSentinel:w},j]=g,O=(0,h.i)(null!=(n=u.current)?n:y);(0,i.useEffect)(()=>j({type:3,buttonId:r}),[r,j]),(0,i.useEffect)(()=>j({type:5,panelId:o}),[o,j]);let C=(0,i.useMemo)(()=>{if(!y||!k)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(y))^Number(null==e?void 0:e.contains(k)))return!0;return!1},[y,k]),M=(0,i.useMemo)(()=>({buttonId:r,panelId:o,close:()=>j({type:1})}),[r,o,j]),N=T(),I=null==N?void 0:N.registerPopover,D=(0,x.z)(()=>{var e;return null!=(e=null==N?void 0:N.isFocusWithinPopoverGroup())?e:(null==O?void 0:O.activeElement)&&((null==y?void 0:y.contains(O.activeElement))||(null==k?void 0:k.contains(O.activeElement)))});(0,i.useEffect)(()=>null==I?void 0:I(M),[I,M]),(0,b.O)(null==O?void 0:O.defaultView,"focus",e=>{var t,n,r,o;0===v&&(D()||!y||!k||null!=(n=null==(t=P.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(o=null==(r=w.current)?void 0:r.contains)&&o.call(r,e.target)||j({type:1}))},!0),(0,m.O)([y,k],(e,t)=>{j({type:1}),(0,p.sP)(t,p.tJ.Loose)||(e.preventDefault(),null==y||y.focus())},0===v);let A=(0,x.z)(e=>{j({type:1});let t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:y:y;null==t||t.focus()}),B=(0,i.useMemo)(()=>({close:A,isPortalled:C}),[A,C]),L=(0,i.useMemo)(()=>({open:0===v,close:A}),[v,A]);return i.createElement(S.Provider,{value:g},i.createElement(E.Provider,{value:B},i.createElement(f.up,{value:(0,a.E)(v,{0:f.ZM.Open,1:f.ZM.Closed})},(0,l.sY)({ourProps:{ref:d},theirProps:e,slot:L,defaultTag:"div",name:"Popover"}))))}),D=(0,l.yV)(function(e,t){let[n,r]=O("Popover.Button"),{isPortalled:o}=C("Popover.Button"),f=(0,i.useRef)(null),m=`headlessui-focus-sentinel-${(0,c.M)()}`,v=T(),b=null==v?void 0:v.closeOthers,P=(0,i.useContext)(N),w=null!==P&&P===n.panelId,j=(0,s.T)(f,t,w?null:e=>r({type:2,button:e})),S=(0,s.T)(f,t),E=(0,h.i)(f),M=(0,x.z)(e=>{var t,o,i;if(w){if(1===n.popoverState)return;switch(e.key){case u.R.Space:case u.R.Enter:e.preventDefault(),null==(o=(t=e.target).click)||o.call(t),r({type:1}),null==(i=n.button)||i.focus()}}else switch(e.key){case u.R.Space:case u.R.Enter:e.preventDefault(),e.stopPropagation(),1===n.popoverState&&(null==b||b(n.buttonId)),r({type:0});break;case u.R.Escape:if(0!==n.popoverState)return null==b?void 0:b(n.buttonId);if(!f.current||(null==E?void 0:E.activeElement)&&!f.current.contains(E.activeElement))return;e.preventDefault(),e.stopPropagation(),r({type:1})}}),z=(0,x.z)(e=>{w||e.key===u.R.Space&&e.preventDefault()}),I=(0,x.z)(t=>{var o,i;(0,d.P)(t.currentTarget)||e.disabled||(w?(r({type:1}),null==(o=n.button)||o.focus()):(t.preventDefault(),t.stopPropagation(),1===n.popoverState&&(null==b||b(n.buttonId)),r({type:0}),null==(i=n.button)||i.focus()))}),D=(0,x.z)(e=>{e.preventDefault(),e.stopPropagation()}),A=0===n.popoverState,B=(0,i.useMemo)(()=>({open:A}),[A]),L=(0,g.f)(e,f),R=w?{ref:S,type:L,onKeyDown:M,onClick:I}:{ref:j,id:n.buttonId,type:L,"aria-expanded":e.disabled?void 0:0===n.popoverState,"aria-controls":n.panel?n.panelId:void 0,onKeyDown:M,onKeyUp:z,onClick:I,onMouseDown:D},G=(0,k.l)(),Z=(0,x.z)(()=>{let e=n.panel;e&&(0,a.E)(G.current,{[k.N.Forwards]:()=>(0,p.jA)(e,p.TO.First),[k.N.Backwards]:()=>(0,p.jA)(e,p.TO.Last)})});return i.createElement(i.Fragment,null,(0,l.sY)({ourProps:R,theirProps:e,slot:B,defaultTag:"button",name:"Popover.Button"}),A&&!w&&o&&i.createElement(y._,{id:m,features:y.A.Focusable,as:"button",type:"button",onFocus:Z}))}),A=l.AN.RenderStrategy|l.AN.Static,B=(0,l.yV)(function(e,t){let[{popoverState:n},r]=O("Popover.Overlay"),o=(0,s.T)(t),a=`headlessui-popover-overlay-${(0,c.M)()}`,u=(0,f.oJ)(),p=null!==u?u===f.ZM.Open:0===n,g=(0,x.z)(e=>{if((0,d.P)(e.currentTarget))return e.preventDefault();r({type:1})}),m=(0,i.useMemo)(()=>({open:0===n}),[n]);return(0,l.sY)({ourProps:{ref:o,id:a,"aria-hidden":!0,onClick:g},theirProps:e,slot:m,defaultTag:"div",features:A,visible:p,name:"Popover.Overlay"})}),L=l.AN.RenderStrategy|l.AN.Static,R=Object.assign(I,{Button:D,Overlay:B,Panel:(0,l.yV)(function(e,t){let{focus:n=!1,...r}=e,[o,d]=O("Popover.Panel"),{close:g,isPortalled:m}=C("Popover.Panel"),v=`headlessui-focus-sentinel-before-${(0,c.M)()}`,b=`headlessui-focus-sentinel-after-${(0,c.M)()}`,P=(0,i.useRef)(null),w=(0,s.T)(P,t,e=>{d({type:4,panel:e})}),j=(0,h.i)(P),S=(0,f.oJ)(),E=null!==S?S===f.ZM.Open:0===o.popoverState,M=(0,x.z)(e=>{var t;if(e.key===u.R.Escape){if(0!==o.popoverState||!P.current||(null==j?void 0:j.activeElement)&&!P.current.contains(j.activeElement))return;e.preventDefault(),e.stopPropagation(),d({type:1}),null==(t=o.button)||t.focus()}});(0,i.useEffect)(()=>{var t;e.static||1===o.popoverState&&(null==(t=e.unmount)||t)&&d({type:4,panel:null})},[o.popoverState,e.unmount,e.static,d]),(0,i.useEffect)(()=>{if(!n||0!==o.popoverState||!P.current)return;let e=null==j?void 0:j.activeElement;P.current.contains(e)||(0,p.jA)(P.current,p.TO.First)},[n,P,o.popoverState]);let T=(0,i.useMemo)(()=>({open:0===o.popoverState,close:g}),[o,g]),z={ref:w,id:o.panelId,onKeyDown:M,onBlur:n&&0===o.popoverState?e=>{var t,n,r,i,a;let l=e.relatedTarget;!l||!P.current||null!=(t=P.current)&&t.contains(l)||(d({type:1}),((null==(r=null==(n=o.beforePanelSentinel.current)?void 0:n.contains)?void 0:r.call(n,l))||(null==(a=null==(i=o.afterPanelSentinel.current)?void 0:i.contains)?void 0:a.call(i,l)))&&l.focus({preventScroll:!0}))}:void 0,tabIndex:-1},I=(0,k.l)(),D=(0,x.z)(()=>{let e=P.current;e&&(0,a.E)(I.current,{[k.N.Forwards]:()=>{(0,p.jA)(e,p.TO.First)},[k.N.Backwards]:()=>{var e;null==(e=o.button)||e.focus({preventScroll:!0})}})}),A=(0,x.z)(()=>{let e=P.current;e&&(0,a.E)(I.current,{[k.N.Forwards]:()=>{var e,t,n;if(!o.button)return;let r=(0,p.GO)(),i=r.indexOf(o.button),a=r.slice(0,i+1),l=[...r.slice(i+1),...a];for(let r of l.slice())if((null==(t=null==(e=null==r?void 0:r.id)?void 0:e.startsWith)?void 0:t.call(e,"headlessui-focus-sentinel-"))||(null==(n=o.panel)?void 0:n.contains(r))){let e=l.indexOf(r);-1!==e&&l.splice(e,1)}(0,p.jA)(l,p.TO.First,!1)},[k.N.Backwards]:()=>(0,p.jA)(e,p.TO.Last)})});return i.createElement(N.Provider,{value:o.panelId},E&&m&&i.createElement(y._,{id:v,ref:o.beforePanelSentinel,features:y.A.Focusable,as:"button",type:"button",onFocus:D}),(0,l.sY)({ourProps:z,theirProps:r,slot:T,defaultTag:"div",features:L,visible:E,name:"Popover.Panel"}),E&&m&&i.createElement(y._,{id:b,ref:o.afterPanelSentinel,features:y.A.Focusable,as:"button",type:"button",onFocus:A}))}),Group:(0,l.yV)(function(e,t){let n=(0,i.useRef)(null),r=(0,s.T)(n,t),[o,a]=(0,i.useState)([]),c=(0,x.z)(e=>{a(t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t})}),u=(0,x.z)(e=>(a(t=>[...t,e]),()=>c(e))),d=(0,x.z)(()=>{var e;let t=(0,v.r)(n);if(!t)return!1;let r=t.activeElement;return!!(null!=(e=n.current)&&e.contains(r))||o.some(e=>{var n,o;return(null==(n=t.getElementById(e.buttonId))?void 0:n.contains(r))||(null==(o=t.getElementById(e.panelId))?void 0:o.contains(r))})}),p=(0,x.z)(e=>{for(let t of o)t.buttonId!==e&&t.close()}),f=(0,i.useMemo)(()=>({registerPopover:u,unregisterPopover:c,isFocusWithinPopoverGroup:d,closeOthers:p}),[u,c,d,p]),g=(0,i.useMemo)(()=>({}),[]);return i.createElement(M.Provider,{value:f},(0,l.sY)({ourProps:{ref:r},theirProps:e,slot:g,defaultTag:"div",name:"Popover.Group"}))})})},39231:function(e,t,n){n.d(t,{O:function(){return i}});var r=n(92379),o=n(23441);function i(e,t,n,i){let a=(0,o.E)(n);(0,r.useEffect)(()=>{function n(e){a.current(e)}return(e=null!=e?e:window).addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)},[e,t,i])}},51973:function(e,t,n){let r;n.d(t,{N:function(){return a},l:function(){return l}});var o=n(92379),i=n(23441),a=((r=a||{})[r.Forwards=0]="Forwards",r[r.Backwards=1]="Backwards",r);function l(){var e,t;let n,r=(0,o.useRef)(0);return e="keydown",t=e=>{"Tab"===e.key&&(r.current=e.shiftKey?1:0)},n=(0,i.E)(t),(0,o.useEffect)(()=>{function t(e){n.current(e)}return window.addEventListener(e,t,!0),()=>window.removeEventListener(e,t,!0)},[e,!0]),r}},37927:function(e,t,n){let r;n.d(t,{A:function(){return i},_:function(){return a}});var o=n(78789),i=((r=i||{})[r.None=1]="None",r[r.Focusable=2]="Focusable",r[r.Hidden=4]="Hidden",r);let a=(0,o.yV)(function(e,t){let{features:n=1,...r}=e,i={ref:t,"aria-hidden":(2&n)==2||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&n)==4&&(2&n)!=2&&{display:"none"}}};return(0,o.sY)({ourProps:i,theirProps:r,slot:{},defaultTag:"div",name:"Hidden"})})},11812:function(e,t,n){n.d(t,{E:function(){return o}});var r=n(46598);function o(e=.1,{startDelay:t=0,from:n=0,ease:o}={}){return(i,a)=>{let l=e*Math.abs(("number"==typeof n?n:function(e,t){if("first"===e)return 0;{let n=t-1;return"last"===e?n:n/2}}(n,a))-i);if(o){let t=a*e;l=(0,r.R)(o)(l/t)*t}return t+l}}}}]);
//# sourceMappingURL=7750.371b42992a0f8428.js.map