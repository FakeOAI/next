"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2164],{95204:function(e,t,n){var r,a=n(92379);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=e=>a.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 34 34"},e),r||(r=a.createElement("g",{id:"icon / robot-sad"},a.createElement("path",{id:"Rectangle 49961",stroke:"currentColor",strokeWidth:2.833,d:"M4.959 9.917a2.833 2.833 0 0 1 2.833-2.834h18.417a2.833 2.833 0 0 1 2.833 2.834V21.25a5.667 5.667 0 0 1-5.667 5.667h-12.75A5.667 5.667 0 0 1 4.96 21.25z"}),a.createElement("circle",{id:"Ellipse 32520",cx:12.041,cy:14.167,r:2.125,fill:"currentColor"}),a.createElement("circle",{id:"Ellipse 32521",cx:21.959,cy:14.167,r:2.125,fill:"currentColor"}),a.createElement("path",{id:"Vector 2380",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.833,d:"M17 7.083V4.25"}),a.createElement("path",{id:"Vector 2381",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.833,d:"M4.958 14.167c-.782 0-1.416.634-1.416 1.416V17c0 .782.634 1.417 1.416 1.417v0"}),a.createElement("path",{id:"Vector 2382",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.833,d:"M29.042 14.167c.782 0 1.416.634 1.416 1.416V17c0 .782-.634 1.417-1.416 1.417v0"}),a.createElement("path",{id:"Vector 2386",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.833,d:"M19.834 21.158c-1.964-.822-3.703-.822-5.667 0"}))))},89905:function(e,t,n){n.d(t,{Z:function(){return b}});var r,a,l,s=n(2346),i=n(99333),o=n(58025),c=n(79746),u=n(19841),d=n(92379),A=n(75172),h=n(62984),m=n(15478),p=n(39358),g=n(16779),f=n(41871),x=n(651);function b(e){let{children:t,className:n,language:r,content:a,shouldWrapCode:l}=e,s=(0,d.useCallback)(()=>{(0,c.v)(a)},[a]),i=(0,A.Z)(),{isWithinDataAnalysisToolMessage:o}=(0,d.useContext)(f.cm);return(0,x.jsx)(w,{title:r,shouldWrapCode:l,headerDecoration:(0,x.jsxs)("div",{className:"flex items-center",children:[o&&(0,x.jsx)(v,{}),(0,x.jsx)(p.Z,{buttonText:i.formatMessage({id:"zIa6ZQ",defaultMessage:"Copy code"}),onCopy:s})]}),codeClassName:n,children:t})}function v(){let e=(0,o.Gt)(),{data:t=!1}=(0,o.R1)(i.sh.ShowExpandedCodeView),n=(0,A.Z)();return(0,x.jsxs)("div",{className:"mr-2 flex items-center gap-2 border-r border-token-border-medium pr-2",children:[(0,x.jsx)("label",{htmlFor:"ada-always-show",children:(0,x.jsx)(h.Z,{defaultMessage:"Always show details",id:"message.tools.codeInterpreter.alwaysShowAnalysis"})}),(0,x.jsx)(g.Z,{id:"ada-always-show",size:"small",onChange:t=>{e.mutate({setting:i.sh.ShowExpandedCodeView,value:t})},enabled:t,label:t?n.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis on",id:"message.tools.codeInterpreter.alwaysShowAnalysis.enabled"}):n.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis off",id:"message.tools.codeInterpreter.alwaysShowAnalysis.disabled"})})]})}function w(e){let{children:t,title:n,headerDecoration:r,shouldWrapCode:a=!1,className:l,codeContainerClassName:s,codeClassName:i}=e;return(0,x.jsxs)(y,{className:l,children:[(null!=n||null!=r)&&(0,x.jsxs)(j,{children:[n&&(0,x.jsx)("span",{children:n}),r]}),(0,x.jsx)(k,{className:s,children:(0,x.jsx)(S,{$shouldWrap:a,className:i,children:t})})]})}let y=m.Z.div(r||(r=(0,s.Z)(["dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"]))),j=m.Z.div(a||(a=(0,s.Z)(["flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"]))),k=function(e){let{children:t,className:n}=e;return(0,x.jsx)("div",{className:(0,u.default)("overflow-y-auto p-4",n),dir:"ltr",children:t})},S=m.Z.code(l||(l=(0,s.Z)(["",""])),e=>e.$shouldWrap?"!whitespace-pre-wrap":"!whitespace-pre")},39358:function(e,t,n){n.d(t,{Z:function(){return f}});var r,a=n(2346),l=n(98601),s=n(92379),i=n(68306),o=n(62984),c=n(15478),u=n(15174),d=n(30853),A=n(47563),h=n(651);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let g=(0,i.vU)({copy:{id:"CopyButton.copy",defaultMessage:"Copy"},copied:{id:"CopyButton.copied",defaultMessage:"Copied!"}});function f(e){let{buttonText:t,shouldChangeText:n=!0,iconClassName:r="icon-sm",onCopy:a,className:l}=e,{0:i,1:c}=(0,s.useState)(!1),m=(0,u.Z)(),f=(0,s.useCallback)(e=>{e.stopPropagation(),a(),c(!0),setTimeout(()=>{m()&&c(!1)},2e3)},[m,a]),b=t;return n&&i?b=(0,h.jsx)(o.Z,p({},g.copied)):!0===t&&(b=(0,h.jsx)(o.Z,p({},g.copy))),(0,h.jsxs)(h.Fragment,{children:[!i&&(0,h.jsx)(d.u,{label:(0,h.jsx)(o.Z,{id:"CopyButton.copyTooltip",defaultMessage:"Copy"}),sideOffset:0,children:(0,h.jsxs)(x,{onClick:f,className:l,children:[(0,h.jsx)(A.TIy,{className:r}),b]})}),i&&(0,h.jsxs)(x,{className:l,children:[(0,h.jsx)(A.$As,{className:r}),b]})]})}let x=c.Z.button(r||(r=(0,a.Z)(["flex gap-1 items-center"])))},7243:function(e,t,n){n.d(t,{HK:function(){return m},Lw:function(){return g},l$:function(){return h}});var r,a=n(98601),l=n(2346);n(39696);var s=n(19841),i=n(88600),o=n(92379),c=n(15478),u=n(651);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e){let{lines:t=1,variance:n=0,size:r="base",width:a=50,widthVariance:l=50,className:c}=e,{0:d}=(0,o.useState)(Array.from({length:t+Math.random()*(null!=n?n:0)},()=>a+Math.random()*l)),A="";switch(r){case"sm":A="h-3 mb-2 mt-0.5";break;case"base":A="h-4 my-2";break;case"lg":A="h-5 my-2"}return(0,u.jsx)(u.Fragment,{children:d.map((e,t)=>(0,u.jsx)("div",{className:(0,s.default)("relative w-full overflow-hidden rounded-md bg-token-sidebar-surface-secondary",A,c),style:{width:"".concat(e,"%")},children:(0,u.jsx)(i.E.div,{className:"absolute left-0 top-0 h-full w-full rotate-45 bg-gradient-to-r from-transparent via-black/20 to-transparent opacity-50 dark:via-white/5",animate:{x:["-100%","100%"],opacity:[1,0,1],transition:{repeat:1/0,repeatType:"loop",duration:1.5+t}}})},t))})}function m(e){let{lines:t=1,indexOffset:n=0,variance:r=0,width:a=50,widthVariance:l=50,gapFrequency:i=0,scaleUpAnimation:c,className:d}=e,A=(0,o.useMemo)(()=>Array.from({length:t+Math.random()*(null!=r?r:0)},()=>a+Math.random()*l),[t,r,a,l]);return(0,u.jsx)(p,{className:d,children:A.map((e,t)=>(0,u.jsx)(g,{index:t+n,width:e,className:(0,s.default)(i>0&&(t+1)%i==0&&"mb-snc-1"),customAnimation:c?{initial:{scaleX:c.initialScaleX},animate:{scaleX:1},transition:{scaleX:{duration:c.duration,ease:"easeInOut",delay:.07*t}}}:void 0},t))})}let p=c.Z.div(r||(r=(0,l.Z)(["flex flex-col items-start gap-2"])));function g(e){let{index:t,width:n,className:r,customAnimation:a}=e,{initial:l,animate:o,transition:c}=null!=a?a:{initial:{},animate:{},transition:{}};return(0,u.jsx)(i.E.div,{className:(0,s.default)("h-5 origin-left rounded-md bg-token-border-light dark:bg-white/10",r),style:{width:"".concat(n,"%")},initial:A({opacity:1},l),animate:A({opacity:[1,.4]},o),transition:A({opacity:{repeat:1/0,repeatType:"reverse",duration:.85,ease:"easeInOut",delay:.07*t}},c)})}},9033:function(e,t,n){n.d(t,{Kd:function(){return k},v_:function(){return S},yb:function(){return w}});var r=n(59725),a=n(98095),l=n(47563),s=n(60682),i=n(2721),o=n(15913),c=n(30474),u=n(38482),d=n.n(u),A=n(34977),h=n(44425),m=n(26925),p=n(97193),g=n(51837),f=n(651),x=n(44675);let b=d()(()=>n.e(8682).then(n.bind(n,78288)).then(e=>e.SearchCompareButton),{ssr:!1,loadableGenerated:{webpack:()=>[78288]}}),v=a.Z.Item;function w(){window.open("https://openai.slack.com/archives/C06KQ6J4EJC/p1719618291419189")}function y(){return!1===(0,c.L)(()=>"1"===document.documentElement.dataset.searchExtension)&&(0,o.h6)()?(0,f.jsx)(v,{onClick:()=>{w()},icon:(0,f.jsx)(l.IAe,{className:"icon-md-heavy text-token-text-primary"}),children:"Set as search engine (Internal)"}):null}function j(){let e=m.ne.useStore();return(0,o.e2)()?(0,f.jsx)(v,{onClick:()=>{e.setState({shouldShowAddToHomePopover:!0})},icon:(0,f.jsx)(l.IAe,{className:"icon-md-heavy text-token-text-primary"}),children:"Add to home screen"}):null}function k(e){let{className:t,iconSize:n,children:r}=e,o=(0,g.L)(),c=(0,A.useRouter)(),u=m.ne.useState(m.ne.selectQueryInput);return(0,f.jsxs)(a.Z.Root,{modal:!1,children:[(0,f.jsx)(E,{className:t,iconSize:n,children:r}),(0,f.jsx)(a.Z.Portal,{children:(0,f.jsxs)(a.Z.Content,{collisionPadding:10,children:[(0,f.jsx)(v,{onClick:()=>p.vm.toggleSettingsModalOpen(),icon:(0,f.jsx)(l.SWE,{className:"icon-md-heavy text-token-text-primary"}),children:"Settings"}),(0,f.jsx)(v,{onClick:()=>window.open(h._A,"_blank"),icon:(0,f.jsx)(l.Jmo,{className:"icon-md-heavy text-token-text-primary"}),children:"About SearchGPT"}),(0,f.jsx)(v,{onClick:()=>window.open(x.env.NEXT_PUBLIC_CHATGPT_URL,"_blank"),icon:(0,f.jsx)(l.Pfi,{className:"icon-md-heavy text-token-text-primary"}),children:"Open ChatGPT"}),(0,f.jsx)(j,{}),o&&(0,f.jsx)(y,{}),(0,f.jsx)(a.Z.Separator,{}),(0,f.jsx)(v,{onClick:()=>c.push("/auth/logout",void 0,{shallow:!0}),icon:(0,f.jsx)(l.iz5,{className:"icon-md-heavy text-token-text-primary"}),children:"Log out"}),o&&(0,f.jsx)(v,{onClick:()=>p.vm.toggleDebugModalOpen(),icon:(0,f.jsx)(l.reV,{className:"icon-md-heavy icon-sm text-token-text-error"}),className:"text-token-text-error",children:"Debug (Internal)"}),o&&(0,f.jsx)(v,{onClick:()=>p.vm.toggleInternalSettingsModalOpen(),icon:(0,f.jsx)(l.KAl,{className:"icon-md-heavy text-token-text-error"}),className:"text-token-text-error",children:"Config (Internal)"}),o&&(0,f.jsx)(v,{onClick:async()=>{await i.Z.internalAnnouncementReset(s.pm.hasSeenSncWelcomeNux),window.location.reload()},icon:(0,f.jsx)(l.JJ3,{className:"icon-md-heavy text-token-text-error"}),className:"text-token-text-error",children:"Reset NUX (Internal)"}),o&&(0,f.jsx)(b,{query:u})]})})]})}function S(e){let{className:t,iconSize:n}=e,r=(0,A.useRouter)();return(0,f.jsxs)(a.Z.Root,{modal:!1,children:[(0,f.jsx)(E,{className:t,iconSize:n}),(0,f.jsx)(a.Z.Portal,{children:(0,f.jsx)(a.Z.Content,{collisionPadding:10,children:(0,f.jsx)(v,{onClick:()=>r.push("/auth/logout",void 0,{shallow:!0}),icon:(0,f.jsx)(l.iz5,{className:"icon-md-heavy text-token-text-primary"}),children:"Log out"})})})]})}function E(e){let{className:t,iconSize:n,children:l}=e;return(0,f.jsx)(a.Z.Trigger,{className:"group border-0 !bg-transparent p-0",children:(0,f.jsx)("div",{className:"rounded-full",children:null!=l?l:(0,f.jsx)(r.zf,{iconSize:n,className:t})})})}},65787:function(e,t,n){n.d(t,{F:function(){return p}});var r=n(11550),a=n(30853),l=n(47563),s=n(51837),i=n(15913),o=n(30474),c=n(21389),u=n(88600),d=n(92379),A=n(9033),h=n(26925),m=n(651);function p(){let e=(0,s.L)(),t=(0,o.L)(()=>"1"===document.documentElement.dataset.searchExtension),n=h.ne.useStore(),{0:p,1:g}=(0,d.useState)(()=>n.getState().hasSearched&&!n.getState().hasDismissedExtensionUpsell),f=e&&!1===t&&(0,i.h6)()&&p;return(0,m.jsx)(c.M,{children:f&&(0,m.jsx)(u.E.div,{exit:{width:0,opacity:0},className:"overflow-hidden",children:(0,m.jsx)(a.u,{label:"Internal only",side:"left",sideOffset:4,children:(0,m.jsxs)(r.z,{size:"small",color:"secondary",onClick:()=>{(0,A.yb)()},className:"w-full overflow-hidden whitespace-nowrap",children:["Set as search engine",(0,m.jsx)("button",{onClick:e=>{e.stopPropagation(),g(!1),n.dismissExtensionUpsell()},className:"-mr-1.5 ml-1 flex p-0.5 text-token-text-tertiary transition hover:text-token-text-primary",children:(0,m.jsx)(l.tPq,{className:"icon-xs"})})]})})})})}},67330:function(e,t,n){n.d(t,{aE:function(){return u},bW:function(){return c},jj:function(){return o}});var r=n(82363),a=n(92379),l=n(74250),s=n(95204),i=n(651);function o(e){let{children:t}=e;return(0,i.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,i.jsxs)("div",{className:"flex flex-col items-center gap-1 text-sm font-semibold text-token-text-tertiary",children:[(0,i.jsx)(s.Z,{className:"icon-2xl"}),t]})})}function c(e){let{onClickRetry:t,children:n}=e;return(0,i.jsxs)(o,{children:[(0,i.jsxs)("div",{children:["Error."," ",(0,i.jsx)("button",{onClick:t,className:"inline font-semibold text-token-text-primary hover:opacity-70",children:"Try again?"})]}),n]})}function u(e){let{resetError:t,componentStack:n,error:s}=e;return(0,a.useEffect)(()=>{r.U.addError(s)},[s]),(0,i.jsxs)(c,{onClickRetry:t,children:[(0,i.jsx)("div",{className:"fixed left-2 top-2",children:(0,i.jsx)(l.WU,{})}),(0,i.jsx)("div",{className:"fixed right-2 top-2",children:(0,i.jsx)(l.z0,{})}),!1]})}},74250:function(e,t,n){n.d(t,{Au:function(){return k},rm:function(){return S},WU:function(){return y},z0:function(){return j}});var r,a=n(2346),l=n(25162),s=n(19841),i=n(38482),o=n.n(i),c=n(24098),u=n.n(c),d=n(92379),A=n(15478),h=n(9033),m=n(30853),p=n(91981),g=n(651);let f={[p.kQ.CONNECTING]:"Connecting",[p.kQ.OPEN]:"Open",[p.kQ.CLOSING]:"Closing",[p.kQ.CLOSED]:"Closed",[p.kQ.UNINSTANTIATED]:"Uninstantiated"};function x(e){let{readyState:t,className:n}=e,{0:r,1:a}=(0,d.useState)(!0);return((0,d.useEffect)(()=>{setTimeout(()=>{a(!0)},1e3)},[]),t!==p.kQ.OPEN&&r)?(0,g.jsx)("div",{className:(0,s.default)("flex items-center gap-2 p-3 text-sm",n),children:(0,g.jsx)(m.u,{label:f[t],sideOffset:0,side:"right",children:(0,g.jsx)("div",{className:(0,s.default)("h-2 w-2 rounded-full",(t===p.kQ.CLOSING||t===p.kQ.CONNECTING)&&"bg-yellow-500",(t===p.kQ.CLOSED||t===p.kQ.UNINSTANTIATED)&&"bg-red-500",r?"block":"hidden")})})}):null}var b=n(91111),v=n(51837);let w=o()(()=>Promise.all([n.e(8682),n.e(9733)]).then(n.bind(n,44873)).then(e=>e.PlatformButtons),{ssr:!1,loadableGenerated:{webpack:()=>[44873]}});function y(e){let{hideReadyState:t=!1,onResultsPage:n=!1,children:r}=e,{readyState:a,resetSearch:i}=(0,b.A)(),o=(0,v.L)();return(0,g.jsxs)("div",{className:(0,s.default)("hidden w-20 shrink-0 flex-col items-center justify-between border-r py-6 sm:flex",n?"relative border-token-border-light":"absolute bottom-0 left-0 top-0 border-transparent"),children:[(0,g.jsxs)(u(),{onClick:()=>i(),href:"/search",className:"text-token-text-primary hover:text-token-text-secondary",title:"Go to SearchGPT",children:[(0,g.jsx)(l.nI,{className:"h-8 w-8"}),o&&!t&&(0,g.jsx)(x,{readyState:a})]}),o&&(0,g.jsx)("div",{className:"flex flex-col items-center gap-2",children:(0,g.jsx)(w,{})}),(0,g.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2",children:r})]})}function j(){return(0,g.jsx)("div",{className:"absolute right-5 top-5 hidden sm:block",children:(0,g.jsx)(h.Kd,{className:"h-8 w-8"})})}function k(){return(0,g.jsx)(E,{$side:"left",children:(0,g.jsx)(l.nI,{className:"h-8 w-8"})})}function S(e){let{className:t}=e;return(0,g.jsx)(E,{$side:"right",className:"".concat(t),children:(0,g.jsx)(h.v_,{className:"h-8 w-8"})})}let E=A.Z.div(r||(r=(0,a.Z)(["absolute "," bottom-5 top-5 z-10 w-10 flex-col justify-between items-center hidden sm:flex"])),e=>"left"===e.$side?"left-5":"right-5")},91111:function(e,t,n){n.d(t,{A:function(){return o},c:function(){return i}});var r=n(91530),a=n.n(r),l=n(92379),s=n(91981);let i=(0,l.createContext)({waitingForNewTurn:!1,sessionUser:null,userMetadata:{cf_connecting_ip:null,ip_city:null,time_zone:null,user_country:null,user_locale:null,user_region:null,user_region_code:null,latitude:null,longitude:null,locationAccuracy:null},submitFollowup:()=>Promise.resolve(),submitSearch:()=>Promise.resolve(),retrySearch:()=>Promise.resolve(),resetSearch:a(),prefetch:a(),readyState:s.kQ.UNINSTANTIATED}),o=()=>(0,l.useContext)(i)},44425:function(e,t,n){n.d(t,{_A:function(){return r}});let r="https://openai.com/index/searchgpt-prototype/"},94206:function(e,t,n){n.d(t,{O$:function(){return r},jF:function(){return l},v3:function(){return a}});class r extends Error{constructor(e){super(e),this.name="WebsocketConnectError"}}class a extends Error{constructor(e){super(e),this.name="TurnError"}}class l extends Error{constructor(e){super(e),this.name="TurnDeltaMessageError"}}},40374:function(e,t,n){n.d(t,{$:function(){return p},Z:function(){return m}});var r=n(47563),a=n(15913),l=n(92379),s=n(91981),i=n(91111),o=n(26925),c=n(12381),u=n(69767),d=n(21338),A=n(651);let h=(0,l.createRef)();function m(){if(!(0,a.b4)()){var e;null===(e=h.current)||void 0===e||e.focus()}}function p(){let e=o.ne.useState(o.ne.selectFollowupQueryInput),t=o.ne.useStore(),{submitFollowup:n,readyState:l,waitingForNewTurn:m}=(0,i.A)(),p=(0,c.nn)(c.LW.firstTurn),g=null!=p&&(0,u.jo)(p),f=(0,c.nn)(c.LW.isLastTurnStreaming),x=!g&&null!=p&&l===s.kQ.OPEN;return(0,A.jsx)(d.I,{value:e,inputType:"text",placeholder:"Ask a follow-up...",variant:"mobile_bottom",submitButtonIcon:(0,A.jsx)(r.WmV,{className:"icon-lg-heavy"}),loading:f||m,className:"border-t-[0.5px] border-token-border-medium transition duration-500 dark:border-token-border-xheavy sm:mb-6 sm:border-none",onChange:e=>t.setFollowupQueryInput(e),onSubmit:e=>{x&&n(e)},shouldFocusOnKeyEvent:e=>"u"===e.key&&e.metaKey,autoFocus:!(0,a.s2)(),ref:h})}},21338:function(e,t,n){n.d(t,{I:function(){return m}});var r,a=n(2346),l=n(97537),s=n(11365),i=n(43703),o=n(15913),c=n(37671),u=n(19841),d=n(92379),A=n(15478),h=n(651);let m=(0,d.forwardRef)(function(e,t){let n;let{value:r,placeholder:a,variant:A="default",leftIcon:m,submitButtonIcon:g,loading:f,disabled:x,withInlineTypeahead:b,className:v,onChange:w,onKeyDown:y,onSubmit:j,shouldFocusOnKeyEvent:k,autoFocus:S,onFocus:E,inputType:M="search",style:O}=e,N=(0,d.useRef)(null),C=(0,d.useRef)(null);(0,d.useImperativeHandle)(t,()=>(0,c.S)(N.current));let{0:L,1:D}=(0,d.useState)(!1),I=null==b?void 0:b.currentSuggestion,R=0===r.trim().length,U=!R&&!x&&!f,z=e=>{if(null==y||y(e),"Enter"===e.key&&U){var t;e.preventDefault(),j(r),null===(t=N.current)||void 0===t||t.blur()}("Tab"===e.key||"ArrowUp"===e.key)&&I&&(e.preventDefault(),w(I))},P=e=>{let t="focus"===e.type;if(D(t),null==E||E(t),t&&(0,o.b4)()){var n;null===(n=N.current)||void 0===n||n.select()}};(0,d.useEffect)(()=>{if(null!=k)return(0,i.eR)(document,{keydown:e=>{if(null!=k&&k(e)){var t,n;e.preventDefault(),null===(t=N.current)||void 0===t||t.focus(),null===(n=N.current)||void 0===n||n.select()}}})},[k]),(0,d.useEffect)(()=>{if(S){var e;(0,o.e2)()||null===(e=N.current)||void 0===e||e.focus()}},[S]);let B=b?(0,h.jsxs)("form",{action:"",onSubmit:e=>e.preventDefault(),children:[(0,h.jsx)(p,{$as:"div",$hasLeftIcon:null!=m,$variant:A,className:"flex items-center text-token-text-tertiary",children:L&&I?(0,h.jsx)("div",{className:"truncate",children:I}):null}),(0,h.jsx)(p,{ref:N,type:M,$transparentBg:!0,$hasLeftIcon:null!=m,$variant:A,name:"query",className:"absolute inset-0",value:r,disabled:x,autoComplete:"off",spellCheck:!1,placeholder:a,onKeyDown:z,onChange:e=>w(e.target.value),onFocus:P,onBlur:P})]}):(0,h.jsx)("form",{action:"",onSubmit:e=>e.preventDefault(),children:(0,h.jsx)(p,{ref:N,type:M,className:"w-full",$hasLeftIcon:null!=m,$variant:A,value:r,disabled:x,autoComplete:"off",spellCheck:!1,placeholder:a,onKeyDown:z,onChange:e=>w(e.target.value),onFocus:P,onBlur:P})}),T="hover:bg-black hover:text-token-main-surface-tertiary hover:dark:bg-white hover:dark:text-token-main-surface-tertiary",_="hover:cursor-default";n=f?(0,u.default)("bg-transparent text-token-text-tertiary",_):U&&L?"bg-black text-white dark:bg-white dark:text-token-main-surface-tertiary":U?(0,u.default)("bg-gray-300/60 text-token-text-secondary dark:bg-gray-600 dark:text-white",T):(0,u.default)("bg-gray-300/60 text-token-main-surface-tertiary dark:bg-gray-600",_);let V=(0,h.jsxs)("div",{className:(0,u.default)("absolute right-3 top-1/2 flex -translate-y-1/2 items-center justify-end",!L&&"sm:hidden"),children:[(0,h.jsx)("button",{onMouseDown:e=>e.preventDefault(),onClick:()=>{var e;w(""),null===(e=N.current)||void 0===e||e.focus()},className:(0,u.default)("mr-1 flex h-5 w-5 items-center justify-center rounded-full transition-colors sm:hidden","bg-gray-300/60 dark:bg-gray-600","mobile_bottom"===A?"text-token-main-surface-primary sm:text-token-main-surface-tertiary":"text-token-main-surface-tertiary",T,(R||!L)&&"hidden"),children:(0,h.jsx)(s.Z,{className:"h-5 w-5"})}),(0,h.jsx)("button",{onMouseDown:e=>e.preventDefault(),onClick:()=>{U&&j(r)},className:(0,u.default)("hidden h-7 w-7 items-center justify-center rounded-full transition-colors sm:flex",n),children:f?(0,h.jsx)(l.Z,{className:"h-5 w-5"}):g})]});return(0,h.jsxs)("div",{ref:C,className:(0,u.default)("relative sm:rounded-full",v),style:O,children:[B,null!=m&&(0,h.jsx)("div",{className:(0,u.default)("absolute top-1/2 -translate-y-1/2","result_top"===A?"left-4 sm:left-6":"left-5",R||x?"text-token-text-tertiary":"text-token-text-primary"),children:m}),"result_top"!==A&&V]})}),p=A.Z.input(r||(r=(0,a.Z)(["text-ellipsis pr-14 placeholder-gray-500 outline-none focus:ring-0 border-0 [&::-webkit-search-cancel-button]:hidden\n","\n","\n","\n",""])),e=>{let{$hasLeftIcon:t,$variant:n}=e;return t?"result_top"===n?"pl-12 sm:pl-[3.25rem]":"pl-[3.25rem]":"pl-4 sm:pl-5"},e=>{let{$transparentBg:t,$variant:n}=e;return t||"result_top"===n?"bg-transparent":"mobile_bottom"===n?"bg-token-main-surface-primary sm:bg-token-main-surface-tertiary":"bg-token-main-surface-tertiary"},e=>{let{$variant:t}=e;return"result_top"===t?"py-4 sm:py-6":""},e=>{let{$variant:t,$transparentBg:n}=e;return"result_top"===t?n?"":"border-b border-token-border-light":"mobile_bottom"===t?"rounded-none sm:rounded-full h-[50px] sm:h-snc-input-height":"rounded-full h-snc-input-height"})},79930:function(e,t,n){n.d(t,{M:function(){return l},Y:function(){return s}});var r,a=n(99976);let l=((r={}).searchTurnFeedbackButtonShown="Search Turn Feedback Button Shown",r.searchTurnFeedbackSubmitted="Search Turn Feedback Submitted",r.searchLinkFeedbackSubmitted="Search Link Feedback Submitted",r.searchLinkShown="Search Link Shown",r.searchLinkClicked="Search Link Clicked",r.searchQuerySubmitted="Search Query Submitted",r.searchFollowupSubmitted="Search Followup Submitted",r.searchQueryPrefetched="Search Query Prefetched",r.searchCitationShown="Search Citation Shown",r.searchCitationHovered="Search Citation Hovered",r.searchCitationClicked="Search Citation Clicked",r.searchIFSShown="Search IFS Shown",r.searchIFSClicked="Search IFS Clicked",r.welcomePageShown="Welcome Page Shown",r.blockedPageShown="Blocked Page Shown",r.waitlistPageShown="Waitlist Page Shown",r.waitlistButtonClicked="Waitlist Button Clicked",r.waitlistLearnMoreClicked="Waitlist Learn More Clicked",r.searchLinkSidebarShown="Search Links Sidebar Shown",r.searchImagesSidebarShown="Search Images Sidebar Shown",r.searchSidebarImageShown="Search Sidebar Image Shown",r.searchSidebarImageClicked="Search Sidebar Image Clicked",r.searchInlineImageShown="Search Inline Image Shown",r.searchInlineImageClicked="Search Inline Image Clicked",r.searchCarouselImageShown="Search Carousel Image Shown",r.searchCarouselImageClicked="Search Carousel Image Clicked",r.searchTldrLinkShown="Search TLDR Link Shown",r.searchTldrLinkClicked="Search TLDR Link Clicked",r),s={logEvent(e,t){window.location.pathname.includes("/permalink/")||a.A.logEvent(e,t)}}},63024:function(e,t,n){n.d(t,{u:function(){return am}});var r,a,l,s,i,o,c,u,d,A,h,m,p,g,f,x,b,v,w,y,j,k,S,E,M,O,N,C,L,D,I,R,U,z,P,B,T,_,V,H,W,Z,F,X,q,Q=n(43703),Y=n(15913),G=n(38724),K=n(19841),J=n(88600),$=n(21389),ee=n(34977),et=n.n(ee),en=n(92379),er=n(34818),ea=n(9033),el=n(65787),es=n(2346),ei=n(57098),eo=n(59144),ec=n(47563),eu=n(48175),ed=n(87230),eA=n(66583),eh=n(65925),em=n.n(eh),ep=n(15478),eg=n(95204),ef=n(97193),ex=n(98601),eb=n(49166),ev=n(84760),ew=n(18939),ey=n.n(ew),ej=n(23763),ek=n.n(ej),eS=n(81014),eE=n(12381),eM=n(69767);class eO{constructor(){(0,ex.Z)(this,"queue",[]),(0,ex.Z)(this,"attempted",new Set),(0,ex.Z)(this,"isProcessing",!1)}enqueue(e){this.queue.push(e),this._processQueue()}async _processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)try{let e=this.queue.shift();if(!e)continue;await this._preload(e)}catch(e){}this.isProcessing=!1}}_preload(e){return new Promise(t=>{this.attempted.has(e)&&t();let n=new Image;n.onload=()=>{this.attempted.add(e),t()},n.onerror=()=>{this.attempted.add(e),t()},n.src=e})}}let eN=new eO;function eC(e){let{enabled:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){let t=(0,en.useRef)(e);return em()(t.current,e)||(t.current=e),t.current}(e);(0,en.useEffect)(()=>{if(!t||"connection"in navigator&&"cellular"===navigator.connection.type)return;let e=setTimeout(()=>{n.forEach(e=>{e&&eN.enqueue(e)})},1e3);return()=>{clearTimeout(e)}},[t,n])}function eL(e){let{urls:t}=e;return eC(t),null}var eD=n(651);function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(t){(0,ex.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let eU=ek()(function(){return(0,eS.mH)(...arguments)},5e3);function ez(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=(0,eE.m0)(["image_results","image_try_hard_status","execution_status"]),a=(0,eE.nn)(eE.LW.threadId),l=ey()(r.toReversed().flatMap(e=>{var t;return null===(t=e.image_results)||void 0===t?void 0:t.entries})).map(e=>eR(eR({},e),{},{thumbnail_url:e.thumbnail_url.replace(/^http:\/\//,"https://"),content_url:e.content_url.replace(/^http:\/\//,"https://")})),s=(0,eE.nn)(eE.LW.hasModelResponseText),i=r.some(e=>(0,eM.jo)(e)),o=0===l.length&&!s;return null!=a&&n&&!o&&0===l.length&&(null===(e=r[0])||void 0===e?void 0:e.image_try_hard_status)==="not_attempted"&&(eU(a,0),o=!0),n&&(null===(t=r[0])||void 0===t?void 0:t.image_try_hard_status)==="in_progress"&&(o=!0),{imageResults:l,isLoading:o,isErrored:0===l.length&&i}}function eP(e){return(0,eb.C)({queryKey:["downloadImage",{imageUrl:e}],queryFn:()=>new Promise((t,n)=>{let r=new Image;r.onload=()=>{t({width:r.width,height:r.height})},r.onerror=()=>{n()},r.src=e}),enabled:null!=e})}function eB(e){return(0,ev.a)(eP(e))}function eT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:474,square:!0};return(0,en.useMemo)(()=>{var n;if(null==e)return;let r=new URL(e.thumbnail_url),a=Math.min(t.width,e.content_size.width),l=null!==(n=t.height)&&void 0!==n?n:Math.floor(a*e.content_size.height/e.content_size.width);if(r.searchParams.delete("pid"),t.square){let e=Math.min(a,l);r.searchParams.set("w",e.toString()),r.searchParams.set("h",e.toString())}else r.searchParams.set("w",a.toString()),r.searchParams.set("h",l.toString());return r.searchParams.set("c","7"),r.toString()},[e,t])}let e_={type:"spring",stiffness:700,damping:82};function eV(e){let{children:t,className:n}=e;return(0,eD.jsx)(J.E.div,{animate:{opacity:1},initial:{width:"100%",height:"100%",translateX:0,translateY:0,opacity:0},whileHover:{width:"103%",height:"103%",translateX:"-1.5%",translateY:"-1.5%"},transition:e_,className:n,children:t})}function eH(){let e=(0,ef.W6)(ef.bM.getFocusedImage);if(!e)return null;let{image:t,source:n}=e;if(null==n)return(0,eD.jsx)(eY,{image:t});switch(n){case ef.y6.ImagesTab:return(0,eD.jsx)(eW,{image:t});case ef.y6.Turn:return(0,eD.jsx)(eZ,{image:t})}}function eW(e){let{image:t}=e,{imageResults:n}=ez();return(0,eD.jsx)(eY,{image:t,group:n,groupSource:ef.y6.ImagesTab})}function eZ(e){let{image:t}=e,{imageResults:n}=function(){let e=(0,eE.HV)(),t=(0,eE.nn)(eE.LW.hasTurnError),n=(0,eE.nn)(eE.LW.hasModelResponseText),r=ey()(e.flatMap(e=>"image_v2"===e.type?e.images:"optimistic_image_citation"===e.type||"optimistic_image_inline"===e.type?e.image:void 0));return{imageResults:r,isLoading:0===r.length&&!n,isErrored:0===r.length&&t}}();return(0,eD.jsx)(eY,{image:t,group:n,groupSource:ef.y6.Turn})}let eF=ep.Z.div(l||(l=(0,es.Z)(["grow flex items-start p-8"])));function eX(e){let{title:t,urls:n}=e,r=n[0],{data:a,isError:l}=eB(r);if(0===n.length)return;if(l)return n.length>1?(0,eD.jsx)(eX,{title:t,urls:n.slice(1)}):(0,eD.jsx)("div",{className:"flex h-full grow items-center justify-center",children:(0,eD.jsx)("div",{className:"flex h-96 w-96 items-center justify-center bg-white/10",children:(0,eD.jsx)(eg.Z,{className:"h-12 w-12 text-token-text-tertiary"})})});let s="max-w-[100vw] sm:max-w-[calc(100vw-10rem)] object-scale-down h-full";return null!=a?(0,eD.jsx)(J.E.img,{src:r,alt:t,initial:{opacity:0},animate:{opacity:1},className:s}):(0,eD.jsx)("div",{className:(0,K.default)("w-full animate-pulse bg-white/10",s)})}let eq={enter:e=>({x:e>0?1e3:-1e3,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:e=>({zIndex:0,x:e<0?1e3:-1e3,opacity:0})},eQ=(e,t)=>Math.abs(e)*t;function eY(e){var t,n,r;let{image:a,group:l,groupSource:s}=e,i=(0,ed.d)(null!==(t=null==a?void 0:a.url)&&void 0!==t?t:""),o=(0,ef.W6)(e=>{var t;return null===(t=ef.bM.getFocusedImage(e))||void 0===t?void 0:t.mountDirection}),c=()=>{ef.vm.setFocusedImage(void 0)},u=null==l?void 0:l.findIndex(e=>em()(a,e)),d=null!==(n=null==l?void 0:l.length)&&void 0!==n?n:1,A=null!=u&&d>1,h=(0,en.useCallback)(()=>{A&&null!=l&&ef.vm.setFocusedImage({image:l[(u+1)%l.length],source:s,mountDirection:ef.KP.FromRight})},[l,A,u,s]),m=(0,en.useCallback)(()=>{A&&null!=l&&ef.vm.setFocusedImage({image:l[(u-1+l.length)%l.length],source:s,mountDirection:ef.KP.FromLeft})},[l,A,u,s]);return(0,en.useEffect)(()=>(0,Q.eR)(document,{keydown:e=>{"ArrowRight"===e.key?h():"ArrowLeft"===e.key&&m()}}),[h,m]),(0,eD.jsx)($.M,{children:a&&(0,eD.jsx)(eo.Z.Root,{isOpen:!0,onClose:c,children:(0,eD.jsxs)(eA.VY,{className:"flex h-full w-full flex-col bg-black",onClick:c,children:[(0,eD.jsxs)("div",{className:"relative flex w-full grow justify-center overflow-hidden",children:[(0,eD.jsx)("button",{onClick:e=>{e.stopPropagation(),c()},className:"absolute left-4 top-4 flex h-9 w-9 items-center justify-center text-white outline-none hover:opacity-70 sm:left-6 sm:top-6",children:(0,eD.jsx)(ec.tPq,{className:"h-7 w-7"})}),A&&(0,eD.jsxs)("div",{className:"absolute right-6 top-6 w-fit shrink-0 cursor-default rounded-full bg-white/20 px-4 py-2 font-mono text-sm text-token-text-tertiary sm:right-8 sm:top-8",children:[u+1," / ",d]}),(0,eD.jsx)(eF,{className:"cursor-w-resize",onClick:e=>{e.stopPropagation(),m()}}),(0,eD.jsx)($.M,{initial:!1,custom:o,children:(0,eD.jsx)(J.E.div,{variants:eq,custom:null!=o?o:0,className:"absolute bottom-4 top-24",initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},drag:d>1&&"x",dragConstraints:{left:0,right:0},dragElastic:1,onDragEnd:(e,t)=>{let{offset:n,velocity:r}=t,a=eQ(n.x,r.x);a<-1e4?h():a>1e4&&m()},children:(0,eD.jsx)(eX,{title:a.title,urls:[a.content_url,a.thumbnail_url]})},u)}),(0,eD.jsx)(eF,{className:"cursor-e-resize",onClick:e=>{e.stopPropagation(),h()}})]}),(0,eD.jsxs)("a",{href:a.url,target:"_blank",rel:"noopener",className:"flex min-h-20 w-full shrink-0 items-center gap-8 px-6 pb-3 pt-8 text-sm hover:opacity-70 sm:px-8 sm:pb-8",children:[(0,eD.jsx)("div",{className:"flex shrink-0 items-center",children:(0,eD.jsx)(ec.xPt,{className:"icon-lg text-white"})}),(0,eD.jsxs)("div",{className:"flex grow flex-col gap-0.5 overflow-hidden pr-2",children:[(0,eD.jsx)("div",{className:"truncate text-token-text-tertiary",children:null!==(r=i.data)&&void 0!==r?r:(0,eu.p)(a.url)}),(0,eD.jsx)("div",{className:"truncate font-semibold text-white",children:a.title})]}),(0,eD.jsx)("div",{className:"shrink-0",children:(0,eD.jsx)(ei.Z,{url:a.content_url,className:"rounded",size:24})})]})]})})})}var eG=n(74250),eK=n(40374);function eJ(e){let{side:t,className:n}=e;return(0,eD.jsx)("div",{className:(0,K.default)("absolute inset-x-px h-[calc(100%+var(--snc-1))]","from-token-main-surface-primary from-60% to-100%","top"===t?"top-0 bg-gradient-to-b":"bottom-0 bg-gradient-to-t",n)})}var e$=n(91111),e0=n(26925),e1=n(712),e2=n(21338);function e6(){let e=(0,en.useRef)(null),{submitSearch:t}=(0,e$.A)(),n=e0.ne.useState(e0.ne.selectQueryInput),r=e0.ne.useStore(),a=(0,e1.o)({query:n,enabled:"undefined"!=typeof document&&e.current===document.activeElement}),l=n.length>0?a.find(e=>e.length>n.length&&e.startsWith(n)):void 0;return(0,eD.jsx)(e2.I,{ref:e,className:"w-full",variant:"default",value:n,placeholder:"Search",leftIcon:(0,eD.jsx)(eD.Fragment,{children:(0,eD.jsx)(ec.W1M,{className:"icon-md-heavy"})}),submitButtonIcon:(0,eD.jsx)(ec.WmV,{className:"icon-lg-heavy rotate-180"}),withInlineTypeahead:{currentSuggestion:l},onChange:e=>r.setQueryInput(e),onSubmit:t,shouldFocusOnKeyEvent:e=>"k"===e.key&&e.metaKey})}var e5=n(67330),e3=n(7243),e4=n(94668),e8=n(44885),e9=n(67794),e7=n(25009),te=n(30853),tt=n(22594),tn=n(24740),tr=n(31498),ta=n(58695),tl=n(82363),ts=n(88667),ti=n(19323),to=n.n(ti),tc=n(38482),tu=n.n(tc),td=n(79930),tA=n(16757);let th=((r={}).Snc="Snc",r.SncDebug="SncDebug",r),tm=(0,en.createContext)(void 0),tp=e=>{let{children:t,value:n}=e,r=n.displayedCitations.map(e=>e.type===th.Snc||e.type===th.SncDebug?{type:e9.Zn.Standard}:e);return(0,eD.jsx)(tm.Provider,{value:n,children:(0,eD.jsx)(e9.h7.Provider,{value:{clientThreadId:tA.Zq,displayType:e9.QU.expandAll,displayedCitations:r,isActivelyStreaming:n.isActivelyStreaming,message:{id:"",author:{role:tA.uU.Assistant,name:"Search"},content:{content_type:tA.PX.Text,parts:[n.responseText]}},attributions:n.attributions,onCitationShown:n.onCitationShown,onCitationClicked:n.onCitationClicked,onCitationHovered:n.onCitationHovered,onCitationUnhovered:n.onCitationUnhovered},children:t})})};var tg=n(65994);function tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tf(Object(n),!0).forEach(function(t){(0,ex.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tb(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=0,l={forecast:null,stock:null,calculator:null},s=n.toSorted((e,t)=>e.start_idx-t.start_idx||e.end_idx-t.end_idx).filter(t=>t.end_idx<=e.length).map(e=>{switch(e.type){case"invalid":case"hidden":case"optimistic_image_citation":return{citation:e};case"optimistic_image_inline":case"image_v2":case"nav_list":case"tldr":return{citation:e,displayInfo:{type:th.Snc,metadata:e},displayMode:"leaf"};case"title_citation":case"location_search":case"time":return{citation:e,displayInfo:{type:th.Snc,metadata:tx({},e)}};case"webpage":case"webpage_extended":return{citation:e,displayInfo:{type:th.Snc,metadata:{type:"webpage",items:[{title:e.title,url:e.url,type:"webpage"}]}}};case"forecast":return l.forecast=e,{citation:e};case"stock":return l.stock=e,{citation:e};case"calculator":return l.calculator=e,{citation:e}}}).map(e=>tx(tx({},e),{},{index:null!=e.displayInfo?a++:void 0}));r&&(s=s.flatMap(e=>{if(null!=e.displayInfo){let t=e.index,{citation:n}=e;return[tx(tx({},e),{},{index:null!=t?2*t:void 0}),{citation:e.citation,displayInfo:{type:th.SncDebug,metadata:tx({matched_text:n.matched_text.replace(/(^【|】$)/g,"")},"webpage_extended"===n.type&&n.pub_date&&{pub_date:new Date(1e3*n.pub_date).toLocaleString()})},index:null!=t?2*t+1:void 0}]}return[e]})),function(e){let t=new Map;e.forEach((n,r)=>{let{citation:a,displayInfo:l,index:s}=n;if((null==l?void 0:l.type)!==th.Snc||"webpage"!==l.metadata.type)return;l.metadata.items=l.metadata.items.map(e=>{var n;return t.has(e.url)||t.set(e.url,{index:null!=s?s:r}),tx(tx({},e),{},{index:null===(n=t.get(e.url))||void 0===n?void 0:n.index})});let i=e[r+1];if(null==i)return;let{citation:o,displayInfo:c}=i;(null==c?void 0:c.type)===th.Snc&&"webpage"===c.metadata.type&&a.end_idx+1>=o.start_idx&&(c.metadata.items=[...l.metadata.items.map(e=>tx(tx({},e),{},{index:null!=s?s:void 0})),...c.metadata.items],n.displayInfo={type:e9.Zn.Standard})})}(s),!function(e){let t=e.map(e=>e.citation).filter(e=>"optimistic_image_inline"===e.type);return!(t.filter(e=>"done"===e.status&&null==e.image).length>1)&&0!==ey()(t.map(e=>e.image)).length}(t=s)&&t.forEach(e=>{let{displayInfo:t}=e;(null==t?void 0:t.type)===th.Snc&&"optimistic_image_inline"===t.metadata.type&&(t.metadata=tx(tx({},t.metadata),{},{hidden:!0}))});let i=function(e,t){let n="",r=0,a=[...t];for(let t of e){let{citation:e,displayInfo:l,index:s,displayMode:i}=t,{start_idx:o,end_idx:c}=e;n+=a.slice(r,o).join(""),r=c,null!=l&&("leaf"===i?n+="\n::".concat(tg.p,"[oaicite:").concat(s,"]{index=").concat(s,"}\n"):(0===n.length||n[n.length-1].match(/\s/)||(n+="&#8203;"),n+=":".concat(tg.p,"[oaicite:").concat(s,"]{index=").concat(s,"}")))}return n+a.slice(r).join("")}(s,e);i=tv(i);let o=ey()(s.filter(e=>{let{index:t}=e;return null!=t}).map(e=>{let{displayInfo:t}=e;return t}));if(l.forecast&&(i=""),(null!=l.forecast||null!=l.stock||null!=l.calculator)&&(o=o.map(e=>{var t;return e.type===th.Snc&&(null===(t=e.metadata)||void 0===t?void 0:t.type)==="tldr"?tx(tx({},e),{},{type:e9.Zn.Standard,metadata:void 0}):e})),null!=l.stock&&null==l.stock.url){let e=(null!=n?n:[]).find(e=>"tldr"===e.type);e&&(l.stock=tx(tx({},l.stock),{},{url:e.url}))}return tx({processedText:i,displayedCitations:o},l)}function tv(e){let t=e,n=(t=t.replace(/【[^】]*$/g,"")).match(/(\n|^):::/g);return n&&n.length%2==1&&(t+="\n:::"),t=t.replace(/^\d+$/,"")}function tw(e){let{forecast:t,stock:n,calculator:r}=e;return t?{type:"weather",status:"done",data:{forecast:t.forecast,dateRange:t.date_range}}:n?{type:"finance",status:n.status,data:n}:r?{type:"calculator",status:"done",data:r}:null}function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(n),!0).forEach(function(t){(0,ex.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let tk=tu()(()=>n.e(8682).then(n.bind(n,3636)).then(e=>e.FeedbackModelInstructions),{ssr:!1,loadableGenerated:{webpack:()=>[3636]}}),tS={weather:"Weather widget",finance:"Stock widget",calculator:"Calculator widget",news:"News widget",time:"Time widget"},tE="Content quality",tM="Visual issues",tO="Other",tN="[Internal]",tC={turn:{thumbsDown:[{label:"Too long",group:tE},{label:"Too short",group:tE},{label:"Inaccurate",group:tE},{label:"Out-of-date",group:tE},{label:"Did not understand query",group:tE},{label:"Poor sources/citations",group:tE},{label:"No images",group:tM},{label:"Poor images",group:tM},{label:"Broken UI format",group:tM},{label:"Location issue",group:tO},{label:"Safety",group:tO},...Object.keys(tS).map(function(e){return{label:"".concat(tS[e]," missing"),group:tN,match:t=>{let{widgetType:n,user:r}=t;return n!==e&&(0,ta.yl)(r)}}}),{label:e=>{let{widgetType:t}=e;return"Should NOT show ".concat(tS[t])},group:tN,match:e=>{let{widgetType:t,user:n}=e;return!!t&&(0,ta.yl)(n)}},{label:e=>{let{widgetType:t}=e;return"Issue with ".concat(tS[t])},group:tN,match:e=>{let{widgetType:t,user:n}=e;return!!t&&(0,ta.yl)(n)}}],thumbsUp:[{label:"Accurate answer"},{label:"Up-to-date"},{label:"Good sources/links"},{label:"Image quality"},{label:e=>{let{widgetType:t}=e;return"Like the ".concat(tS[t])},match:e=>{let{widgetType:t,user:n}=e;return!!t&&(0,ta.yl)(n)}}]},link:{thumbsDown:[{label:"Not relevant"},{label:"Out-of-date"},{label:"Ranked too high"},{label:"Ranked too low"},{label:"Bad source"}],thumbsUp:[{label:"Relevant"},{label:"Up-to-date"},{label:"Ranked appropriately"},{label:"Good source"}]}};async function tL(e){var t;let n=null!==(t=e.element)&&void 0!==t?t:document.getElementById("__next"),r=await to()(n,{backgroundColor:e.isDarkMode?null:"#ffffff"}),a=document.createElement("canvas"),l=a.getContext("2d"),s=r.height/r.width*1440;return a.width=1440,a.height=s,null==l||l.drawImage(r,0,0,1440,s),new Promise(e=>{a.toBlob(t=>{e(t)},"image/jpeg",.8)})}function tD(e){let{onSubmit:t,turn:n,thumbsUpTooltip:r,thumbsDownTooltip:a,screenshotElement:l,type:s}=e,{0:i,1:o}=(0,en.useState)(null),{0:c,1:u}=(0,en.useState)(null),d=(0,Y.Gv)(),A=(0,tr.aF)(),h=!!A&&(0,ta.yl)(A),{0:m,1:p}=(0,en.useState)(void 0),{value:g}=(0,ts.sB)("3838495619");return(0,eD.jsxs)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,eD.jsx)("div",{className:"flex items-center gap-2",children:[{tooltip:null!=r?r:"Good",rating:"thumbsUp",Icon:ec.Z7j,FilledIcon:ec.szs},{tooltip:null!=a?a:"Bad",rating:"thumbsDown",Icon:ec.C_W,FilledIcon:ec.eW_}].map(e=>{let{tooltip:t,rating:n,Icon:r,FilledIcon:a}=e;return(0,eD.jsx)(te.u,{label:t,sideOffset:0,className:"flex",children:(0,eD.jsx)("button",{className:"block text-token-text-tertiary hover:text-token-text-primary",onClick:async()=>{h&&tL({element:l,isDarkMode:d}).then(e=>{o(e)}),u(n)},disabled:c===n,children:c===n?(0,eD.jsx)(a,{className:"h-4 w-4"}):(0,eD.jsx)(r,{className:"h-4 w-4"})})},n)})}),c&&(0,eD.jsx)(tt.Z,{multiple:!0,onSubmit:e=>t(tj(tj({},e),{},{screenshot:i,currentRating:c,modelInstructions:m})),onCancel:()=>{o(null),u(null)},tagOptions:function(e){var t,n;let{type:r,turn:a,rating:l,user:s}=e,i=null,o=null==a||null===(t=a.model_response)||void 0===t?void 0:t.text,c=null==a||null===(n=a.model_response)||void 0===n?void 0:n.citations;return o&&c&&(i=function(e){let t=tw(e);if(t)return t.type;for(let t of e.displayedCitations)if(t.type===th.Snc){if("time"===t.metadata.type)return"time";if("nav_list"===t.metadata.type)return"news"}return null}(tb(o,c,!1))),tC[r][l].filter(e=>!e.match||!a||e.match({turn:a,widgetType:i,user:s})).map(e=>{var t;let n=e.label;if("function"==typeof n){if(!a)return null;n=n({turn:a,widgetType:i})}return tj(tj({},e),{},{label:n,value:null!==(t=e.value)&&void 0!==t?t:n})}).filter(e=>null!=e)}({type:s,rating:c,turn:n,user:A}),modalOnly:!0,modalTitle:(0,eD.jsxs)("div",{className:"flex items-center gap-2",children:["thumbsUp"===c?(0,eD.jsx)(ec.szs,{className:"mt-[-4px]"}):(0,eD.jsx)(ec.eW_,{className:"mb-[-6px]"})," ","Provide feedback"]}),children:g&&(0,eD.jsx)(tk,{modelInstructions:m,setModelInstructions:p})},c)]})}function tI(e){let{turn:t}=e,n=(0,eE.nn)(eE.LW.threadId),{sessionUser:r}=(0,e$.A)();(0,en.useEffect)(()=>{if(n){if(null==t.index)throw Error();td.Y.logEvent(td.M.searchTurnFeedbackButtonShown,{turn_index:t.index,thread_id:n})}},[]);let a=async e=>{if(n&&e.currentRating){if(null==t.index)throw Error();td.Y.logEvent(td.M.searchTurnFeedbackSubmitted,{turn_index:t.index,thread_id:n,rating:e.currentRating,tags:e.tags,text:e.textFeedback,model_instructions:e.modelInstructions}),tl.U.addAction("sonic.web.turn_feedback_submitted",{thread_id:n,rating:e.currentRating,tags:e.tags}),tn.m.successNeutral("Thanks for your feedback!",{duration:2}),await (0,eS.k4)({turnIndex:t.index,threadId:n,rating:e.currentRating,searchQuery:t.user_query,tags:e.tags,text:e.textFeedback,modelInstructions:e.modelInstructions,screenshot:e.screenshot,userEmail:null==r?void 0:r.email})}};return(0,eD.jsx)(tD,{onSubmit:a,type:"turn",turn:t,thumbsUpTooltip:"Good response",thumbsDownTooltip:"Bad response"})}function tR(e){let{url:t,title:n,snippet:r,turnIndex:a}=e,l=(0,eE.nn)(eE.LW.threadId),s=e0.ne.useStore(),{sessionUser:i}=(0,e$.A)(),o=async e=>{l&&e.currentRating&&i&&(td.Y.logEvent(td.M.searchLinkFeedbackSubmitted,{thread_id:l,rating:e.currentRating,url:t,tags:e.tags,text:e.textFeedback,turn_index:a}),tl.U.addAction("sonic.web.link_feedback_submitted",{thread_id:l,rating:e.currentRating,tags:e.tags}),tn.m.successNeutral("Thanks for your feedback!",{duration:2}),await (0,eS.NK)({url:t,title:n,snippet:r,threadId:l,rating:e.currentRating,searchQuery:e0.ne.selectQueryInput(s.getState()),tags:e.tags,text:e.textFeedback,screenshot:e.screenshot,userEmail:null==i?void 0:i.email}))};return(0,eD.jsx)(tD,{onSubmit:o,type:"link",thumbsUpTooltip:"Good link",thumbsDownTooltip:"Bad link"})}var tU=n(43878);function tz(e){let{data:t}=e,{currentLocale:n}=(0,tU.b)();return t.expression&&void 0!==t.result&&null!==t.result?(0,eD.jsxs)("div",{className:"no-scrollbar -mx-snc-results-padding overflow-auto px-snc-results-padding sm:overflow-hidden",children:[(0,eD.jsx)("div",{className:"tracking-wide text-token-text-tertiary",children:"".concat(t.expression,"=")}),(0,eD.jsxs)("div",{className:"text-3xl font-semibold",children:[t.prefix&&(0,eD.jsx)("span",{children:t.prefix}),(0,eD.jsx)("span",{children:function(e,t){try{return BigInt(e).toLocaleString(t)}catch{let n=Number(e);return e.includes("e")||e.includes("E")?n.toExponential():n.toLocaleString(t,{maximumFractionDigits:6})}}(t.result,n)}),t.suffix&&(0,eD.jsx)("span",{children:t.suffix})]})]}):null}var tP=n(36792),tB=n(24933),tT=n(91304);let t_=((null===(a=Intl.DateTimeFormat(void 0,{timeZoneName:"long"}).formatToParts(new Date))||void 0===a||null===(a=a.find(e=>"timeZoneName"==e.type))||void 0===a?void 0:a.value)||Intl.DateTimeFormat().resolvedOptions().timeZone).replace(/Daylight|Standard/g,"");function tV(e){let[t,n]=e.split(":");return"".concat(t.padStart(2,"0"),":").concat(n)}let tH={T:"Top",B:"Bot"};function tW(e){let{data:t}=e,{0:n,1:r}=(0,en.useState)(!0);if(!t.games.length)return null;function a(e){return"live"===e.status||"complete"===e.status&&null!=e.points}return(0,eD.jsxs)(eD.Fragment,{children:[(0,eD.jsxs)("div",{className:"font-semibold",children:[t.league.display_name," Schedule"]}),(0,eD.jsx)("div",{className:"text-sm text-token-text-tertiary",children:t_}),(0,eD.jsx)("hr",{className:"mt-6 border-token-border-light"}),(0,eD.jsx)(tP.Z.Root,{size:"compact",children:(0,eD.jsx)(tP.Z.Body,{children:(0,eD.jsx)($.M,{children:t.games.slice(0,n?6:void 0).map((e,n)=>{var r;return(0,eD.jsxs)(tF,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.2},children:[(0,eD.jsx)(tZ,{className:"w-[180px]",children:function(e){var n,r;switch(e.status){case"scheduled":return(0,eD.jsxs)(eD.Fragment,{children:[function(e){let t=new Date(1e3*e);return(0,tT.Z)(t)?"Today":(0,tB.Z)(t,"MMMM d")}(e.scheduled),(0,eD.jsx)("br",{}),(n=e.scheduled,(0,tB.Z)(new Date(1e3*n),"h:mm a"))]});case"live":return(0,eD.jsxs)(eD.Fragment,{children:["Now",(0,eD.jsx)("br",{}),function(e,t){if(!t.live_details)return null;if("nba"===e){var n;let e=t.live_details;return"".concat(5===(n=e.quarter)?"OT":"Q".concat(n)," ").concat(tV(e.time))}if("mlb"===e){let e=t.live_details;if(e.current_inning_half)return"".concat(tH[e.current_inning_half]," ").concat(function(e){let t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||"th")}(e.current_inning))}else if("nhl"===e){let e=t.live_details;return"P".concat(e.period," ").concat(tV(e.time))}return null}(t.league.id,e)]});case"complete":return(0,eD.jsxs)("div",{children:["Final",(0,eD.jsx)("br",{}),(0,eD.jsx)("div",{className:"text-token-text-secondary",children:void 0===(r=e.scheduled)?"":(0,tB.Z)(new Date(1e3*r),"EEE, MMM d")})]})}}(e)}),(0,eD.jsx)(tZ,{children:(0,eD.jsxs)("div",{className:"w-full max-w-[280px]",children:[(0,eD.jsxs)("div",{className:"flex items-center justify-between",children:[(0,eD.jsx)("span",{children:e.away.name}),a(e)&&(0,eD.jsx)("span",{children:e.points.away})]}),(0,eD.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[e.home.name,a(e)&&(0,eD.jsx)("span",{children:e.points.home})]})]})}),(0,eD.jsx)(tZ,{textAlign:"right",className:"text-token-text-secondary",children:null===(r=e.broadcasts)||void 0===r||null===(r=r.find(e=>"National"===e.locale))||void 0===r?void 0:r.network})]},n)})})})}),t.games.length>6&&(0,eD.jsx)("div",{className:"mt-2 flex items-center justify-between",children:(0,eD.jsx)("button",{className:"flex items-center text-sm font-semibold",onClick:()=>r(!n),children:n?(0,eD.jsxs)(eD.Fragment,{children:["Show more ",(0,eD.jsx)(ec.eOB,{className:"mb-[-2px]"})]}):(0,eD.jsxs)(eD.Fragment,{children:["Show less ",(0,eD.jsx)(ec.BZB,{className:"mb-[-2px]"})]})})})]})}let tZ=(0,ep.Z)(tP.Z.Cell)(s||(s=(0,es.Z)(["py-5 align-middle"]))),tF=(0,J.E)(tP.Z.Row);var tX=n(28541),tq=n.n(tX);let tQ=["East","Central","West"];function tY(e){let{data:t}=e,{0:n,1:r}=(0,en.useState)(0),a=tq()(t.conferences[n].divisions,e=>{var t;let n=tQ.indexOf(null!==(t=e.name)&&void 0!==t?t:"");return -1===n?1/0:n}),l=t.conferences.length>1?t.conferences.map((e,t)=>(0,eD.jsx)("button",{className:(0,K.default)(n===t?"text-token-text-primary":"text-token-text-tertiary","text-sm font-semibold"),onClick:()=>r(t),children:e.name},e.name)):null;return(0,eD.jsxs)(eD.Fragment,{children:[l&&(0,eD.jsx)("div",{className:"flex gap-4",children:l}),(0,eD.jsx)("div",{className:"mt-5",children:a.map(e=>e.name?(0,eD.jsx)("div",{className:"mt-5",children:(0,eD.jsx)(t$,{league:t.league.id,teams:e.teams,teamsColumnHeaderText:e.name})},e.name):(0,eD.jsx)(t$,{league:t.league.id,teams:e.teams}))})]})}let tG=(0,ep.Z)(tP.Z.HeaderCell)(i||(i=(0,es.Z)(["text-token-text-tertiary text-xs !static"]))),tK={wins:{column:"W",label:"Wins",format:e=>e.wins},losses:{column:"L",label:"Losses",format:e=>e.losses},ties:{column:"T",label:"Ties",format:e=>e.ties},win_percentage:{column:"PCT",label:"Win %",format:e=>e.win_percentage.toFixed(3)},games_behind:{column:"GB",label:"Games Behind",format:e=>e.games_behind&&null!==e.games_behind.conference?0===e.games_behind.conference?"—":Math.round(100*e.games_behind.conference)/100:""},conference_record:{column:"Conf",label:"Conference Record",format:e=>{let t=e.records.find(e=>"conference"===e.record_type);return t?"".concat(t.wins,"-").concat(t.losses):""}},home_record:{column:"Home",label:"Home Record",format:e=>{let t=e.records.find(e=>"home"===e.record_type);return t?"".concat(t.wins,"-").concat(t.losses):""}},away_record:{column:"Away",label:"Away Record",format:e=>{let t=e.records.find(e=>"away"===e.record_type);return t?"".concat(t.wins,"-").concat(t.losses):""}},l10_record:{column:"L10",label:"Last 10 Record",format:e=>{let t=e.records.find(e=>"last_10"===e.record_type);return t?"".concat(t.wins,"-").concat(t.losses):""}},streak:{column:"Strk",label:"Streak",format:e=>{var t,n;return e.streak?"".concat((null===(t=e.streak)||void 0===t?void 0:t.kind)==="win"?"W":"L").concat(null===(n=e.streak)||void 0===n?void 0:n.length):""}},ot_losses:{column:"OTL",label:"Overtime Losses",format:e=>e.overtime_losses},points:{column:"PTS",label:"Points",format:e=>e.points}},tJ={nba:["wins","losses","win_percentage","games_behind","l10_record","streak"],wnba:["wins","losses","win_percentage","games_behind","l10_record","streak"],nhl:["wins","losses","ot_losses","win_percentage","points","conference_record","home_record","l10_record","streak"],mlb:["wins","losses","win_percentage","streak","l10_record"],epl:["wins","win_percentage","losses","ties"],nfl:[],ncaaf:[],ncaab:[],wncaab:[]};function t$(e){let{league:t,teams:n,teamsColumnHeaderText:r}=e,a=tJ[t];return(0,eD.jsxs)(tP.Z.Root,{size:"compact",children:[(0,eD.jsxs)(tP.Z.Header,{children:[(0,eD.jsx)(tG,{children:null!=r?r:"Team"}),(0,eD.jsx)(tG,{}),a.map(e=>(0,eD.jsx)(tG,{textAlign:"center",className:"px-1",children:(0,eD.jsx)("span",{title:tK[e].label,children:tK[e].column})},e))]}),(0,eD.jsx)(tP.Z.Body,{children:n.map((e,t)=>(0,eD.jsxs)(tP.Z.Row,{children:[(0,eD.jsxs)(tP.Z.Cell,{children:[(0,eD.jsx)("div",{className:"mr-4 w-4 tabular-nums text-token-text-tertiary",children:t+1}),(0,eD.jsx)("span",{className:"whitespace-nowrap",children:e.name})]}),(0,eD.jsx)(tP.Z.Cell,{className:"w-full"}),a.map(t=>(0,eD.jsx)(tP.Z.Cell,{textAlign:"center",className:"whitespace-nowrap px-1 tabular-nums",children:tK[t].format(e)},t))]},e.name))})]})}var t0=n(96662),t1=n(87751),t2=n(72541);function t6(e){let{data:t}=e,{targetTime:n,sourceTime:r,humanReadableTargetTime:a,humanReadableSourceTime:l,humanReadableTimeDifference:s}=(0,en.useMemo)(()=>{var e;let n=(0,t1.Z)(t.target_time,t.target_location.timezone),r=t.source_time&&null!==(e=t.source_location)&&void 0!==e&&e.timezone?(0,t1.Z)(t.source_time,t.source_location.timezone):null,a=(0,t2.Z)(n,"h:mmaaa",{timeZone:t.target_location.timezone}),l=r&&t.source_location?(0,t2.Z)(r,"h:mmaaa",{timeZone:t.source_location.timezone}):null,s=r?(0,t0.Z)(n,r):0,i=r?"".concat(s>0?"+":"–"," ").concat(Math.abs(s)," hours"):null;return{targetTime:n,sourceTime:r,humanReadableTargetTime:a,humanReadableSourceTime:l,humanReadableTimeDifference:i}},[t.source_location,t.source_time,t.target_location.timezone,t.target_time]),i=r?t3(t.source_location,r):null,o=t3(t.target_location,n);return l?(0,eD.jsxs)("div",{className:"flex items-center gap-2",children:[(0,eD.jsx)(t5,{humanReadableTime:l,humanReadableLocation:i,compact:!0}),(0,eD.jsxs)("div",{className:"relative flex-grow text-center text-token-text-tertiary",children:[(0,eD.jsx)("div",{className:"absolute left-0 top-1/2 z-0 h-[1px] w-full border-t border-token-border-medium before:absolute before:right-0 before:block before:h-[5px] before:w-[5px] before:translate-y-[-3px] before:rounded-full before:bg-token-text-tertiary after:block after:h-[5px] after:w-[5px] after:translate-y-[-3px] after:rounded-full after:bg-token-text-tertiary"}),(0,eD.jsx)("span",{className:"absolute left-1/2 top-1/2 z-0 -translate-x-1/2 -translate-y-1/2 rounded-full border border-token-border-medium bg-token-main-surface-primary px-3 py-0.5 text-xs",children:s})]}),(0,eD.jsx)(t5,{className:"text-right",humanReadableTime:a,humanReadableLocation:o,compact:!0})]}):(0,eD.jsx)(t5,{humanReadableTime:a,humanReadableLocation:o})}function t5(e){let{humanReadableTime:t,humanReadableLocation:n,className:r,compact:a}=e;return(0,eD.jsxs)("div",{className:(0,K.default)(a&&"w-28",r),children:[(0,eD.jsx)("div",{className:(0,K.default)("font-semibold",a?"text-base":"text-lg"),children:t}),n&&(0,eD.jsx)("div",{className:(0,K.default)("text-token-text-tertiary",a?"text-sm":"text-base"),children:n})]})}function t3(e,t){if(!e)return null;if(e.name){let t=e.name.split(",").map(e=>e.trim());return e.country&&!t.includes(e.country)&&t.push(e.country),t.join(", ")}return t&&e.timezone&&"string"==typeof e.timezone?(0,t2.Z)(t,"zzz",{timeZone:e.timezone}):null}var t4=n(28314);let t8="#30a633",t9="#f14d42";var t7=n(65998),ne=n(95430),nt=n(55969);function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach(function(t){(0,ex.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function na(e,t){return(0,t1.Z)(new Date(1e3*e),null!=t?t:"America/New_York")}function nl(e,t){let n=na(e,t);return(0,t2.Z)(n,"h:mm a")}function ns(e,t){let n=na(e,t);return(0,t2.Z)(n,"MMM dd, yyyy")}function ni(e,t){let n=na(e,t);return(0,t2.Z)(n,"MMM yyyy")}function no(e,t){let n=na(e,t);return(0,t2.Z)(n,"MMM dd")}t7.kL.register(t7.qi,t7.uw,t7.f$,t7.ZL,t7.Dx,t7.u,t7.ST,t7.od,t7.jn,ne.ZP);let nc={"1d":{label:"1D",formatTimestampLabel:nl,formatTimestampTooltip:nl,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:no,formatTimestampTooltip:function(e,t){let n=na(e,t);return(0,t2.Z)(n,"EEE, MMM d h:mm a")},maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:no,formatTimestampTooltip:function(e,t){let n=na(e,t);return(0,t2.Z)(n,"EEE, MMM dd")},maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:ni,formatTimestampTooltip:ns,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:ni,formatTimestampTooltip:ns,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:ni,formatTimestampTooltip:ns,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:function(e,t){let n=na(e,t);return(0,t2.Z)(n,"yyyy")},formatTimestampTooltip:ns,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function nu(e){let{isUp:t,histories:n,onSelectHistoryInterval:r,latestTradingPeriod:a,timezone:l}=e;return(0,eD.jsx)(eD.Fragment,{children:n&&a?(0,eD.jsx)(nd,{isUp:t,histories:n,onSelectHistoryInterval:r,latestTradingPeriod:a,timezone:l}):(0,eD.jsx)(e3.Lw,{className:"h-full",index:1,width:100})})}function nd(e){let{isUp:t,histories:n,onSelectHistoryInterval:r,latestTradingPeriod:a,timezone:l}=e,{0:s,1:i}=(0,en.useState)(null),{0:o,1:c}=(0,en.useState)(n.quotes["1d"].length>0?"1d":"5d"),u="1d"===o,d=(0,en.useMemo)(()=>{let e=n.quotes[o].filter(e=>e.close>=0);if(u&&a){let t=a.regular.start_timestamp,n=a.regular.end_timestamp;if(0===(e=e.filter(e=>e.timestamp>=t&&e.timestamp<=n)).length||e[e.length-1].timestamp<n){let r=e.length>0?e[e.length-1].timestamp:t-600;for(;r<n;)r+=600,e.push({timestamp:r,close:null})}}return e},[n,o,u,a]),A=Object.keys(n.quotes),h=nc[o],{formatTimestampTooltip:m,maxTicksLimit:p,useUtc:g=!1}=h,f=(0,en.useMemo)(()=>{let{formatTimestampLabel:e,lineTension:n}=h;return{labels:d.map(t=>e(t.timestamp,g?"UTC":l)),datasets:[{data:d.map(e=>e.close),borderColor:t?t8:t9,pointRadius:0,pointHoverRadius:4,pointStyle:"circle",backgroundColor:t?t8:t9,borderWidth:3,lineTension:null!=n?n:.4}]}},[h,d,t,g,l]),x=(0,Y.w$)(),b=(0,Y.Gv)();return(0,eD.jsxs)("div",{className:"flex h-full flex-col gap-6",children:[(0,eD.jsx)("div",{className:"flex items-center justify-between text-xs font-semibold text-token-text-tertiary sm:justify-start sm:gap-6",children:A.map(e=>(0,eD.jsx)("button",{onClick:()=>{c(e),null==r||r(e)},className:(0,K.default)("rounded-md px-2 py-1 uppercase hover:text-token-text-secondary",{"bg-token-main-surface-tertiary !text-token-text-primary":o===e}),children:nc[e].label},e))}),(0,eD.jsxs)("div",{className:"relative h-full",children:[(0,eD.jsx)(nt.x1,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},animation:!1,scales:{x:{afterBuildTicks:e=>{if(e.ticks.length>p){if(u)e.ticks=e.ticks.filter((e,t)=>d[t].timestamp%(x?3600:7200)==0);else{let t=Math.ceil(e.ticks.length/(p-1));e.ticks=e.ticks.filter((n,r)=>r>0&&(r%t==0||r===e.ticks.length-1))}}},grid:{display:!1},ticks:{align:"end"}},y:{ticks:{maxTicksLimit:7},border:{display:!1},grid:{color:b?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}}},plugins:{datalabels:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(e){let t=e[0];return t?m(d[t.dataIndex].timestamp,g?"UTC":l):""}},external:e=>{let{tooltip:t}=e;i(e=>e&&e.x===t.caretX&&e.y===t.caretY&&e.opacity===t.opacity?e:nr(nr({},e),{},{x:t.caretX,y:t.caretY,dateLabel:t.title[0],value:t.dataPoints[0].parsed.y.toFixed(2),opacity:t.opacity}))}},dropShadow:!1,crosshair:{line:{color:b?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:f}),(0,eD.jsx)(nA,{tooltipData:s})]})]})}function nA(e){let{tooltipData:t}=e;return t&&t.opacity?(0,eD.jsxs)("div",{style:{left:t.x+5,top:t.y-5},className:"pointer-events-none absolute translate-y-[-100%] whitespace-nowrap rounded-br-xl rounded-tl-xl rounded-tr-xl bg-black p-2.5",children:[(0,eD.jsx)("div",{className:" text-white",children:t.value}),(0,eD.jsx)("div",{className:"text-xs text-gray-400",children:t.dateLabel})]}):null}let nh={"1d":"Today","5d":"Past 5 days","1m":"Past month","6m":"Past 6 months",ytd:"Year to date","1y":"Past year","5y":"Past 5 years"};function nm(e){var t,n,r,a;let{citation:l}=e,s=null==l?void 0:l.stock,{0:i,1:o}=(0,en.useState)(),c="1d"===i,u=null==s||null===(t=s.histories)||void 0===t||null===(t=t.quotes)||void 0===t||null===(t=t[null!=i?i:""])||void 0===t?void 0:t[0],d=s&&(u&&!c?{changePercentage:(s.price.price-u.close)/u.close*100,changeAmount:s.price.price-u.close,changeLabel:nh[null!=i?i:""],isUp:s.price.price>u.close}:{changePercentage:100*s.price.changePercent,changeAmount:s.price.change,changeLabel:function(e,t){if(!e||!t||function(e,t){let n=new Date,r=(0,t1.Z)(n,t),a=(0,t2.Z)(r,"yyyy-MM-dd",{timeZone:t}),l=(0,t4.Z)(1e3*e),s=(0,t1.Z)(l,t);return a===(0,t2.Z)(s,"yyyy-MM-dd",{timeZone:t})}(e,t))return"Today";{let n=(0,t4.Z)(1e3*e),r=(0,t1.Z)(n,t);return(0,t2.Z)(r,"MMMM d",{timeZone:t})}}(s.price.latestTradeTimestamp,s.asset.timezone),isUp:s.price.change>0});return(0,eD.jsxs)("div",{className:"flex h-[340px] flex-col gap-6",children:[(0,eD.jsx)("div",{className:"shrink-0 grow-0",children:(0,eD.jsx)(np,{data:null!=s?s:null,priceChange:null!=d?d:null,url:null!==(n=null==l?void 0:l.url)&&void 0!==n?n:null})}),(0,eD.jsx)("div",{className:"h-full",children:(0,eD.jsx)(nu,{isUp:null!==(r=null==d?void 0:d.isUp)&&void 0!==r&&r,histories:null==s?void 0:s.histories,onSelectHistoryInterval:e=>o(e),latestTradingPeriod:null==s?void 0:s.asset.latestTradingPeriod,timezone:null!==(a=null==s?void 0:s.asset.timezone)&&void 0!==a?a:null})})]})}function np(e){let{data:t,priceChange:n,url:r}=e;return(0,eD.jsxs)("div",{className:"flex justify-between",children:[(0,eD.jsxs)("div",{children:[(0,eD.jsx)("div",{className:"text-xl font-semibold",children:t?t.asset.ticker:(0,eD.jsx)("div",{className:"w-32",children:(0,eD.jsx)(e3.Lw,{index:9,width:100})})}),(0,eD.jsx)("div",{className:"text-sm text-token-text-tertiary",children:t?(0,eD.jsxs)(eD.Fragment,{children:[t.asset.name,null!=r&&(0,eD.jsxs)(eD.Fragment,{children:[" \xb7 ",(0,eD.jsx)("a",{href:r,target:"_blank",rel:"noopener",className:"text-token-link hover:underline",children:(0,eu.p)(r,"hostname")})]})]}):(0,eD.jsx)("div",{className:"mt-2 w-36",children:(0,eD.jsx)(e3.Lw,{index:6,width:100})})})]}),(0,eD.jsxs)("div",{children:[(0,eD.jsx)("div",{className:"flex justify-end text-xl font-semibold",children:t?"$".concat(t.price.price.toFixed(2)):(0,eD.jsx)("div",{className:"w-32",children:(0,eD.jsx)(e3.Lw,{index:0,width:100})})}),(0,eD.jsx)("div",{className:"flex items-center gap-1",children:n?function(e){let{isUp:t,changePercentage:n,changeLabel:r,changeAmount:a}=e;return(0,eD.jsxs)("span",{className:(0,K.default)("flex items-center gap-1 text-sm",t?"text-[#30a633]":"text-[#f14d42]"),children:[(0,eD.jsxs)("span",{className:"font-semibold",children:[t&&"+",a.toFixed(2)]}),"(",t?"+":"-",Math.abs(n).toFixed(2),"%)"," ",(0,eD.jsx)("span",{className:"text-token-text-primary",children:r})]})}(n):(0,eD.jsx)("div",{className:"mt-2 w-40",children:(0,eD.jsx)(e3.Lw,{index:3,width:100})})})]})]})}var ng=n(11550),nf=n(10798),nx=n(86481),nb=n.n(nx),nv=n(46654);function nw(e,t){let n=(0,nv.Z)(e),r=Math.abs(t),a=Math.floor(r/3600).toString().padStart(2,"0"),l=Math.floor(r%3600/60).toString().padStart(2,"0"),s="".concat(t<0?"-":"+").concat(a,":").concat(l);return(0,t1.Z)(n,s)}let ny={foggy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/cloud-foggy.cce9a5f0.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAQlBMVEVMaXHW4ujw7+/X4Ons7/PW4OrR3+jy8vLW5fDI1N/i7PPd5evP3unJ1d/X4+v19PTq9frw9/zM2eLu7vD+/v7o9f5oCeqEAAAAFHRSTlMAZUcpNhDcA/2mpnL6k8TFt8+wfaeqBakAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA9SURBVHicNcdHEoAgEADBWcIGQDHg/79qebBvDQaYgZFm+VbauSR1yMcj91qFXYe6t0rtw12lYltExJX5vTypAazA4QKmAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},cloudy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/cloudy.663b016c.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEVMaXH7+/vx8fLg6O3Y2Njy8vPb4eT19fXp6en4+Pj19fXZ4+j///8FocPtAAAADHRSTlMA+WuFEXdNvSTbwWWLIGCvAAAACXBIWXMAACxLAAAsSwGlPZapAAAAMUlEQVR4nEXLuQ0AMAzDQMp2fu0/b4A0uYYV4auIet32AOay5AbNkuSg+wnomZnnzxcgcAD6BhBj9wAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},"heavy-snow":{default:{src:"https://cdn.oaistatic.com/_next/static/media/heavy-snow.f2709a7f.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAPFBMVEVMaXGanp74+/vn6evd39+Wnp7h5+m7v8D////k6+/5+vp2qd/j7/qWxeyQs+7u8vdVk/OLu/lQkOv5+fcX2bSzAAAAFHRSTlMAO/ddIi9FB/6s7SP89H3NRf2h1oxsniEAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA7SURBVHicHctHEsAgDATBAQRaERz//1cX7nsDuPNr73lcDqVr3s/AsjTXGliXpGzQIiLKPjWlupNv8AE7agGJBTdWywAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},"light-snow":{default:{src:"https://cdn.oaistatic.com/_next/static/media/light-snow.eb08e0be.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAPFBMVEVMaXGcnJzh5eno6urk6+/d39/x9vi9wsL///+MoLeQv/H1+vr7+/vk8f+Qs+5Vk/Pu8veZxu5QkOv5+ffHTq+6AAAAFHRSTlMAEkVdqCLxBv4o/fj2/n1Fzeqh1udITzsAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA8SURBVHicHctJEoAgEATBAga6B3f9/18NzXsCSPzqc+6HoA1v8076ao95JX3Y9tKhRkS072Rm+ZKkIngBOFoBds959YIAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},sleet:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sleet.8fade61a.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEXZ2c+5yNj8/Pxmmt7e6PD39/fZ3d3l6ez5+vru7u7T3uL///+HPdvmAAAAC3RSTlMBCvpSqdQjXO1ER9LeZMIAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA1SURBVHicRYu3EQAgEMNsfyB4/305aFCjRgI+q2pdj2kXgZYlFdHTttXAzswcN4qIeBdJAgcf4QDaZMsg8gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},drizzle:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-drizzle.9b674b1d.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAVFBMVEVMaXEMpfP36979/vo7nfDi4uTo7/Gs3O7i4uT6+fjo4uUAh+7/mQ//kW34hSb09PfgUQD/kQD9oBP1+f/2smr5+fnP6vKm4vj206b48ev////9xXB261e0AAAAGnRSTlMAUfv9ET2sAiPzWi+AByjCGfnnjeXau+Kv9PwyBJEAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA/SURBVHicHctHEoAwEMRAOY5NzlDL//9JmZsOLZBgBETZn20A0mnhXSdKter9sbSwYDPQ3VfOqeHeOfRvMSI+VegCKzylrpcAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-drizzle.1a496fe5.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEVMaXH5+fns8vf5myPeyao7nfDu7Ov////+/vrWyrX40I7w8PDu8fMAh+4Mn/ANrPWn5Pnt8PH6vmr8w1rQ6vLy7+z97tWprtEBAAAAFnRSTlMA+JcnFxGA/vwMsGRvL1VN4a3hY7pSXB4MogAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADxJREFUeJwdizcSACEQw0T0ApfT/596s7iQGhl8bfKN/XYPk/WUGbIQviuxyCRVaPV4zpg9Wrd9nqAU4AczhwFsm69M9AAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},hazy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-hazy.1212b33b.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAATlBMVEVMaXHvfxz2qlTa///h5ub1v3zqZwDY///xdgPozrfsYwDrvIHb7fr/mwvY6/zzyY3e7v3ovIXzt17g08Lttmrvm1HWwbHxunP/o0n9uD1Z1kprAAAAF3RSTlMAkPoOLuQwAk88fZo6cWr+lvruhvr0fcLoNckAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA/SURBVHicJYtLFoAgDMSiggX8gkrh/hf1VTeTLDIgAgjGeQtm61V6X8CdXm89Im73mnWMMNWnteGPU/ieNvACTx0CIhE3pwUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-hazy.e42f94c5.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEXU09P+myXmy5b/hxb/0mvU2t7om2bH4PvO3vHR2uDkrn/R0cngyavit3vez6/Y0MHP3/Hf0L3j28Xnt3Xh1rrS4Or/yHP40IvF539nAAAAFnRSTlMBcfUiLp8VJjdeJkOe0dfQgom73aSteX8D7QAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADhJREFUeJxjYEAAFhYIzc0kwsHJycDALiTOJ8AqysHAziPOxM8qyM7AwMYrJibMBVLExsjIjKQXADLMAXMYAqrjAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},"mostly-cloudy":{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-mostly-cloudy.a840397c.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAANlBMVEVMaXHb49/v7uz5+friOgDS2dz1+Pz///7g6e35iCH8+vj57eH+lgf/kQD32rT1wo7/phz6yISt6iZMAAAAEHRSTlMAIEvsDTa4/ocl9vuk+tLf1kfJowAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADVJREFUeJxNy0sWABAMBMFBmIj//S/rsaE3tWrgT/LFpz7rMZCrZTijlTIELpBkAhBVVeNbNyNsAQ8KyV0DAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-mostly-cloudy.4513b8c0.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEVMaXH7y27/wlH/rz7o7O/4t1vh5urr7vH7+vrJyKXg5+v1+f/2yY/63KH3xXT/////+u/+0zR3AAAAD3RSTlMASpO9izpicPgJhLqV6vnfBHdQAAAACXBIWXMAACxLAAAsSwGlPZapAAAANUlEQVR4nE3LOxaAIBDAwKj7VXC5/2l52Mg0qQI7Pb7400+SlKp4L8UrIkYDq8UBk1s8/3UCKHIBRL2cVzsAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},"mostly-sunny":{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-mostly-sunny.78621f10.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEVMaXH5nBjDtLTavI3JbQDtjB357uHop0HynCrzqjzz7uv06NHks3Tz7eP0tlzqzJ79x3Xu3r34sWLtj0L0fAP/+/X/lgFSmw6lAAAAFXRSTlMAsRFjB1b7LzMHrr9pzLFv/U74vKpGKSd6AAAACXBIWXMAACxLAAAsSwGlPZapAAAAPElEQVR4nB2LSRLAIAzDRAs46b7B/5/aCb5IBxnAnTEzU/Dej1TCznr1JHB9/WkroPLWtkQk2+Zp3HIGfjcVAYY2qSZSAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-mostly-sunny.736077bc.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEVMaXHl6/XlnEX7tEbY7PHypEnU1NTroEnlxpPQ0Mr39fX49vP5z4r+7tD1ynz7tk3s7u7/0mL18Ov9yGL/+Oz/////2mr/zVDjrEd7AAAAFHRSTlMAMnV8GjsPJTQToN/4/G/te0vW6+AB4KAAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA4SURBVHicTcs3AoAgEADBJd6hKEGU//+UUqYf+KniEyBPM+8B3J/z1UA8R3ZBIPZxzRKApNbKdhcxrwFl+MDnLwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},shower:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-shower.0b97732f.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAATlBMVEVMaXH/mArp6eb+//rvchnb2+MxtfOMrdRHm9Tk7/P36t37+fc1tfHe4eHd4+b/mQ/09fcttPP206b2smr5+fn1+f/l7/L5+fn////9xXByCrlCAAAAGHRSTlMA8C79ICBPBxKy+/cmRlyAwlmv5dqNterK4zqeAAAACXBIWXMAACxLAAAsSwGlPZapAAAAQElEQVR4nB2LSRKAIBDEGtlmQEXBpf3/R60hh+QUwMjTy91ds170nwuIL2spIyBW0vMAsD+qutmR0rnOVUQy8ANGZwIHOE0VPQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-shower.facfcd4c.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAATlBMVEVMaXH5myPu8PHs8ve4trb9/fyEyOn////u27o+ntf40I7y7+3p7O3xrmv8w1ottvQwtvL19fX6vmrl7/Pk7/Ln7vE0svE1k9b97tX///REexAMAAAAGHRSTlMAJ2yYC/kc/gMQsFiBE2NfVPjht7atSRNLGodyAAAACXBIWXMAACxLAAAsSwGlPZapAAAAPklEQVR4nBXLRxLAIAzAQAEGYyC9//+jGe9NB0GFKrie2uwZs34tTHTNeXv3QFQ3QMZxnakAZblX80keswo/PCsB2UcBQ5wAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},sunny:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-sunny.8f75dd58.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEXqpTxMaXHklCjslCr7lw72fAn/pAD/jwDSeLtsAAAABnRSTlMxAAdWr7MvkfsyAAAACXBIWXMAACxLAAAsSwGlPZapAAAAMElEQVR4nEWLMQ4AIAyE4Gz1/z82TUxcWADUREWBoayqhYTauwihz2kyqnvUj99+ARAjAHNNhZiBAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-sunny.f60bb6f9.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEVMaXHBfDv6yXzmqGDqmzv2uVb9t0z8x2v+tkj5uF35uVr6rEH9yGT/xkn/1VmqFlhAAAAADXRSTlMAHjIpdm7wVgeDhNLp8nbOUAAAAAlwSFlzAAAsSwAALEsBpT2WqQAAAC9JREFUeJxjYEAAJiYIzczDzsABYrDycUFEWHnZONlBsozcvLxszCAhRhYWRiS9ABW2AKP08t5VAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},"rain-thunder":{default:{src:"https://cdn.oaistatic.com/_next/static/media/rain-thunder.8b5abb7a.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAMFBMVEXEtsahqsP7+/vZ3d339/fj7PXu7u7s0a4YsfHV7Pb5+vryawDSeiXX3uX39/f+///a/V1YAAAAD3RSTlMBDPkj1llE2Eau7VOJR80LWLflAAAACXBIWXMAACxLAAAsSwGlPZapAAAAOElEQVR4nEXLORKAQAzEQI3tPTnm/7+lIEFJR4K/XtVf27ZLkOEI3yK3bUfCtdYYDdCc5/FdkoAHJ10BKLJEu2MAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},rain:{default:{src:"https://cdn.oaistatic.com/_next/static/media/rain.6bc7337d.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEXQ19+ft9v7+/vZ6/LZ3d3n6ev39/fl6eogrvQfr+8irvX49/f///9gvAeZAAAADHRSTlMBC/WvI0XWXEYgUs05SfskAAAACXBIWXMAACxLAAAsSwGlPZapAAAANklEQVR4nEWLORLAMAyEWMmSj+z/35txmtBAA/xUd13PsFswwhF+dMN2DKjMzAlorbO/SxLwAh+9AOhRBiocAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},snow:{default:{src:"https://cdn.oaistatic.com/_next/static/media/snow.e2194b7c.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEVMaXFHo+hYtfFauPh/y/lBsfV6zP8xpvhFuPo/svhlwP1Qtftkvfl90f5Qtvpu+BBVAAAAD3RSTlMAByNqhFdMlp54z4yXlNurPkIcAAAACXBIWXMAACxLAAAsSwGlPZapAAAAN0lEQVR4nD3KuREAIAzEQB02j/n6L5eBAEUbCH5K7klAWe6rADZ7n3Yx9h4XuUW0/OZa34wkwQEgKwDr80NE1AAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},thunder:{default:{src:"https://cdn.oaistatic.com/_next/static/media/thunder.f75568ad.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAPFBMVEVMaXHu7uz39vf+lBDr6eX1+fn49/X6+vbVw7rY0sq7RBHwzq/tgS329fX0sGT/3rf29vb76dH+///8wH41Il+BAAAAEnRSTlMASr/8QHfv/hs0D92iuP794/v87/TmAAAACXBIWXMAACxLAAAsSwGlPZapAAAAPElEQVR4nEWLOxbAIAzDDASc9ENb9/535cGCFi0SsLGcbTo16XUg6fnE21FZflEVcZZONgP8igif9bHmATHHAYGCS6ZoAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},tornado:{default:{src:"https://cdn.oaistatic.com/_next/static/media/tornado.6612217c.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEVMaXGo2fWn2PKy3vSRzfCb0vKe1/XG5/d9vuGSzua34fbb8PfI6feq2/XYB53sAAAADnRSTlMAi4MRQFpxTR0KqiRrnD5QaL0AAAAJcEhZcwAALEsAACxLAaU9lqkAAAA0SURBVHicJYxJEgAxCISwNZpt/v/dqZRc4ATgNNeq6oDvzKG9ID6ZDWCFpBcQZrMj2/gb/B59ALysiQUTAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},windy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/windy.d9e0363e.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEWnzeap2fKh1/LC4va/5PXF5fS64/e54POt2umq2/j///+y3fOOy+7B5/hLx/pcAAAADnRSTlMBgWwdWW2IehEnBJxPu8mYzKoAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA2SURBVHicLYvJDcAwDMMoH3FzdP91ixjliwAlgGdxWeRomWMb5XhWRbyBmyQ7nbSzR2D65f4/HpYAyEH9kpwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}}},nj={foggy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/cloud-foggy.dd7950de.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAUVBMVEVMaXGsuMDg4ePQ2dmWoqyXo6ywtb7i8fGPn6vj4OKXpbDDyM7q6uqsuMDFztbo6OimsLbG1N3W3ePi5OSYprCxv8eQn6mWpK25xtH2+funtL7gAJuZAAAAGXRSTlMAvmcNnqsbA/081y9Lo8/FMfqpfXxgaOT6b58NfAAAAAlwSFlzAAAsSwAALEsBpT2WqQAAAEFJREFUeJwdy0kWgCAMwNAwlBYccFa8/0F9mMXfBXqqoIw1ozBMc/PZQ3LvubeWccXuZ90C4TCzciU0Sowiy393PkmVAgDPwGLjAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},cloudy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/cloudy.13ac82a6.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEXd3d3o6OjS0tLPz8/5+fnt7e3S0tL///9MaXHe3t7Y2Nje3t7x8fHu7u7j4+Pq6ur6+voyyk/JAAAAD3RSTlP9tnt3DWn6AQBc/UJwHtScFXagAAAACXBIWXMAACxLAAAsSwGlPZapAAAAOUlEQVR4nCXByQHAIAwDweWUDElM/9XyyAyWbNnIfYxu4V7OKTbvl5DDPDnnJIO9WEDgXVurIeTfBUI7Acv2uENlAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},"heavy-snow":{default:{src:"https://cdn.oaistatic.com/_next/static/media/heavy-snow.77bb418a.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAS1BMVEVMaXHa29qnqavm6OjS09Ps6eaerrrU3urg4eGgpqzc5Ovb29vg3drp6elVkuCMuOCNvOFSke/l5+7E0NiOtfSFtfVVk/Ps7Ovz8e/ozq7uAAAAGHRSTlMA+Tg8oBsqA/0K8+lUUiHp/aHF+Hb8Rc7pYpzcAAAACXBIWXMAACxLAAAsSwGlPZapAAAAQElEQVR4nB3LSRKAIAwAwQkEkuCCu/7/pZbeu8EwAzDyvR2XwdSedq4zxV32pVfK4CIuBbKq6vjpmlL9W0SE8QJHPAHFR0cGOgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},"light-snow":{default:{src:"https://cdn.oaistatic.com/_next/static/media/light-snow.4e32b952.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEVMaXHm6Ojl4+Pp6emfpKTs6ebZ29uyusKRqb7T0tLb29vP3euOtfSNvOHs7OtSke/Ez9eMuOBVk/OFtfXl5+7f4ODz8e9axw/4AAAAFXRSTlMAPFLtEBv5Biac6f52/c6h+OlF/MXQzjrBAAAACXBIWXMAACxLAAAsSwGlPZapAAAAPUlEQVR4nB3LRxKAQAwEsd44NmlJ5v9PpUB3gZD4pe1eTkEuz3wNo5Xo+3oYbYoe0Rskd/cMyMzql1RVBS9EtAHNITHtpwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},sleet:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sleet.2f675d2a.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEVMaXHOz9by8vLKztPo6OjZ2dns7Oy6y9xtpOvp6enf39/Z2dnp6enh4eHj4+Ld3dzw8PBQKApgAAAADnRSTlMAnz2Z8PPOCU8bUj1SxqqpVBcAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA6SURBVHicRYtBEsAgCMRWBRa0Bf//WsdemksuCfDTzfr1I3sbgZBSzZcIzaqUAFYbo80bubt/F0kCBypQAUQWUkqgAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},drizzle:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-drizzle.8254e660.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAXVBMVEVMaXHLy8v65MXPzc7/mQjj498Tr//FwMIqjdzW1tjWzsf4hSb/mRHh0c0Akv/j187WWwD30azY2dy0zNTm5ub/1q7T09P6y43i5umMx+D7p03SyLz06dzQ0tX/wF0frxzKAAAAHHRSTlMAov758SBOAxI1/iiATi+5GffUshX+5K2F3OX3dYhTfQAAAAlwSFlzAAAsSwAALEsBpT2WqQAAAD1JREFUeJwtyzUCgDAAALGrC1Kkgv//mSwdMgYcdOZoegTC9shPD+T63mu5FoyKKsoETOcuRACYre3Nexw/U1UCJaIgkxAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-drizzle.43491efc.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAS1BMVEWuxbb8pToXuP+Qi4m3trUjf9SOiomZmZnUtoqlpKEFov//yF/0s1mjo6Nfm7TkxIx7kpuyusOJiIP8xW+7u7fk1b2kop/jyaGkpKRVBHVvAAAAFXRSTlMBJ079+hKE/BFoL2PgVt2isYmjuUu9qQYhAAAACXBIWXMAACxLAAAsSwGlPZapAAAAPklEQVR4nB2LORLAIAzEBBiMk0Du4/8vzeAtpEYLY9V57es8bCL3GSrtU5V3CZimpI8BpW9H8XqK0U+QM/ADOlYBfQN1aFIAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},hazy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-hazy.2df474ab.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEWvxL7om2azusD7myTMwKnnuHn/2G6Uq8f4oE+jrrOfrruqs7jRvJ7FtKORqMO6vrLKv6HQyLLnzJXhxZL/yXT81pD2zYgTghc6AAAAFHRSTlMBFapx1NcuJiRejTaeiThDpLvs/ZCAF7gAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA4SURBVHicY2BAADY2CM0vJMDHycnAwC4oysLFxcTNwM4jJszCxMvOwMDIKiLCygFSxMjMDKahAAAwjQFQkMaDtwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-hazy.9cb51a20.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAS1BMVEWpkKzqZwDvfxzPsZfrs3HswYfuu3bxdgO3vLzGtqbVwbDmt32j2v70qFLsYwDttWn/mwunuMWywNGywtbvnFH0uF//o0n9uD32vHHDfs9YAAAAFnRSTlMBMJA75Pz+Ty6CPpoO+n36cTqWavTu4U3qBgAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADdJREFUeJxjYEACjALsIEqQU1RcnJuBgUOIRYKfjZWLgUOYRYKVjZeZgYGHU0RMjAmimA+sGAoAOx8Bmsxh7k8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},"mostly-cloudy":{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-mostly-cloudy.f8a30a6d.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEVMaXHf2tnY2dr9lgr5iCHhUQDc3NrNzs/g4ODW1NL/kwDa1tb70Jb5sWvLzM3/5r/Qx77Ly8vxzavv3s//pxf/2LL/wm4den12AAAAE3RSTlMAr+ykJQw3ex3++kzQ3f799uf4nzItjQAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADhJREFUeJxjYEAGrCxgio2RR4SZgYGBm0mYX4yLhYGDiU9ASJSXlYFDkJOTU5gRpISdnZ2dA6EVACvTAVrnzDyOAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-mostly-cloudy.372053e6.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAOVBMVEVMaXH7y27vqFarq6uJiYmpqam6uriUlZWWl5nnz6D/skOzt8H/xVPUo2T4wWjrx4b/yGCys7PDuqwb9UKcAAAAEXRSTlMASjKEffts/F8HvrKTkfnnQl+TGH0AAAAJcEhZcwAALEsAACxLAaU9lqkAAAA3SURBVHicY2BABgKMYIqNm5+HgZOBk1lQUIiPi4mBg5WdnVWIl4GBgx0EOBgYGDhYWFg4OBFaASq3ATjSK822AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},"mostly-sunny":{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-mostly-sunny.8818b6bb.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAOVBMVEVMaXHqjB36jgr3lCzYv5Phz73f0r3mn1brpjvynjDLy8Xcrm76s07/wl7/r1Lx067hv5P/lwH34cd335vHAAAAEXRSTlMAVqy2U/y/By41pF+w/vj2aNVpL5cAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA4SURBVHicJYtJEgAgCMOqoOC+/P+xDtJLekgAQAR/WooaOfcY7O01DqlANJ55symBUqouN/bu5w8slQE+JSCvKwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-mostly-sunny.94f2fdd6.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAATlBMVEX//2f/zl7/ukz2oT6oqrD3qU392IdMaXG3yOiwudPnjy+wrq6Ikp39yGL/zXjuz5jHwLT3xXamoZ38tEj/u2arqafGspr/zU//2mfp07BYknvHAAAAFXRSTlMBRnpvKS4xABIJIJhu6mz82PfM6x6M6aq9AAAACXBIWXMAACxLAAAsSwGlPZapAAAAP0lEQVR4nB3LRxLAIBDEwAEWxDrn8P+PurAufZKQEDRKoVbEMQY7e8T0xDoY8uVdY8jIt2u+94xwS6lr05/4AEl3AhuEFfsXAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},shower:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-shower.adb87269.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAATlBMVEVMaXHj498ytvj65MTUy8TQ0dHY1tjcrqMqiMDIzM//mQjW1tjV0c7WWwDj187/mRH4hSbm5ubi5umv0Nz7p03/1q730az6y4306dz/wF0NCHaFAAAAGHRSTlMAIEv++/s1Awqn8dxPGbmAKBWFyeX+963x73O5AAAACXBIWXMAACxLAAAsSwGlPZapAAAAPklEQVR4nBXLSRLAIAgAwVFBQLPv+f9HU+l7g4EZYKTtbjNQ+1PetrB2les8RpKqSJmAIfaICuA5/xXDHeMDRf4Bxdt0sXoAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-shower.87b75170.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEVMaXGOjIu4trO3tbOqqq38qTyHhoabm5xmtNrZuIijoqEteMOOiog8uPf4s1P/xWeBkpqDlp3sxYGioqL/x126u73k07fnyZqKI2PkAAAAFXRSTlMA/T30bii3/R0P/hGVbd+51dKWSGWW9iajAAAACXBIWXMAACxLAAAsSwGlPZapAAAAO0lEQVR4nB2KSRLAIAyAsEZj7GL3/v+nnYQDXADHwpOcdzQ/7yjG1VXztxVEU9IuYMt+1Np8amsEmN0/Ne0Bb5+KJkAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},sunny:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-sunny.8f75dd58.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEXqpTxMaXHklCjslCr7lw72fAn/pAD/jwDSeLtsAAAABnRSTlMxAAdWr7MvkfsyAAAACXBIWXMAACxLAAAsSwGlPZapAAAAMElEQVR4nEWLMQ4AIAyE4Gz1/z82TUxcWADUREWBoayqhYTauwihz2kyqnvUj99+ARAjAHNNhZiBAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-sunny.622ae977.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEVMaXHzsFn6rl3/vV3+yWz2oz7+uEz8u1bmm1D92IX7rkL/ymX3wW//xkn/1VoqoKxiAAAADXRSTlMAHjGBVXDvbBQw0OgvI72EUQAAAAlwSFlzAAAsSwAALEsBpT2WqQAAAC5JREFUeJxjYEAATk4IzcjNAmGw8zFDGbxszCxMDAwMHFy8vGwgBgMHKysjkl4AFbQApZPFqEAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},"rain-thunder":{default:{src:"https://cdn.oaistatic.com/_next/static/media/rain-thunder.42051352.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAOVBMVEXcy97iv5nr6+v/cQDp6Oja2tkZuvilsc3p7fDp6end3d3bgifL1tbA2OPi4uHw7u7h4uPb29zx8fAi2RkDAAAAEHRSTlMB0c1R8PNDCkYbPYeknsXOEluSaAAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADpJREFUeJxFizkSwCAMxASxWZzT8P/HZkITNWok+Om19mWb8xGEDfe8RXiOkRawn1cpX6TWjm1dkoAXMDEBaKZAvXgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},rain:{default:{src:"https://cdn.oaistatic.com/_next/static/media/rain.32e741db.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEXL5eXm5uYlt//r6+vZ2dnr6+vk4+Oct9vj4+PH1NcgtPbu7u4mtf/u7u7h4eHk5OTw8PAXmAblAAAAD3RSTlMBGkTN9j1RCviiHx9QzsYzOQEGAAAACXBIWXMAACxLAAAsSwGlPZapAAAAOElEQVR4nEWLMRaAIAzFArT8VlC4/2l9uJglWQI/3pof99j7FpQIs/WIYidigGdmdkC1zuu7JAEvJvQBLDpChm0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},snow:{default:{src:"https://cdn.oaistatic.com/_next/static/media/snow.daca4237.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEWRy/puqv2BvPpvrP5rqf93s/1qp/5mn/1ioPyCwPv35WSJAAAACnRSTlMBghtIkFtsyMgWyerCMQAAAAlwSFlzAAAsSwAALEsBpT2WqQAAACpJREFUeJxjYEAAJkZGJhDNzMLGxsLMwMDAysjOzsgKYXCAGXApuGIoAAAQtwB2emwHgQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},thunder:{default:{src:"https://cdn.oaistatic.com/_next/static/media/thunder.72b79dd9.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAUVBMVEVMaXHlpl/p5eTm6/LV19rbn4Lu8/fi0crr6ufa2Nfr6ur////S0tHd///Kycndy7Xrfiv8kgjk5OTqyqTs7OzFyM/bvKPz8/Tl5OPx4dH6kRTH9NsGAAAAF3RSTlMA/ULx/Q5uGDguuAPrHv37n/qv/t3602vE6+wAAAAJcEhZcwAALEsAACxLAaU9lqkAAABBSURBVHicJYtLEoAgDMUeUmgLKoqfqvc/qFPNJpNFgIqfCilFPIdotif31ujqjHyvgcgypvMJxzwKwIuqsm/p219GDwICBbK5BQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},tornado:{default:{src:"https://cdn.oaistatic.com/_next/static/media/tornado.d7942f85.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEVMaXGdz+qdz+qJxuicxuWSzOm73e94tdyFwuaVzuuk0uqp0ufU4vC82+vM5fJlFCu4AAAAD3RSTlMAi4BAEFpNHQptoLAkaxRtno1XAAAACXBIWXMAACxLAAAsSwGlPZapAAAANUlEQVR4nCXGSRLAIAzEQM3YOECW/z+XqlgXNfDRvaqqB3IvD98TYlsawAz7B4R0NVafTOAAICMAwEiAS+QAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},windy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/windy.f087e077.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEWt2Oycy+KUyeWw1uqx1OehzuWexOGc0eu21OO22Omy2OqEweGx1+kQG/iwAAAADXRSTlMBf2wdWZcRJ2xzhU+7J84sRQAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADRJREFUeJwti0kOACAMAqGLttX/v9fUlAuTMADAwiTr1y4XpEKDNLsGFZJyenJ6jC0c6P8DGA8Am907uZsAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}}};function nk(e){let{turnIndex:t}=e,n=(0,eE.nn)(e=>{var n;return null===(n=e.thread)||void 0===n||null===(n=n.turns[t])||void 0===n?void 0:n.use_location}),[r]=(0,nf.rV)();return!r.useLocation&&n?(0,eD.jsx)("div",{className:"mt-3",children:(0,eD.jsx)(ng.z,{color:"secondary",icon:ec.Jj5,onClick:()=>{ef.vm.setSettingsModalOpen(!0)},children:"Share precise location"})}):null}let nS=(0,en.memo)(function(e){let{weatherResults:t,dateRange:n,turnIndex:r}=e,{daily:a,hourly:l,current:s}=t,i=s.temperature.current,o=s.description,c=(()=>{var e;let t=["It's"];return null!=i&&t.push("".concat(nO(i)," and")),t.push(0===(e=o.description).length?e:e.charAt(0).toLowerCase()+e.slice(1)),t.join(" ")})(),u=null!=n,d=u?l.filter(e=>e.timestamp>=n.start_timestamp&&e.timestamp<n.end_timestamp):a.slice(0,7);return(0,eD.jsxs)(eD.Fragment,{children:[(0,eD.jsxs)("div",{className:"flex items-center gap-4",children:[(0,eD.jsxs)("div",{className:"flex-grow",children:[(0,eD.jsx)("div",{className:"text-lg font-semibold",children:c}),(0,eD.jsx)("div",{className:"text-token-text-tertiary",children:function(e){let t=e.name.split(",").map(e=>e.trim());return e.country&&!t.includes(e.country)&&t.push(e.country),t.join(", ")}(t.location)})]}),(0,eD.jsx)(nM,{weatherDescriptionData:o,isNight:s.night})]}),(0,eD.jsx)(nk,{turnIndex:r}),d.length>1&&(0,eD.jsx)("div",{className:"no-scrollbar -mx-snc-results-padding mb-3 mt-6 overflow-auto px-snc-results-padding sm:overflow-hidden",children:(0,eD.jsx)(tP.Z.Root,{className:"min-w-[170vw] border-b-[0.5px] border-token-border-medium sm:min-w-0",children:(0,eD.jsx)(tP.Z.Body,{children:d.map((e,t)=>(0,eD.jsxs)(tP.Z.Row,{children:[(0,eD.jsxs)(nE,{className:(0,K.default)(u?"w-[110px] md:w-[180px]":"w-[60vw] sm:w-[150px]"),children:[(0,eD.jsx)(nM,{weatherDescriptionData:e.description,isNight:e.night,size:"small"}),(0,eD.jsx)("div",{className:"ml-3",children:u?(0,eD.jsx)("span",{className:"lowercase",children:function(e){let t=nw(e.timestamp,e.utc_offset_sec);return(0,t2.Z)(t,"ha")}(e)}):function(e){let t=nw(e.timestamp,e.utc_offset_sec);return(0,tT.Z)(t)?"Today":(0,t2.Z)(t,"EEEE")}(e)})]}),(0,eD.jsx)(nE,{className:(0,K.default)("tabular-nums",u&&"w-[60px]"),children:u?(0,eD.jsx)("div",{children:nO(e.temperature.current)}):(0,eD.jsxs)(eD.Fragment,{children:[(0,eD.jsx)("div",{children:nO(e.temperature.max)}),(0,eD.jsx)("div",{className:"ml-1 text-token-text-tertiary",children:nO(e.temperature.min)})]})}),(0,eD.jsx)(nE,{children:e.description.description})]},t))})})})]})}),nE=(0,ep.Z)(tP.Z.Cell)(o||(o=(0,es.Z)(["py-1.5"])));function nM(e){let{weatherDescriptionData:t,isNight:n=!1,size:r="normal"}=e,a=(0,Y.Gv)(),l="small"===r?30:50;return(0,eD.jsx)(nb(),{draggable:!1,alt:t.description,src:function(e){let{weatherCode:t,isDarkMode:n,isNight:r}=e,a=(n?nj:ny)[function(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:default:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy"}}(t)];return a.night&&r?a.night:a.default}({weatherCode:t.id,isDarkMode:a,isNight:n}).src,width:l,height:l})}function nO(e){return null==e?"-":"".concat(Math.round(9*e/5+32),"\xb0")}function nN(e){var t;let{widget:n,turnIndex:r}=e;switch(null==n?void 0:n.type){case"finance":return(0,eD.jsx)(nm,{citation:n.data});case"sports-standings":return(0,eD.jsx)(tY,{data:n.data});case"sports-schedule":return(0,eD.jsx)(tW,{data:n.data});case"time-difference":return(0,eD.jsx)(t6,{data:n.data});case"calculator":return(0,eD.jsx)(tz,{data:n.data});case"weather":return(null===(t=n.data)||void 0===t?void 0:t.forecast)&&(0,eD.jsx)(nS,{weatherResults:n.data.forecast,dateRange:n.data.dateRange,turnIndex:r});default:return null}}var nC=n(52538),nL=n.n(nC),nD=n(48772);let nI=ep.Z.a(c||(c=(0,es.Z)(["flex flex-col rounded-xl bg-gray-50 dark:bg-gray-800 p-4 dark:hover:bg-gray-700 hover:bg-gray-100 text-sm text-left gap-1 h-22 ",""])),e=>{let{$isHighlighted:t}=e;return t&&"bg-gray-100 dark:bg-gray-700"});function nR(e){var t;let{card:n,isHighlighted:r}=e,a=(0,en.useContext)(tm),l=null!==(t=(0,ed.d)(n.url).data)&&void 0!==t?t:(0,eu.p)(n.url);return(0,eD.jsxs)(nI,{className:"w-3/4 shrink-0 sm:w-[45%] sm:shrink",$isHighlighted:r,href:n.url,onClick:()=>{if(null!=n){var e;null==a||null===(e=a.onCitationClicked)||void 0===e||e.call(a,n,n.index)}},target:"_blank",rel:"noopener",children:[(0,eD.jsxs)("div",{className:"flex gap-2",children:[(0,eD.jsx)(ei.Z,{url:null==n?void 0:n.url,size:32,className:"h-5 w-5 shrink-0 rounded"}),(0,eD.jsx)("div",{className:"line-clamp-1 text-xs text-token-text-secondary",children:l})]}),(0,eD.jsx)("div",{className:"line-clamp-2 text-xs",children:n.title})]})}function nU(e){let{count:t,isHighlighted:n,onClick:r}=e;return(0,eD.jsxs)(nI,{className:"max-w-1/10 min-w-[4rem] cursor-pointer items-center justify-center text-xs text-token-text-secondary",$isHighlighted:n,onClick:r,children:[(0,eD.jsx)(ec.xPt,{className:"h-5 w-5 shrink-0"}),(0,eD.jsx)("span",{className:"pt-0.5",children:t})]})}function nz(e){var t;let{highlightedCitationIndices:n,turnIndex:r}=e,a=(0,en.useContext)(tm),l=(0,Y.BL)();if(null==a)return null;let{displayedCitations:s}=a,i=nL()(s.flatMap(e=>e.type===th.Snc&&"webpage"===e.metadata.type?e.metadata.items:[]),e=>e.index);if(0===i.length)return null;let o=l?i:i.slice(0,2),c=null===(t=o[o.length-1])||void 0===t?void 0:t.index;return(0,eD.jsxs)(J.E.div,{className:"no-scrollbar mt-6 flex flex-nowrap gap-2 overflow-auto px-snc-results-padding",initial:{opacity:0},animate:{opacity:1},children:[o.map((e,t)=>{var r;return(0,eD.jsx)(nR,{card:e,isHighlighted:null!=e.index&&n.has(e.index)},null!==(r=e.index)&&void 0!==r?r:"i".concat(t))}),i.length>o.length&&(0,eD.jsx)(nU,{count:i.length-2,isHighlighted:null==c||Array.from(n.values()).some(e=>e>c),onClick:()=>{(0,nD.NM)(et())===nD.iY.Sources&&(0,nD.U8)(et())===r?(0,nD._d)(nD.iY.Answer):(0,nD.po)(r)}})]})}var nP=n(52088),nB=n(51866),nT=n(4777),n_=n(51308),nV=n(99661),nH=n(50895),nW=n(84654),nZ=n(63585);let nF="contextList",nX=ep.Z.div(u||(u=(0,es.Z)(["gap-6 border-b pb-4 my-4 context-list text-sm border-token-border-light"])));function nq(e){let{children:t}=e,n=(0,en.useContext)(tm),r=Array.isArray(t)?t:ey()([t]);if(0===r.length)return null;let[a,...l]=r,s=function(e){if("object"==typeof e&&null!=e&&"props"in e&&e.props.node.tagName===tg.p)return parseInt(e.props.index)}(a);if(null!=s&&null!=n){let e=null==n?void 0:n.displayedCitations[s];if((null==e?void 0:e.type)===th.Snc&&"optimistic_image_inline"===e.metadata.type)return(0,eD.jsxs)(nX,{className:"clear-right items-center sm:flex",children:[(0,eD.jsx)("div",{className:"float-right ml-2 flex h-32 w-20 shrink-0 sm:float-none sm:ml-0",children:a}),(0,eD.jsx)("div",{className:"grow sm:first:*:mt-0",children:l}),(0,eD.jsx)("div",{className:"clear-right sm:clear-none"})]})}return(0,eD.jsx)(nX,{children:r})}function nQ(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}function nY(e){let{turnIndex:t,children:n}=e,{submitFollowup:r}=(0,e$.A)(),{0:a,1:l}=(0,en.useState)(!1),s=(0,en.useRef)(null),i=(0,eE.nn)(eE.LW.isLastTurnStreaming),o=(0,eE.nn)(eE.LW.threadId),[c]=(0,nf.OR)();return((0,en.useEffect)(()=>{c.showInlineFollowups&&o&&"string"==typeof n&&td.Y.logEvent(td.M.searchIFSShown,{turn_index:t,thread_id:o,text:n})},[]),(0,en.useEffect)(()=>{function e(){if(null!=s.current){let e=parseFloat(getComputedStyle(s.current).lineHeight);l(s.current.offsetHeight>e)}}return e(),(0,Q.eR)(window,{resize:e})},[]),c.showInlineFollowups)?Array.isArray(n)&&1!==n.length?(tl.U.addError("Found an IFS with markup or other special content inside of its link text, ignoring the IFS",{rawText:n}),(0,eD.jsx)(eD.Fragment,{children:n})):"string"!=typeof n?(0,eD.jsx)(eD.Fragment,{children:n}):(0,eD.jsx)(te.u,{label:"Follow-up on ".concat(n),side:"top",sideOffset:4,align:a?"end":"center",delayDuration:150,children:(0,eD.jsx)("span",{ref:s,role:"button",className:"text-token-primary underline underline-offset-2 hover:opacity-65",onClick:()=>{!i&&(r(n),o&&td.Y.logEvent(td.M.searchIFSClicked,{turn_index:t,thread_id:o,text:n}))},children:n})}):(0,eD.jsx)(eD.Fragment,{children:n})}var nG=n(33491),nK=n(96525),nJ=n(19464);function n$(e){let{metadata:t}=e,n=ez().imageResults.length,r=(0,Y.BL)(),a=t.images,l=a.map(e=>e.thumbnail_url),s=(0,nJ.h)({queries:l.map(e=>eP(e)),combine:e=>{let t=new Set;return e.forEach((e,n)=>{e.isSuccess&&t.add(l[n])}),t}}),i=a.filter(e=>s.has(e.thumbnail_url)),o=t.images.length;if(0===o)return null;if(1===o){let e=t.images[0];return(0,eD.jsx)(n0,{image:e,imageSource:ef.y6.Turn,className:"float-image z-10 float-right clear-right mb-snc-2 ml-snc-2 mt-1 min-w-32 max-w-[22%] overflow-hidden rounded-xl border-[0.5px] border-token-border-light"},e.content_url)}let c=r?i.length:Math.min(i.length,5);return(0,eD.jsx)("div",{className:"no-scrollbar -mx-snc-results-padding mb-6 mt-1 flex flex-nowrap gap-0.5 overflow-auto px-snc-results-padding sm:gap-1 sm:overflow-hidden",children:i.slice(0,c).map((e,t)=>(0,eD.jsxs)("div",{className:(0,K.default)("relative aspect-square max-h-48 shrink-0 overflow-hidden border-[0.5px] border-token-border-light",0===t&&"rounded-l-xl",t===c-1&&"rounded-r-xl"),style:{width:r?128:"calc((100% - 0.25rem * ".concat(c-1,") / ").concat(c,")")},children:[(0,eD.jsx)(n0,{image:e,imageSource:ef.y6.Turn,className:"h-full w-full"},e.thumbnail_url),t===c-1&&n>c&&(0,eD.jsx)("button",{className:"absolute bottom-1 right-1 rounded-[10px] bg-black/50 px-2 py-1 text-sm text-white transition-colors hover:bg-black/80",onClick:()=>(0,nD._d)(nD.iY.Images),children:"+".concat(n-c)})]},e.thumbnail_url))})}function n0(e){let{image:t,imageSource:n,className:r,imgClassName:a,style:l}=e,s=eT(t),{isSuccess:i}=eB(s);eC([null==t?void 0:t.content_url]);let o=(0,eE.nn)(eE.LW.threadId),c=(0,en.useCallback)(e=>{t&&i&&t&&o&&td.Y.logEvent(e,{thread_id:o,url:t.url,title:t.title})},[t,i,o]);return(0,en.useEffect)(()=>{c(td.M.searchCarouselImageShown)},[c]),(0,eD.jsx)("button",{className:(0,K.default)("relative aspect-square overflow-hidden",r),style:l,onClick:()=>{ef.vm.setFocusedImage(t?{image:t,source:n}:void 0),c(td.M.searchCarouselImageClicked)},children:t?i?(0,eD.jsx)(eV,{children:(0,eD.jsx)("img",{src:s,alt:null==t?void 0:t.content_url,className:(0,K.default)("m-0 h-full w-full bg-token-main-surface-tertiary object-cover",a)})}):(0,eD.jsx)("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"}):(0,eD.jsx)("div",{className:"aspect-square h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}let n1={google_maps:{title:"Google Maps"}};function n2(e){var t,n;let{metadata:r}=e,a=null!==(t=null===(n=n1[r.provider])||void 0===n?void 0:n.title)&&void 0!==t?t:"Maps";return(0,eD.jsxs)("span",{children:[" (",(0,eD.jsx)("a",{href:r.url,target:"_blank",rel:"noopener",children:a}),") "]})}function n6(e){let{image:t}=e,n=eT(t,{width:180,height:270}),{isSuccess:r}=eB(n);return(0,eD.jsx)(J.E.img,{src:n,className:"h-full w-full object-cover",alt:t.title,initial:{opacity:0},animate:r?{opacity:1}:{},whileHover:{scale:1.03,transition:e_}})}function n5(e){var t;let{metadata:n}=e,r=(0,eE.nn)(eE.LW.threadId),a=(0,en.useCallback)(e=>{!n.hidden&&r&&n.image&&td.Y.logEvent(e,{thread_id:r,url:n.image.url,title:n.image.title})},[n.hidden,n.image,r]);return((0,en.useEffect)(()=>{a(td.M.searchInlineImageShown)},[]),n.hidden)?null:(0,eD.jsxs)(eD.Fragment,{children:[(0,eD.jsx)(eL,{urls:[null===(t=n.image)||void 0===t?void 0:t.content_url]}),(0,eD.jsx)("button",{className:"message-image-citation flex w-full items-center justify-center overflow-hidden rounded-lg border-[0.5px] border-token-border-light",onClick:()=>{n.image&&ef.vm.setFocusedImage({image:n.image,source:ef.y6.Turn}),a(td.M.searchInlineImageClicked)},children:n.image?(0,eD.jsx)(n6,{image:n.image}):(0,eD.jsx)("div",{className:(0,K.default)("flex h-full w-full items-center justify-center bg-token-main-surface-tertiary","done"!==n.status&&"animate-pulse"),children:"done"===n.status&&(0,eD.jsx)(te.u,{label:"Error fetching image",children:(0,eD.jsx)(eg.Z,{className:"h-12 w-12 text-token-text-tertiary"})})})})]})}function n3(e){let{metadata:t}=e;return 0===t.items.length?null:(0,eD.jsxs)("div",{className:"mt-snc-1 flex flex-col gap-snc-1",children:[t.title&&(0,eD.jsx)("div",{className:"-mb-1 font-semibold text-token-text-primary",children:t.title}),t.items.map((e,t)=>(0,eD.jsx)(n4,{item:e},t))]})}function n4(e){var t,n;let{item:r}=e,a=null!==(t=(0,ed.d)(r.url).data)&&void 0!==t?t:(0,eu.p)(r.url,"short"),{isSuccess:l,isLoading:s}=eB(null!==(n=r.thumbnail_url)&&void 0!==n?n:void 0);return(0,eD.jsxs)("a",{className:"group/nav-list flex items-center gap-snc-1",href:r.url,target:"_blank",rel:"noopener",children:[(0,eD.jsx)("div",{className:"h-12 w-12 flex-shrink-0 self-start overflow-hidden rounded-lg bg-token-main-surface-tertiary",children:l?r.thumbnail_url&&(0,eD.jsx)(eV,{children:(0,eD.jsx)("img",{src:r.thumbnail_url,className:"m-0 h-full w-full object-cover",alt:r.title})}):!s&&(0,eD.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,eD.jsx)(ei.Z,{url:r.url,size:128,minSize:16,className:"icon-lg"})})}),(0,eD.jsxs)("div",{className:"flex grow flex-col gap-0.5 overflow-hidden text-ellipsis",children:[(0,eD.jsx)("div",{className:"line-clamp-1 text-xs text-token-text-tertiary",children:a}),(0,eD.jsx)("div",{className:"text-token-primary col-start-2 line-clamp-2 text-base font-semibold decoration-token-link group-hover/nav-list:underline",children:r.title})]})]})}var n8=n(59594);function n9(e){let{metadata:t}=e;return(0,eD.jsx)("div",{className:"my-0 inline-block max-w-full",children:(0,eD.jsxs)("div",{className:"flex flex-wrap",children:["(",t.items.map(e=>(0,eD.jsx)(n7,{index:e.index,citationMetadata:e},e.url)),")"]})})}function n7(e){var t;let{citationMetadata:n,index:r}=e,a=null!==(t=(0,ed.d)(n.url).data)&&void 0!==t?t:(0,eu.p)(n.url);return(0,eD.jsx)(re,{citationMetadata:n,index:r,className:"truncate after:mr-0.5 after:text-token-text-primary after:content-[','] last:after:mr-0 last:after:content-['']",children:a})}function re(e){var t;let{citationMetadata:n,children:r,index:a,className:l}=e,s=(0,en.useContext)(e9.h7),i="webpage"===n.type?n.url:"",o=null!==(t=(0,ed.d)(i).data)&&void 0!==t?t:(0,eu.p)(i),c="file"!==n.type,{onCitationShown:u,onCitationHovered:d,onCitationClicked:A,onCitationUnhovered:h}=null!=s?s:{};return((0,en.useEffect)(()=>{c&&(null==u||u(n,a))},[]),c)?(0,eD.jsxs)(n8.fC,{delayDuration:150,onOpenChange:e=>{e?null==d||d(n,a):null!=a&&(null==h||h(a))},disableHoverableContent:!0,children:[(0,eD.jsx)(n8.xz,{asChild:!0,children:(0,eD.jsx)("a",{href:n.url,onClick:()=>null==A?void 0:A(n,a),target:"_blank",rel:"noopener",className:l,children:r})}),(0,eD.jsx)(n8.h_,{children:(0,eD.jsx)(n8.VY,{side:"top",children:(0,eD.jsx)("a",{href:n.url,target:"_blank",rel:"noopener",children:(0,eD.jsxs)("div",{className:"flex max-w-xs flex-col gap-1 rounded-lg bg-black px-4 py-3 text-sm text-white shadow-sm",children:[(0,eD.jsxs)("div",{className:"flex gap-2",children:[(0,eD.jsx)(ei.Z,{url:n.url,size:32,className:"h-5 w-5 shrink-0 rounded"}),(0,eD.jsx)("div",{className:"line-clamp-1",children:o})]}),n.title&&(0,eD.jsx)("div",{className:"line-clamp-2",children:n.title}),n.text&&(0,eD.jsx)("div",{className:"line-clamp-2",children:n.text})]})})})})]}):null}function rt(e){let{metadata:t}=e,n=(0,t1.Z)(t.utc_time,t.utc_offset),r=(0,t2.Z)(n,"p",{timeZone:t.utc_offset});return(0,eD.jsx)("span",{children:r})}function rn(e){let{metadata:t}=e;return(0,eD.jsx)("div",{className:"title-citation",children:null!=t.url?(0,eD.jsx)(re,{citationMetadata:{type:"webpage",url:t.url,title:t.description},className:"group/title-citation inline-flex flex-col",children:(0,eD.jsx)("div",{className:"!font-semibold text-token-link group-hover/title-citation:!underline",children:t.description})}):(0,eD.jsx)("div",{className:"!font-semibold",children:t.description})})}function rr(e){let t,{url:n,className:r}=e,a=function(e){let t=e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return t?t[1]:null}(n);a&&(t=(0,eD.jsx)(ra,{videoId:a}));let l=function(e){let t=e.match(/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/);return t?t[1]:null}(n);return(l&&(t=(0,eD.jsx)(rl,{videoId:l})),t)?(0,eD.jsx)("div",{className:r,children:t}):null}function ra(e){let{videoId:t}=e;return(0,eD.jsx)("iframe",{className:"aspect-video w-full",src:"https://www.youtube.com/embed/".concat(t),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function rl(e){let{videoId:t}=e;return(0,eD.jsx)(eD.Fragment,{children:(0,eD.jsx)("iframe",{className:"aspect-video w-full",src:"https://player.vimeo.com/video/".concat(t),frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}var rs=n(3551);function ri(e){let{tldr:t}=e,n=(0,eE.nn)(eE.LW.threadId),r=(0,en.useCallback)(e=>{t.url&&n&&td.Y.logEvent(e,{thread_id:n,url:t.url,title:t.display_title})},[n,t.display_title,t.url]);if((0,en.useEffect)(()=>{r(td.M.searchTldrLinkShown)},[r]),!t.url)return null;let a=t.leaf_description;return!a&&t.url&&(a=new URL(t.url).pathname.slice(1)),Array.isArray(a)||(a=ey()([a])),(0,eD.jsxs)("div",{className:"not-prose mb-5 flex flex-col gap-snc-results-padding text-base",children:[(0,eD.jsx)(rr,{url:t.url}),(0,eD.jsx)("a",{href:t.url,onClick:()=>r(td.M.searchTldrLinkClicked),target:"_blank",className:"group/tldr",children:(0,eD.jsxs)("div",{className:"grid max-w-full shrink grid-cols-[1fr,auto] items-center gap-x-8 sm:gap-x-16",children:[(0,eD.jsxs)("div",{className:"flex shrink flex-col overflow-hidden",children:[(0,eD.jsx)("div",{className:"shrink text-lg font-semibold text-token-text-primary 2xl:text-xl",children:t.display_title}),(0,eD.jsxs)("div",{className:"flex items-center truncate text-token-link [overflow-wrap:anywhere] group-hover/tldr:opacity-70",children:[(0,eD.jsx)("div",{children:(0,rs.SX)(t.url)}),a.length>0&&a.map((e,t)=>(0,eD.jsxs)(en.Fragment,{children:[(0,eD.jsx)(ec.ob9,{className:"h-4 w-4 shrink-0"}),(0,eD.jsx)("div",{className:"truncate",children:e.toLowerCase()})]},t))]})]}),(0,eD.jsx)(ei.Z,{url:t.url,size:128,minSize:32,className:"mr-[0.1875rem] h-7 w-7 shrink-0 rounded"}),t.snippet&&(0,eD.jsx)("div",{className:"line-clamp-3 overflow-hidden text-ellipsis text-sm text-token-text-tertiary",children:t.snippet})]})})]})}function ro(e){let{index:t,displayLayout:n}=e,r=parseInt(t,10),a=(0,en.useContext)(tm);if(null==a)return null;let{displayedCitations:l}=a,s=l[r];if(s.type===th.Snc)switch(s.metadata.type){case"title_citation":return(0,eD.jsx)(rn,{metadata:s.metadata});case"optimistic_image_inline":return"block"!==n&&nK.Z.error("Message image citation should use a block layout. Got: ".concat(n)),(0,eD.jsx)(n5,{metadata:s.metadata});case"location_search":return(0,eD.jsx)(n2,{metadata:s.metadata});case"time":return(0,eD.jsx)(rt,{metadata:s.metadata});case"image_v2":return(0,eD.jsx)(n$,{metadata:s.metadata});case"nav_list":return(0,eD.jsx)(n3,{metadata:s.metadata});case"webpage":return(0,eD.jsx)(n9,{metadata:s.metadata});case"tldr":return(0,eD.jsx)(ri,{tldr:s.metadata})}return s.type===th.SncDebug?(0,eD.jsx)(eD.Fragment,{children:Object.entries(s.metadata).map(e=>{let[t,n]=e;return(0,eD.jsx)("sub",{className:"ml-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:n},t)})}):(0,eD.jsx)(nG.R,{index:r})}let rc=["node","inline","children"];function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach(function(t){(0,ex.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let rA=[...nT.Hf,function(){return e=>{(0,nZ.Vn)(e,e=>{var t;(0,nW.j)(e)&&e.name===nF&&((null!==(t=e.data)&&void 0!==t?t:e.data={}).hName=nF)})}}];function rh(e){let{text:t,turnIndex:n,isActivelyStreaming:r=!1}=e;return(0,eD.jsx)(rm,{className:(0,K.default)("relative text-token-text-primary",""===t&&r&&"result-thinking",r&&"result-streaming"),turnIndex:n,children:""===t?"&#8203;":t})}function rm(e){let{size:t="medium",turnIndex:n,children:r,className:a}=e,{resolvedTheme:l}=(0,nV.F)(),s=(0,en.useMemo)(()=>({code:e=>{let{node:t,inline:r,children:a}=e,l=(0,nP.Z)(e,rc);if(t&&r){let e=(0,n_.B)(t).match(/^\[([^\]]+)\]\((.+)\)$/);if(e&&nQ(e[2]))return(0,eD.jsx)("code",rd(rd({},l),{},{children:(0,eD.jsx)(nY,{turnIndex:n,children:[e[1]]})}))}return(0,eD.jsx)(nB.Z,rd({},e))},[tg.p]:ro,[nF]:nq,a:e=>{let{href:t,children:r}=e;return nQ(t)?(0,eD.jsx)(nY,{turnIndex:n,children:r}):(0,eD.jsx)("a",{href:t?(0,nT.SQ)(t):void 0,target:"_blank",rel:"noopener",children:r})},td:e=>{let{children:t}=e;return(0,eD.jsx)("td",{children:en.Children.map(t,(e,t)=>"<br>"===e?(0,eD.jsx)("br",{},t):e)})}}),[n]);return(0,eD.jsx)(e7.S,{name:"formatted_text_error",fallback:()=>(0,eD.jsx)(eD.Fragment,{children:r}),children:(0,eD.jsx)(nH.U,{rehypePlugins:nT.Yu,remarkPlugins:rA,className:(0,K.default)(a,"prose w-full break-words dark:prose-invert","dark"===l?"dark":"light","small"===t&&"prose-xs"),urlTransform:nT.SQ,components:s,children:r})})}function rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rp(Object(n),!0).forEach(function(t){(0,ex.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let rf=(0,en.memo)((0,en.forwardRef)(function(e,t){let{turn:n,isHighlighted:r}=e,{retrySearch:a}=(0,e$.A)();if(null==n.index)throw Error();let l=n.index>0;return(0,eD.jsxs)(J.E.div,rg(rg({ref:t,className:"flex flex-col gap-snc-results-padding"},l?{initial:{opacity:0},animate:{opacity:1},transition:{duration:.33,ease:"easeInOut"}}:{}),{},{children:[l&&(0,eD.jsx)(rx,{turnIndex:n.index,text:n.user_query}),(0,eM.jo)(n)?(0,eD.jsx)(rb,{text:"Something went wrong. Please try again.",canRetry:!0,onRetry:()=>a(n.user_query)}):(0,eD.jsx)(rv,{turn:n,isHighlighted:r})]}))}));function rx(e){let{turnIndex:t,text:n}=e;return(0,eD.jsx)("div",{className:"user-query inline-flex justify-end px-snc-results-padding",children:(0,eD.jsx)("div",{className:"max-w-[90%] rounded-3xl bg-token-main-surface-tertiary px-5 py-2.5",children:(0,eD.jsx)(rh,{turnIndex:t,text:n})})})}function rb(e){let{text:t,onRetry:n,canRetry:r}=e;return(0,eD.jsx)("div",{className:"mx-snc-results-padding",children:(0,eD.jsx)(e4.Z,{type:"danger",className:"my-0 border border-token-border-light bg-transparent text-token-text-secondary",iconClassName:"text-red-500",children:(0,eD.jsxs)("div",{className:"flex w-full items-center justify-between text-red-500",children:[t,r&&(0,eD.jsx)("button",{onClick:()=>n(),className:"font-semibold text-token-text-primary",children:"Retry"})]})})})}function rv(e){var t,n,r,a;let{turn:l,isHighlighted:s}=e,i=(0,en.useRef)(null),o=null!==(t=null===(n=l.model_response)||void 0===n?void 0:n.text)&&void 0!==t?t:"",{0:c,1:u}=(0,en.useState)(o),{0:d}=(0,en.useState)(()=>new e8.Zl(e8.R3,e=>{u(e)},c));if((0,en.useEffect)(()=>{s&&i.current&&i.current.scrollIntoView({behavior:"smooth",block:"start"})},[s]),(0,en.useEffect)(()=>{d.setText(o)},[o,d]),null==l.index)throw Error();let A=d.isBuffering()||(0,eM.A7)(l);return(0,eD.jsxs)(rw,{ref:i,$isHighlighted:s,children:[(0,eD.jsx)(ry,{turnIndex:l.index,responseText:c,showOlympicsCitation:(null===(r=l.olympics_widget)||void 0===r?void 0:r.status)==="done",citations:null===(a=l.model_response)||void 0===a?void 0:a.citations,isResponseStreaming:A}),!A&&(0,eD.jsx)("div",{className:"mt-6 px-snc-results-padding",children:(0,eD.jsx)(tI,{turn:l})})]})}let rw=ep.Z.div(d||(d=(0,es.Z)(["group flex flex-col\n  ",""])),e=>{let{$isHighlighted:t}=e;return t&&"-mx-2 rounded-md bg-yellow-100 px-2 py-4 dark:bg-yellow-900"}),ry=(0,en.memo)(function(e){let{turnIndex:t,responseText:n,citations:r,isResponseStreaming:a,showOlympicsCitation:l}=e,s=(0,eE.nn)(eE.LW.threadId),i=tb(n,r,e0.ne.useState(e0.ne.selectAgentSettingsOverrides).debug_mode),{displayedCitations:o}=i,{processedText:c}=i,u=tw(i),d=a?tv(c):l?"".concat(c,"\n\nMore information on [olympics.com](https://olympics.com)."):c,A=(0,ed.u)(o.reduce((e,t)=>{var n,r;return t.type===e9.Zn.Standard&&(null===(n=t.metadata)||void 0===n?void 0:n.type)!=="file"&&(null===(r=t.metadata)||void 0===r?void 0:r.url)!=null?[...e,t.metadata.url]:e},[])),{0:h,1:m}=(0,en.useState)(new Set);return(0,eD.jsxs)(eD.Fragment,{children:[null!=u&&(0,eD.jsx)(e7.S,{name:"sonic_widget_error",children:(0,eD.jsx)("div",{className:"mb-4 px-snc-results-padding",children:(0,eD.jsx)(nN,{widget:u,turnIndex:t})})}),(0,eD.jsxs)(tp,{value:{displayedCitations:o,isActivelyStreaming:a,responseText:n,attributions:A,onCitationShown:e=>{s&&(null==e?void 0:e.type)==="webpage"&&td.Y.logEvent(td.M.searchCitationShown,{thread_id:s,url:e.url,title:e.title,pub_date:e.pub_date,turn_index:t})},onCitationClicked:e=>{s&&"webpage"===e.type&&td.Y.logEvent(td.M.searchCitationClicked,{thread_id:s,url:e.url,title:e.title,pub_date:e.pub_date,turn_index:t})},onCitationHovered:(e,n)=>{null!=n&&m(e=>{let t=new Set(e);return t.add(n),t}),s&&(null==e?void 0:e.type)==="webpage"&&td.Y.logEvent(td.M.searchCitationHovered,{thread_id:s,url:e.url,title:e.title,pub_date:e.pub_date,turn_index:t})},onCitationUnhovered:e=>{null!=e&&m(t=>{let n=new Set(t);return n.delete(e),n})}},children:[(0,eD.jsx)("div",{className:"relative z-0 px-snc-results-padding",children:(0,eD.jsx)(rh,{turnIndex:t,text:d,isActivelyStreaming:a})}),!a&&(0,eD.jsx)(nz,{highlightedCitationIndices:h,turnIndex:t})]})]})});function rj(e){let{highlightTurnIndex:t}=e,n=(0,eE.nn)(eE.LW.turns),r=(0,eE.nn)(eE.LW.hasResponse),a=(0,eE.nn)(eE.LW.numTurns),l=(0,er.useScrollToBottom)();return(0,en.useEffect)(()=>{a>1&&l({behavior:"smooth"})},[a,l]),(0,eD.jsx)("div",{className:"flex w-full flex-col gap-snc-results-padding",children:r?n.map((e,n)=>(0,eD.jsx)(rf,{turn:e,isHighlighted:e.index===t},n)):(0,eD.jsx)(rk,{})})}function rk(){return(0,eD.jsxs)("div",{className:"space-y-6 px-snc-results-padding",children:[(0,eD.jsx)(e3.HK,{lines:2,scaleUpAnimation:{initialScaleX:.6,duration:1.6}}),(0,eD.jsx)(e3.HK,{lines:8,indexOffset:2,scaleUpAnimation:{initialScaleX:.6,duration:1.6}}),(0,eD.jsx)(e3.HK,{lines:5,indexOffset:10,scaleUpAnimation:{initialScaleX:.6,duration:1.6},className:"max-sm:hidden"})]})}function rS(e){let{highlightTurnIndex:t}=e,{0:n,1:r}=(0,en.useState)(!1),a=(0,eE.nn)(eE.LW.firstTurn),l=null!=a&&(0,eM.jo)(a),s=(0,eE.nn)(eE.LW.threadError),{retrySearch:i}=(0,e$.A)();(0,en.useEffect)(()=>{if(a){if((0,eM.VP)(a))r(!1);else{let e=setTimeout(()=>{r(!0)},1e4);return()=>{clearTimeout(e)}}}},[a]);let o=l||n||null!=s?(0,eD.jsx)("div",{className:"flex grow items-center justify-center",children:(0,eD.jsx)(e5.bW,{onClickRetry:()=>i(),children:s})}):(0,eD.jsx)(rj,{highlightTurnIndex:t});return(0,eD.jsxs)("div",{className:"flex grow flex-col pt-6 lg:pt-8 xl:pt-10 2xl:pt-12",children:[o,(0,eD.jsx)("div",{className:"h-24 sm:h-32"})]})}function rE(){return(rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rM=e=>en.createElement("svg",rE({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),A||(A=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v5"})),h||(h=en.createElement("path",{fill:"currentColor",d:"M5.344 18.769c0 1.107.549 1.809 1.332 1.809.594 0 1.017-.396 1.134-1.035l1.656.549c-.396 1.215-1.332 2.016-2.781 2.016-1.818 0-3.105-1.395-3.105-3.339s1.287-3.339 3.105-3.339c1.449 0 2.385.801 2.78 2.016l-1.655.549c-.117-.639-.54-1.035-1.134-1.035-.783 0-1.332.702-1.332 1.809m4.082 2.259.963-1.278c.549.621 1.278.909 1.935.909.54 0 .9-.198.9-.567 0-.414-.46-.468-1.45-.666-.944-.189-1.98-.54-1.98-1.854 0-1.323 1.144-2.142 2.575-2.142 1.134 0 2.025.441 2.538.999l-.954 1.188a2.17 2.17 0 0 0-1.63-.738c-.476 0-.8.18-.8.513 0 .369.396.432 1.179.594 1.008.207 2.268.486 2.268 1.926 0 1.395-1.224 2.196-2.718 2.196-1.053 0-2.286-.414-2.826-1.08m5.52 0 .962-1.278c.55.621 1.278.909 1.935.909.54 0 .9-.198.9-.567 0-.414-.459-.468-1.449-.666-.945-.189-1.98-.54-1.98-1.854 0-1.323 1.143-2.142 2.574-2.142 1.134 0 2.025.441 2.538.999l-.954 1.188a2.17 2.17 0 0 0-1.629-.738c-.477 0-.8.18-.8.513 0 .369.395.432 1.178.594 1.008.207 2.268.486 2.268 1.926 0 1.395-1.224 2.196-2.718 2.196-1.053 0-2.286-.414-2.826-1.08"})),m||(m=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M9 8v2"})));function rO(){return(rO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rN=e=>en.createElement("svg",rO({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),p||(p=en.createElement("path",{fill:"currentColor",d:"M9.199 22v-.576c-.252.387-.846.675-1.63.675-1.7 0-2.951-1.35-2.951-3.294 0-1.953 1.278-3.366 3.078-3.366 1.413 0 2.34.747 2.736 1.935L9 17.833c-.144-.693-.612-1.089-1.296-1.089-.936 0-1.584.81-1.584 2.043s.648 2.043 1.61 2.043c.739 0 1.234-.495 1.315-1.161H7.615v-1.233h2.916V22zm4.228-6.462V22h-1.503v-6.462zM16.331 22h-1.476v-6.462h4.527v1.287h-3.05v1.467h2.537v1.26h-2.538z"})),g||(g=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v5"})),f||(f=en.createElement("path",{fill:"currentColor",d:"M6 5h2l-.862 1.724A.5.5 0 0 1 6.691 7H6zM9 5h3l-.862 1.724a.5.5 0 0 1-.447.276H8.566a.35.35 0 0 1-.313-.507zM13 5h3l-.862 1.724a.5.5 0 0 1-.447.276h-2.125a.35.35 0 0 1-.313-.507zM17 5h1v2h-1.434a.35.35 0 0 1-.313-.507z"})));function rC(){return(rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rL=e=>en.createElement("svg",rC({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),x||(x=en.createElement("path",{fill:"currentColor",d:"M4.108 21.991v-1.296c.252.036.414.054.648.054.63 0 .918-.225.918-.873v-4.338h1.503v4.563c0 1.359-.864 1.953-2.232 1.953a5 5 0 0 1-.837-.063m5.51-2.241V22H8.113v-6.462h2.727c1.521 0 2.466.72 2.466 2.106 0 1.377-.945 2.106-2.466 2.106zm0-1.26h1.142c.711 0 1.071-.315 1.071-.846s-.36-.837-1.07-.837H9.616zm8.66 3.51v-.576c-.252.387-.846.675-1.629.675-1.701 0-2.952-1.35-2.952-3.294 0-1.953 1.278-3.366 3.078-3.366 1.413 0 2.34.747 2.736 1.935l-1.431.459c-.144-.693-.612-1.089-1.296-1.089-.936 0-1.584.81-1.584 2.043s.648 2.043 1.611 2.043c.738 0 1.233-.495 1.314-1.161h-1.431v-1.233h2.916V22z"})),b||(b=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h7.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 19 8.828V11m-4-6v2.5a.5.5 0 0 0 .5.5H18m-2-1 .5-.5"})));function rD(){return(rD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rI=e=>en.createElement("svg",rD({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),v||(v=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M19 11a7 7 0 1 0-14 0"})),w||(w=en.createElement("path",{fill:"currentColor",d:"M6.889 22H5.71l-1.224-4.086V22H2.794v-6.462h2.475l1.053 3.708 1.053-3.708h2.448V22h-1.71v-4.086zm8.027 0H13.26v-1.467h-2.907v-1.296l2.358-3.699h2.205v3.6h.891v1.395h-.89zm-2.997-2.862h1.296V17.05zm6.336-3.6h2.034L22.62 22h-1.791l-.414-1.17h-2.34L17.67 22h-1.746zm.99 1.953-.675 1.926h1.35z"})),y||(y=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M14.5 11a2.5 2.5 0 0 0-5 0"})));function rR(){return(rR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rU=e=>en.createElement("svg",rR({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),j||(j=en.createElement("path",{fill:"currentColor",d:"M6.246 22h-1.08l-1.422-4.473V22h-1.43v-6.462H4.41l1.314 4.239 1.314-4.239H9.1V22H7.67v-4.473zm3.584-3.231c0-1.953 1.287-3.33 3.096-3.33 1.818 0 3.096 1.377 3.096 3.33s-1.278 3.33-3.096 3.33c-1.81 0-3.096-1.377-3.096-3.33m4.689 0c0-1.242-.657-2.025-1.593-2.025s-1.584.783-1.584 2.025.648 2.025 1.584 2.025 1.593-.783 1.593-2.025M19.789 22H18.23l-2.367-6.462h1.602l1.566 4.527 1.566-4.527h1.548z"})),k||(k=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v5"})),S||(S=en.createElement("path",{fill:"currentColor",d:"M6 5h2l-.862 1.724A.5.5 0 0 1 6.691 7H6zM9 5h3l-.862 1.724a.5.5 0 0 1-.447.276H8.566a.35.35 0 0 1-.313-.507zM13 5h3l-.862 1.724a.5.5 0 0 1-.447.276h-2.125a.35.35 0 0 1-.313-.507zM17 5h1v2h-1.434a.35.35 0 0 1-.313-.507z"})));function rz(){return(rz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rP=e=>en.createElement("svg",rz({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),E||(E=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M19 11a7 7 0 1 0-14 0"})),M||(M=en.createElement("path",{fill:"currentColor",d:"M6.952 22h-1.18L4.55 17.914V22H2.857v-6.462h2.475l1.053 3.708 1.053-3.708h2.448V22h-1.71v-4.086zm5.579-2.061V22h-1.764v-6.462h2.826c1.593 0 2.574.756 2.574 2.205 0 1.44-.981 2.196-2.574 2.196zm0-1.467h.972c.62 0 .918-.279.918-.729 0-.459-.297-.729-.918-.729h-.972zm6.437 3.636c-1.413 0-2.475-.711-2.646-2.034l1.737-.252c.054.522.414.819.882.819.414 0 .765-.198.765-.648 0-.441-.37-.594-.882-.594h-.567V18.04h.549c.477 0 .8-.162.8-.567 0-.36-.242-.576-.665-.576-.477 0-.765.342-.828.783l-1.638-.153c.144-1.143 1.044-2.097 2.547-2.097 1.43 0 2.322.819 2.322 1.917 0 .648-.396 1.152-.846 1.341.549.252.936.702.936 1.467 0 1.08-.963 1.953-2.466 1.953"})),O||(O=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M14.5 11a2.5 2.5 0 0 0-5 0"})));function rB(){return(rB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rT=e=>en.createElement("svg",rB({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),N||(N=en.createElement("path",{fill:"currentColor",d:"M6.844 22h-1.08l-1.422-4.473V22H2.91v-6.462h2.097l1.314 4.239 1.314-4.239h2.06V22h-1.43v-4.473zm5.383-2.25V22h-1.503v-6.462h2.727c1.521 0 2.466.72 2.466 2.106 0 1.377-.945 2.106-2.466 2.106zm0-1.26h1.143c.711 0 1.071-.315 1.071-.846s-.36-.837-1.07-.837h-1.144zM20.485 22H19.09v-1.512h-2.97v-1.125l2.493-3.825h1.88v3.744h1.018v1.206h-1.026zm-2.98-2.718h1.549v-2.403z"})),C||(C=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v5"})),L||(L=en.createElement("path",{fill:"currentColor",d:"M6 5h2l-.862 1.724A.5.5 0 0 1 6.691 7H6zM9 5h3l-.862 1.724a.5.5 0 0 1-.447.276H8.566a.35.35 0 0 1-.313-.507zM13 5h3l-.862 1.724a.5.5 0 0 1-.447.276h-2.125a.35.35 0 0 1-.313-.507zM17 5h1v2h-1.434a.35.35 0 0 1-.313-.507z"})));function r_(){return(r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rV=e=>en.createElement("svg",r_({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),D||(D=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M19 11a7 7 0 1 0-14 0"})),I||(I=en.createElement("path",{fill:"currentColor",d:"M2.647 18.769c0-1.944 1.296-3.339 3.16-3.339 1.871 0 3.167 1.395 3.167 3.339s-1.296 3.339-3.168 3.339c-1.863 0-3.159-1.395-3.159-3.339m4.554 0c0-1.125-.567-1.809-1.395-1.809-.819 0-1.386.684-1.386 1.809s.567 1.809 1.386 1.809c.828 0 1.395-.684 1.395-1.809M13.924 22v-.513c-.26.351-.828.621-1.557.621-1.728 0-2.979-1.35-2.979-3.294s1.287-3.384 3.141-3.384c1.485 0 2.44.774 2.835 1.998l-1.683.54c-.117-.648-.522-1.008-1.143-1.008-.819 0-1.386.72-1.386 1.827 0 1.116.567 1.836 1.413 1.836.594 0 1.008-.369 1.125-.855h-1.242v-1.395h3.006V22zm6.654 0v-.513c-.261.351-.828.621-1.557.621-1.728 0-2.98-1.35-2.98-3.294s1.288-3.384 3.142-3.384c1.485 0 2.439.774 2.835 1.998l-1.683.54c-.117-.648-.522-1.008-1.143-1.008-.82 0-1.386.72-1.386 1.827 0 1.116.567 1.836 1.413 1.836.594 0 1.008-.369 1.125-.855h-1.242v-1.395h3.006V22z"})),R||(R=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M14.5 11a2.5 2.5 0 0 0-5 0"})));function rH(){return(rH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rW=e=>en.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),U||(U=en.createElement("path",{fill:"currentColor",d:"M5.315 19.75V22H3.812v-6.462h2.727c1.52 0 2.466.72 2.466 2.106 0 1.377-.945 2.106-2.466 2.106zm0-1.26h1.143c.71 0 1.07-.315 1.07-.846s-.36-.837-1.07-.837H5.315zM9.63 22v-6.462h2.295c2.052 0 3.303 1.26 3.303 3.231S13.978 22 11.925 22zm1.467-1.269h.828c1.161 0 1.818-.774 1.818-1.962s-.657-1.962-1.827-1.962h-.819zM17.434 22h-1.476v-6.462h4.527v1.287h-3.05v1.467h2.537v1.26h-2.538z"})),z||(z=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h7.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 19 8.828V11m-4-6v2.5a.5.5 0 0 0 .5.5H18m-2-1 .5-.5"})));function rZ(){return(rZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rF=e=>en.createElement("svg",rZ({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),P||(P=en.createElement("path",{fill:"currentColor",d:"M4.493 19.75V22H2.99v-6.462h2.727c1.521 0 2.466.72 2.466 2.106 0 1.377-.945 2.106-2.466 2.106zm0-1.26h1.143c.711 0 1.071-.315 1.071-.846s-.36-.837-1.07-.837H4.492zm9.904-2.952V22h-1.305l-2.844-4.167V22h-1.44v-6.462h1.503l2.646 3.951v-3.951zM19.711 22v-.576c-.252.387-.846.675-1.63.675-1.7 0-2.951-1.35-2.951-3.294 0-1.953 1.278-3.366 3.078-3.366 1.413 0 2.34.747 2.736 1.935l-1.431.459c-.144-.693-.612-1.089-1.296-1.089-.936 0-1.584.81-1.584 2.043s.648 2.043 1.61 2.043c.739 0 1.234-.495 1.315-1.161h-1.431v-1.233h2.916V22z"})),B||(B=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h7.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 19 8.828V11m-4-6v2.5a.5.5 0 0 0 .5.5H18m-2-1 .5-.5"})));function rX(){return(rX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rq=e=>en.createElement("svg",rX({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),T||(T=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h8.172a2 2 0 0 1 1.414.586l1.828 1.828A2 2 0 0 1 19 7.828V11"})),_||(_=en.createElement("path",{fill:"currentColor",d:"M4.757 19.858V22H2.993v-6.462h2.826c1.593 0 2.574.774 2.574 2.16 0 .918-.468 1.602-1.287 1.935L8.59 22H6.575l-1.27-2.142zm0-1.395h.972c.62 0 .918-.288.918-.72 0-.459-.297-.729-.918-.729h-.972zm6.217-2.925h2.034L15.34 22h-1.79l-.415-1.17h-2.34L10.39 22H8.643zm.99 1.953-.675 1.926h1.35zm5.607 2.367V22h-1.764v-6.462h2.826c1.593 0 2.574.774 2.574 2.16 0 .918-.468 1.602-1.287 1.935L21.405 22H19.39l-1.269-2.142zm0-1.395h.972c.621 0 .918-.288.918-.72 0-.459-.297-.729-.918-.729h-.972zM12 5h-2v2h1.5a.5.5 0 0 0 .5-.5zM10 7H8.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5H10zM12 9.5a.5.5 0 0 0-.5-.5H10v1.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5z"})));function rQ(){return(rQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rY=e=>en.createElement("svg",rQ({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),V||(V=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M19 11a7 7 0 1 0-14 0"})),H||(H=en.createElement("path",{fill:"currentColor",d:"M5.915 15.538h1.45l.908 3.834.9-3.834h1.791L9.264 22H7.57l-.954-3.816L5.663 22H3.971l-1.7-6.462h1.835l.91 3.834zm6.807 0h2.034L17.087 22h-1.79l-.415-1.17h-2.34L12.137 22h-1.746zm.99 1.953-.675 1.926h1.35zM20.394 22h-1.81l-2.34-6.462h1.882l1.395 4.158 1.404-4.158h1.809z"})),W||(W=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M14.5 11a2.5 2.5 0 0 0-5 0"})));function rG(){return(rG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rK=e=>en.createElement("svg",rG({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),Z||(Z=en.createElement("path",{fill:"currentColor",d:"M3.472 15.538h1.142l.932 4.221.931-4.221h1.369L6.299 22H4.995l-.972-4.131L3.067 22H1.763L.208 15.538h1.401l.94 4.221zm4.885 0h4.107v1.287H9.685v1.242h2.317v1.269H9.685v1.377h2.779V22H8.357zM13.206 22v-6.462h2.503c1.271 0 1.952.612 1.952 1.737 0 .747-.405 1.188-.786 1.368.551.225.956.765.956 1.539 0 1.143-.729 1.818-1.976 1.818zm1.296-3.87h1.07c.526 0 .817-.234.817-.684s-.291-.675-.818-.675h-1.07zm0 1.17v1.458h1.231c.518 0 .802-.297.802-.729s-.284-.729-.802-.729zm5.317.45V22h-1.353v-6.462h2.454c1.37 0 2.22.72 2.22 2.106 0 1.377-.85 2.106-2.22 2.106zm0-1.26h1.029c.64 0 .963-.315.963-.846s-.324-.837-.963-.837h-1.03zM4 11a1 1 0 1 0 2 0zm11.586-6.414.707-.707zm2.828 2.828.707-.707zM18 11a1 1 0 1 0 2 0zm-2-6a1 1 0 1 0-2 0zm2 4a1 1 0 1 0 0-2zm-2.707-2.707a1 1 0 0 0 1.414 1.414zm1.914.914a1 1 0 0 0-1.414-1.414zM6 11V6H4v5zm1-6h7.172V3H7zm7.879.293 2.828 2.828 1.414-1.414-2.828-2.828zM18 8.828V11h2V8.828zm-.293-.707a1 1 0 0 1 .293.707h2a3 3 0 0 0-.879-2.12zM14.172 5a1 1 0 0 1 .707.293l1.414-1.414A3 3 0 0 0 14.172 3zM6 6a1 1 0 0 1 1-1V3a3 3 0 0 0-3 3zm8-1v2.5h2V5zm1.5 4H18V7h-2.5zm1.207-1.293.5-.5-1.414-1.414-.5.5zM14 7.5A1.5 1.5 0 0 0 15.5 9V7a.5.5 0 0 1 .5.5z"})));function rJ(){return(rJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var r$=e=>en.createElement("svg",rJ({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),F||(F=en.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h8.172a2 2 0 0 1 1.414.586l1.828 1.828A2 2 0 0 1 19 7.828V11"})),X||(X=en.createElement("path",{fill:"currentColor",d:"M9.882 20.506V22H4.59v-1.314l3.006-3.654h-2.97v-1.494h5.22v1.305l-2.961 3.663zm2.96-4.968V22H11.08v-6.462zm3.146 4.401V22h-1.764v-6.462h2.826c1.593 0 2.574.756 2.574 2.205 0 1.44-.98 2.196-2.574 2.196zm0-1.467h.972c.621 0 .918-.279.918-.729 0-.459-.297-.729-.918-.729h-.972zM12 5h-2v2h1.5a.5.5 0 0 0 .5-.5zM10 7H8.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5H10zM12 9.5a.5.5 0 0 0-.5-.5H10v1.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5z"})));function r0(e){let{url:t,className:n}=e;switch(new URL(t).pathname.split(".").pop()){case"pdf":return(0,eD.jsx)(rW,{className:n});case"gif":return(0,eD.jsx)(rN,{className:n});case"jpg":case"jpeg":return(0,eD.jsx)(rL,{className:n});case"png":return(0,eD.jsx)(rF,{className:n});case"webp":return(0,eD.jsx)(rK,{className:n});case"mp3":return(0,eD.jsx)(rP,{className:n});case"m4a":return(0,eD.jsx)(rI,{className:n});case"ogg":return(0,eD.jsx)(rV,{className:n});case"wav":return(0,eD.jsx)(rY,{className:n});case"mp4":return(0,eD.jsx)(rT,{className:n});case"mov":return(0,eD.jsx)(rU,{className:n});case"zip":return(0,eD.jsx)(r$,{className:n});case"rar":return(0,eD.jsx)(rq,{className:n});case"css":return(0,eD.jsx)(rM,{className:n});default:return null}}function r1(e){let{searchResult:t,className:n}=e;switch(t.content_type){case"application/pdf":return(0,eD.jsx)(rW,{className:n});case"image/gif":return(0,eD.jsx)(rN,{className:n});case"image/jpeg":return(0,eD.jsx)(rL,{className:n});case"image/png":return(0,eD.jsx)(rF,{className:n});case"image/webp":return(0,eD.jsx)(rK,{className:n});case"audio/mpeg":return(0,eD.jsx)(rP,{className:n});case"audio/m4a":return(0,eD.jsx)(rI,{className:n});case"audio/ogg":return(0,eD.jsx)(rV,{className:n});case"audio/wav":return(0,eD.jsx)(rY,{className:n});case"video/mp4":return(0,eD.jsx)(rT,{className:n});case"video/quicktime":return(0,eD.jsx)(rU,{className:n});case"application/zip":return(0,eD.jsx)(r$,{className:n});case"application/x-rar-compressed":return(0,eD.jsx)(rq,{className:n});case"text/css":return(0,eD.jsx)(rM,{className:n})}return(0,eD.jsx)(r0,{url:t.url,className:n})}function r2(e){let{image:t,index:n,isInDrawer:r}=e,a=(0,eE.nn)(eE.LW.threadId),l=(0,en.useCallback)(e=>{t&&null!=n&&null!=a&&td.Y.logEvent(e,{url:t.url,title:t.title,index:n,thread_id:a})},[t,n,a]);return(0,en.useEffect)(()=>{l(td.M.searchSidebarImageShown)},[l]),(0,eD.jsxs)("button",{className:"group flex h-full w-full flex-col gap-2",onClick:()=>{ef.vm.setFocusedImage(t?{image:t,source:ef.y6.ImagesTab}:void 0),l(td.M.searchSidebarImageClicked)},children:[(0,eD.jsx)(r5,{className:r?"rounded-xl":(0,K.default)(null!=n&&n%4==0&&"sm:rounded-bl-xl sm:rounded-tl-xl",null!=n&&n%4==3&&"sm:rounded-br-xl sm:rounded-tr-xl"),imgClassName:"group-hover:opacity-90 hover:opacity-100",image:t}),(0,eD.jsx)("div",{className:"-ml-1.5 hidden w-full justify-center gap-2 text-xs text-token-text-tertiary group-hover:text-token-text-primary sm:flex",children:t&&(0,eD.jsxs)(eD.Fragment,{children:[(0,eD.jsx)(r0,{url:t.content_url,className:"icon-md"}),t.content_size.width," x ",t.content_size.height]})})]})}function r6(e){let t,{isInDrawer:n=!1}=e,{imageResults:r,isLoading:a,isErrored:l}=ez(!0),{retrySearch:s}=(0,e$.A)(),i=r.map(e=>e.thumbnail_url),o=(0,nJ.h)({queries:i.map(e=>eP(e)),combine:e=>{let t=new Set;return e.forEach((e,n)=>{e.isError&&t.add(i[n])}),t}}),c=r.length;return c>8?c=4*Math.floor(c/4):c>4&&(c=2*Math.floor(c/2)),t=l?(0,eD.jsx)(e5.bW,{onClickRetry:()=>s()}):0!==c||a?(0,eD.jsx)("div",{className:(0,K.default)("grid items-center justify-center",n?"grid-cols-2 gap-4":"grid-cols-3 gap-1 sm:grid-cols-4 sm:gap-x-2.5 sm:gap-y-5"),children:a?Array.from({length:24}).map((e,t)=>(0,eD.jsx)(r2,{index:t,isInDrawer:n},t)):r.slice(0,c).map((e,t)=>!o.has(e.thumbnail_url)&&(0,eD.jsx)(r2,{image:e,index:t,isInDrawer:n},t))}):(0,eD.jsx)(e5.jj,{children:"No results"}),(0,eD.jsx)("div",{className:"sm:px-snc-results-padding",children:t})}function r5(e){let{image:t,imageSource:n,className:r,imgClassName:a}=e,{isSuccess:l}=eB(null==t?void 0:t.thumbnail_url);eC([null==t?void 0:t.content_url]);let s=t&&.125>=Math.abs(t.content_size.width/t.content_size.height-1);return(0,eD.jsx)("button",{className:(0,K.default)("relative aspect-square h-full w-full overflow-hidden border-[0.5px] border-token-border-light",r),onClick:()=>{ef.vm.setFocusedImage(t?{image:t,source:n}:void 0)},children:t?(0,eD.jsx)("div",{className:"relative aspect-square overflow-hidden",children:l?(0,eD.jsx)("div",{className:"h-full w-full bg-black",children:(0,eD.jsx)("img",{src:t.thumbnail_url,alt:t.content_url,className:(0,K.default)("h-full w-full object-contain hover:opacity-90",s?"object-cover":"object-contain",a)})}):(0,eD.jsx)("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"})}):(0,eD.jsx)("div",{className:"aspect-square h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}var r3=n(61097);function r4(){return(r4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var r8=e=>en.createElement("svg",r4({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 18 18"},e),q||(q=en.createElement("g",{id:"browser"},en.createElement("rect",{width:18,height:18,fill:"currentColor",rx:9}),en.createElement("path",{id:"vector",fill:"#fff",fillRule:"evenodd",d:"m11.524 10.435 1.548-4.363a.895.895 0 0 0-1.143-1.144L7.565 6.477a1.79 1.79 0 0 0-1.088 1.088L4.928 11.93a.895.895 0 0 0 1.144 1.143l4.363-1.548a1.79 1.79 0 0 0 1.088-1.09M9 10.119a1.12 1.12 0 1 0 0-2.238 1.12 1.12 0 0 0 0 2.238",clipRule:"evenodd"})))),r9=n(53102);let r7=["turnIndex","groupPosition","rawPosition"];function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach(function(t){(0,ex.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function an(e){let{searchResult:t}=e;return t.pub_date?(0,eD.jsxs)("span",{className:"text-token-text-tertiary",children:[new Date(1e3*t.pub_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})," — "]}):null}function ar(e){let{secondaryResults:t,highlightUrl:n,children:r}=e;return(0,eD.jsxs)("div",{className:"ml-10 mt-snc-1 flex flex-col gap-5",children:[t.map((e,t)=>(0,eD.jsx)("div",{className:"group relative",children:(0,eD.jsx)(as,{href:e.url,turnIndex:e.turn_index,groupPosition:[e.group_index,e.group_child_index],rawPosition:e.raw_index,target:"_blank",rel:"noopener",className:"block",children:(0,eD.jsx)(al,{result:e,isHighlighted:n===e.url,isSecondaryResult:!0})})},t)),r]})}function aa(e){var t;let{group:n,highlightUrl:r}=e,a=n.entries,[l,s]=[a[0],a.slice(1)],i=(0,en.useRef)(null),o=null!==(t=(0,ed.d)(l.url).data)&&void 0!==t?t:(0,eu.p)(l.url,"short"),c=r===l.url;return(0,en.useEffect)(()=>{c&&i.current&&i.current.scrollIntoView({behavior:"smooth",block:"center"})},[c]),(0,eD.jsxs)("div",{ref:i,className:"flex w-full min-w-0 flex-col px-snc-results-padding pb-snc-2",children:[(0,eD.jsxs)(as,{turnIndex:n.turn_index,href:l.url,groupPosition:[n.group_index,0],rawPosition:n.raw_index,target:"_blank",rel:"noopener",className:"group flex gap-6",children:[(0,eD.jsx)(ei.Z,{url:l.url,className:"icon-sm mt-0.5 rounded bg-token-main-surface-primary object-cover",size:32,minSize:20,fallback:(0,eD.jsx)(r8,{className:"icon-sm text-token-text-quaternary"})}),(0,eD.jsxs)("div",{className:"grow",children:[(0,eD.jsx)("div",{className:"line-clamp-1 h-5 text-sm text-token-text-tertiary",children:o}),(0,eD.jsx)(al,{result:l,isHighlighted:c})]})]}),s&&s.length>0&&(0,eD.jsx)(ar,{secondaryResults:s,highlightUrl:r})]})}function al(e){let{result:t,isHighlighted:n,isSecondaryResult:r}=e;return(0,eD.jsxs)(eD.Fragment,{children:[(0,eD.jsxs)("div",{className:"relative flex justify-between gap-1",children:[(0,eD.jsx)("div",{className:(0,K.default)("line-clamp-2 text-base font-semibold group-hover:text-token-link",n&&"bg-yellow-100 dark:bg-yellow-900"),children:t.title}),(0,eD.jsx)("div",{className:"invisible py-0.5 group-hover:visible",children:(0,eD.jsx)(tR,{url:t.url,title:t.title,snippet:t.snippet,turnIndex:t.turn_index})})]}),(0,eD.jsxs)("div",{className:(0,K.default)("mt-1 text-sm font-normal text-token-text-tertiary",r?"line-clamp-1":"line-clamp-2"),children:[(0,eD.jsx)(r1,{searchResult:t,className:"mr-1 mt-1 inline h-5 w-5 -translate-y-1"}),(0,eD.jsx)(an,{searchResult:t}),t.snippet]})]})}let as=(0,en.forwardRef)(function(e,t){let n=(0,eE.nn)(eE.LW.threadId),{turnIndex:r,groupPosition:a,rawPosition:l}=e,s=(0,nP.Z)(e,r7);function i(t){e.href&&n&&td.Y.logEvent(t,{url:e.href,thread_id:n,turn_index:r,group_position:a,raw_position:l})}return(0,en.useEffect)(()=>{i(td.M.searchLinkShown)},[]),(0,eD.jsx)("a",at(at({ref:t},s),{},{onClick:t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),t.stopPropagation(),i(td.M.searchLinkClicked)}}))}),ai=(0,en.forwardRef)(function(e,t){let{searchResults:n,query:r,highlightUrl:a}=e;return(0,eD.jsxs)("div",{className:"flex w-full flex-col overflow-hidden",ref:t,children:[null!=r&&(0,eD.jsxs)("div",{className:"line-clamp-1 border-t-[0.5px] border-token-border-medium px-snc-results-padding pb-snc-2 pt-5 text-sm text-token-text-tertiary dark:border-x-token-border-xheavy",children:['Search: "',r,'"']}),n.map((e,t)=>(0,eD.jsx)(aa,{group:e,highlightUrl:a},t))]})});function ao(e){let{highlightUrl:t}=e,n=(0,r9.L)(),r=(0,en.useRef)(new Map),a=(0,ee.useRouter)(),l=(0,nD.U8)(a);return(0,en.useEffect)(()=>{if(null!=l){let e=r.current.get(l);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}},[l]),(0,eD.jsx)("div",{className:"flex w-full flex-col",children:n.length>0?n.map((e,n)=>{let{query:a,results:l}=e;if(0===l.length)return null;let s=l[0].turn_index;return(0,eD.jsx)(ai,{searchResults:l,highlightUrl:t,query:0!==n&&null!=a?a:void 0,ref:e=>{e&&r.current.set(s,e)}},s)}):(0,eD.jsx)("div",{className:"px-snc-results-padding",children:(0,eD.jsx)(e3.HK,{lines:8,gapFrequency:2,width:55,widthVariance:30})})})}function ac(e){let{highlightUrl:t}=e;return(0,eD.jsx)("div",{className:"flex flex-col gap-snc-1 pb-snc-1",children:(0,eD.jsx)(ao,{highlightUrl:t})})}function au(){var e;let t=e0.ne.useStore(),n=e0.ne.useState(e=>{var t;return null===(t=e.currentSearch)||void 0===t?void 0:t.config.query}),r=null===(e=(0,eE.nn)(eE.LW.firstTurn))||void 0===e?void 0:e.user_query,a=null!=r?r:n;return(0,eD.jsxs)("div",{className:(0,K.default)("relative hidden h-20 shrink-0 border-b border-token-border-light bg-token-main-surface-primary sm:block"),children:[(0,eD.jsx)("button",{onClick:()=>{t.setState({queryInput:a,shouldShowComposer:!0})},className:"block h-full w-full cursor-pointer pl-7 pr-5 text-left text-base text-token-text-tertiary transition hover:text-token-text-primary",children:null!=a?(0,eD.jsxs)(eD.Fragment,{children:["“",null==a?void 0:a.substring(0,60),(null==a?void 0:a.length)>60?"...":"","”"]}):null}),(0,eD.jsxs)("div",{className:"absolute right-5 top-1/2 flex h-8 -translate-y-1/2 items-center gap-4",children:[(0,eD.jsx)(el.F,{}),(0,eD.jsx)(ea.Kd,{className:"h-8 w-8"})]})]})}function ad(e){let{currentTab:t}=e;return(0,eD.jsxs)("div",{className:"block sm:hidden",children:[(0,eD.jsx)("div",{className:"px-4 pt-2",children:(0,eD.jsx)(e6,{})}),(0,eD.jsx)(r3.Vv,{selectedTab:t})]})}function aA(){return(0,eD.jsx)("div",{className:"absolute inset-x-0 bottom-0 sm:inset-x-4",children:(0,eD.jsxs)("div",{className:(0,K.default)("absolute bottom-0 left-0 w-full sm:left-1/2 sm:-translate-x-1/2",ap),children:[(0,eD.jsx)(eJ,{side:"bottom",className:"hidden sm:block"}),(0,eD.jsx)(eK.$,{})]})})}function ah(e){let{currentTab:t}=e,n=G.fY.useState(e=>e.windowWidth>1400)?440:384;return(0,eD.jsxs)(J.E.div,{initial:{marginLeft:-n},animate:{marginLeft:0},exit:{marginLeft:-n},style:{width:"".concat(n,"px")},className:"relative shrink-0",children:[(0,eD.jsx)("div",{className:"no-scrollbar h-full overflow-auto py-6",children:t===nD.iY.Images?(0,eD.jsx)(r6,{isInDrawer:!0}):t===nD.iY.Sources?(0,eD.jsx)(ac,{}):null},t),(0,eD.jsx)(J.E.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-y-0 right-0 w-px bg-token-border-light"})]})}let am=(0,en.memo)(function(e){var t;let{highlightTurnIndex:n}=e,{0:r,1:a}=(0,en.useState)(nD.iY.Answer),l=(0,G.pY)(e=>(0,nD.Y)(e.windowWidth),nD.AE.Mobile),s=(0,ee.useRouter)(),i=(0,nD.NM)(s);!function(){let{imageResults:e}=ez();eC(e.map(e=>e.thumbnail_url))}(),(0,en.useEffect)(()=>{let e=(0,nD.Ld)();l===nD.AE.DesktopWithDrawer&&(r===nD.iY.Answer&&null!=e&&r!==e?(window.location.hash=e,a(e)):i!==e&&r!==nD.iY.Answer&&(0,nD.GV)(r))},[l,a,nD.GV]),(0,en.useEffect)(()=>{i!==r&&a(i)},[i,s]);let o=e0.ne.useStore();(0,en.useEffect)(()=>(0,Q.eR)(document,{keydown:e=>{"k"===e.key&&((0,Y.kK)()?e.metaKey:e.ctrlKey)&&(o.setState(e=>e.shouldShowComposer?{shouldShowComposer:!1}:{shouldShowComposer:!0}),e.preventDefault()),!o.getState().shouldShowComposer&&"alt"===r3.JW&&e.altKey&&("Backquote"===e.code&&((0,nD._d)(nD.iY.Answer),e.preventDefault()),"Digit1"===e.code&&((0,nD._d)(nD.iY.Sources),e.preventDefault()),"Digit2"===e.code&&((0,nD._d)(nD.iY.Images),e.preventDefault()))}}),[o]);let c=(0,eE.nn)(eE.LW.numTurns);return(0,eD.jsxs)("div",{className:"h-full w-full overflow-y-hidden bg-token-main-surface-primary",children:[(0,eD.jsxs)("div",{id:"__feather_screenshot",className:"flex h-full",children:[(0,eD.jsx)(eG.WU,{onResultsPage:!0,children:(0,eD.jsx)(r3.Fi,{sizeVariant:l,selectedTab:r})}),(0,eD.jsxs)("div",{className:"flex grow flex-col overflow-hidden",children:[(0,eD.jsx)(au,{}),(0,eD.jsx)("div",{className:"relative flex h-full grow overflow-hidden",children:(0,eD.jsxs)($.M,{initial:!1,children:[l===nD.AE.DesktopWithDrawer&&r!==nD.iY.Answer&&(0,eD.jsx)(ah,{currentTab:r},"drawer"),(0,eD.jsxs)("div",{className:"relative grow",children:[(t=(0,eD.jsxs)("div",{className:(0,K.default)("mx-auto flex min-h-full max-w-[100vw] flex-col",ap),children:[(0,eD.jsx)(ad,{currentTab:r}),l===nD.AE.DesktopWithDrawer?(0,eD.jsx)(rS,{highlightTurnIndex:n}):r===nD.iY.Images?(0,eD.jsx)("div",{className:"sm:pt-8",children:(0,eD.jsx)(r6,{})}):r===nD.iY.Sources?(0,eD.jsx)("div",{className:"pt-8",children:(0,eD.jsx)(ac,{})}):(0,eD.jsx)(rS,{highlightTurnIndex:n})]}),l===nD.AE.DesktopWithDrawer||r===nD.iY.Answer?(0,eD.jsx)(er.default,{className:"h-full",initialScrollBehavior:"auto",scrollViewClassName:"h-full !overflow-y-scroll sm:px-2",followButtonClassName:"hidden",scroller:()=>c>1?1/0:0,children:t}):(0,eD.jsx)("div",{className:"h-full overflow-y-scroll sm:px-2",children:t},r)),l===nD.AE.DesktopWithDrawer||r===nD.iY.Answer?(0,eD.jsx)(aA,{}):null]})]})})]})]}),(0,eD.jsx)(eH,{})]})}),ap="lg:max-w-[800px]"},61097:function(e,t,n){n.d(t,{Fi:function(){return M},JW:function(){return S},M2:function(){return E},Vv:function(){return O}});var r,a=n(2346),l=n(98601),s=n(52088),i=n(30853),o=n(47563),c=n(40833),u=n(60682),d=n(15913),A=n(19841),h=n(92379),m=n(15478),p=n(53102),g=n(26925),f=n(97193),x=n(12381),b=n(48772),v=n(651);let w=["selected","tooltipLabel","children","className"],y=["selected","tooltipLabel","children","className"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let S="alt";function E(e){switch(e){case"alt":return(0,d.kK)()?"⌥":"Alt+";case"ctrl":return"Ctrl+";case"meta":return"⌘"}}function M(e){let{sizeVariant:t,selectedTab:n}=e,r=g.ne.useStore(),a=E(S);return(0,v.jsxs)("div",{className:"hidden flex-col justify-center gap-3 sm:flex",children:[(0,v.jsx)(N,{selected:!1,onClick:()=>{r.setState({shouldShowComposer:!0})},tooltipLabel:(0,v.jsxs)("span",{children:["Search ",E((0,d.kK)()?"meta":"ctrl"),"K"]}),children:(0,v.jsx)(o.W1M,{className:"icon-lg"})}),(0,v.jsx)(N,{selected:n===b.iY.Answer,disabled:n===b.iY.Answer,onClick:()=>(0,b._d)(b.iY.Answer),tooltipLabel:(0,v.jsxs)("span",{children:["Answer ",a,"~"]}),className:"min-[1200px]:hidden",children:(0,v.jsx)(o.qtd,{className:"icon-lg"})}),(0,v.jsx)(L,{selected:n===b.iY.Sources,disabled:t!==b.AE.DesktopWithDrawer&&n===b.iY.Sources,tooltipLabel:(0,v.jsxs)("span",{children:["Sources ",a,"1"]}),onClick:()=>(0,b._d)(n===b.iY.Sources?b.iY.Answer:b.iY.Sources),children:(0,v.jsx)(o.xPt,{className:"icon-lg"})}),(0,v.jsx)(N,{selected:n===b.iY.Images,disabled:t!==b.AE.DesktopWithDrawer&&n===b.iY.Images,tooltipLabel:(0,v.jsxs)("span",{children:["Media ",a,"2"]}),onClick:()=>(0,b._d)(n===b.iY.Images?b.iY.Answer:b.iY.Images),children:(0,v.jsx)(o.Ka2,{className:"icon-lg"})})]})}function O(e){let{selectedTab:t}=e;return(0,v.jsxs)("div",{className:"flex justify-between gap-3 border-b border-token-border-light",children:[(0,v.jsx)(R,{$selected:t===b.iY.Answer,disabled:t===b.iY.Answer,onClick:()=>(0,b._d)(b.iY.Answer),children:(0,v.jsx)(o.qtd,{className:"icon-lg"})}),(0,v.jsx)(D,{children:(0,v.jsx)(R,{$selected:t===b.iY.Sources,disabled:t===b.iY.Sources,onClick:()=>(0,b._d)(b.iY.Sources),children:(0,v.jsx)(o.xPt,{className:"icon-lg"})})}),(0,v.jsx)(R,{$selected:t===b.iY.Images,disabled:t===b.iY.Images,onClick:()=>(0,b._d)(b.iY.Images),children:(0,v.jsx)(o.Ka2,{className:"icon-lg"})})]})}function N(e){let{selected:t,tooltipLabel:n,children:r,className:a}=e,l=(0,s.Z)(e,w),o=(0,v.jsx)("button",k(k({},l),{},{className:(0,A.default)("rounded-lg p-1.5 transition",t?"bg-token-main-surface-tertiary text-token-text-primary":"text-token-text-tertiary hover:bg-token-main-surface-tertiary hover:text-token-text-primary"),children:r}));return n?(0,v.jsx)(i.u,{label:n,side:"right",sideOffset:4,className:a,children:o}):o}function C(){let e=(0,x.nn)(e=>{var t,n;return(null!==(t=null===(n=e.thread)||void 0===n||null===(n=n.turns)||void 0===n?void 0:n.length)&&void 0!==t?t:0)>1||!x.LW.isLastTurnStreaming(e)}),t=(0,u.qg)(u.pm.hasSeenSncSourcesTooltip),n=(0,p.d)();return!(0,f.W6)(f.bM.isModalOpen)&&n&&!t.isLoading&&t.eligible&&e}function L(e){let{selected:t,tooltipLabel:n,children:r,className:a}=e,l=(0,s.Z)(e,y),i=C(),o=(0,d.oc)();return i&&o&&!t?(0,v.jsx)(I,{side:"right",sideOffset:8,children:(0,v.jsx)(N,k(k({selected:t,className:a},l),{},{children:r}))}):(0,v.jsx)(N,k(k({selected:t,tooltipLabel:n,className:a},l),{},{children:r}))}function D(e){let{children:t}=e,n=(0,d.oc)(),r=C();return n||!r?(0,v.jsx)(v.Fragment,{children:t}):(0,v.jsx)(I,{side:"bottom",sideOffset:-8,children:t})}function I(e){let{children:t,side:n,sideOffset:r}=e,a=(0,u.qg)(u.pm.hasSeenSncSourcesTooltip),l=()=>{(0,b._d)(b.iY.Sources),a.markAsViewed()},{0:s,1:i}=(0,h.useState)(!1);return(0,h.useEffect)(()=>{let e=setTimeout(()=>{i(!0)},3e3);return()=>clearTimeout(e)},[]),(0,v.jsx)(c.v,{side:n,show:s,theme:"bright",title:(0,v.jsx)("button",{onClick:l,className:"w-full text-left",children:"All your sources, right here"}),description:(0,v.jsx)("button",{onClick:l,className:"text-left",children:"Every link included in your search results can be found here."}),onDismiss:a.markAsViewed,sideOffset:r,badge:"none",children:(0,v.jsx)("div",{className:"w-full",children:t})})}let R=m.Z.button(r||(r=(0,a.Z)(["w-full -mb-0.5 py-3 flex justify-center transition\n",""])),e=>{let{$selected:t}=e;return t?"text-token-text-primary":"text-token-text-tertiary hover:text-token-text-primary"})},48772:function(e,t,n){n.d(t,{AE:function(){return d},GV:function(){return g},Ld:function(){return f},NM:function(){return m},U8:function(){return b},Y:function(){return A},_d:function(){return p},iY:function(){return h},po:function(){return x}});var r,a,l=n(15913),s=n(65012),i=n(34977),o=n.n(i),c=n(79930),u=n(5132);let d=((r={})[r.DesktopWithDrawer=0]="DesktopWithDrawer",r[r.DesktopWithTabs=1]="DesktopWithTabs",r[r.Mobile=2]="Mobile",r);function A(e){return e>=1200?d.DesktopWithDrawer:e>=l.cG[l._G.Small]?d.DesktopWithTabs:d.Mobile}let h=((a={}).Answer="answer",a.Images="images",a.Sources="sources",a);function m(e){var t;let n=null!==(t=e.asPath.split("#")[1])&&void 0!==t?t:h.Answer;return n.startsWith(h.Sources)?h.Sources:n}function p(e){let t=m(o()),n=A(window.innerWidth)===d.DesktopWithDrawer;e===t&&n&&[h.Images,h.Sources].includes(e)&&(e=h.Answer),e===h.Answer?o().push(o().asPath.split("#")[0]):(e===h.Sources?c.Y.logEvent(c.M.searchLinkSidebarShown):e===h.Images&&c.Y.logEvent(c.M.searchImagesSidebarShown),o().push("#".concat(e))),n&&g(e)}function g(e){e===h.Answer?s.bX.deleteCookie(s.cn.DesktopResultsTab):s.bX.setCookie(s.cn.DesktopResultsTab,e,{maxAge:u.to})}function f(){return s.bX.getCookie(s.cn.DesktopResultsTab)}function x(e){if(null!=e){o().push("#".concat(h.Sources,"-").concat(e));return}o().push("#".concat(h.Sources))}function b(e){let t=e.asPath.split("#")[1];if(null!=t&&t.startsWith(h.Sources)){let e=t.split("-");if(e.length>=2)return parseInt(e[1])}}},53102:function(e,t,n){n.d(t,{L:function(){return o},d:function(){return i}});var r=n(98601),a=n(12381);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(){return(0,a.m0)(["search_results"]).some(e=>{var t,n;return null!==(t=null===(n=e.search_results)||void 0===n||null===(n=n.entries)||void 0===n?void 0:n.length)&&void 0!==t&&t})}function o(){let e=(0,a.m0)(["index","search_results","user_query"]),t=[];for(let r of e){var n;(null===(n=r.search_results)||void 0===n?void 0:n.entries)!=null&&t.push({query:r.user_query,results:r.search_results.entries.map(e=>{var t;return s(s({},e),{},{turnIndex:null!==(t=r.index)&&void 0!==t?t:0})})})}let r=t.toReversed(),l=[],i=0,o=0;return r.forEach(e=>{let t=e.results.map(e=>{let t=0,n=o,r=e.entries.map(n=>s(s({},n),{},{group_index:i,raw_index:o++,turn_index:e.turnIndex,group_child_index:t++})),a=s(s({},e),{},{entries:r,group_index:i,raw_index:n,turn_index:e.turnIndex});return i++,a});l.push({query:e.query,results:t})}),l}},97193:function(e,t,n){n.d(t,{KP:function(){return c},W6:function(){return d},bM:function(){return A},vm:function(){return h},y6:function(){return o}});var r,a,l=n(98601),s=n(68810);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let o=((r={}).Turn="turn",r.ImagesTab="images_tab",r),c=((a={})[a.FromLeft=-1]="FromLeft",a[a.FromRight=1]="FromRight",a),u={isInternalSettingsModalOpen:!1,isSettingsModalOpen:!1,isDebugModalOpen:!1,isUsageNuxModalOpen:!1,isWelcomePageOpen:!1,focusedImage:void 0},d=(0,s.Ue)()(()=>(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e})({},u)),A={isInternalSettingsModalOpen:e=>e.isInternalSettingsModalOpen,isSettingsModalOpen:e=>e.isSettingsModalOpen,isDebugModalOpen:e=>e.isDebugModalOpen,isUsageNuxModalOpen:e=>e.isUsageNuxModalOpen,isWelcomePageOpen:e=>e.isWelcomePageOpen,getFocusedImage:e=>e.focusedImage,isModalOpen:e=>A.isInternalSettingsModalOpen(e)||A.isSettingsModalOpen(e)||A.isDebugModalOpen(e)||A.isUsageNuxModalOpen(e)||A.isWelcomePageOpen(e)||null!=A.getFocusedImage(e)},h={toggleInternalSettingsModalOpen(){d.setState(e=>({isInternalSettingsModalOpen:!e.isInternalSettingsModalOpen}))},setInternalSettingsModalOpen(e){d.setState({isInternalSettingsModalOpen:e})},toggleSettingsModalOpen(){d.setState(e=>({isSettingsModalOpen:!e.isSettingsModalOpen}))},setSettingsModalOpen(e){d.setState({isSettingsModalOpen:e})},toggleDebugModalOpen(){d.setState(e=>({isDebugModalOpen:!e.isDebugModalOpen}))},setDebugModalOpen(e){d.setState({isDebugModalOpen:e})},setFocusedImage(e){d.setState({focusedImage:e})},setUsageNuxModalOpen(e){d.setState({isUsageNuxModalOpen:e})},setWelcomePageOpen(e){d.setState({isWelcomePageOpen:e})}}},12381:function(e,t,n){n.d(t,{HV:function(){return f},LW:function(){return y},P3:function(){return j},m0:function(){return g},nn:function(){return b}});var r=n(98601),a=n(95267),l=n(15539),s=n(94206),i=n(82363),o=n(18939),c=n.n(o),u=n(89678),d=n.n(u),A=n(68810),h=n(69767);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e){return b(t=>{var n,r;return null!==(n=null===(r=t.thread)||void 0===r?void 0:r.turns.map(t=>e.reduce((e,n)=>(e[n]=t[n],e),{})))&&void 0!==n?n:[]},(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!(0,l.X)(e[n],t[n]))return!1;return!0})}function f(){return b(e=>{var t;return c()(null===(t=e.thread)||void 0===t?void 0:t.turns.flatMap(e=>{var t;return null===(t=e.model_response)||void 0===t?void 0:t.citations}))},l.X)}let x={thread:null,error:void 0},b=(0,A.Ue)((0,a.n)(()=>p({},x))),v=d()(()=>{i.U.addError(new s.v3("got updateTurn with no current thread"))},1e3),w=d()(e=>{i.U.addError(new s.v3("turn not found"),{turnIndex:e})},1e3),y={threadId:e=>{var t,n;return null!==(t=null===(n=e.thread)||void 0===n?void 0:n.id)&&void 0!==t?t:null},turns:e=>{var t,n;return null!==(t=null===(n=e.thread)||void 0===n?void 0:n.turns)&&void 0!==t?t:[]},turnCitations:e=>t=>{var n,r;return null!==(n=null===(r=t.thread)||void 0===r||null===(r=r.turns[e].model_response)||void 0===r?void 0:r.citations)&&void 0!==n?n:[]},hasResponse:e=>{var t;return(0,h.VP)(null===(t=e.thread)||void 0===t?void 0:t.turns[0])},firstTurn:e=>null!=e.thread?e.thread.turns[0]:void 0,lastTurn:e=>null!=e.thread?e.thread.turns[e.thread.turns.length-1]:void 0,numTurns:e=>{var t,n;return null!==(t=null===(n=e.thread)||void 0===n?void 0:n.turns.length)&&void 0!==t?t:0},isLastTurnStreaming:e=>{let t=null!=e.thread?e.thread.turns[e.thread.turns.length-1]:void 0;return null!=t&&(0,h.A7)(t)},hasModelResponseText:e=>{var t,n;let r=null===(t=e.thread)||void 0===t?void 0:t.turns[0];return(null==r||null===(n=r.model_response)||void 0===n?void 0:n.text)!=null},hasTurnError:e=>{var t,n;return null!==(t=null===(n=e.thread)||void 0===n?void 0:n.turns.some(h.jo))&&void 0!==t&&t},threadError:e=>e.error},j={appendTurn(e,t,n){b.setState(r=>{var a;(null===(a=r.thread)||void 0===a?void 0:a.id)!==e&&(null==n||n(e),r.thread={id:e,turns:[]}),r.thread.turns.push(t)})},updateTurn(e,t){b.setState(n=>{let r=n.thread;if(!r){v();return}let a=r.turns[e];if(!a){w(e);return}t(a)})},clearThread(){b.setState(()=>p({},x))},setError(e){b.setState(t=>{t.error=e})},setThread(e,t){b.setState(n=>{n.thread={id:e,turns:t}})}}},69767:function(e,t,n){function r(e){var t;return!!e&&(null===(t=e.model_response)||void 0===t?void 0:t.text)!=null}function a(e){return"fatal_system_error"===e.execution_status}function l(e){return"in_progress"===e.execution_status||null===e.execution_status}n.d(t,{A7:function(){return l},VP:function(){return r},jo:function(){return a}})},51837:function(e,t,n){n.d(t,{L:function(){return a}});var r=n(45120);function a(){var e;return null===(e=(0,r.fW)("2000076788"))||void 0===e?void 0:e.value}},712:function(e,t,n){n.d(t,{o:function(){return d}});var r=n(84760),a=n(92379),l=n(92054),s=n(91111),i=n(81014),o=n(26925),c=n(10798);function u(e,t,n,r,a,l,s){if(0===t.length)return[n,l];let o=t[0],c=n.findIndex(t=>t.id===e&&!t.topHit);return -1===c||(n[c].topHit=o,l!==o&&n.length>=3&&n.every(e=>e.topHit===o)&&((0,i.Y5)({query:o,metadata:a,agentSettingsOverrides:r}),s(o),l=o)),[n,l]}function d(e){let{query:t,enabled:n=!0}=e,{prefetch:d}=(0,s.A)(),A=(0,a.useRef)([]),h=(0,a.useRef)(null),m=(0,a.useRef)([]),p=(0,a.useRef)((0,l.Z)()),g=o.ne.useStore(),{userMetadata:f}=(0,s.A)(),[x]=(0,c.OR)(),b=!x.suggestions||!n||!t;b||0!==A.current.length&&A.current[A.current.length-1].query===t||(p.current=(0,l.Z)(),A.current=A.current.slice(-2),A.current.push({id:p.current,query:t,topHit:null}));let v=p.current,w=(0,a.useCallback)(async e=>{let t=await (0,i.mO)(e);return[A.current,h.current]=u(v,t,A.current,o.ne.selectAgentSettingsOverrides(g.getState()),f,h.current,d),t},[v,g,f,d]),{data:y=[],isFetched:j}=(0,r.a)({queryKey:["typeahead",t],queryFn:w,enabled:!b,networkMode:"offlineFirst"});return!b&&j&&(m.current=y,[A.current,h.current]=u(v,y,A.current,o.ne.selectAgentSettingsOverrides(g.getState()),f,h.current,d),m.current=y),n?y:m.current}}}]);
//# sourceMappingURL=2164.9bec70967291f2cd.js.map