(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5128],{28734:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(51516);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===o(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},54221:function(e,t,n){var r=0/0,o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,s="object"==typeof self&&self&&self.Object===Object&&self,f=l||s||Function("return this")(),d=Object.prototype.toString,p=Math.max,h=Math.min,v=function(){return f.Date.now()};function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==d.call(t))return r;if(b(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=b(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var l=u.test(e);return l||c.test(e)?a(e.slice(2),l?2:8):i.test(e)?r:+e}e.exports=function(e,t,n){var r,o,i,u,c,a,l=0,s=!1,f=!1,d=!0;if("function"!=typeof e)throw TypeError("Expected a function");function m(t){var n=r,i=o;return r=o=void 0,l=t,u=e.apply(i,n)}function g(e){var n=e-a,r=e-l;return void 0===a||n>=t||n<0||f&&r>=i}function w(){var e,n,r,o=v();if(g(o))return S(o);c=setTimeout(w,(e=o-a,n=o-l,r=t-e,f?h(r,i-n):r))}function S(e){return(c=void 0,d&&r)?m(e):(r=o=void 0,u)}function T(){var e,n=v(),i=g(n);if(r=arguments,o=this,a=n,i){if(void 0===c)return l=e=a,c=setTimeout(w,t),s?m(e):u;if(f)return c=setTimeout(w,t),m(a)}return void 0===c&&(c=setTimeout(w,t)),u}return t=y(t)||0,b(n)&&(s=!!n.leading,i=(f="maxWait"in n)?p(y(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),T.cancel=function(){void 0!==c&&clearTimeout(c),l=0,r=a=o=c=void 0},T.flush=function(){return void 0===c?u:S(v())},T}},89678:function(e,t,n){var r=n(6627),o=n(85365),i=n(67948),u=Math.max,c=Math.min;e.exports=function(e,t,n){var a,l,s,f,d,p,h=0,v=!1,b=!1,y=!0;if("function"!=typeof e)throw TypeError("Expected a function");function m(t){var n=a,r=l;return a=l=void 0,h=t,f=e.apply(r,n)}function g(e){var n=e-p,r=e-h;return void 0===p||n>=t||n<0||b&&r>=s}function w(){var e,n,r,i=o();if(g(i))return S(i);d=setTimeout(w,(e=i-p,n=i-h,r=t-e,b?c(r,s-n):r))}function S(e){return(d=void 0,y&&a)?m(e):(a=l=void 0,f)}function T(){var e,n=o(),r=g(n);if(a=arguments,l=this,p=n,r){if(void 0===d)return h=e=p,d=setTimeout(w,t),v?m(e):f;if(b)return clearTimeout(d),d=setTimeout(w,t),m(p)}return void 0===d&&(d=setTimeout(w,t)),f}return t=i(t)||0,r(n)&&(v=!!n.leading,s=(b="maxWait"in n)?u(i(n.maxWait)||0,t):s,y="trailing"in n?!!n.trailing:y),T.cancel=function(){void 0!==d&&clearTimeout(d),h=0,a=p=l=d=void 0},T.flush=function(){return void 0===d?f:S(o())},T}},85365:function(e,t,n){var r=n(73401);e.exports=function(){return r.Date.now()}},89311:function(e,t,n){var r,o;void 0!==(o="function"==typeof(r=function(){"use strict";var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],o={},i=null;function u(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(){for(var n=this.getLevel(),o=0;o<r.length;o++){var i=r[o];this[i]=o<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function l(e){return function(){typeof console!==t&&(a.call(this),this[e].apply(this,arguments))}}function s(r,o,i){var a;return"debug"===(a=r)&&(a="log"),typeof console!==t&&("trace"===a&&n?c:void 0!==console[a]?u(console,a):void 0!==console.log?u(console,"log"):e)||l.apply(this,arguments)}function f(e,n){var u,c,l,f=this,d="loglevel";function p(){var e;if(typeof window!==t&&d){try{e=window.localStorage[d]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=encodeURIComponent(d),o=n.indexOf(r+"=");-1!==o&&(e=/^([^;]+)/.exec(n.slice(o+r.length+1))[1])}catch(e){}return void 0===f.levels[e]&&(e=void 0),e}}function h(e){var t=e;if("string"==typeof t&&void 0!==f.levels[t.toUpperCase()]&&(t=f.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=f.levels.SILENT)return t;throw TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),f.name=e,f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=n||s,f.getLevel=function(){return null!=l?l:null!=c?c:u},f.setLevel=function(e,n){return l=h(e),!1!==n&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&d){try{window.localStorage[d]=n;return}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+n+";"}catch(e){}}}(l),a.call(f)},f.setDefaultLevel=function(e){c=h(e),p()||f.setLevel(e,!1)},f.resetLevel=function(){l=null,function(){if(typeof window!==t&&d){try{window.localStorage.removeItem(d)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),a.call(f)},f.enableAll=function(e){f.setLevel(f.levels.TRACE,e)},f.disableAll=function(e){f.setLevel(f.levels.SILENT,e)},f.rebuild=function(){if(i!==f&&(u=h(i.getLevel())),a.call(f),i===f)for(var e in o)o[e].rebuild()},u=h(i?i.getLevel():"WARN");var v=p();null!=v&&(l=h(v)),a.call(f)}(i=new f).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new f(e,i.methodFactory)),t};var d=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=d),i},i.getLoggers=function(){return o},i.default=i,i})?r.call(t,n,t,e):r)&&(e.exports=o)},52206:function(e,t,n){"use strict";n.d(t,{IC:function(){return eF},Z5:function(){return e$},qT:function(){return ej},z1:function(){return e_},u7:function(){return eL},fZ:function(){return ex},Ih:function(){return eA}});var r,o,i,u=n(92379),c=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=function e(t){var n,r,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(r=e(t[n]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r)}return o}(e))&&(r&&(r+=" "),r+=t);return r},a=n(83520),l=n(89311),s=n(9508);function f(e){return"function"==typeof e}var d=((r=function(e){Error.call(e),e.stack=Error().stack},o=function(e){r(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}).prototype=Object.create(Error.prototype),o.prototype.constructor=o,o);function p(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var h=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,n,r,o,i=this._parentage;if(i){if(this._parentage=null,Array.isArray(i))try{for(var u=(0,s.XA)(i),c=u.next();!c.done;c=u.next())c.value.remove(this)}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else i.remove(this)}var a=this.initialTeardown;if(f(a))try{a()}catch(e){o=e instanceof d?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var p=(0,s.XA)(l),h=p.next();!h.done;h=p.next()){var v=h.value;try{b(v)}catch(e){o=null!=o?o:[],e instanceof d?o=(0,s.ev)((0,s.ev)([],(0,s.CR)(o)),(0,s.CR)(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}}if(o)throw new d(o)}},t.prototype.add=function(e){var n;if(e&&e!==this){if(this.closed)b(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&p(t,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&p(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}();function v(e){return e instanceof h||e&&"closed"in e&&f(e.remove)&&f(e.add)&&f(e.unsubscribe)}function b(e){f(e)?e():e.unsubscribe()}h.EMPTY;var y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},m={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=m.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,(0,s.ev)([e,t],(0,s.CR)(n))):setTimeout.apply(void 0,(0,s.ev)([e,t],(0,s.CR)(n)))},clearTimeout:function(e){var t=m.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function g(e){m.setTimeout(function(){var t=y.onUnhandledError;if(t)t(e);else throw e})}function w(){}var S=T("C",void 0,void 0);function T(e,t,n){return{kind:e,value:t,error:n}}var k=null,E=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,v(t)&&t.add(n)):n.destination=I,n}return(0,s.ZT)(t,e),t.create=function(e,t,n){return new O(e,t,n)},t.prototype.next=function(e){this.isStopped?_(T("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?_(T("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?_(S,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(h),C=Function.prototype.bind;function x(e,t){return C.call(e,t)}var P=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Q(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Q(e)}else Q(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Q(e)}},e}(),O=function(e){function t(t,n,r){var o,i,u=e.call(this)||this;return f(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:u&&y.useDeprecatedNextContext?((i=Object.create(t)).unsubscribe=function(){return u.unsubscribe()},o={next:t.next&&x(t.next,i),error:t.error&&x(t.error,i),complete:t.complete&&x(t.complete,i)}):o=t,u.destination=new P(o),u}return(0,s.ZT)(t,e),t}(E);function Q(e){y.useDeprecatedSynchronousErrorHandling?y.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=e):g(e)}function _(e,t){var n=y.onStoppedNotification;n&&m.setTimeout(function(){return n(e,t)})}var I={closed:!0,next:w,error:function(e){throw e},complete:w},A="function"==typeof Symbol&&Symbol.observable||"@@observable";function R(e){return e}var N=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,i=(r=e)&&r instanceof E||r&&f(r.next)&&f(r.error)&&f(r.complete)&&v(r)?e:new O(e,t,n);return function(e){if(y.useDeprecatedSynchronousErrorHandling){var t=!k;if(t&&(k={errorThrown:!1,error:null}),e(),t){var n=k,r=n.errorThrown,o=n.error;if(k=null,r)throw o}}else e()}(function(){var e=o.operator,t=o.source;i.add(e?e.call(i,t):t?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=L(t))(function(t,r){var o=new O({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[A]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?R:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=L(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function L(e){var t;return null!==(t=null!=e?e:y.Promise)&&void 0!==t?t:Promise}function M(e){return function(t){if(f(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function U(e,t,n,r,o){return new j(e,t,n,r,o)}var j=function(e){function t(t,n,r,o,i,u){var c=e.call(this,t)||this;return c.onFinalize=i,c.shouldUnsubscribe=u,c._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,c._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,c}return(0,s.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),n||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(E);function D(e,t){return M(function(n,r){var o=0;n.subscribe(U(r,function(n){r.next(e.call(t,n,o++))}))})}var F=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function $(e){return f(null==e?void 0:e.then)}function J(e){return Symbol.asyncIterator&&f(null==e?void 0:e[Symbol.asyncIterator])}function q(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var z="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function W(e){return f(null==e?void 0:e[z])}function Z(e){return(0,s.FC)(this,arguments,function(){var t,n,r;return(0,s.Jh)(this,function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,(0,s.qq)(t.read())];case 3:if(r=(n=o.sent()).value,!n.done)return[3,5];return[4,(0,s.qq)(void 0)];case 4:return[2,o.sent()];case 5:return[4,(0,s.qq)(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function H(e){return f(null==e?void 0:e.getReader)}function Y(e){if(e instanceof N)return e;if(null!=e){if(f(e[A]))return new N(function(t){var n=e[A]();if(f(n.subscribe))return n.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(F(e))return new N(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()});if($(e))return new N(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,g)});if(J(e))return B(e);if(W(e))return new N(function(t){var n,r;try{for(var o=(0,s.XA)(e),i=o.next();!i.done;i=o.next()){var u=i.value;if(t.next(u),t.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()});if(H(e))return B(Z(e))}throw q(e)}function B(e){return new N(function(t){(function(e,t){var n,r,o,i;return(0,s.mG)(this,void 0,void 0,function(){var u;return(0,s.Jh)(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=(0,s.KL)(e),c.label=1;case 1:return[4,n.next()];case 2:if((r=c.sent()).done)return[3,4];if(u=r.value,t.next(u),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o={error:c.sent()},[3,11];case 6:if(c.trys.push([6,,9,10]),!(r&&!r.done&&(i=n.return)))return[3,8];return[4,i.call(n)];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function G(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function X(e){var t;return(t=e[e.length-1])&&f(t.schedule)?e.pop():void 0}function K(e,t){return void 0===t&&(t=0),M(function(n,r){n.subscribe(U(r,function(n){return G(r,e,function(){return r.next(n)},t)},function(){return G(r,e,function(){return r.complete()},t)},function(n){return G(r,e,function(){return r.error(n)},t)}))})}function V(e,t){return void 0===t&&(t=0),M(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function ee(e,t){if(!e)throw Error("Iterable cannot be null");return new N(function(n){G(n,t,function(){var r=e[Symbol.asyncIterator]();G(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}function et(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(void 0===(e=1)&&(e=1/0),function e(t,n,r){return(void 0===r&&(r=1/0),f(n))?e(function(e,r){return D(function(t,o){return n(e,t,r,o)})(Y(t(e,r)))},r):("number"==typeof n&&(r=n),M(function(e,n){var o,i,u,c,a,l,s,f,d,p,h,v;return o=r,l=[],s=0,f=0,d=!1,p=function(){!d||l.length||s||n.complete()},h=function(e){return s<o?v(e):l.push(e)},v=function(e){s++;var r=!1;Y(t(e,f++)).subscribe(U(n,function(e){null==void 0||i(e),u?h(e):n.next(e)},function(){r=!0},void 0,function(){if(r)try{for(s--;l.length&&s<o;)!function(){var e=l.shift();1?v(e):G(n,c,function(){return v(e)})}();p()}catch(e){n.error(e)}}))},e.subscribe(U(n,h,function(){d=!0,p()})),function(){null==void 0||a()}}))}(R,e))((t=X(n))?function(e,t){if(null!=e){if(f(e[A]))return Y(e).pipe(V(t),K(t));if(F(e))return new N(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})});if($(e))return Y(e).pipe(V(t),K(t));if(J(e))return ee(e,t);if(W(e))return new N(function(n){var r;return G(n,t,function(){r=e[z](),G(n,t,function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){n.error(e);return}o?n.complete():n.next(t)},0,!0)}),function(){return f(null==r?void 0:r.return)&&r.return()}});if(H(e))return ee(Z(e),t)}throw q(e)}(n,t):Y(n))}function en(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=X(e);return M(function(t,r){(n?et(e,t,n):et(e,t)).subscribe(r)})}function er(e){var t;return void 0!==e&&(!!e&&e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("track")&&void 0!==(null==(t=e.publication)?void 0:t.track)||!!e&&e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("publication")&&void 0!==e.publication)}function eo(e){return e instanceof a.Ix}Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var ei=[a.TQ.ConnectionStateChanged,a.TQ.RoomMetadataChanged,a.TQ.ActiveSpeakersChanged,a.TQ.ConnectionQualityChanged,a.TQ.ParticipantConnected,a.TQ.ParticipantDisconnected,a.TQ.ParticipantPermissionsChanged,a.TQ.ParticipantMetadataChanged,a.TQ.TrackMuted,a.TQ.TrackUnmuted,a.TQ.TrackPublished,a.TQ.TrackUnpublished,a.TQ.TrackStreamStateChanged,a.TQ.TrackSubscriptionFailed,a.TQ.TrackSubscriptionPermissionChanged,a.TQ.TrackSubscriptionStatusChanged,a.TQ.LocalTrackPublished,a.TQ.LocalTrackUnpublished];a.dd.TrackPublished,a.dd.TrackUnpublished,a.dd.TrackMuted,a.dd.TrackUnmuted,a.dd.TrackStreamStateChanged,a.dd.TrackSubscribed,a.dd.TrackUnsubscribed,a.dd.TrackSubscriptionPermissionChanged,a.dd.TrackSubscriptionFailed,a.dd.LocalTrackPublished,a.dd.LocalTrackUnpublished,a.dd.ConnectionQualityChanged,a.dd.IsSpeakingChanged,a.dd.ParticipantMetadataChanged,a.dd.ParticipantPermissionsChanged,a.dd.TrackMuted,a.dd.TrackUnmuted,a.dd.TrackPublished,a.dd.TrackUnpublished,a.dd.TrackStreamStateChanged,a.dd.TrackSubscriptionFailed,a.dd.TrackSubscriptionPermissionChanged,a.dd.TrackSubscriptionStatusChanged,a.dd.LocalTrackPublished,a.dd.LocalTrackUnpublished;var eu=l.getLogger("lk-components-js");function ec(e){return"object"==typeof e}function ea(e){return Array.isArray(e)&&e.filter(ec).length>0}function el(e){if(er(e))return e.publication;{let{source:t,name:n,participant:r}=e;if(t&&n)return r.getTrackPublications().find(e=>e.source===t&&e.trackName===n);if(n)return r.getTrackPublicationByName(n);if(t)return r.getTrackPublication(t);throw Error("At least one of source and name needs to be defined")}}function es(e,t,n=!0){let r=[e.localParticipant,...Array.from(e.remoteParticipants.values())],o=[];return r.forEach(e=>{t.forEach(t=>{let r=Array.from(e.trackPublications.values()).filter(e=>e.source===t&&(!n||e.track)).map(t=>({participant:e,publication:t,source:t.source}));o.push(...r)})}),{trackReferences:o,participants:r}}eu.setDefaultLevel("WARN"),new TextEncoder,new TextDecoder;var{load:ef,save:ed}=(i="lk-user-choices",{load:()=>(function(e){if("undefined"==typeof localStorage){eu.error("Local storage is not available.");return}try{let t=localStorage.getItem(e);if(!t){eu.warn(`Item with key ${e} does not exist in local storage.`);return}return JSON.parse(t)}catch(e){eu.error(`Error getting item from local storage: ${e}`);return}})(i),save:e=>(function(e,t){if("undefined"==typeof localStorage){eu.error("Local storage is not available.");return}try{localStorage.setItem(e,JSON.stringify(t))}catch(e){eu.error(`Error setting item to local storage: ${e}`)}})(i,e)});n(54221),"undefined"!=typeof window?u.useLayoutEffect:u.useEffect,n(44675);var ep=Object.defineProperty,eh=Object.defineProperties,ev=Object.getOwnPropertyDescriptors,eb=Object.getOwnPropertySymbols,ey=Object.prototype.hasOwnProperty,em=Object.prototype.propertyIsEnumerable,eg=(e,t,n)=>t in e?ep(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ew=(e,t)=>{for(var n in t||(t={}))ey.call(t,n)&&eg(e,n,t[n]);if(eb)for(var n of eb(t))em.call(t,n)&&eg(e,n,t[n]);return e},eS=(e,t)=>eh(e,ev(t)),eT=(e,t)=>{var n={};for(var r in e)ey.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&eb)for(var r of eb(e))0>t.indexOf(r)&&em.call(e,r)&&(n[r]=e[r]);return n},ek=(u.createContext(void 0),u.createContext(void 0));function eE(e){let t=u.useContext(ek),n=null!=e?e:t;if(!n)throw Error("No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly");return n}u.createContext(void 0);var eC=u.createContext(void 0);function ex(){let e=u.useContext(eC);if(!e)throw Error("tried to access room context outside of livekit room component");return e}function eP(e){let t=u.useContext(eC),n=null!=e?e:t;if(!n)throw Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return n}var eO=u.createContext(void 0);function eQ(...e){let t=ew({},e[0]);for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],o=r[e];"function"==typeof n&&"function"==typeof o&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&90>=e.charCodeAt(2)?t[e]=function(...e){return(...t)=>{for(let n of e)if("function"==typeof n)try{n(...t)}catch(e){console.error(e)}}}(n,o):("className"===e||"UNSAFE_className"===e)&&"string"==typeof n&&"string"==typeof o?t[e]=c(n,o):t[e]=void 0!==o?o:n}}return t}function e_(e){let t=eP(e);return function(e,t,n=!0){let[r,o]=u.useState(t);return u.useEffect(()=>{if(n&&o(t),"undefined"==typeof window||!e)return;let r=e.subscribe(o);return()=>r.unsubscribe()},[e,n]),r}(u.useMemo(()=>{var e;return(e=a.TQ.ConnectionStateChanged,new N(n=>{let r=(...e)=>{n.next(e)};return t.on(e,r),()=>{t.off(e,r)}})).pipe(D(([e])=>e),en(t.state))},[t]),t.state)}var eI={connect:!0,audio:!1,video:!1};function eA(e=[a.fQ.Source.Camera,a.fQ.Source.Microphone,a.fQ.Source.ScreenShare,a.fQ.Source.ScreenShareAudio,a.fQ.Source.Unknown],t={}){let n=eP(t.room),[r,o]=u.useState([]),[i,c]=u.useState([]),l=u.useMemo(()=>e.map(e=>ec(e)?e.source:e),[JSON.stringify(e)]);return u.useEffect(()=>{let e=(function(e,t,n){var r,o;let i=null!=(r=n.additionalRoomEvents)?r:ei,u=null==(o=n.onlySubscribed)||o;return(function(e,...t){return new N(n=>{let r=()=>{n.next(e)};return t.forEach(t=>{e.on(t,r)}),()=>{t.forEach(t=>{e.off(t,r)})}}).pipe(en(e))})(e,...Array.from(new Set([a.TQ.ParticipantConnected,a.TQ.ParticipantDisconnected,a.TQ.ConnectionStateChanged,a.TQ.LocalTrackPublished,a.TQ.LocalTrackUnpublished,a.TQ.TrackPublished,a.TQ.TrackUnpublished,a.TQ.TrackSubscriptionStatusChanged,...i]).values())).pipe(D(e=>{let n=es(e,t,u);return eu.debug(`TrackReference[] was updated. (length ${n.trackReferences.length})`,n),n}),en(es(e,t,u)))})(n,l,{additionalRoomEvents:t.updateOnlyOn,onlySubscribed:t.onlySubscribed}).subscribe(({trackReferences:e,participants:t})=>{eu.debug("setting track bundles",e,t),o(e),c(t)});return()=>e.unsubscribe()},[n,JSON.stringify(t.onlySubscribed),JSON.stringify(t.updateOnlyOn),JSON.stringify(e)]),u.useMemo(()=>{if(!ea(e))return r;{let t=function(e,t){let n=new Map;if(ea(e)){let r=e.filter(e=>e.withPlaceholder).map(e=>e.source);t.forEach(e=>{let t=e.getTrackPublications().map(e=>{var t;return null==(t=e.track)?void 0:t.source}).filter(e=>void 0!==e),o=Array.from(function(e,t){let n=new Set(e);for(let e of t)n.delete(e);return n}(new Set(r),new Set(t)));o.length>0&&n.set(e.identity,o)})}return n}(e,i),n=Array.from(r);return i.forEach(e=>{var o;t.has(e.identity)&&(null!=(o=t.get(e.identity))?o:[]).forEach(t=>{r.find(({participant:n,publication:r})=>e.identity===n.identity&&r.source===t)||(eu.debug(`Add ${t} placeholder for participant ${e.identity}.`),n.push({participant:e,source:t}))})}),n}},[r,i,e])}var eR=e=>{let t=e=>Math.sqrt(1- -1*Math.max(-100,Math.min(-10,e))/100);return e.map(e=>e===-1/0?0:t(e))},eN={bands:5,loPass:100,hiPass:600,updateInterval:10,analyserOptions:{fftSize:2048}};function eL(e,t={}){var n;let r=e instanceof a.fQ?e:null==(n=null==e?void 0:e.publication)?void 0:n.track,[o,i]=u.useState([]),c=ew(ew({},eN),t);return u.useEffect(()=>{if(!r||!(null==r?void 0:r.mediaStream))return;let{analyser:e,cleanup:n}=(0,a.OE)(r,c.analyserOptions),o=new Float32Array(e.frequencyBinCount),u=setInterval(()=>{e.getFloatFrequencyData(o);let n=new Float32Array(o.length);for(let e=0;e<o.length;e++)n[e]=o[e];let r=eR(n=n.slice(t.loPass,t.hiPass)),u=Math.ceil(r.length/c.bands),a=[];for(let e=0;e<c.bands;e++){let t=r.slice(e*u,(e+1)*u).reduce((e,t)=>e+=t,0);a.push(t/u)}i(a)},c.updateInterval);return()=>{n(),clearInterval(u)}},[r,null==r?void 0:r.mediaStream,JSON.stringify(t)]),o}function eM(e){return void 0!==e}function eU(e,t={}){var n;let[r,o]=u.useState(el(e)),[i,c]=u.useState(null==r?void 0:r.isMuted),[l,s]=u.useState(null==r?void 0:r.isSubscribed),[f,d]=u.useState(null==r?void 0:r.track),[p,h]=u.useState("landscape"),v=u.useRef(),{className:b,trackObserver:y}=u.useMemo(()=>(function(e){var t;let n=el(e),r=(function(e,...t){return new N(n=>{let r=()=>{n.next(e)};return t.forEach(t=>{e.on(t,r)}),()=>{t.forEach(t=>{e.off(t,r)})}}).pipe(en(e))})(e.participant,a.dd.TrackMuted,a.dd.TrackUnmuted,a.dd.ParticipantPermissionsChanged,a.dd.TrackPublished,a.dd.TrackUnpublished,a.dd.LocalTrackPublished,a.dd.LocalTrackUnpublished,a.dd.MediaDevicesError,a.dd.TrackSubscriptionStatusChanged).pipe(D(e=>{let{isMicrophoneEnabled:t,isCameraEnabled:n,isScreenShareEnabled:r}=e,o=e.getTrackPublication(a.fQ.Source.Microphone);return{isCameraEnabled:n,isMicrophoneEnabled:t,isScreenShareEnabled:r,cameraTrack:e.getTrackPublication(a.fQ.Source.Camera),microphoneTrack:o,participant:e}})).pipe(D(()=>el(e)),en(n));return{className:(t=e.source===a.fQ.Source.Camera||e.source===a.fQ.Source.ScreenShare?"participant-media-video":"participant-media-audio",`lk-${t}`),trackObserver:r}})(e),[null!=(n=e.participant.sid)?n:e.participant.identity,e.source,er(e)&&e.publication.trackSid]);return u.useEffect(()=>{let e=y.subscribe(e=>{eu.debug("update track",e),o(e),c(null==e?void 0:e.isMuted),s(null==e?void 0:e.isSubscribed),d(null==e?void 0:e.track)});return()=>null==e?void 0:e.unsubscribe()},[y]),u.useEffect(()=>{var n,r;return f&&(v.current&&f.detach(v.current),(null==(n=t.element)?void 0:n.current)&&!(eo(e.participant)&&(null==f?void 0:f.kind)==="audio")&&f.attach(t.element.current)),v.current=null==(r=t.element)?void 0:r.current,()=>{v.current&&(null==f||f.detach(v.current))}},[f,t.element]),u.useEffect(()=>{var e,t;"number"==typeof(null==(e=null==r?void 0:r.dimensions)?void 0:e.width)&&"number"==typeof(null==(t=null==r?void 0:r.dimensions)?void 0:t.height)&&h(r.dimensions.width>r.dimensions.height?"landscape":"portrait")},[r]),{publication:r,isMuted:i,isSubscribed:l,track:f,elementProps:function(...e){return eQ(...e.filter(eM))}(t.props,ew({className:b,"data-lk-local-participant":e.participant.isLocal,"data-lk-source":null==r?void 0:r.source},(null==r?void 0:r.kind)==="video"&&{"data-lk-orientation":p}))}}var ej=u.forwardRef(function(e,t){var{onTrackClick:n,onClick:r,onSubscriptionStatusChanged:o,trackRef:i,manageSubscription:c}=e,l=eT(e,["onTrackClick","onClick","onSubscriptionStatusChanged","trackRef","manageSubscription"]);let s=eE(i),f=u.useRef(null);u.useImperativeHandle(t,()=>f.current);let d=function(e,t){var n;let r="current"in e,o=r?t:e,{threshold:i=0,root:c=null,rootMargin:a="0%",freezeOnceVisible:l=!1,initialIsIntersecting:s=!1}=o??{},[f,d]=(0,u.useState)(null),p=r?e.current:f,[h,v]=(0,u.useState)(()=>({isIntersecting:s,entry:void 0})),b=(0,u.useRef)();b.current=null==o?void 0:o.onChange;let y=(null==(n=h.entry)?void 0:n.isIntersecting)&&l;(0,u.useEffect)(()=>{let e;if(!p||!("IntersectionObserver"in window)||y)return;let t=new IntersectionObserver(n=>{let r=Array.isArray(t.thresholds)?t.thresholds:[t.thresholds];n.forEach(t=>{let n=t.isIntersecting&&r.some(e=>t.intersectionRatio>=e);v({isIntersecting:n,entry:t}),b.current&&b.current(n,t),n&&l&&e&&(e(),e=void 0)})},{threshold:i,root:c,rootMargin:a});return t.observe(p),()=>{t.disconnect()}},[p,JSON.stringify(i),c,a,y,l]);let m=(0,u.useRef)(null);if((0,u.useEffect)(()=>{var e;p||null==(e=h.entry)||!e.target||l||y||m.current===h.entry.target||(m.current=h.entry.target,v({isIntersecting:s,entry:void 0}))},[p,h.entry,l,y,s]),r)return h.entry;let g=[d,!!h.isIntersecting,h.entry];return g.ref=g[0],g.isIntersecting=g[1],g.entry=g[2],g}(f,{}),p=function(e,t){let[n,r]=(0,u.useState)(e);return(0,u.useEffect)(()=>{let t=setTimeout(()=>{r(e)},3e3);return()=>{clearTimeout(t)}},[e,3e3]),n}(d,0);u.useEffect(()=>{c&&s.publication instanceof a.E8&&(null==p?void 0:p.isIntersecting)===!1&&(null==d?void 0:d.isIntersecting)===!1&&s.publication.setSubscribed(!1)},[p,s,c]),u.useEffect(()=>{c&&s.publication instanceof a.E8&&(null==d?void 0:d.isIntersecting)===!0&&s.publication.setSubscribed(!0)},[d,s,c]);let{elementProps:h,publication:v,isSubscribed:b}=eU(s,{element:f,props:l});return u.useEffect(()=>{null==o||o(!!b)},[b,o]),u.createElement("video",eS(ew({ref:f},h),{muted:!0,onClick:e=>{null==r||r(e),null==n||n({participant:null==s?void 0:s.participant,track:v})}}))}),eD=u.forwardRef(function(e,t){var{trackRef:n,onSubscriptionStatusChanged:r,volume:o,muted:i}=e,c=eT(e,["trackRef","onSubscriptionStatusChanged","volume","muted"]);let l=eE(n),s=u.useRef(null);u.useImperativeHandle(t,()=>s.current);let{elementProps:f,isSubscribed:d,track:p,publication:h}=eU(l,{element:s,props:c});return u.useEffect(()=>{null==r||r(!!d)},[d,r]),u.useEffect(()=>{void 0!==p&&void 0!==o&&(p instanceof a.rl?p.setVolume(o):eu.warn("Volume can only be set on remote audio tracks."))},[o,p]),u.useEffect(()=>{void 0!==h&&void 0!==i&&(h instanceof a.E8?h.setEnabled(!i):eu.warn("Can only call setEnabled on remote track publications."))},[i,h,p]),u.createElement("audio",ew({ref:s},f))}),eF=u.forwardRef(function(e,t){let{room:n,htmlProps:r}=function(e){let t=ew(ew({},eI),e),{token:n,serverUrl:r,options:o,room:i,connectOptions:c,connect:l,audio:s,video:f,screen:d,onConnected:p,onDisconnected:h,onError:v,onMediaDeviceFailure:b,onEncryptionError:y,simulateParticipants:m}=t,g=eT(t,["token","serverUrl","options","room","connectOptions","connect","audio","video","screen","onConnected","onDisconnected","onError","onMediaDeviceFailure","onEncryptionError","simulateParticipants"]);o&&i&&eu.warn("when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.");let[w,S]=u.useState();u.useEffect(()=>{S(null!=i?i:new a.du(o))},[i]);let T=u.useMemo(()=>{let{className:e}={className:"lk-room-container"};return eQ(g,{className:e})},[g]);return u.useEffect(()=>{if(!w)return;let e=()=>{let e=w.localParticipant;eu.debug("trying to publish local tracks"),Promise.all([e.setMicrophoneEnabled(!!s,"boolean"!=typeof s?s:void 0),e.setCameraEnabled(!!f,"boolean"!=typeof f?f:void 0),e.setScreenShareEnabled(!!d,"boolean"!=typeof d?d:void 0)]).catch(e=>{eu.warn(e),null==v||v(e)})},t=e=>{let t=a.CB.getFailure(e);null==b||b(t)},n=e=>{null==y||y(e)};return w.on(a.TQ.SignalConnected,e).on(a.TQ.MediaDevicesError,t).on(a.TQ.EncryptionError,n),()=>{w.off(a.TQ.SignalConnected,e).off(a.TQ.MediaDevicesError,t).off(a.TQ.EncryptionError,n)}},[w,s,f,d,v,y,b]),u.useEffect(()=>{if(w){if(m){w.simulateParticipants({participants:{count:m},publish:{audio:!0,useRealTracks:!0}});return}if(!n){eu.debug("no token yet");return}if(!r){eu.warn("no livekit url provided"),null==v||v(Error("no livekit url provided"));return}l?(eu.debug("connecting"),w.connect(r,n,c).catch(e=>{eu.warn(e),null==v||v(e)})):(eu.debug("disconnecting because connect is false"),w.disconnect())}},[l,n,JSON.stringify(c),w,v,r,m]),u.useEffect(()=>{if(!w)return;let e=e=>{switch(e){case a.em.Disconnected:h&&h();break;case a.em.Connected:p&&p()}};return w.on(a.TQ.ConnectionStateChanged,e),()=>{w.off(a.TQ.ConnectionStateChanged,e)}},[n,p,h,w]),u.useEffect(()=>{if(w)return()=>{eu.info("disconnecting on onmount"),w.disconnect()}},[w]),{room:w,htmlProps:T}}(e);return u.createElement("div",ew({ref:t},r),n&&u.createElement(eC.Provider,{value:n},u.createElement(eO.Provider,{value:e.featureFlags},e.children)))});function e$({volume:e,muted:t}){let n=eA([a.fQ.Source.Microphone,a.fQ.Source.ScreenShareAudio,a.fQ.Source.Unknown],{updateOnlyOn:[],onlySubscribed:!0}).filter(e=>!eo(e.participant)&&e.publication.kind===a.fQ.Kind.Audio);return u.createElement("div",{style:{display:"none"}},n.map(n=>u.createElement(eD,{key:function(e){if("string"==typeof e||"number"==typeof e)return`${e}`;if(e&&e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&void 0===e.publication)return`${e.participant.identity}_${e.source}_placeholder`;if(er(e))return`${e.participant.identity}_${e.publication.source}_${e.publication.trackSid}`;throw Error(`Can't generate a id for the given track reference: ${e}`)}(n),trackRef:n,volume:e,muted:t})))}}}]);
//# sourceMappingURL=5128.2c3f9f00a2831ae0.js.map