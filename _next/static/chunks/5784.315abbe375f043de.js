"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5784],{4934:function(e,t,n){n.d(t,{x:function(){return v}});var r={}.hasOwnProperty;let o={}.hasOwnProperty;var i=n(94183),a=n(87346),c=n(25035);let s=[function(e,t,n,r){if("code"===t.type&&(0,a.A)(t,r)&&("list"===e.type||e.type===t.type&&(0,a.A)(e,r)))return!1;if("spread"in n&&"boolean"==typeof n.spread){if("paragraph"===e.type&&(e.type===t.type||"definition"===t.type||"heading"===t.type&&(0,c.T)(t,r)))return;return n.spread?1:0}}],l=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],d=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:l},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:l},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:"(?:[ 	\r\n*])"},{character:"*",inConstruct:"phrasing",notInConstruct:l},{atBreak:!0,character:"+",after:"(?:[ 	\r\n])"},{atBreak:!0,character:"-",after:"(?:[ 	\r\n-])"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ 	\r\n]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:l},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:l},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:l},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:l},{atBreak:!0,character:"~"}];var h=n(97997);function u(e){return e.label||!e.identifier?e.label||"":(0,h.v)(e.identifier)}function f(e){if(!e._compiled){let t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}let p=/\r?\n|\r/g;function g(e,t){let n;let r=[],o=0,i=0;for(;n=p.exec(e);)a(e.slice(o,n.index)),r.push(n[0]),o=n.index+n[0].length,i++;return a(e.slice(o)),r.join("");function a(e){r.push(t(e,i,!e))}}var m=n(29125);function C(e,t){return e-t}function w(e,t){let n;let r=/\\(?=[!-/:-@[-`{-~])/g,o=[],i=[],a=e+t,c=-1,s=0;for(;n=r.exec(a);)o.push(n.index);for(;++c<o.length;)s!==o[c]&&i.push(e.slice(s,o[c])),i.push("\\"),s=o[c];return i.push(e.slice(s)),i.join("")}function y(e){let t=e||{},n=t.now||{},r=t.lineShift||0,o=n.line||1,i=n.column||1;return{move:function(e){let t=e||"",n=t.split(/\r?\n|\r/g),a=n[n.length-1];return o+=n.length-1,i=1===n.length?i+a.length:1+a.length+r,t},current:function(){return{now:{line:o,column:i},lineShift:r}},shift:function(e){r+=e}}}function v(e,t={}){let n={enter:function(e){return n.stack.push(e),function(){n.stack.pop()}},indentLines:g,associationId:u,containerPhrasing:A,containerFlow:I,createTracker:y,compilePattern:f,safe:V,stack:[],unsafe:[...d],join:[...s],handlers:{...i.p},options:{},indexStack:[],handle:void 0};!function e(t,n){var r,i,a,c;let s,l=-1;if(n.extensions)for(;++l<n.extensions.length;)e(t,n.extensions[l]);for(s in n)if(o.call(n,s))switch(s){case"extensions":break;case"unsafe":case"join":r=t[s],(i=n[s])&&r.push(...i);break;case"handlers":a=t[s],(c=n[s])&&Object.assign(a,c);break;default:t.options[s]=n[s]}return t}(n,t),n.options.tightDefinitions&&n.join.push(x),n.handle=function(e,t){var n=t||{};function o(t){var n=o.invalid,i=o.handlers;if(t&&r.call(t,e)&&(n=r.call(i,t[e])?i[t[e]]:o.unknown),n)return n.apply(this,arguments)}return o.handlers=n.handlers||{},o.invalid=n.invalid,o.unknown=n.unknown,o}("type",{invalid:b,unknown:k,handlers:n.handlers});let a=n.handle(e,void 0,n,{before:"\n",after:"\n",now:{line:1,column:1},lineShift:0});return a&&10!==a.charCodeAt(a.length-1)&&13!==a.charCodeAt(a.length-1)&&(a+="\n"),a}function b(e){throw Error("Cannot handle value `"+e+"`, expected node")}function k(e){throw Error("Cannot handle unknown node `"+e.type+"`")}function x(e,t){if("definition"===e.type&&e.type===t.type)return 0}function A(e,t){return function(e,t,n){let r=t.indexStack,o=e.children||[],i=[],a=-1,c=n.before;r.push(-1);let s=t.createTracker(n);for(;++a<o.length;){let l;let d=o[a];if(r[r.length-1]=a,a+1<o.length){let n=t.handle.handlers[o[a+1].type];n&&n.peek&&(n=n.peek),l=n?n(o[a+1],e,t,{before:"",after:"",...s.current()}).charAt(0):""}else l=n.after;i.length>0&&("\r"===c||"\n"===c)&&"html"===d.type&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),c=" ",(s=t.createTracker(n)).move(i.join(""))),i.push(s.move(t.handle(d,e,t,{...s.current(),before:c,after:l}))),c=i[i.length-1].slice(-1)}return r.pop(),i.join("")}(e,this,t)}function I(e,t){return function(e,t,n){let r=t.indexStack,o=e.children||[],i=t.createTracker(n),a=[],c=-1;for(r.push(-1);++c<o.length;){let n=o[c];r[r.length-1]=c,a.push(i.move(t.handle(n,e,t,{before:"\n",after:"\n",...i.current()}))),"list"!==n.type&&(t.bulletLastUsed=void 0),c<o.length-1&&a.push(i.move(function(e,t,n,r){let o=r.join.length;for(;o--;){let i=r.join[o](e,t,n,r);if(!0===i||1===i)break;if("number"==typeof i)return"\n".repeat(1+i);if(!1===i)return"\n\n<!---->\n\n"}return"\n\n"}(n,o[c+1],e,t)))}return r.pop(),a.join("")}(e,this,t)}function V(e,t){return function(e,t,n){let r=(n.before||"")+(t||"")+(n.after||""),o=[],i=[],a={},c=-1;for(;++c<e.unsafe.length;){let t;let n=e.unsafe[c];if(!(0,m.P)(e.stack,n))continue;let i=e.compilePattern(n);for(;t=i.exec(r);){let e="before"in n||!!n.atBreak,r="after"in n,i=t.index+(e?t[1].length:0);o.includes(i)?(a[i].before&&!e&&(a[i].before=!1),a[i].after&&!r&&(a[i].after=!1)):(o.push(i),a[i]={before:e,after:r})}}o.sort(C);let s=n.before?n.before.length:0,l=r.length-(n.after?n.after.length:0);for(c=-1;++c<o.length;){let e=o[c];!(e<s)&&!(e>=l)&&(!(e+1<l)||o[c+1]!==e+1||!a[e].after||a[e+1].before||a[e+1].after)&&(o[c-1]!==e-1||!a[e].before||a[e-1].before||a[e-1].after)&&(s!==e&&i.push(w(r.slice(s,e),"\\")),s=e,!/[!-/:-@[-`{-~]/.test(r.charAt(e))||n.encode&&n.encode.includes(r.charAt(e))?(i.push("&#x"+r.charCodeAt(e).toString(16).toUpperCase()+";"),s++):i.push("\\"))}return i.push(w(r.slice(s,l),n.after)),i.join("")}(this,e,t)}},80136:function(e,t,n){n.d(t,{q:function(){return i}});var r=n(60314),o=n(70348);function i(e={}){return new r.Sy({view:t=>new a(t,e)})}class a{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t,n=this.editorView.state.doc.resolve(this.cursorPos),r=!n.parent.inlineContent,o;if(r){let e=n.nodeBefore,t=n.nodeAfter;if(e||t){let n=this.editorView.nodeDOM(this.cursorPos-(e?e.nodeSize:0));if(n){let r=n.getBoundingClientRect(),i=e?r.bottom:r.top;e&&t&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),o={left:r.left,right:r.right,top:i-this.width/2,bottom:i+this.width/2}}}}if(!o){let e=this.editorView.coordsAtPos(this.cursorPos);o={left:e.left-this.width/2,right:e.left+this.width/2,top:e.top,bottom:e.bottom}}let i=this.editorView.dom.offsetParent;if(!this.element&&(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r),i&&(i!=document.body||"static"!=getComputedStyle(i).position)){let n=i.getBoundingClientRect();e=n.left-i.scrollLeft,t=n.top-i.scrollTop}else e=-pageXOffset,t=-pageYOffset;this.element.style.left=o.left-e+"px",this.element.style.top=o.top-t+"px",this.element.style.width=o.right-o.left+"px",this.element.style.height=o.bottom-o.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,i="function"==typeof r?r(this.editorView,t,e):r;if(t&&!i){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=(0,o.nj)(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}},87292:function(e,t,n){n.d(t,{IB:function(){return s},KI:function(){return a},bw:function(){return l},s6:function(){return c}});var r=n(70348),o=n(81171),i=n(60314);function a(e,t=null){return function(n,i){let{$from:a,$to:c}=n.selection,s=a.blockRange(c),l=!1,d=s;if(!s)return!1;if(s.depth>=2&&a.node(s.depth-1).type.compatibleContent(e)&&0==s.startIndex){if(0==a.index(s.depth-1))return!1;let e=n.doc.resolve(s.start-2);d=new o.Ts(e,e,s.depth),s.endIndex<s.parent.childCount&&(s=new o.Ts(a,n.doc.resolve(c.end(s.depth)),s.depth)),l=!0}let h=(0,r.nd)(d,e,t,s);return!!h&&(i&&i((function(e,t,n,i,a){let c=o.HY.empty;for(let e=n.length-1;e>=0;e--)c=o.HY.from(n[e].type.create(n[e].attrs,c));e.step(new r.FC(t.start-(i?2:0),t.end,t.start,t.end,new o.p2(c,0,0),n.length,!0));let s=0;for(let e=0;e<n.length;e++)n[e].type==a&&(s=e+1);let l=n.length-s,d=t.start+n.length-(i?2:0),h=t.parent;for(let n=t.startIndex,o=t.endIndex,i=!0;n<o;n++,i=!1)!i&&(0,r.Ax)(e.doc,d,l)&&(e.split(d,l),d+=2*l),d+=h.child(n).nodeSize;return e})(n.tr,s,h,l,e).scrollIntoView()),!0)}}function c(e,t){return function(n,a){let{$from:c,$to:s,node:l}=n.selection;if(l&&l.isBlock||c.depth<2||!c.sameParent(s))return!1;let d=c.node(-1);if(d.type!=e)return!1;if(0==c.parent.content.size&&c.node(-1).childCount==c.indexAfter(-1)){if(3==c.depth||c.node(-3).type!=e||c.index(-2)!=c.node(-2).childCount-1)return!1;if(a){let t=o.HY.empty,r=c.index(-1)?1:c.index(-2)?2:3;for(let e=c.depth-r;e>=c.depth-3;e--)t=o.HY.from(c.node(e).copy(t));let s=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3;t=t.append(o.HY.from(e.createAndFill()));let l=c.before(c.depth-(r-1)),d=n.tr.replace(l,c.after(-s),new o.p2(t,4-r,0)),h=-1;d.doc.nodesBetween(l,d.doc.content.size,(e,t)=>{if(h>-1)return!1;e.isTextblock&&0==e.content.size&&(h=t+1)}),h>-1&&d.setSelection(i.Y1.near(d.doc.resolve(h))),a(d.scrollIntoView())}return!0}let h=s.pos==c.end()?d.contentMatchAt(0).defaultType:null,u=n.tr.delete(c.pos,s.pos),f=h?[t?{type:e,attrs:t}:null,{type:h}]:void 0;return!!(0,r.Ax)(u.doc,c.pos,2,f)&&(a&&a(u.split(c.pos,2,f).scrollIntoView()),!0)}}function s(e){return function(t,n){let{$from:i,$to:a}=t.selection,c=i.blockRange(a,t=>t.childCount>0&&t.firstChild.type==e);return!!c&&(!n||(i.node(c.depth-1).type==e?function(e,t,n,i){let a=e.tr,c=i.end,s=i.$to.end(i.depth);c<s&&(a.step(new r.FC(c-1,s,c,s,new o.p2(o.HY.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new o.Ts(a.doc.resolve(i.$from.pos),a.doc.resolve(s),i.depth));let l=(0,r.k9)(i);if(null==l)return!1;a.lift(i,l);let d=a.mapping.map(c,-1)-1;return(0,r.Mn)(a.doc,d)&&a.join(d),t(a.scrollIntoView()),!0}(t,n,e,c):function(e,t,n){let i=e.tr,a=n.parent;for(let e=n.end,t=n.endIndex-1,r=n.startIndex;t>r;t--)e-=a.child(t).nodeSize,i.delete(e-1,e+1);let c=i.doc.resolve(n.start),s=c.nodeAfter;if(i.mapping.map(n.end)!=n.start+c.nodeAfter.nodeSize)return!1;let l=0==n.startIndex,d=n.endIndex==a.childCount,h=c.node(-1),u=c.index(-1);if(!h.canReplace(u+(l?0:1),u+1,s.content.append(d?o.HY.empty:o.HY.from(a))))return!1;let f=c.pos,p=f+s.nodeSize;return i.step(new r.FC(f-(l?1:0),p+(d?1:0),f+1,p-1,new o.p2((l?o.HY.empty:o.HY.from(a.copy(o.HY.empty))).append(d?o.HY.empty:o.HY.from(a.copy(o.HY.empty))),l?0:1,d?0:1),l?0:1)),t(i.scrollIntoView()),!0}(t,n,c)))}}function l(e){return function(t,n){let{$from:i,$to:a}=t.selection,c=i.blockRange(a,t=>t.childCount>0&&t.firstChild.type==e);if(!c)return!1;let s=c.startIndex;if(0==s)return!1;let l=c.parent,d=l.child(s-1);if(d.type!=e)return!1;if(n){let i=d.lastChild&&d.lastChild.type==l.type,a=o.HY.from(i?e.create():null),s=new o.p2(o.HY.from(e.create(null,o.HY.from(l.type.create(null,a)))),i?3:1,0),h=c.start,u=c.end;n(t.tr.step(new r.FC(h-(i?3:1),u,h,u,s,1,!0)).scrollIntoView())}return!0}}}}]);
//# sourceMappingURL=5784.315abbe375f043de.js.map