"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1810],{91493:function(e,t,n){n.d(t,{Z:function(){return B}});var a,i=n(97410),r=n(34608),s=n(29935),l=n(72988),o=n(68106),d=n(42420),u=n(56032),c=n(18939),m=n.n(c),f=n(92379),p=n(75172),g=n(62984),v=n(9519),h=n(19841),b=n(68306),x=n(75592),w=n(67526),M=n(80197),y=n(48198),j=n(651);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function I(e){return e.split(/[\s,]+/)}function E(e){let{value:t,onChange:n,className:a}=e,i=(0,p.Z)(),{0:r,1:s}=(0,f.useState)(""),l=(0,f.useCallback)(e=>{if(r)switch(e.key){case"Enter":case",":case" ":n([...t,...I(r).map(P)]),s(""),e.preventDefault()}},[r,n,t]);return(0,j.jsx)(x.ZP,{className:(0,h.default)("react-select-container",a),isMulti:!0,onBlur:e=>{r&&(n([...t,...I(r).map(P)]),s(r),e.preventDefault())},classNamePrefix:"react-select",components:S,inputValue:r,isClearable:!0,menuIsOpen:!1,onChange:n,onInputChange:s,onKeyDown:l,placeholder:i.formatMessage(T.placeholder),value:t,"aria-labelledby":"add-emails-label",name:"add-member-emails"})}let P=e=>({label:e,value:e,isValid:o.F.test(e)}),S={DropdownIndicator:()=>null,IndicatorsContainer:()=>null,ClearIndicator:()=>null,MultiValueRemove:()=>null,MultiValue:e=>{let t=(0,p.Z)(),n=(0,j.jsxs)("span",{className:"flex items-center gap-1",children:[(0,j.jsx)("span",{children:e.children}),(0,j.jsx)(y.tPq,{className:"icon-sm"})]}),a=e.data.isValid?n:(0,j.jsx)(M.u,{label:t.formatMessage(T.tooltipInvalidEmail,{email:e.data.value}),side:"top",children:n});return(0,j.jsx)(w.c.MultiValue,k(k({},e),{},{children:(0,j.jsx)("button",{className:(0,h.default)("m-1 cursor-pointer rounded-full border border-transparent py-1 pl-3 pr-2 text-sm text-token-text-primary",e.data.isValid?"bg-token-main-surface-secondary hover:border-token-border-medium hover:bg-token-main-surface-tertiary":"bg-red-200 text-red-500"),onClick:t=>{var n,a;null===(n=(a=e.removeProps).onClick)||void 0===n||n.call(a,t),t.preventDefault()},"aria-label":t.formatMessage(T.removeMember,{member:e.data.value}),children:a})}))}},T=(0,b.vU)({membersAdded:{id:"emailsTextarea.membersAdded",defaultMessage:"+{count} {count, plural, one {member} other {members}}"},removeMember:{id:"emailsTextarea.removeMember",defaultMessage:"Remove {member}"},tooltipInvalidEmail:{id:"emailsTextarea.tooltipInvalidEmail",defaultMessage:'"{email}" may not be a valid email'},clearAllEntries:{id:"emailsTextarea.clearAllEntries",defaultMessage:"Clear all"},placeholder:{id:"emailsTextarea.placeholder",defaultMessage:"Type an email and press enter..."}});var C=n(11121),Z=n(76781),O=n(77313),A=n(47797),D=n(31161),R=n(13271),F=n(41508);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let W=((a={})[a.INITIAL=0]="INITIAL",a[a.CSV_TABLE=1]="CSV_TABLE",a);function B(e){var t;let{workspace:n,canResendInviteEmails:a,onCancel:i,cancelButtonText:c,onSuccess:h,fullWidthButtons:b=!1}=e,x=n.isOwnerOfAccount(),{0:w,1:M}=(0,f.useState)(!1),{0:N,1:k}=(0,f.useState)(!1),I=(0,f.useRef)(null),P=n.isTeam(),S=(0,p.Z)(),{0:T,1:L}=(0,f.useState)(!0),{0:B,1:H}=(0,f.useState)(!1),{0:q,1:G}=(0,f.useState)(W.INITIAL),{0:K,1:U}=(0,f.useState)([]),{0:Q,1:$}=(0,f.useState)([]),{mutateAsync:J}=function(e,t){let n=(0,p.Z)(),a=(0,d.NL)();return(0,u.D)({mutationFn:async t=>{let{emails:a,role:i,resendEmails:r}=t,s=[],o=Math.max(5,Math.round(a.length/10));for(let e=0;e<a.length;e+=o)s.push(a.slice(e,e+o));let d=async t=>l.Z.addWorkspaceUsers(e,t,i,r).then(e=>(e.errored_emails.length>0&&D.m.danger(n.formatMessage(z.inviteMessageFailure,{emailsStr:e.errored_emails.map(e=>{let{email_address:t,error:n}=e;return"".concat(t,": ").concat(n)}).join(", ")})),e.account_invites)).catch(e=>{throw D.m.danger(e.message),e});return(await Promise.all(s.map(e=>d(e)))).flat()},onSuccess:()=>{a.invalidateQueries({queryKey:["workspace","invites",e]}),null==t||t()}})}(n.id,h),X=(0,R.uo)(),Y=null===(t=(0,R.VG)())||void 0===t||t,{0:ee,1:et}=(0,f.useState)([]);(0,f.useEffect)(()=>{if(!(null!=K&&K.length)||!(null!=X&&X.length)||Y){et([]);return}let e=X.map(e=>"@"+e.hostname.toLowerCase());et(K.map(e=>{let{email:t}=e;return t.toLowerCase()}).filter(t=>!e.some(e=>t.endsWith(e))))},[X,Y,K]);let en=_(x),ea=async e=>{var t;let n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){let e=await new Promise(e=>{if(n.size/1048576>25)e({status:"error",reason:"file_too_large"});else if("text/csv"!==n.type)e({status:"error",reason:"invalid_file_type"});else{let t=new FileReader;t.readAsText(n),t.onload=function(t){var n;let a=N,i=(null===(n=t.target)||void 0===n?void 0:n.result).split("\n"),r=new Set;e({status:"success",newRows:i.reduce((e,t)=>{let[n,i]=t.split(",").map(e=>e.trim());if(o.F.test(n)&&!r.has(n)){var s;void 0!==en[i]||a||(a=!0),e.push({email:n,role:null!==(s=en[i])&&void 0!==s?s:en.member})}return r.add(n),e},[]),hasWarning:a})}}});"success"===e.status?(U(e.newRows),G(W.CSV_TABLE),k(e.hasWarning)):"file_too_large"===e.reason?D.m.danger(S.formatMessage(z.fileTooLargeWarning,{maxSize:"".concat(25,"MB")}),{duration:5}):"invalid_file_type"===e.reason&&D.m.danger(S.formatMessage(z.fileIncorrectTypeWarning),{duration:5})}},ei=(e,t,n)=>{let a=[...K];a[e]=V(V({},a[e]),{},{[t]:n}),U(a)},er=e=>{U([...K.slice(0,e),...K.slice(e+1)])},es=(0,f.useCallback)(()=>{U([]),G(W.INITIAL),H(!1),$([])},[]),el=async()=>{H(!0);try{K.length>5&&D.m.info(S.formatMessage(z.inviteMessageLoading,{numRows:K.length}),{hasCloseButton:!0});let e=[["admin",r.r3.ADMIN],["owner",r.r3.OWNER],["member",r.r3.STANDARD]],t=(await Promise.all(m()(e.map(e=>{let[t,n]=e,a=K.filter(e=>e.role===t).map(e=>e.email);return a.length>0&&J({emails:a,role:n,resendEmails:T})})))).flat().length;t>0&&D.m.success(S.formatMessage(z.inviteSuccessToast,{numRows:t,userStr:1===t?"user":"users",workspaceName:(0,F.CV)(S,n)})),null==h||h(),es()}finally{H(!1)}},eo=(0,j.jsx)(v.z,{color:"primary",size:b?"large":"medium",disabled:B||0===K.length||ee.length>0,onClick:el,children:B?S.formatMessage(z.inviteMemberInviteSubmitButtonLoading):S.formatMessage(z.inviteMemberInviteSubmitButton)}),ed=(0,j.jsx)(v.z,{color:"primary",size:b?"large":"medium",disabled:0===Q.length,onClick:()=>{let e=new Set;U(Q.reduce((t,n)=>(e.has(n.value)||t.push(n.value),e.add(n.value),t),[]).map(e=>({email:e,role:en.member}))),G(W.CSV_TABLE)},children:S.formatMessage(z.inviteMemberInviteNextButton)});return(0,j.jsxs)("div",{className:"flex flex-col gap-2",children:[q===W.INITIAL&&(0,j.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,j.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,j.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,j.jsx)("label",{htmlFor:"upload-csv",id:"upload-csv-label",children:(0,j.jsx)(g.Z,V({},z.importCSVLabel))}),(0,j.jsxs)("span",{className:"text-sm text-token-text-tertiary",children:[(0,j.jsx)(g.Z,V(V({},w?z.helperCSVFormatHide:z.helperCSVFormatShow),{},{values:{link:e=>(0,j.jsx)("button",{className:"underline",onClick:()=>{M(!w)},children:e})}})),w&&(0,j.jsx)("pre",{className:"mt-4",children:"email,role\nuser1@company.com,member\nadmin@company.com,admin\nit@company.com,owner"})]})]}),(0,j.jsx)("input",{ref:I,type:"file",accept:".csv,text/csv",id:"upload-csv",className:"hidden",onChange:ea}),(0,j.jsx)(v.z,{color:"secondary",onClick:()=>{var e;return null===(e=I.current)||void 0===e?void 0:e.click()},children:(0,j.jsx)(g.Z,V({},z.importCSVButton))})]}),(0,j.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,j.jsx)("label",{htmlFor:"add-member-emails",id:"add-emails-label",children:(0,j.jsx)(g.Z,V({},z.addEmailsFieldName))}),(0,j.jsx)(E,{value:Q,onChange:$})]})]}),q===W.CSV_TABLE&&(0,j.jsxs)(j.Fragment,{children:[N&&(0,j.jsxs)("div",{className:"flex w-full items-center bg-yellow-100 p-4",children:[(0,j.jsx)(y.ETw,{className:"icon-sm mr-2 text-yellow-700"}),(0,j.jsx)("div",{className:"flex-grow text-yellow-700",children:(0,j.jsx)(g.Z,V({},z.unspecifiedRoleDescription))})]}),ee.length>0&&(0,j.jsx)("div",{className:"flex w-full items-center bg-red-100 p-4",children:(0,j.jsxs)("div",{className:"flex-grow text-red-700",children:[(0,j.jsx)(g.Z,V({},z.prohibitedExternalEmailDescription)),(0,j.jsx)("pre",{className:"my-1",children:ee.join(", ")}),(0,j.jsx)(g.Z,V({},z.prohibitedExternalEmailResolution))]})}),(0,j.jsxs)(A.Z.Root,{size:"normal",children:[(0,j.jsxs)(A.Z.Header,{children:[(0,j.jsx)(A.Z.HeaderCell,{children:(0,j.jsx)(g.Z,V({},z.inviteTableHeaderEmail))}),(0,j.jsx)(A.Z.HeaderCell,{className:"pl-3 dark:bg-gray-900",children:(0,j.jsx)(g.Z,V({},z.inviteTableHeaderRole))}),(0,j.jsx)(A.Z.HeaderCell,{})]}),(0,j.jsx)(A.Z.Body,{children:K.map((e,t)=>(0,j.jsxs)(A.Z.Row,{children:[(0,j.jsx)(A.Z.Cell,{children:(0,j.jsx)(C.Z,{name:"email",type:"email",value:e.email,onChange:e=>ei(t,"email",e.target.value),color:"neutral"})}),(0,j.jsx)(A.Z.Cell,{children:(0,j.jsxs)(O.Z.Root,{value:e.role,onValueChange:e=>ei(t,"role",e),children:[(0,j.jsxs)(O.Z.Trigger,{children:[(0,j.jsx)(O.Z.Value,{}),(0,j.jsx)(O.Z.Icon,{})]}),(0,j.jsx)(O.Z.Portal,{children:(0,j.jsxs)(O.Z.Content,{className:"border border-token-main-surface-secondary",children:[(0,j.jsx)(O.Z.Item,{value:en.member,children:(0,j.jsx)(g.Z,V({},z.inviteRoleMember))}),en.admin&&(0,j.jsx)(O.Z.Item,{value:en.admin,children:(0,j.jsx)(g.Z,V({},z.inviteRoleAdmin))}),en.owner&&(0,j.jsx)(O.Z.Item,{value:en.owner,children:(0,j.jsx)(g.Z,V({},z.inviteRoleOwner))})]})})]})}),(0,j.jsx)(A.Z.Cell,{textAlign:"right",children:(0,j.jsx)(y.XHJ,{onClick:()=>er(t),className:"icon-sm mr-2 cursor-pointer text-token-text-secondary"})})]},t))})]})]}),a&&L&&(0,j.jsx)("div",{className:"mt-2 flex items-center text-left text-token-text-secondary",children:(0,j.jsx)(s.Z,{id:"resend-emails",checked:T,onChange:e=>L(e.currentTarget.checked),label:S.formatMessage(z.resendEmailsFieldName)})}),q===W.INITIAL&&P&&(0,j.jsx)("div",{className:"mb-4",children:(0,j.jsx)(Z.Z,{children:(0,j.jsx)(g.Z,V({},z.teamInviteModalNote))})}),(0,j.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,j.jsx)(v.z,{color:"secondary",size:b?"large":"medium",onClick:()=>{q!==W.INITIAL?G(W.INITIAL):(es(),i())},children:q===W.INITIAL?c:S.formatMessage(z.inviteMemberInviteBackButton)}),q===W.INITIAL?ed:eo]})]})}let _=e=>{let t={member:"member"};return e&&(t.admin="admin",t.owner="owner"),t},z={importCSVLabel:{id:"adminPage.importCSVLabel",defaultMessage:"Import from CSV",description:"Name of label for import from CSV button"},helperCSVFormatHide:{id:"adminPage.helperCSVFormat",defaultMessage:'The file must include email and an optional role on each line. Roles can be "member", "admin", or "owner". <link>Hide Example</link>',description:"Instructions for formatting the import CSV, with a link to hide the example"},helperCSVFormatShow:{id:"adminPage.helperCSVFormat",defaultMessage:'The file must include email and an optional role on each line. Roles can be "member", "admin", or "owner". <link>Show Example</link>',description:"Instructions for formatting the import CSV, with a link to show an example"},importCSVButton:{id:"adminPage.importCSVButton",defaultMessage:"Upload",description:"Name of upload from CSV button"},addEmailsFieldName:{id:"adminPage.addEmailsFieldName.0",defaultMessage:"Emails",description:"Name of input for adding emails to workspace"},unspecifiedRoleDescription:{id:"adminPage.unspecifiedRoleDescription",defaultMessage:"Roles that were unspecified have been changed to Member.",description:"Description text for defaulting invite roles to member"},prohibitedExternalEmailDescription:{id:"adminPage.prohibitedExternalEmailDescription",defaultMessage:"The following emails are not a part of your organization's verified domains:",description:"Description text for error message"},prohibitedExternalEmailResolution:{id:"adminPage.prohibitedExternalEmailResolution",defaultMessage:'Either remove these emails, enable "Allow External Domain Invites" from your workspace settings, or verify these email domains.',description:"Description text for error message"},inviteTableHeaderEmail:{id:"adminPage.inviteTableHeaderEmail",defaultMessage:"Email",description:"Label for email column of invite table header"},inviteTableHeaderRole:{id:"adminPage.inviteTableHeaderRole",defaultMessage:"Role",description:"Label for role column of invite table header"},inviteRoleMember:{id:"adminPage.inviteRoleMember",defaultMessage:"Member",description:"Member role for workspace invite"},inviteRoleAdmin:{id:"adminPage.inviteRoleAdmin",defaultMessage:"Admin",description:"Admin role for workspace invite"},inviteRoleOwner:{id:"adminPage.inviteRoleOwner",defaultMessage:"Owner",description:"Owner role for workspace invite"},fileTooLargeWarning:{id:"adminPage",defaultMessage:"File is too large. Please upload a CSV file smaller than {maxSize}.",description:"Error when uploading a file that is too large"},fileIncorrectTypeWarning:{id:"adminPage",defaultMessage:"Please upload a CSV file.",description:"Error when uploading a file that is not a CSV"},resendEmailsFieldName:{id:"adminPage.resendEmailsFieldName",defaultMessage:"Resend emails for existing invites",description:"Name of checkbox input for resending emails to workspace"},teamInviteModalNote:{id:"adminPage.teamInviteModalNote",defaultMessage:"Users that accept invites will be included as additional seats on your next invoice.",description:"Note for team plan invites that additional seats will be charged"},inviteMessageLoading:{id:"adminPage.inviteMessageLoading",defaultMessage:"Sending out {numRows} invites, this may take a minute...",description:"Loading message when invites are being sent"},inviteSuccessToast:{id:"adminPage.inviteSuccessToast",defaultMessage:"Invited {numRows} {userStr} to {workspaceName}",description:"Message on successfully sending out invites"},inviteMemberInviteNextButton:{id:"adminPage.inviteMemberInviteNextButton",defaultMessage:"Next",description:"The title of the invite member modal next button"},inviteMemberInviteSubmitButton:{id:"adminPage.inviteMemberInviteSubmitButton",defaultMessage:"Send invites",description:"The title of the invite member modal submit button"},inviteMemberInviteSubmitButtonLoading:{id:"adminPage.inviteMemberInviteSubmitButtonLoading",defaultMessage:"Sending invites...",description:"Button label while inviting members"},inviteMemberInviteBackButton:{id:"adminPage.inviteMemberInviteBackButton",defaultMessage:"Back",description:"The title of the invite member modal back button"},inviteMessageFailure:{id:"adminPage.inviteMessageFailure",defaultMessage:"Unable to invite {emailsStr}",description:"Message that shows which emails were unsuccessful at being invited"}}},13271:function(e,t,n){n.d(t,{Bd:function(){return x},DD:function(){return y},Fc:function(){return M},HH:function(){return b},Ji:function(){return h},OR:function(){return j},VG:function(){return g},f_:function(){return p},sd:function(){return k},uo:function(){return v},z0:function(){return N}});var a,i=n(15316),r=n(34608),s=n(31161),l=n(72988),o=n(25968),d=n(84760),u=n(56032),c=n(42420),m=n(75172),f=n(68306);function p(e,t){return(0,d.a)({queryKey:["workspace/identity",e],queryFn:async()=>{if(void 0!==e)return await l.Z.getWorkspaceIdentitySettings(e)},enabled:t})}function g(){let e=(0,o.ec)(o.F_.workspaceId),{data:t}=p(null!=e?e:void 0,null!=e);return null==t?void 0:t.allow_external_domain_invites}function v(){let e=(0,o.ec)(o.F_.workspaceId),{data:t}=p(null!=e?e:void 0,null!=e);return(null==t?void 0:t.domains)&&(null==t?void 0:t.domains.filter(e=>"verified"==e.status))}function h(e){let t=(0,m.Z)();return(0,u.D)({mutationFn:n=>{let{shouldAutoProvision:a}=n;return l.Z.setWorkspaceShouldAutoProvision(e,a).then(e=>{let n=a?I.autoProvisionEnabledToast:I.autoProvisionDisabledToast;return s.m.success(t.formatMessage(n),{duration:3}),e}).catch(e=>{throw s.m.danger(e.message),e})}})}function b(e){let t=(0,m.Z)();return(0,u.D)({mutationFn:async n=>{let{shouldAllowExternalDomainInvites:a}=n;try{let n=await l.Z.setWorkspaceShouldDisableExternalDomainInvites(e,a),i=a?I.allowExternalDomainInvitesToast:I.disableExternalDomainInvitesToast;return s.m.success(t.formatMessage(i),{duration:3}),n}catch(e){throw s.m.danger(e.message),e}}})}function x(e){let t=(0,c.NL)();return(0,u.D)({mutationFn:t=>{let{domainId:n}=t;return l.Z.removeDomainFromWorkspace(e,n)},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]}),t.refetchQueries({queryKey:["builderProfile"]})}})}function w(e){let t=e;return t.startsWith("-----BEGIN")||(t="-----BEGIN CERTIFICATE-----\n".concat(t)),t.endsWith("CERTIFICATE-----")||(t="".concat(t,"\n-----END CERTIFICATE-----")),t}function M(e){let t=(0,c.NL)();return(0,u.D)({mutationFn:t=>{let{signInEndpoint:n,cert:a}=t;return l.Z.createSAMLConnection(e,n,w(a))},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function y(e){let t=(0,c.NL)();return(0,u.D)({mutationFn:t=>{let{connectionId:n,signInEndpoint:a,cert:i,active:r,enforcedClients:s}=t;return l.Z.updateSAMLConnection(e,n,{signInEndpoint:a,cert:void 0!==i?w(i):void 0,active:r,enforcedClients:s})},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function j(e){let t=(0,c.NL)();return(0,u.D)({mutationFn:t=>{let{connectionId:n}=t;return l.Z.deleteSAMLConnection(e,n)},onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}let N=n(15478).Z.div(a||(a=(0,i.Z)(["text-md mb-4 text-token-text-secondary"]))),k={[r.pT.VERIFIED]:(0,f.Em)({id:"i7FkyS",defaultMessage:"Verified"}),[r.pT.PENDING]:(0,f.Em)({id:"THBv/l",defaultMessage:"Pending"}),[r.pT.EXPIRED]:(0,f.Em)({id:"+sjWGK",defaultMessage:"Expired"})},I=(0,f.vU)({autoProvisionEnabledToast:{id:"workspaceIdentity.autoProvisionEnabledToast",defaultMessage:"Auto provisioning enabled for this workspace"},autoProvisionDisabledToast:{id:"workspaceIdentity.autoProvisionDisabledToast",defaultMessage:"Auto provisioning disabled for this workspace"},allowExternalDomainInvitesToast:{id:"j0jI/4",defaultMessage:"External domain invites are allowed for this workspace"},disableExternalDomainInvitesToast:{id:"67yB97",defaultMessage:"External domain invites are disabled for this workspace"}})},41508:function(e,t,n){n.d(t,{$3:function(){return c},Ap:function(){return o},CV:function(){return m},GA:function(){return u},Gk:function(){return h},bE:function(){return b},cI:function(){return p},eA:function(){return f},my:function(){return v},qH:function(){return d}});var a=n(34608),i=n(44575),r=n(25968),s=n(92379),l=n(75172);function o(){let e=(0,l.Z)(),t=e.formatMessage(x.adminRoleName),n=e.formatMessage(x.ownerRoleName),i=e.formatMessage(x.standardRoleName);return(0,s.useMemo)(()=>({[a.r3.OWNER]:n,[a.r3.ADMIN]:t,[a.r3.STANDARD]:i}),[n,t,i])}function d(e){let t=(0,l.Z)(),n=null==e?void 0:e.isTeam(),a=null==e?void 0:e.isEnterprise(),i=null==e?void 0:e.isEdu();if(e){if(n)return t.formatMessage(x.teamPlanName);if(a)return t.formatMessage(x.enterprisePlanName);if(i)return t.formatMessage(x.eduPlanName)}return t.formatMessage(x.personalPlanName)}function u(e){return m((0,l.Z)(),e)}function c(){let e=(0,i.t)();return m((0,l.Z)(),e)}function m(e,t){var n;return null==t||t.isPersonalAccount()?e.formatMessage(x.personalWorkspaceTitle):null!==(n=t.data.name)&&void 0!==n?n:e.formatMessage(x.defaultWorkspaceTitle)}function f(){var e;let t=(0,r.aF)();return null!==(e=null==t?void 0:t.email)&&void 0!==e?e:null}function p(){var e,t;let n=(0,r.aF)();return null!==(e=null!==(t=null==n?void 0:n.name)&&void 0!==t?t:null==n?void 0:n.email)&&void 0!==e?e:null}function g(){return(0,r.ec)(e=>{let{workspaces:t}=e;return t})}function v(){var e;let{data:t}=(0,i.rk)();return null!==(e=null==t?void 0:t.accountItems.filter(e=>!e.isDeactivated()))&&void 0!==e?e:[]}function h(e){let t=g().find(t=>t.id===e);return(null==t?void 0:t.role)===a.r3.OWNER}function b(e){let t=g().find(t=>t.id===e);return(null==t?void 0:t.role)===a.r3.ADMIN}let x=(0,n(68306).vU)({defaultWorkspaceTitle:{id:"useWorkspaces.defaultWorkspaceTitle",defaultMessage:"Untitled Workspace"},personalWorkspaceTitle:{id:"useWorkspaces.personalWorkspaceTitle",defaultMessage:"Personal account"},personalPlanName:{id:"useWorkspaces.personalPlanName",defaultMessage:"Personal"},enterprisePlanName:{id:"useWorkspaces.enterprisePlanName",defaultMessage:"Enterprise"},eduPlanName:{id:"useWorkspaces.eduPlanName",defaultMessage:"Edu"},teamPlanName:{id:"useWorkspaces.teamPlanName",defaultMessage:"Team"},adminRoleName:{id:"useWorkspaces.adminRoleName",defaultMessage:"Admin"},ownerRoleName:{id:"useWorkspaces.ownerRoleName",defaultMessage:"Owner"},standardRoleName:{id:"useWorkspacews.standardRoleName",defaultMessage:"Member"}})},48454:function(e,t,n){n.d(t,{A:function(){return p},b:function(){return g}});var a=n(97410),i=n(69923),r=n(54031),s=n(94035),l=n(17958),o=n(90681),d=n(19698),u=n(43612),c=n(32307);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return t?i.Ho.LoginWebAuth0:i.Ho.Auth0}function g(){let e=(0,c.useRouter)(),{value:t}=(0,d.fW)("1198030896"),n=(0,i._0)((0,o.xb)("1977905538").config.value),a=(0,l.L)();return function(){let{authType:l="signup",callbackUrl:o="/",additionalAuthParams:d={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=p(e,t,n.forwardToAuthApi),m=a();return(0,u.signIn)(c,{callbackUrl:o},f(f(f(f({prompt:"login",screen_hint:l},(0,r.gk)((0,s.f3)())),(0,i.zC)(n)),m?{use_email_otp:"true"}:{}),d)),c}}},68106:function(e,t,n){n.d(t,{F:function(){return a}});let a=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/},54031:function(e,t,n){n.d(t,{gk:function(){return i}});var a=n(99734);function i(e){return{"ext-statsig-tier":a.uG,"ext-oai-did":e}}},17958:function(e,t,n){n.d(t,{L:function(){return i}});var a=n(19698);function i(){let{layer:e}=(0,a.AH)("1346366956");return()=>e.get("use_email_otp",!1)}}}]);
//# sourceMappingURL=1810-2728913d6bcd7ffb.js.map