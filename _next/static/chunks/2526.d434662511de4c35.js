"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2526],{95204:function(e,t,n){var r,a=n(92379);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=e=>a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 34 34"},e),r||(r=a.createElement("g",{id:"icon / robot-sad"},a.createElement("path",{id:"Rectangle 49961",stroke:"currentColor",strokeWidth:2.833,d:"M4.959 9.917a2.833 2.833 0 0 1 2.833-2.834h18.417a2.833 2.833 0 0 1 2.833 2.834V21.25a5.667 5.667 0 0 1-5.667 5.667h-12.75A5.667 5.667 0 0 1 4.96 21.25z"}),a.createElement("circle",{id:"Ellipse 32520",cx:12.041,cy:14.167,r:2.125,fill:"currentColor"}),a.createElement("circle",{id:"Ellipse 32521",cx:21.959,cy:14.167,r:2.125,fill:"currentColor"}),a.createElement("path",{id:"Vector 2380",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.833,d:"M17 7.083V4.25"}),a.createElement("path",{id:"Vector 2381",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.833,d:"M4.958 14.167c-.782 0-1.416.634-1.416 1.416V17c0 .782.634 1.417 1.416 1.417v0"}),a.createElement("path",{id:"Vector 2382",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.833,d:"M29.042 14.167c.782 0 1.416.634 1.416 1.416V17c0 .782-.634 1.417-1.416 1.417v0"}),a.createElement("path",{id:"Vector 2386",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.833,d:"M19.834 21.158c-1.964-.822-3.703-.822-5.667 0"}))))},89905:function(e,t,n){n.d(t,{Z:function(){return b}});var r,a,s,i=n(2346),l=n(99333),o=n(58025),c=n(79746),u=n(19841),d=n(92379),h=n(75172),A=n(62984),m=n(15478),p=n(39358),g=n(16779),f=n(41871),x=n(651);function b(e){let{children:t,className:n,language:r,content:a,shouldWrapCode:s}=e,i=(0,d.useCallback)(()=>{(0,c.v)(a)},[a]),l=(0,h.Z)(),{isWithinDataAnalysisToolMessage:o}=(0,d.useContext)(f.cm);return(0,x.jsx)(w,{title:r,shouldWrapCode:s,headerDecoration:(0,x.jsxs)("div",{className:"flex items-center",children:[o&&(0,x.jsx)(v,{}),(0,x.jsx)(p.Z,{buttonText:l.formatMessage({id:"zIa6ZQ",defaultMessage:"Copy code"}),onCopy:i})]}),codeClassName:n,children:t})}function v(){let e=(0,o.Gt)(),{data:t=!1}=(0,o.R1)(l.sh.ShowExpandedCodeView),n=(0,h.Z)();return(0,x.jsxs)("div",{className:"mr-2 flex items-center gap-2 border-r border-token-border-medium pr-2",children:[(0,x.jsx)("label",{htmlFor:"ada-always-show",children:(0,x.jsx)(A.Z,{defaultMessage:"Always show details",id:"message.tools.codeInterpreter.alwaysShowAnalysis"})}),(0,x.jsx)(g.Z,{id:"ada-always-show",size:"small",onChange:t=>{e.mutate({setting:l.sh.ShowExpandedCodeView,value:t})},enabled:t,label:t?n.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis on",id:"message.tools.codeInterpreter.alwaysShowAnalysis.enabled"}):n.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis off",id:"message.tools.codeInterpreter.alwaysShowAnalysis.disabled"})})]})}function w(e){let{children:t,title:n,headerDecoration:r,shouldWrapCode:a=!1,className:s,codeContainerClassName:i,codeClassName:l}=e;return(0,x.jsxs)(y,{className:s,children:[(null!=n||null!=r)&&(0,x.jsxs)(j,{children:[n&&(0,x.jsx)("span",{children:n}),r]}),(0,x.jsx)(k,{className:i,children:(0,x.jsx)(M,{$shouldWrap:a,className:l,children:t})})]})}let y=m.Z.div(r||(r=(0,i.Z)(["dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"]))),j=m.Z.div(a||(a=(0,i.Z)(["flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"]))),k=function(e){let{children:t,className:n}=e;return(0,x.jsx)("div",{className:(0,u.default)("overflow-y-auto p-4",n),dir:"ltr",children:t})},M=m.Z.code(s||(s=(0,i.Z)(["",""])),e=>e.$shouldWrap?"!whitespace-pre-wrap":"!whitespace-pre")},39358:function(e,t,n){n.d(t,{Z:function(){return f}});var r,a=n(2346),s=n(98601),i=n(92379),l=n(68306),o=n(62984),c=n(15478),u=n(15174),d=n(30853),h=n(13490),A=n(651);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let g=(0,l.vU)({copy:{id:"CopyButton.copy",defaultMessage:"Copy"},copied:{id:"CopyButton.copied",defaultMessage:"Copied!"}});function f(e){let{buttonText:t,shouldChangeText:n=!0,iconClassName:r="icon-sm",onCopy:a,className:s}=e,{0:l,1:c}=(0,i.useState)(!1),m=(0,u.Z)(),f=(0,i.useCallback)(e=>{e.stopPropagation(),a(),c(!0),setTimeout(()=>{m()&&c(!1)},2e3)},[m,a]),b=t;return n&&l?b=(0,A.jsx)(o.Z,p({},g.copied)):!0===t&&(b=(0,A.jsx)(o.Z,p({},g.copy))),(0,A.jsxs)(A.Fragment,{children:[!l&&(0,A.jsx)(d.u,{label:(0,A.jsx)(o.Z,{id:"CopyButton.copyTooltip",defaultMessage:"Copy"}),sideOffset:0,children:(0,A.jsxs)(x,{onClick:f,className:s,children:[(0,A.jsx)(h.TIy,{className:r}),b]})}),l&&(0,A.jsxs)(x,{className:s,children:[(0,A.jsx)(h.$As,{className:r}),b]})]})}let x=c.Z.button(r||(r=(0,a.Z)(["flex gap-1 items-center"])))},6440:function(e,t,n){var r,a=n(2346),s=n(98601),i=n(19841),l=n(92379),o=n(15478),c=n(651);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=l.forwardRef(function(e,t){let{name:n,placeholder:r,type:a,list:s,displayName:o,onChange:u,onFocus:A,onBlur:m,value:p,saveOnBlur:g,icon:f,onInputIconClick:x,className:b,autoComplete:v,autoFocus:w,onPressEnter:y,disabled:j,maxLength:k,color:M="tertiary"}=e,{0:E,1:S}=(0,l.useState)(p),O=(0,l.useCallback)(e=>{null==m||m(e),g&&S(e.target.value)},[m,g]),C=(0,l.useCallback)(e=>{null==u||u(e),g&&S(e.target.value)},[u,g]),N=(0,l.useCallback)(e=>{"Enter"===e.key&&y&&(e.preventDefault(),y(E))},[y,E]);(0,l.useEffect)(()=>{S(p)},[p]);let L=d(d({},g?{}:{value:p}),g?{value:E}:{});return(0,c.jsxs)("div",{className:(0,i.default)("rounded-md border shadow-none","neutral"===M&&"border-transparent px-3 py-2 focus-within:border-green-500 focus-within:bg-token-main-surface-tertiary focus-within:ring-1 focus-within:ring-transparent hover:bg-token-main-surface-tertiary","tertiary"===M&&"border-token-border-medium px-3 py-2 focus-within:border-token-border-xheavy focus-within:ring-1 focus-within:ring-token-text-secondary","search"===M&&"rounded-xl border-token-border-medium bg-token-main-surface-primary p-4 focus-within:border-token-border-xheavy focus-within:ring-0 dark:border-token-border-medium dark:focus-within:border-token-border-xheavy dark:focus-within:ring-0",b),children:[(0,c.jsx)("label",{htmlFor:n,className:"block text-xs font-semibold text-token-text-primary",children:o}),(0,c.jsxs)("div",{className:(0,i.default)(o&&"mt-1","relative"),children:[(0,c.jsx)("input",d({ref:t,type:a,name:n,id:n,list:s,className:(0,i.default)("block w-full border-0 p-0 placeholder-gray-500 shadow-none outline-none focus-within:shadow-none focus-within:outline-none focus-within:ring-0 focus:border-none focus:ring-0 sm:text-sm",null!=f&&"pr-6","neutral"===M||"search"===M?"bg-transparent":"bg-token-main-surface-primary text-token-text-primary"),placeholder:r,onBlur:O,onFocus:A,onChange:C,onKeyDown:N,autoComplete:v,autoFocus:w,disabled:j,maxLength:k},L)),null!=f&&(0,c.jsx)(h,{onClick:x,children:(0,c.jsx)(f,{className:"icon-sm"})})]})]})});let h=o.Z.button(r||(r=(0,a.Z)(["absolute right-0 top-1/2 -translate-y-1/2"])))},22594:function(e,t,n){n.d(t,{D:function(){return b},Z:function(){return x}});var r,a=n(2346),s=n(21389),i=n(88600),l=n(89678),o=n.n(l),c=n(92379),u=n(75172),d=n(62984),h=n(15478),A=n(11550),m=n(6440),p=n(13490),g=n(24434),f=n(651);function x(e){let{tagOptions:t,onSubmit:n,onMoreClicked:r,onCancel:a,maxInlineTags:l=5,modalOnly:h=!1,modalTitle:x,multiple:v,children:w,allowEmptySubmit:y=!1}=e,j=(0,u.Z)(),{0:k,1:M}=(0,c.useState)(h?"modal":"inline"),{0:E,1:S}=(0,c.useState)([]),{0:O,1:C}=(0,c.useState)(void 0),N=(0,c.useCallback)(e=>{n(e),M("submitted"),setTimeout(()=>{M("closed")},1500)},[n]),L=(0,c.useMemo)(()=>o()(N,500),[N]),R=e=>{let t=[];return S(t=v?E.includes(e)?E.filter(t=>t!==e):[...E,e]:[e]),t},D=()=>{N({tags:E,textFeedback:O,tagChoices:P,source:"modal"})},P=t.map(e=>e.value),U=function(e){let t={};return e.forEach(e=>{var n;let r=null!==(n=e.group)&&void 0!==n?n:"Default";t[r]||(t[r]=[]),t[r].push(e)}),t}(t),T=Object.keys(U);return(0,f.jsxs)(f.Fragment,{children:[!h&&(0,f.jsx)(s.M,{children:"closed"!==k&&(0,f.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"min-h-[96px] w-full",children:["submitted"===k&&(0,f.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-center",children:(0,f.jsx)("div",{className:"inline-flex rounded-lg border border-token-border-light p-4",children:(0,f.jsx)("div",{className:"text-sm",children:(0,f.jsx)(d.Z,{id:"ConversationTurnInlineMessageFeedback.submitted",defaultMessage:"Thanks for your feedback!"})})})}),["inline","modal"].includes(k)&&(0,f.jsxs)("div",{className:"relative mt-2 flex w-full flex-col gap-3 rounded-lg border border-token-border-light p-4",children:[(0,f.jsx)("button",{className:"absolute right-4 top-4 text-sm font-bold",onClick:()=>{M("closed"),L.cancel(),null==a||a()},children:(0,f.jsx)(p.tPq,{className:"icon-md text-token-text-secondary hover:text-token-text-primary"})}),(0,f.jsx)("div",{className:"text-sm text-token-text-secondary",children:(0,f.jsx)(d.Z,{id:"ConversationTurnInlineMessageFeedback.inlineTitle",defaultMessage:"Tell us more:"})}),(0,f.jsxs)("div",{className:"flex flex-wrap gap-3",children:[t.slice(0,l).map(e=>(0,f.jsx)(b,{$selected:E.includes(e.value),onClick:()=>{L({tags:R(e.value),tagChoices:P,source:"inline"})},children:e.label},e.value)),(0,f.jsx)(b,{onClick:()=>{null==r||r(),L.cancel(),M("modal")},children:(0,f.jsx)(d.Z,{id:"ConversationTurnInlineMessageFeedback.moreOptions.1",defaultMessage:"More..."})})]})]})]},"main")}),"modal"===k&&(0,f.jsxs)(g.Z,{type:"success",isOpen:!0,className:"max-w-xl",size:"custom",title:null!=x?x:(0,f.jsx)(d.Z,{id:"ConversationTurnInlineMessageFeedback.modalTitle",defaultMessage:"Provide additional feedback"}),onClose:()=>{S([]),M(h?"closed":"inline"),h&&(null==a||a())},showCloseButton:!0,primaryButton:(0,f.jsx)(A.z,{color:"primary",disabled:0===E.length&&!O&&!y,onClick:D,children:(0,f.jsx)(d.Z,{id:"ConversationTurnInlineMessageFeedback.submit",defaultMessage:"Submit"})}),rootClassName:"z-50",children:[(0,f.jsx)("div",{className:"flex flex-col gap-6",children:T.map(e=>(0,f.jsxs)("div",{children:[T.length>1&&(0,f.jsx)("div",{className:"mb-3 text-sm font-semibold",children:e}),(0,f.jsx)("div",{className:"flex flex-wrap gap-3",children:U[e].map(e=>(0,f.jsx)(b,{$selected:E.includes(e.value),onClick:()=>R(e.value),children:e.label},e.value))},e)]},e))}),(0,f.jsx)(m.Z,{name:"feedback",type:"text",className:"mt-6",placeholder:j.formatMessage({id:"ConversationTurnInlineMessageFeedback.feedbackPlaceholder.1",defaultMessage:"(Optional) Feel free to add specific details"}),value:null!=O?O:"",onChange:e=>C(e.target.value),onPressEnter:D}),w]})]})}let b=h.Z.button(r||(r=(0,a.Z)(["\n  rounded-lg border border-token-border-light px-3 py-1 text-sm text-token-text-secondary hover:text-token-text-primary hover:bg-token-main-surface-secondary\n  ","\n"])),e=>{let{$selected:t}=e;return t&&"!bg-token-text-primary !text-token-main-surface-primary"})},44885:function(e,t,n){n.d(t,{R3:function(){return u},Zl:function(){return A},fL:function(){return d}});var r=n(98601),a=n(23763),s=n.n(a),i=n(56290);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}class o{constructor(e,t){(0,r.Z)(this,"requestUpdateRaf",null),(0,r.Z)(this,"_requestUpdate",()=>{this.requestUpdateRaf||(this.requestUpdateRaf=window.requestAnimationFrame(()=>{this._update(),this.requestUpdateRaf=null}))}),this.updateReactComponentDisplay=t}destroy(){this.requestUpdateRaf&&(window.cancelAnimationFrame(this.requestUpdateRaf),this.requestUpdateRaf=null)}}class c extends o{constructor(e,t){super(e,t),(0,r.Z)(this,"_update",()=>{this.updateReactComponentDisplay((0,i.$w)(this.textMessageParts,this.displayedTextLength))}),this.updateReactComponentDisplay=t,this.textMessageParts=e,this.textMessagePartsTextLength=(0,i.Vh)(this.textMessageParts).length,this.displayedTextLength=this.textMessagePartsTextLength,this.displayNextCharDelayMs=c.MAX_BUFFERING_MS_PER_CHAR}displayNextChar(){this.displayNextCharTimeout=void 0,this.isBuffering()&&(this.displayedTextLength++,this._requestUpdate(),this.displayNextCharTimeout=window.setTimeout(()=>this.displayNextChar(),this.displayNextCharDelayMs))}isBuffering(){return this.displayedTextLength<this.textMessagePartsTextLength}onMessagePartsUpdated(e){this.textMessageParts=e,this.textMessagePartsTextLength=(0,i.Vh)(this.textMessageParts).length;let t=this.textMessagePartsTextLength-this.displayedTextLength;if(t>0){let e=c.MAX_BUFFERING_LAG_MS/t;this.displayNextCharDelayMs=Math.min(e,c.MAX_BUFFERING_MS_PER_CHAR)}null==this.displayNextCharTimeout&&this.displayNextChar()}destroy(){super.destroy(),window.clearTimeout(this.displayNextCharTimeout)}}(0,r.Z)(c,"MAX_BUFFERING_LAG_MS",500),(0,r.Z)(c,"MAX_BUFFERING_MS_PER_CHAR",30);class u extends o{constructor(e,t){super(e,t),(0,r.Z)(this,"_update",()=>{this.updateReactComponentDisplay((0,i.$w)(this.textMessageParts,this.displayedTextLength))}),this.updateReactComponentDisplay=t,this.textMessageParts=e,this.textMessagePartsTextLength=(0,i.Vh)(this.textMessageParts).length,this.displayedTextLength=this.textMessagePartsTextLength,this.chunkLength=0}displayNextChunk(){this.displayNextChunkTimeout=void 0,this.isBuffering()&&(this.displayedTextLength=Math.min(this.displayedTextLength+this.chunkLength,this.textMessagePartsTextLength),this._requestUpdate(),this.displayNextChunkTimeout=window.setTimeout(()=>this.displayNextChunk(),u.UPDATE_FREQUENCY_MS))}isBuffering(){return this.displayedTextLength<this.textMessagePartsTextLength}onMessagePartsUpdated(e){this.textMessageParts=e,this.textMessagePartsTextLength=(0,i.Vh)(this.textMessageParts).length;let t=this.textMessagePartsTextLength-this.displayedTextLength;t>=u.MIN_CHARS_BEHIND_TO_CATCHUP?(this.chunkLength=Math.ceil(t*u.UPDATE_FREQUENCY_MS/u.CATCHUP_TIME_MS),null==this.displayNextChunkTimeout&&this.displayNextChunk()):(this.displayNextChunkTimeout=void 0,window.clearTimeout(this.displayNextChunkTimeout),this.displayedTextLength=this.textMessagePartsTextLength,this.updateReactComponentDisplay((0,i.$w)(this.textMessageParts,this.displayedTextLength)))}destroy(){super.destroy(),window.clearTimeout(this.displayNextChunkTimeout)}}(0,r.Z)(u,"MIN_CHARS_BEHIND_TO_CATCHUP",20),(0,r.Z)(u,"CATCHUP_TIME_MS",300),(0,r.Z)(u,"UPDATE_FREQUENCY_MS",30);class d extends o{constructor(e,t,n){var a;super(e,t),(0,r.Z)(this,"LAG_FACTORS",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({".":15,"!":15,"?":15,"\n":15,",":8,":":8,";":8,DEFAULT_LAG_FACTOR:.9,BUFFER_FACTOR:.08},window.__PUNCTUATION_BUFFER_LAG_FACTORS)),(0,r.Z)(this,"_update",()=>{let e=(0,i.$w)(this.textMessageParts,this.displayedTextLength);this.updateReactComponentDisplay(e)}),(0,r.Z)(this,"_throttledDebugLog",s()(e=>{this.debug&&console.debug(e)},500,{leading:!0,trailing:!0})),this.updateReactComponentDisplay=t,this.textMessageParts=e,this.textMessagePartsTextLength=(0,i.Vh)(this.textMessageParts).length,this.displayedTextLength=this.textMessagePartsTextLength,this.concatenatedText=(0,i.Vh)(this.textMessageParts),this.isActivelyStreaming=!1,this.debug=null!==(a=null==n?void 0:n.debug)&&void 0!==a&&a,this.streamStartMs=0,this.averageMsPerChar=0,this.debug&&console.debug(["PunctuationBuffer:","[lagFactors: ".concat(JSON.stringify(this.LAG_FACTORS,null,2),"]")].join("\n"))}displayNextChar(){this.displayNextCharTimeout=void 0,this.isBuffering()&&(this.displayedTextLength++,this._requestUpdate(),this.displayNextCharTimeout=window.setTimeout(()=>this.displayNextChar(),this._getNextCharDelayMs()))}isBuffering(){return this.displayedTextLength<this.textMessagePartsTextLength}onMessagePartsUpdated(e,t){this.textMessageParts=e,this.isActivelyStreaming=t;let n=(0,i.Vh)(this.textMessageParts);this.concatenatedText=n,this.textMessagePartsTextLength=n.length,0===this.streamStartMs?this.streamStartMs=Date.now():this.averageMsPerChar=(Date.now()-this.streamStartMs)/this.textMessagePartsTextLength,this.displayNextCharTimeout||this.displayNextChar()}destroy(){super.destroy(),window.clearTimeout(this.displayNextCharTimeout)}_getNextCharDelayMs(){var e;let t=this.concatenatedText[this.displayedTextLength-1],n=this.textMessagePartsTextLength-this.displayedTextLength,r=1/Math.max(n*this.LAG_FACTORS.BUFFER_FACTOR,1),a=(null!==(e=this.LAG_FACTORS[t])&&void 0!==e?e:this.LAG_FACTORS.DEFAULT_LAG_FACTOR)*r,s=this.averageMsPerChar*a;return this._throttledDebugLog(["PunctuationBuffer:","[lagMs: ".concat(s,"]"),'[lastChar: "'.concat(t,'"]'),"[averageMsPerChar: ".concat(this.averageMsPerChar,"]"),"[lagFactor: ".concat(a,"]"),"[bufferLagFactor: ".concat(r,"]"),"[numBufferedChars: ".concat(n,"]"),"==="].join("\n")),s}}function h(e){return"text"===e.type}class A{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,r.Z)(this,"updateReactComponentDisplay",e=>{let t=e.filter(h).map(e=>e.text).join("");this.onFlush(t)}),this.buffer=new e([n],this.updateReactComponentDisplay),this.onFlush=t,this.text=n}appendText(e){this.text+=e,this.buffer.onMessagePartsUpdated([this.text],!0)}setText(e){this.text=e,this.buffer.onMessagePartsUpdated([this.text],!0)}isBuffering(){return this.buffer.isBuffering()}}},56290:function(e,t,n){n.d(t,{$w:function(){return i},Lm:function(){return l},Qq:function(){return s},Vh:function(){return a}});var r=n(16757);function a(e){return e.map(e=>"string"==typeof e?e:"").join("")}function s(e){return e.map(e=>"text"===e.type?e.text:"").join("\n")}function i(e,t){let n=[],a=0;for(let s=0;s<e.length;s++){let i=e[s];if("string"==typeof i){if(null!=t&&t<a+i.length){n.push({type:"text",text:i.slice(0,t-a)});break}n.push({type:"text",text:i}),a+=i.length}else if(i.content_type===r.wW.ImageAssetPointer){let e=s>0?n[s-1]:null;(null==e?void 0:e.type)==="images"?e.imageAssets.push(i):n.push({type:"images",imageAssets:[i]})}else i.content_type===r.wW.AudioTranscription&&n.push({type:"transcription",text:i.text})}return n}function l(e){let{isUserTurn:t,parts:n}=e;if(!t)return i(n);let a={text:[],images:[]};for(let e=0;e<n.length;e++){let t=n[e];"string"==typeof t?t.trim().length>0&&a.text.push({type:"text",text:t}):t.content_type===r.wW.AudioTranscription?a.text.push({type:"transcription",text:t.text}):t.content_type===r.wW.ImageAssetPointer&&a.images.push(t)}let s=[];return a.images.length>0&&s.unshift({type:"images",imageAssets:a.images}),s.push(...a.text.map(e=>({type:e.type,text:e.text}))),s}},40833:function(e,t,n){n.d(t,{v:function(){return A}});var r=n(98601),a=n(10449),s=n(19841),i=n(92379),l=n(62984),o=n(68306),c=n(13490),u=n(651);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e){let{align:t,arrowPadding:n,alignOffset:r,show:o,onDismiss:d,children:A,title:p,side:g,sideOffset:f,theme:x="default",badge:b="new",description:v,dismissOnOutsideClick:w=!1}=e,y=(0,i.useRef)(null);return(0,u.jsxs)(a.fC,{open:o,onOpenChange:e=>{e||d()},children:[(0,u.jsx)(a.xz,{asChild:!0,onClick:()=>{d()},ref:y,children:A}),(0,u.jsx)(a.h_,{children:(0,u.jsxs)(a.VY,{arrowPadding:n,alignOffset:r,align:t,side:g,sideOffset:f,onOpenAutoFocus:e=>{e.preventDefault()},onCloseAutoFocus:e=>{e.preventDefault()},onInteractOutside:e=>{var t;e.target instanceof Element&&(null===(t=y.current)||void 0===t?void 0:t.contains(e.target))?e.preventDefault():w?d():e.preventDefault()},updatePositionStrategy:"always",className:(0,s.default)("relative z-10 animate-slideLeftAndFade select-none rounded-xl p-4 text-sm shadow-sm","default"===x?"bg-gray-900 text-white dark:bg-gray-50 dark:text-gray-700":"bg-blue-400 text-white"),children:[(0,u.jsxs)("div",{className:"flex max-w-xs flex-col gap-1",children:[(0,u.jsxs)("div",{className:"mb-0.5 flex gap-2",children:["new"===b?(0,u.jsx)("span",{className:(0,s.default)("rounded px-1.5 py-0.5 text-[10px] font-semibold uppercase leading-normal","default"===x?"bg-green-500 text-white":"bg-white text-blue-selection"),children:(0,u.jsx)(l.Z,h({},m.new))}):"beta"===b&&(0,u.jsx)("span",{className:"rounded-full bg-blue-100 px-1.5 text-[10px] font-semibold text-blue-600",children:(0,u.jsx)(l.Z,h({},m.beta))}),(0,u.jsx)("div",{className:"grow font-semibold",children:p}),(0,u.jsx)(a.x8,{className:"-my-1 -mr-1 p-1 opacity-70 transition hover:opacity-100",children:(0,u.jsx)(c.tPq,{className:"icon-sm"})})]}),void 0!==v&&(0,u.jsx)("div",{className:"",children:v})]}),(0,u.jsx)(a.Eh,{asChild:!0,children:(0,u.jsx)("div",{className:(0,s.default)("relative top-[-6px] h-3 w-3 rotate-45 transform rounded-br-sm","default"===x?"bg-gray-900 dark:bg-gray-50":"bg-blue-400")})})]})})]})}let m=(0,o.vU)({new:{id:"announcementTooltip.new",defaultMessage:"New"},beta:{id:"announcementTooltip.beta",defaultMessage:"Beta"}})},7243:function(e,t,n){n.d(t,{HK:function(){return m},Lw:function(){return g},l$:function(){return A}});var r,a=n(98601),s=n(2346);n(39696);var i=n(19841),l=n(88600),o=n(92379),c=n(15478),u=n(651);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e){let{lines:t=1,variance:n=0,size:r="base",width:a=50,widthVariance:s=50,className:c}=e,{0:d}=(0,o.useState)(Array.from({length:t+Math.random()*(null!=n?n:0)},()=>a+Math.random()*s)),h="";switch(r){case"sm":h="h-3 mb-2 mt-0.5";break;case"base":h="h-4 my-2";break;case"lg":h="h-5 my-2"}return(0,u.jsx)(u.Fragment,{children:d.map((e,t)=>(0,u.jsx)("div",{className:(0,i.default)("relative w-full overflow-hidden rounded-md bg-token-sidebar-surface-secondary",h,c),style:{width:"".concat(e,"%")},children:(0,u.jsx)(l.E.div,{className:"absolute left-0 top-0 h-full w-full rotate-45 bg-gradient-to-r from-transparent via-black/20 to-transparent opacity-50 dark:via-white/5",animate:{x:["-100%","100%"],opacity:[1,0,1],transition:{repeat:1/0,repeatType:"loop",duration:1.5+t}}})},t))})}function m(e){let{lines:t=1,indexOffset:n=0,variance:r=0,width:a=50,widthVariance:s=50,gapFrequency:l=0,scaleUpAnimation:c,className:d}=e,h=(0,o.useMemo)(()=>Array.from({length:t+Math.random()*(null!=r?r:0)},()=>a+Math.random()*s),[t,r,a,s]);return(0,u.jsx)(p,{className:d,children:h.map((e,t)=>(0,u.jsx)(g,{index:t+n,width:e,className:(0,i.default)(l>0&&(t+1)%l==0&&"mb-snc-1"),customAnimation:c?{initial:{scaleX:c.initialScaleX},animate:{scaleX:1},transition:{scaleX:{duration:c.duration,ease:"easeInOut",delay:.07*t}}}:void 0},t))})}let p=c.Z.div(r||(r=(0,s.Z)(["flex flex-col items-start gap-2"])));function g(e){let{index:t,width:n,className:r,customAnimation:a}=e,{initial:s,animate:o,transition:c}=null!=a?a:{initial:{},animate:{},transition:{}};return(0,u.jsx)(l.E.div,{className:(0,i.default)("h-5 origin-left rounded-md bg-token-border-light dark:bg-white/10",r),style:{width:"".concat(n,"%")},initial:h({opacity:1},s),animate:h({opacity:[1,.4]},o),transition:h({opacity:{repeat:1/0,repeatType:"reverse",duration:.85,ease:"easeInOut",delay:.07*t}},c)})}},65787:function(e,t,n){n.d(t,{F:function(){return A}});var r=n(11550),a=n(13490),s=n(15913),i=n(30474),l=n(21389),o=n(88600),c=n(92379),u=n(62984),d=n(26925),h=n(651);function A(){let e=(0,i.L)(()=>"1"===document.documentElement.dataset.searchExtension),t=d.ne.useStore(),{0:n,1:A}=(0,c.useState)(()=>t.getState().hasSearched&&!t.getState().hasDismissedExtensionUpsell),m=()=>{window.open("https://chromewebstore.google.com/detail/searchgpt/ejcfepkfckglbgocfkanmcdngdijcgld")},p=!1===e&&(0,s.h6)()&&n;return(0,h.jsx)(l.M,{children:p&&(0,h.jsx)(o.E.div,{exit:{width:0,opacity:0},className:"overflow-hidden",children:(0,h.jsxs)(r.z,{size:"small",color:"secondary",onClick:()=>{m()},className:"w-full overflow-hidden whitespace-nowrap",children:[(0,h.jsx)(u.Z,{id:"OcC3ls",defaultMessage:"Set as search engine"}),(0,h.jsx)("button",{onClick:e=>{e.stopPropagation(),A(!1),t.dismissExtensionUpsell()},className:"-mr-1.5 ml-1 flex p-0.5 text-token-text-tertiary transition hover:text-token-text-primary",children:(0,h.jsx)(a.tPq,{className:"icon-xs"})})]})})})}},67330:function(e,t,n){n.d(t,{aE:function(){return u},bW:function(){return c},jj:function(){return o}});var r=n(82363),a=n(92379),s=n(64925),i=n(95204),l=n(651);function o(e){let{children:t}=e;return(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-1 text-sm font-semibold text-token-text-tertiary",children:[(0,l.jsx)(i.Z,{className:"icon-2xl"}),t]})})}function c(e){let{onClickRetry:t,children:n}=e;return(0,l.jsxs)(o,{children:[(0,l.jsxs)("div",{children:["Error."," ",(0,l.jsx)("button",{onClick:t,className:"inline font-semibold text-token-text-primary hover:opacity-70",children:"Try again?"})]}),n]})}function u(e){let{resetError:t,componentStack:n,error:i}=e;return(0,a.useEffect)(()=>{r.U.addError(i)},[i]),(0,l.jsxs)(c,{onClickRetry:t,children:[(0,l.jsx)("div",{className:"fixed left-2 top-2",children:(0,l.jsx)(s.WU,{})}),(0,l.jsx)("div",{className:"fixed right-2 top-2",children:(0,l.jsx)(s.z0,{})}),!1]})}},94206:function(e,t,n){n.d(t,{O$:function(){return r},jF:function(){return s},v3:function(){return a}});class r extends Error{constructor(e){super(e),this.name="WebsocketConnectError"}}class a extends Error{constructor(e){super(e),this.name="TurnError"}}class s extends Error{constructor(e){super(e),this.name="TurnDeltaMessageError"}}},40374:function(e,t,n){n.d(t,{$:function(){return p},Z:function(){return m}});var r=n(13490),a=n(15913),s=n(92379),i=n(91981),l=n(91111),o=n(26925),c=n(12381),u=n(69767),d=n(21338),h=n(651);let A=(0,s.createRef)();function m(){if(!(0,a.b4)()){var e;null===(e=A.current)||void 0===e||e.focus()}}function p(){let e=o.ne.useState(o.ne.selectFollowupQueryInput),t=o.ne.useStore(),{submitFollowup:n,readyState:s,waitingForNewTurn:m}=(0,l.A)(),p=(0,c.nn)(c.LW.firstTurn),g=null!=p&&(0,u.jo)(p),f=(0,c.nn)(c.LW.isLastTurnStreaming),x=!g&&null!=p&&s===i.kQ.OPEN;return(0,h.jsx)(d.I,{value:e,inputType:"text",placeholder:"Ask a follow-up...",variant:"mobile_bottom",submitButtonIcon:(0,h.jsx)(r.WmV,{className:"icon-lg-heavy"}),loading:f||m,className:"border-t-[0.5px] border-token-border-medium transition duration-500 dark:border-token-border-xheavy sm:mb-6 sm:border-none",onChange:e=>t.setFollowupQueryInput(e),onSubmit:e=>{x&&n(e)},shouldFocusOnKeyEvent:e=>"u"===e.key&&e.metaKey,autoFocus:!(0,a.s2)(),ref:A})}},21338:function(e,t,n){n.d(t,{I:function(){return m}});var r,a=n(2346),s=n(97537),i=n(11365),l=n(43703),o=n(15913),c=n(37671),u=n(19841),d=n(92379),h=n(15478),A=n(651);let m=(0,d.forwardRef)(function(e,t){let n;let{value:r,placeholder:a,variant:h="default",leftIcon:m,submitButtonIcon:g,loading:f,disabled:x,withInlineTypeahead:b,className:v,onChange:w,onKeyDown:y,onSubmit:j,shouldFocusOnKeyEvent:k,autoFocus:M,onFocus:E,inputType:S="search",style:O}=e,C=(0,d.useRef)(null),N=(0,d.useRef)(null);(0,d.useImperativeHandle)(t,()=>(0,c.S)(C.current));let{0:L,1:R}=(0,d.useState)(!1),D=null==b?void 0:b.currentSuggestion,P=0===r.trim().length,U=!P&&!x&&!f,T=e=>{if(null==y||y(e),"Enter"===e.key&&U){var t;e.preventDefault(),j(r),null===(t=C.current)||void 0===t||t.blur()}("Tab"===e.key||"ArrowUp"===e.key)&&D&&(e.preventDefault(),w(D))},I=e=>{let t="focus"===e.type;if(R(t),null==E||E(t),t&&(0,o.b4)()){var n;null===(n=C.current)||void 0===n||n.select()}};(0,d.useEffect)(()=>{if(null!=k)return(0,l.eR)(document,{keydown:e=>{if(null!=k&&k(e)){var t,n;e.preventDefault(),null===(t=C.current)||void 0===t||t.focus(),null===(n=C.current)||void 0===n||n.select()}}})},[k]),(0,d.useEffect)(()=>{if(M){var e;(0,o.e2)()||null===(e=C.current)||void 0===e||e.focus()}},[M]);let z=b?(0,A.jsxs)("form",{action:"",onSubmit:e=>e.preventDefault(),children:[(0,A.jsx)(p,{$as:"div",$hasLeftIcon:null!=m,$variant:h,className:"flex items-center text-token-text-tertiary",children:L&&D?(0,A.jsx)("div",{className:"truncate",children:D}):null}),(0,A.jsx)(p,{ref:C,type:S,$transparentBg:!0,$hasLeftIcon:null!=m,$variant:h,name:"query",className:"absolute inset-0",value:r,disabled:x,autoComplete:"off",spellCheck:!1,placeholder:a,onKeyDown:T,onChange:e=>w(e.target.value),onFocus:I,onBlur:I})]}):(0,A.jsx)("form",{action:"",onSubmit:e=>e.preventDefault(),children:(0,A.jsx)(p,{ref:C,type:S,className:"w-full",$hasLeftIcon:null!=m,$variant:h,value:r,disabled:x,autoComplete:"off",spellCheck:!1,placeholder:a,onKeyDown:T,onChange:e=>w(e.target.value),onFocus:I,onBlur:I})}),B="hover:bg-black hover:text-token-main-surface-tertiary hover:dark:bg-white hover:dark:text-token-main-surface-tertiary",_="hover:cursor-default";n=f?(0,u.default)("bg-transparent text-token-text-tertiary",_):U&&L?"bg-black text-white dark:bg-white dark:text-token-main-surface-tertiary":U?(0,u.default)("bg-gray-300/60 text-token-text-secondary dark:bg-gray-600 dark:text-white",B):(0,u.default)("bg-gray-300/60 text-token-main-surface-tertiary dark:bg-gray-600",_);let V=(0,A.jsxs)("div",{className:(0,u.default)("absolute right-3 top-1/2 flex -translate-y-1/2 items-center justify-end",!L&&"sm:hidden"),children:[(0,A.jsx)("button",{onMouseDown:e=>e.preventDefault(),onClick:()=>{var e;w(""),null===(e=C.current)||void 0===e||e.focus()},className:(0,u.default)("mr-1 flex h-5 w-5 items-center justify-center rounded-full transition-colors sm:hidden","bg-gray-300/60 dark:bg-gray-600","mobile_bottom"===h?"text-token-main-surface-primary sm:text-token-main-surface-tertiary":"text-token-main-surface-tertiary",B,(P||!L)&&"hidden"),children:(0,A.jsx)(i.Z,{className:"h-5 w-5"})}),(0,A.jsx)("button",{onMouseDown:e=>e.preventDefault(),onClick:()=>{U&&j(r)},className:(0,u.default)("hidden h-7 w-7 items-center justify-center rounded-full transition-colors sm:flex",n),children:f?(0,A.jsx)(s.Z,{className:"h-5 w-5"}):g})]});return(0,A.jsxs)("div",{ref:N,className:(0,u.default)("relative sm:rounded-full",v),style:O,children:[z,null!=m&&(0,A.jsx)("div",{className:(0,u.default)("absolute top-1/2 -translate-y-1/2","result_top"===h?"left-4 sm:left-6":"left-5",P||x?"text-token-text-tertiary":"text-token-text-primary"),children:m}),"result_top"!==h&&V]})}),p=h.Z.input(r||(r=(0,a.Z)(["text-ellipsis pr-14 placeholder-gray-500 outline-none focus:ring-0 border-0 [&::-webkit-search-cancel-button]:hidden\n","\n","\n","\n",""])),e=>{let{$hasLeftIcon:t,$variant:n}=e;return t?"result_top"===n?"pl-12 sm:pl-[3.25rem]":"pl-[3.25rem]":"pl-4 sm:pl-5"},e=>{let{$transparentBg:t,$variant:n}=e;return t||"result_top"===n?"bg-transparent":"mobile_bottom"===n?"bg-token-main-surface-primary sm:bg-token-main-surface-tertiary":"bg-token-main-surface-tertiary"},e=>{let{$variant:t}=e;return"result_top"===t?"py-4 sm:py-6":""},e=>{let{$variant:t,$transparentBg:n}=e;return"result_top"===t?n?"":"border-b border-token-border-light":"mobile_bottom"===t?"rounded-none sm:rounded-full h-[50px] sm:h-snc-input-height":"rounded-full h-snc-input-height"})},67708:function(e,t,n){n.d(t,{u:function(){return r2}});var r,a,s,i,l,o,c,u,d,h,A,m,p,g,f,x,b,v,w,y,j,k,M,E,S,O,C,N,L,R,D,P,U,T,I,z,B,_,V,H,W,F,Z=n(43703),q=n(15913),X=n(38724),Y=n(82363),G=n(19841),Q=n(88600),K=n(21389),J=n(34977),$=n(92379),ee=n(34818),et=n(9033),en=n(65787),er=n(67330),ea=n(2346),es=n(57098),ei=n(59144),el=n(13490),eo=n(48175),ec=n(87230),eu=n(66583),ed=n(65925),eh=n.n(ed),eA=n(15478),em=n(95204),ep=n(97193),eg=n(98601),ef=n(49166),ex=n(84760),eb=n(18939),ev=n.n(eb),ew=n(23763),ey=n.n(ew),ej=n(81014),ek=n(12381),eM=n(69767);class eE{constructor(){(0,eg.Z)(this,"queue",[]),(0,eg.Z)(this,"attempted",new Set),(0,eg.Z)(this,"isProcessing",!1)}enqueue(e){this.queue.push(e),this._processQueue()}async _processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)try{let e=this.queue.shift();if(!e)continue;await this._preload(e)}catch(e){}this.isProcessing=!1}}_preload(e){return new Promise(t=>{this.attempted.has(e)&&t();let n=new Image;n.onload=()=>{this.attempted.add(e),t()},n.onerror=()=>{this.attempted.add(e),t()},n.src=e})}}let eS=new eE;var eO=n(651);function eC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eC(Object(n),!0).forEach(function(t){(0,eg.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let eL=ey()(function(){return(0,ej.mH)(...arguments)},5e3);function eR(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=(0,ek.m0)(["image_results","image_try_hard_status","execution_status"]),a=(0,ek.nn)(ek.LW.threadId),s=ev()(r.toReversed().flatMap(e=>{var t;return null===(t=e.image_results)||void 0===t?void 0:t.entries})).map(e=>eN(eN({},e),{},{thumbnail_url:e.thumbnail_url.replace(/^http:\/\//,"https://"),content_url:e.content_url.replace(/^http:\/\//,"https://")})),i=(0,ek.nn)(ek.LW.hasModelResponseText),l=r.some(e=>(0,eM.jo)(e)),o=0===s.length&&!i;return null!=a&&n&&!o&&0===s.length&&(null===(e=r[0])||void 0===e?void 0:e.image_try_hard_status)==="not_attempted"&&(eL(a,0),o=!0),n&&(null===(t=r[0])||void 0===t?void 0:t.image_try_hard_status)==="in_progress"&&(o=!0),{imageResults:s,isLoading:o,isErrored:0===s.length&&l}}function eD(e){return(0,ef.C)({queryKey:["downloadImage",{imageUrl:e}],queryFn:()=>new Promise((t,n)=>{let r=new Image;r.onload=()=>{t({width:r.width,height:r.height})},r.onerror=()=>{n()},r.src=e}),enabled:null!=e})}function eP(e){return(0,ex.a)(eD(e))}let eU={width:474,square:!0};function eT(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eU;if(null==e)return;let r=new URL(e.thumbnail_url);if(-1===r.hostname.indexOf(".bing."))return e.thumbnail_url;let a=Math.min(n.width,e.content_size.width),s=null!==(t=n.height)&&void 0!==t?t:Math.floor(a*e.content_size.height/e.content_size.width);if(r.searchParams.delete("pid"),n.square){let e=Math.min(a,s);r.searchParams.set("w",e.toString()),r.searchParams.set("h",e.toString())}else r.searchParams.set("w",a.toString()),r.searchParams.set("h",s.toString());return r.searchParams.set("c","7"),r.toString()}function eI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eU;return(0,$.useMemo)(()=>eT(e,t),[e,t])}let ez={type:"spring",stiffness:700,damping:82};function eB(e){let{children:t,className:n}=e;return(0,eO.jsx)(Q.E.div,{animate:{opacity:1},initial:{width:"100%",height:"100%",translateX:0,translateY:0,opacity:0},whileHover:{width:"103%",height:"103%",translateX:"-1.5%",translateY:"-1.5%"},transition:ez,className:n,children:t})}function e_(){let e=(0,ep.W6)(ep.bM.getFocusedImage);if(!e)return null;let{image:t,source:n}=e;if(null==n)return(0,eO.jsx)(eX,{image:t});switch(n){case ep.y6.ImagesTab:return(0,eO.jsx)(eV,{image:t});case ep.y6.Turn:return(0,eO.jsx)(eH,{image:t})}}function eV(e){let{image:t}=e,{imageResults:n}=eR();return(0,eO.jsx)(eX,{image:t,group:n,groupSource:ep.y6.ImagesTab})}function eH(e){let{image:t}=e,{imageResults:n}=function(){let e=(0,ek.HV)(),t=(0,ek.nn)(ek.LW.hasTurnError),n=(0,ek.nn)(ek.LW.hasModelResponseText),r=ev()(e.flatMap(e=>"image_v2"===e.type?e.images:"optimistic_image_citation"===e.type||"optimistic_image_inline"===e.type?e.image:void 0));return{imageResults:r,isLoading:0===r.length&&!n,isErrored:0===r.length&&t}}();return(0,eO.jsx)(eX,{image:t,group:n,groupSource:ep.y6.Turn})}let eW=eA.Z.div(a||(a=(0,ea.Z)(["grow flex items-start p-8"])));function eF(e){let{title:t,urls:n}=e,r=n[0],{data:a,isError:s}=eP(r);if(0===n.length)return;if(s)return n.length>1?(0,eO.jsx)(eF,{title:t,urls:n.slice(1)}):(0,eO.jsx)("div",{className:"flex h-full grow items-center justify-center",children:(0,eO.jsx)("div",{className:"flex h-96 w-96 items-center justify-center bg-white/10",children:(0,eO.jsx)(em.Z,{className:"h-12 w-12 text-token-text-tertiary"})})});let i="max-w-[100vw] sm:max-w-[calc(100vw-10rem)] object-scale-down h-full";return null!=a?(0,eO.jsx)(Q.E.img,{src:r,alt:t,initial:{opacity:0},animate:{opacity:1},className:i}):(0,eO.jsx)("div",{className:(0,G.default)("w-full animate-pulse bg-white/10",i)})}let eZ={enter:e=>({x:e>0?1e3:-1e3,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:e=>({zIndex:0,x:e<0?1e3:-1e3,opacity:0})},eq=(e,t)=>Math.abs(e)*t;function eX(e){var t,n,r;let{image:a,group:s,groupSource:i}=e,l=(0,ec.d)(null!==(t=null==a?void 0:a.url)&&void 0!==t?t:""),o=(0,ep.W6)(e=>{var t;return null===(t=ep.bM.getFocusedImage(e))||void 0===t?void 0:t.mountDirection});(0,$.useEffect)(()=>{window.history.state.imageModalOpen||window.history.pushState({imageModalOpen:!0},"",window.location.href);let e=()=>{window.history.state.imageModalOpen||ep.vm.setFocusedImage(void 0)};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[]);let c=()=>{window.history.go(-1),ep.vm.setFocusedImage(void 0)},u=null==s?void 0:s.findIndex(e=>eh()(a,e)),d=null!==(n=null==s?void 0:s.length)&&void 0!==n?n:1,h=null!=u&&d>1,A=(0,$.useCallback)(()=>{h&&null!=s&&ep.vm.setFocusedImage({image:s[(u+1)%s.length],source:i,mountDirection:ep.KP.FromRight})},[s,h,u,i]),m=(0,$.useCallback)(()=>{h&&null!=s&&ep.vm.setFocusedImage({image:s[(u-1+s.length)%s.length],source:i,mountDirection:ep.KP.FromLeft})},[s,h,u,i]);return(0,$.useEffect)(()=>(0,Z.eR)(document,{keydown:e=>{"ArrowRight"===e.key?A():"ArrowLeft"===e.key&&m()}}),[A,m]),(0,eO.jsx)(K.M,{children:a&&(0,eO.jsx)(ei.Z.Root,{isOpen:!0,onClose:c,children:(0,eO.jsxs)(eu.VY,{className:"flex h-full w-full flex-col bg-black",onClick:c,children:[(0,eO.jsxs)("div",{className:"relative flex w-full grow justify-center overflow-hidden",children:[(0,eO.jsx)("button",{onClick:e=>{e.stopPropagation(),c()},className:"absolute left-4 top-4 flex h-9 w-9 items-center justify-center text-white outline-none hover:opacity-70 sm:left-6 sm:top-6",children:(0,eO.jsx)(el.tPq,{className:"h-7 w-7"})}),h&&(0,eO.jsxs)("div",{className:"absolute right-6 top-6 w-fit shrink-0 cursor-default rounded-full bg-white/20 px-4 py-2 font-mono text-sm text-token-text-tertiary sm:right-8 sm:top-8",children:[u+1," / ",d]}),(0,eO.jsx)(eW,{className:"cursor-w-resize",onClick:e=>{e.stopPropagation(),m()}}),(0,eO.jsx)(K.M,{initial:!1,custom:o,children:(0,eO.jsx)(Q.E.div,{variants:eZ,custom:null!=o?o:0,className:"absolute bottom-4 top-24",initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},drag:d>1&&"x",dragConstraints:{left:0,right:0},dragElastic:1,onDragEnd:(e,t)=>{let{offset:n,velocity:r}=t,a=eq(n.x,r.x);a<-1e4?A():a>1e4&&m()},children:(0,eO.jsx)(eF,{title:a.title,urls:[a.content_url.replace(/^http:\/\//,"https://"),a.thumbnail_url]})},u)}),(0,eO.jsx)(eW,{className:"cursor-e-resize",onClick:e=>{e.stopPropagation(),A()}})]}),(0,eO.jsxs)("a",{href:a.url,target:"_blank",rel:"noopener",className:"flex min-h-20 w-full shrink-0 items-center gap-8 px-6 pb-3 pt-8 text-sm hover:opacity-70 sm:px-8 sm:pb-8",children:[(0,eO.jsx)("div",{className:"flex shrink-0 items-center",children:(0,eO.jsx)(el.xPt,{className:"icon-lg text-white"})}),(0,eO.jsxs)("div",{className:"flex grow flex-col gap-0.5 overflow-hidden pr-2",children:[(0,eO.jsx)("div",{className:"truncate text-token-text-tertiary",children:null!==(r=l.data)&&void 0!==r?r:(0,eo.p)(a.url)}),(0,eO.jsx)("div",{className:"truncate font-semibold text-white",children:a.title})]}),(0,eO.jsx)("div",{className:"shrink-0",children:(0,eO.jsx)(es.Z,{url:a.content_url,className:"rounded",size:24})})]})]})})})}var eY=n(64925),eG=n(91111),eQ=n(40374);function eK(e){let{side:t,className:n}=e;return(0,eO.jsx)("div",{className:(0,G.default)("absolute inset-x-px h-[calc(100%+var(--snc-1))]","from-token-main-surface-primary from-60% to-100%","top"===t?"top-0 bg-gradient-to-b":"bottom-0 bg-gradient-to-t",n)})}var eJ=n(26925),e$=n(712),e0=n(21338);function e1(){let e=(0,$.useRef)(null),{submitSearch:t}=(0,eG.A)(),n=eJ.ne.useState(eJ.ne.selectQueryInput),r=eJ.ne.useStore(),a=(0,e$.o)({query:n,enabled:"undefined"!=typeof document&&e.current===document.activeElement}),s=n.length>0?a.find(e=>e.length>n.length&&e.startsWith(n)):void 0;return(0,eO.jsx)(e0.I,{ref:e,className:"w-full",variant:"default",value:n,placeholder:"Search",leftIcon:(0,eO.jsx)(eO.Fragment,{children:(0,eO.jsx)(el.W1M,{className:"icon-md-heavy"})}),submitButtonIcon:(0,eO.jsx)(el.WmV,{className:"icon-lg-heavy rotate-180"}),withInlineTypeahead:{currentSuggestion:s},onChange:e=>r.setQueryInput(e),onSubmit:t,shouldFocusOnKeyEvent:e=>"k"===e.key&&e.metaKey})}var e2=n(7243),e6=n(94668),e5=n(44885),e3=n(67794),e4=n(38482),e9=n.n(e4),e8=n(30853),e7=n(22594),te=n(24740),tt=n(31498),tn=n(58695),tr=n(88667),ta=n(19323),ts=n.n(ta),ti=n(79930),tl=n(16757);let to=((r={}).Snc="Snc",r.SncDebug="SncDebug",r),tc=(0,$.createContext)(void 0),tu=e=>{let{children:t,value:n}=e,r=n.displayedCitations.map(e=>e.type===to.Snc||e.type===to.SncDebug?{type:e3.Zn.Standard}:e);return(0,eO.jsx)(tc.Provider,{value:n,children:(0,eO.jsx)(e3.h7.Provider,{value:{clientThreadId:tl.Zq,displayType:e3.QU.expandAll,displayedCitations:r,isActivelyStreaming:n.isActivelyStreaming,message:{id:"",author:{role:tl.uU.Assistant,name:"Search"},content:{content_type:tl.PX.Text,parts:[n.responseText]}},attributions:n.attributions,onCitationShown:n.onCitationShown,onCitationClicked:n.onCitationClicked,onCitationHovered:n.onCitationHovered,onCitationUnhovered:n.onCitationUnhovered},children:t})})};var td=n(65994);function th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?th(Object(n),!0).forEach(function(t){(0,eg.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tm(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=0,i=!1,l=!1,o=r.toSorted((e,t)=>e.start_idx-t.start_idx||e.end_idx-t.end_idx).filter(t=>t.end_idx<=e.length).map(e=>{switch(e.type){case"invalid":case"hidden":case"optimistic_image_citation":return{citation:e};case"optimistic_image_inline":case"image_v2":case"nav_list":case"tldr":return{citation:e,displayInfo:{type:to.Snc,metadata:e},displayMode:"leaf"};case"title_citation":case"location_search":case"time":return{citation:e,displayInfo:{type:to.Snc,metadata:tA({},e)}};case"webpage":case"webpage_extended":return{citation:e,displayInfo:{type:to.Snc,metadata:{type:"webpage",items:[{title:e.title,url:e.url,type:"webpage"}]}}};case"calculator":case"stock":case"forecast":return i=!0,l="stock"===e.type,{citation:e,displayInfo:{type:to.Snc,metadata:e},displayMode:"leaf"}}}).map(e=>tA(tA({},e),{},{index:null!=e.displayInfo?s++:void 0}));a&&(o=o.flatMap(e=>{if(null!=e.displayInfo){let t=e.index,{citation:n}=e;return[tA(tA({},e),{},{index:null!=t?2*t:void 0}),{citation:e.citation,displayInfo:{type:to.SncDebug,metadata:tA({matched_text:n.matched_text.replace(/(^【|】$)/g,"")},"webpage_extended"===n.type&&n.pub_date&&{pub_date:new Date(1e3*n.pub_date).toLocaleString()})},index:null!=t?2*t+1:void 0}]}return[e]})),function(e){let t=new Map;e.forEach((n,r)=>{let{citation:a,displayInfo:s,index:i}=n;if((null==s?void 0:s.type)!==to.Snc||"webpage"!==s.metadata.type)return;s.metadata.items=s.metadata.items.map(e=>{var n;return t.has(e.url)||t.set(e.url,{index:null!=i?i:r}),tA(tA({},e),{},{index:null===(n=t.get(e.url))||void 0===n?void 0:n.index})});let l=e[r+1];if(null==l)return;let{citation:o,displayInfo:c}=l;(null==c?void 0:c.type)===to.Snc&&"webpage"===c.metadata.type&&a.end_idx+1>=o.start_idx&&(c.metadata.items=[...s.metadata.items.map(e=>tA(tA({},e),{},{index:null!=i?i:void 0})),...c.metadata.items],n.displayInfo={type:e3.Zn.Standard})})}(o),!function(e){let t=e.map(e=>e.citation).filter(e=>"optimistic_image_inline"===e.type);return!(t.filter(e=>"done"===e.status&&null==e.image).length>1)&&0!==ev()(t.map(e=>e.image)).length}(t=o)&&t.forEach(e=>{let{displayInfo:t}=e;(null==t?void 0:t.type)===to.Snc&&"optimistic_image_inline"===t.metadata.type&&(t.metadata=tA(tA({},t.metadata),{},{hidden:!0}))});let c=function(e,t){let n="",r=0,a=[...t],s=new Set(["forecast"]),i=-1;for(let t of e){let{citation:e,displayInfo:l,index:o,displayMode:c}=t;s.has(e.type)&&null!=o&&(i=o);let{start_idx:u,end_idx:d}=e;n+=a.slice(r,u).join(""),r=d,null!=l&&("leaf"===c?n+="\n::".concat(td.p,"[oaicite:").concat(o,"]{index=").concat(o,"}\n"):(0===n.length||n[n.length-1].match(/\s/)||(n+="&#8203;"),n+=":".concat(td.p,"[oaicite:").concat(o,"]{index=").concat(o,"}")))}return n+=a.slice(r).join(""),i>-1&&(n="::".concat(td.p,"[oaicite:").concat(i,"]{index=").concat(i,"}")),n}(o,e);c=tp(c);let u=ev()(o.filter(e=>{let{index:t}=e;return null!=t}).map(e=>{let{displayInfo:t}=e;return t}));return n=u,u=i?n.map(e=>{var t;return e.type===to.Snc&&(null===(t=e.metadata)||void 0===t?void 0:t.type)==="tldr"?tA(tA({},e),{},{type:e3.Zn.Standard,metadata:void 0}):e}):n,l&&(u=function(e,t){let n=(null!=t?t:[]).find(e=>"tldr"===e.type);return null!=n&&n.url?e.map(e=>{var t,r;return e.type===to.Snc&&(null===(t=e.metadata)||void 0===t?void 0:t.type)==="stock"?tA(tA({},e),{},{metadata:tA(tA({},e.metadata),{},{url:null!==(r=e.metadata.url)&&void 0!==r?r:n.url})}):e}):e}(u,r)),{processedText:c,displayedCitations:u}}function tp(e){let t=e,n=(t=t.replace(/【[^】]*$/g,"")).match(/(\n|^):::/g);return n&&n.length%2==1&&(t+="\n:::"),t=t.replace(/^\d+$/,"")}function tg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tg(Object(n),!0).forEach(function(t){(0,eg.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let tx=e9()(()=>n.e(8682).then(n.bind(n,3636)).then(e=>e.FeedbackModelInstructions),{ssr:!1,loadableGenerated:{webpack:()=>[3636]}}),tb={weather:"Weather widget",finance:"Stock widget",calculator:"Calculator widget",news:"News widget",time:"Time widget"},tv="Content quality",tw="Visual issues",ty="Other",tj="[Internal]",tk={turn:{thumbsDown:[{label:"Too long",group:tv},{label:"Too short",group:tv},{label:"Inaccurate",group:tv},{label:"Out-of-date",group:tv},{label:"Did not understand query",group:tv},{label:"Poor sources/citations",group:tv},{label:"No images",group:tw},{label:"Poor images",group:tw},{label:"Broken UI format",group:tw},{label:"Location issue",group:ty},{label:"Safety",group:ty},...Object.keys(tb).map(function(e){return{label:"".concat(tb[e]," missing"),group:tj,match:t=>{let{widgetType:n,user:r}=t;return n!==e&&(0,tn.yl)(r)}}}),{label:e=>{let{widgetType:t}=e;return"Should NOT show ".concat(tb[t])},group:tj,match:e=>{let{widgetType:t,user:n}=e;return!!t&&(0,tn.yl)(n)}},{label:e=>{let{widgetType:t}=e;return"Issue with ".concat(tb[t])},group:tj,match:e=>{let{widgetType:t,user:n}=e;return!!t&&(0,tn.yl)(n)}}],thumbsUp:[{label:"Accurate answer"},{label:"Up-to-date"},{label:"Good sources/links"},{label:"Image quality"},{label:e=>{let{widgetType:t}=e;return"Like the ".concat(tb[t])},match:e=>{let{widgetType:t,user:n}=e;return!!t&&(0,tn.yl)(n)}}]},link:{thumbsDown:[{label:"Not relevant"},{label:"Out-of-date"},{label:"Ranked too high"},{label:"Ranked too low"},{label:"Bad source"}],thumbsUp:[{label:"Relevant"},{label:"Up-to-date"},{label:"Ranked appropriately"},{label:"Good source"}]}};async function tM(e){var t,n;let r=null!==(t=null!==(n=e.element)&&void 0!==n?n:document.getElementById("__next"))&&void 0!==t?t:document.querySelector("div[data-search-root]"),a=await ts()(r,{backgroundColor:e.isDarkMode?null:"#ffffff"}),s=document.createElement("canvas"),i=s.getContext("2d"),l=a.height/a.width*1440;return s.width=1440,s.height=l,null==i||i.drawImage(a,0,0,1440,l),new Promise(e=>{s.toBlob(t=>{e(t)},"image/jpeg",.8)})}function tE(e){let{onSubmit:t,turn:n,thumbsUpTooltip:r,thumbsDownTooltip:a,screenshotElement:s,type:i}=e,{0:l,1:o}=(0,$.useState)(null),{0:c,1:u}=(0,$.useState)(null),d=(0,q.Gv)(),h=(0,tt.aF)(),A=!!h&&(0,tn.yl)(h),{0:m,1:p}=(0,$.useState)(void 0),{value:g}=(0,tr.sB)("3838495619");return(0,eO.jsxs)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,eO.jsx)("div",{className:"flex items-center gap-2",children:[{tooltip:null!=r?r:"Good",rating:"thumbsUp",Icon:el.Z7j,FilledIcon:el.szs},{tooltip:null!=a?a:"Bad",rating:"thumbsDown",Icon:el.C_W,FilledIcon:el.eW_}].map(e=>{let{tooltip:t,rating:n,Icon:r,FilledIcon:a}=e;return(0,eO.jsx)(e8.u,{label:t,sideOffset:0,className:"flex",children:(0,eO.jsx)("button",{className:"block text-token-text-tertiary hover:text-token-text-primary",onClick:async()=>{A&&tM({element:s,isDarkMode:d}).then(e=>{o(e)}),u(n)},disabled:c===n,children:c===n?(0,eO.jsx)(a,{className:"h-4 w-4"}):(0,eO.jsx)(r,{className:"h-4 w-4"})})},n)})}),c&&(0,eO.jsx)(e7.Z,{multiple:!0,onSubmit:e=>t(tf(tf({},e),{},{screenshot:l,currentRating:c,modelInstructions:m})),onCancel:()=>{o(null),u(null)},tagOptions:function(e){var t,n;let{type:r,turn:a,rating:s,user:i}=e,l=null,o=null==a||null===(t=a.model_response)||void 0===t?void 0:t.text,c=null==a||null===(n=a.model_response)||void 0===n?void 0:n.citations;return o&&c&&(l=function(e){for(let t of e.displayedCitations)if(t.type===to.Snc){if(["calculator","time","forecast","stock"].includes(t.metadata.type))return t.metadata.type;if("nav_list"===t.metadata.type)return"news"}return null}(tm(o,c,!1))),tk[r][s].filter(e=>!e.match||!a||e.match({turn:a,widgetType:l,user:i})).map(e=>{var t;let n=e.label;if("function"==typeof n){if(!a)return null;n=n({turn:a,widgetType:l})}return tf(tf({},e),{},{label:n,value:null!==(t=e.value)&&void 0!==t?t:n})}).filter(e=>null!=e)}({type:i,rating:c,turn:n,user:h}),modalOnly:!0,modalTitle:(0,eO.jsxs)("div",{className:"flex items-center gap-2",children:["thumbsUp"===c?(0,eO.jsx)(el.szs,{className:"mt-[-4px]"}):(0,eO.jsx)(el.eW_,{className:"mb-[-6px]"})," ","Provide feedback"]}),children:g&&(0,eO.jsx)(tx,{modelInstructions:m,setModelInstructions:p})},c)]})}function tS(e){let{turn:t}=e,n=(0,ek.nn)(ek.LW.threadId),{sessionUser:r}=(0,eG.A)();(0,$.useEffect)(()=>{if(n){if(null==t.index)throw Error();ti.Y.logEvent(ti.M.searchTurnFeedbackButtonShown,{turn_index:t.index,thread_id:n})}},[]);let a=async e=>{if(n&&e.currentRating){if(null==t.index)throw Error();ti.Y.logEvent(ti.M.searchTurnFeedbackSubmitted,{turn_index:t.index,thread_id:n,rating:e.currentRating,tags:e.tags,text:e.textFeedback,model_instructions:e.modelInstructions}),Y.U.addAction("sonic.web.turn_feedback_submitted",{thread_id:n,rating:e.currentRating,tags:e.tags}),te.m.successNeutral("Thanks for your feedback!",{duration:2}),await (0,ej.k4)({turnIndex:t.index,threadId:n,rating:e.currentRating,searchQuery:t.user_query,tags:e.tags,text:e.textFeedback,modelInstructions:e.modelInstructions,screenshot:e.screenshot,userEmail:null==r?void 0:r.email})}};return(0,eO.jsx)(tE,{onSubmit:a,type:"turn",turn:t,thumbsUpTooltip:"Good response",thumbsDownTooltip:"Bad response"})}function tO(e){let{url:t,title:n,snippet:r,turnIndex:a}=e,s=(0,ek.nn)(ek.LW.threadId),i=eJ.ne.useStore(),{sessionUser:l}=(0,eG.A)(),o=async e=>{s&&e.currentRating&&l&&(ti.Y.logEvent(ti.M.searchLinkFeedbackSubmitted,{thread_id:s,rating:e.currentRating,url:t,tags:e.tags,text:e.textFeedback,turn_index:a}),Y.U.addAction("sonic.web.link_feedback_submitted",{thread_id:s,rating:e.currentRating,tags:e.tags}),te.m.successNeutral("Thanks for your feedback!",{duration:2}),await (0,ej.NK)({url:t,title:n,snippet:r,threadId:s,rating:e.currentRating,searchQuery:eJ.ne.selectQueryInput(i.getState()),tags:e.tags,text:e.textFeedback,screenshot:e.screenshot,userEmail:null==l?void 0:l.email}))};return(0,eO.jsx)(tE,{onSubmit:o,type:"link",thumbsUpTooltip:"Good link",thumbsDownTooltip:"Bad link"})}var tC=n(51837),tN=n(66290),tL=n(52538),tR=n.n(tL),tD=n(48772);let tP=eA.Z.a(s||(s=(0,ea.Z)(["flex flex-col rounded-xl bg-gray-50 dark:bg-gray-800 p-4 dark:hover:bg-gray-700 hover:bg-gray-100 text-sm text-left gap-1 h-22 ",""])),e=>{let{$isHighlighted:t}=e;return t&&"bg-gray-100 dark:bg-gray-700"});function tU(e){var t;let{card:n,isHighlighted:r}=e,a=(0,$.useContext)(tc),s=null!==(t=(0,ec.d)(n.url).data)&&void 0!==t?t:(0,eo.p)(n.url),i=(0,ek.nn)(ek.LW.threadId),l=(0,$.useCallback)(e=>{i&&ti.Y.logEvent(e,{thread_id:i,index:n.index,url:n.url,title:n.title})},[n.index,n.title,n.url,i]);return(0,$.useEffect)(()=>{l(ti.M.searchCitationCardShown)},[l]),(0,eO.jsxs)(tP,{className:"w-3/4 shrink-0 sm:w-[45%] sm:shrink",$isHighlighted:r,href:n.url,onClick:()=>{if(null!=n){var e;null==a||null===(e=a.onCitationClicked)||void 0===e||e.call(a,n,n.index),l(ti.M.searchCitationCardClicked)}},target:"_blank",rel:"noopener",children:[(0,eO.jsxs)("div",{className:"flex gap-2",children:[(0,eO.jsx)(es.Z,{url:null==n?void 0:n.url,size:32,className:"h-5 w-5 shrink-0 rounded"}),(0,eO.jsx)("div",{className:"line-clamp-1 text-xs text-token-text-secondary",children:s})]}),(0,eO.jsx)("div",{className:"line-clamp-2 text-xs",children:n.title})]})}function tT(e){let{isHighlighted:t,onClick:n}=e;return(0,eO.jsx)(tP,{className:"max-w-1/10 min-w-[4rem] cursor-pointer items-center justify-center text-xs text-token-text-secondary",$isHighlighted:t,onClick:n,children:(0,eO.jsx)(el.xPt,{className:"h-5 w-5 shrink-0"})})}function tI(e){var t;let{highlightedCitationIndices:n,turnIndex:r}=e,a=(0,J.useRouter)(),s=(0,tN.Z)(),i=(0,$.useContext)(tc),l=(0,q.BL)();if(null==i)return null;let{displayedCitations:o}=i,c=tR()(o.flatMap(e=>e.type===to.Snc&&"webpage"===e.metadata.type?e.metadata.items:[]),e=>e.index);if(0===c.length)return null;let u=l?c:c.slice(0,2),d=null===(t=u[u.length-1])||void 0===t?void 0:t.index;return(0,eO.jsxs)(Q.E.div,{className:"no-scrollbar mt-6 flex flex-nowrap gap-2 overflow-auto px-snc-results-padding",initial:{opacity:0},animate:{opacity:1},children:[u.map((e,t)=>{var r;return(0,eO.jsx)(tU,{card:e,isHighlighted:null!=e.index&&n.has(e.index)},null!==(r=e.index)&&void 0!==r?r:"i".concat(t))}),c.length>u.length&&(0,eO.jsx)(tT,{isHighlighted:null==d||Array.from(n.values()).some(e=>e>d),onClick:()=>{(0,tD.NM)(a)===tD.iY.Sources&&(0,tD.U8)(a)===r?(0,tD._d)(a,tD.iY.Answer):(0,tD.po)(s,r)}})]})}var tz=n(52088),tB=n(51866),t_=n(4777),tV=n(25009),tH=n(51308),tW=n(99661),tF=n(50895),tZ=n(84654),tq=n(63585);let tX="contextList",tY=eA.Z.div(i||(i=(0,ea.Z)(["gap-6 border-b pb-4 my-4 context-list text-sm border-token-border-light"])));function tG(e){let{children:t}=e,n=(0,$.useContext)(tc),r=Array.isArray(t)?t:ev()([t]);if(0===r.length)return null;let[a,...s]=r,i=function(e){if("object"==typeof e&&null!=e&&"props"in e&&e.props.node.tagName===td.p)return parseInt(e.props.index)}(a);if(null!=i&&null!=n){let e=null==n?void 0:n.displayedCitations[i];if((null==e?void 0:e.type)===to.Snc&&"optimistic_image_inline"===e.metadata.type)return(0,eO.jsxs)(tY,{className:"clear-right items-center sm:flex",children:[(0,eO.jsx)("div",{className:"float-right ml-2 flex h-32 w-20 shrink-0 sm:float-none sm:ml-0",children:a}),(0,eO.jsx)("div",{className:"grow sm:first:*:mt-0",children:s}),(0,eO.jsx)("div",{className:"clear-right sm:clear-none"})]})}return(0,eO.jsx)(tY,{children:r})}var tQ=n(10798);function tK(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}function tJ(e){let{turnIndex:t,children:n}=e,{submitFollowup:r}=(0,eG.A)(),{0:a,1:s}=(0,$.useState)(!1),i=(0,$.useRef)(null),l=(0,ek.nn)(ek.LW.isLastTurnStreaming),o=(0,ek.nn)(ek.LW.threadId),[c]=(0,tQ.OR)();return((0,$.useEffect)(()=>{c.showInlineFollowups&&o&&"string"==typeof n&&ti.Y.logEvent(ti.M.searchIFSShown,{turn_index:t,thread_id:o,text:n})},[]),(0,$.useEffect)(()=>{function e(){if(null!=i.current){let e=parseFloat(getComputedStyle(i.current).lineHeight);s(i.current.offsetHeight>e)}}return e(),(0,Z.eR)(window,{resize:e})},[]),c.showInlineFollowups)?Array.isArray(n)&&1!==n.length?(Y.U.addError("Found an IFS with markup or other special content inside of its link text, ignoring the IFS",{rawText:n}),(0,eO.jsx)(eO.Fragment,{children:n})):"string"!=typeof n?(0,eO.jsx)(eO.Fragment,{children:n}):(0,eO.jsx)(e8.u,{label:"Follow-up on ".concat(n),side:"top",sideOffset:4,align:a?"end":"center",delayDuration:150,children:(0,eO.jsx)("span",{ref:i,role:"button",className:"text-token-primary underline underline-offset-2 hover:opacity-65",onClick:()=>{!l&&(r(n),o&&ti.Y.logEvent(ti.M.searchIFSClicked,{turn_index:t,thread_id:o,text:n}))},children:n})}):(0,eO.jsx)(eO.Fragment,{children:n})}var t$=n(33491),t0=n(43878);function t1(e){let{data:t,turnIndex:n}=e,r=(0,ek.nn)(ek.LW.threadId);(0,$.useEffect)(()=>{r&&ti.Y.logEvent(ti.M.searchWidgetShown,{thread_id:r,type:"calculator",turn_index:n})},[r,n]);let{currentLocale:a}=(0,t0.b)();return t.expression&&void 0!==t.result&&null!==t.result?(0,eO.jsxs)("div",{className:"no-scrollbar -mx-snc-results-padding overflow-auto px-snc-results-padding sm:overflow-hidden",children:[(0,eO.jsx)("div",{className:"tracking-wide text-token-text-tertiary",children:"".concat(t.expression,"=")}),(0,eO.jsxs)("div",{className:"text-3xl font-semibold",children:[t.prefix&&(0,eO.jsx)("span",{children:t.prefix}),(0,eO.jsx)("span",{children:function(e,t){try{return BigInt(e).toLocaleString(t)}catch{let n=Number(e);return e.includes("e")||e.includes("E")?n.toExponential():n.toLocaleString(t,{maximumFractionDigits:6})}}(t.result,a)}),t.suffix&&(0,eO.jsx)("span",{children:t.suffix})]})]}):null}var t2=n(87751),t6=n(72541),t5=n(28314);let t3="#30a633",t4="#f14d42";var t9=n(65998),t8=n(95430),t7=n(55969);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach(function(t){(0,eg.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nn(e,t){return(0,t2.Z)(new Date(1e3*e),null!=t?t:"America/New_York")}function nr(e,t){let n=nn(e,t);return(0,t6.Z)(n,"h:mm a")}function na(e,t){let n=nn(e,t);return(0,t6.Z)(n,"MMM dd, yyyy")}function ns(e,t){let n=nn(e,t);return(0,t6.Z)(n,"MMM yyyy")}function ni(e,t){let n=nn(e,t);return(0,t6.Z)(n,"MMM dd")}t9.kL.register(t9.qi,t9.uw,t9.f$,t9.ZL,t9.Dx,t9.u,t9.ST,t9.od,t9.jn,t8.ZP);let nl={"1d":{label:"1D",formatTimestampLabel:nr,formatTimestampTooltip:nr,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:ni,formatTimestampTooltip:function(e,t){let n=nn(e,t);return(0,t6.Z)(n,"EEE, MMM d h:mm a")},maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:ni,formatTimestampTooltip:function(e,t){let n=nn(e,t);return(0,t6.Z)(n,"EEE, MMM dd")},maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:ns,formatTimestampTooltip:na,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:ns,formatTimestampTooltip:na,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:ns,formatTimestampTooltip:na,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:function(e,t){let n=nn(e,t);return(0,t6.Z)(n,"yyyy")},formatTimestampTooltip:na,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function no(e){let{isUp:t,histories:n,onSelectHistoryInterval:r,latestTradingPeriod:a,timezone:s}=e;return(0,eO.jsx)(eO.Fragment,{children:n&&a?(0,eO.jsx)(nc,{isUp:t,histories:n,onSelectHistoryInterval:r,latestTradingPeriod:a,timezone:s}):(0,eO.jsx)(e2.Lw,{className:"h-full",index:1,width:100})})}function nc(e){let{isUp:t,histories:n,onSelectHistoryInterval:r,latestTradingPeriod:a,timezone:s}=e,{0:i,1:l}=(0,$.useState)(null),{0:o,1:c}=(0,$.useState)(n.quotes["1d"].length>0?"1d":"5d"),u="1d"===o,d=(0,$.useMemo)(()=>{let e=n.quotes[o].filter(e=>e.close>=0);if(u&&a){let t=a.regular.start_timestamp,n=a.regular.end_timestamp;if(0===(e=e.filter(e=>e.timestamp>=t&&e.timestamp<=n)).length||e[e.length-1].timestamp<n){let r=e.length>0?e[e.length-1].timestamp:t-600;for(;r<n;)r+=600,e.push({timestamp:r,close:null})}}return e},[n,o,u,a]),h=Object.keys(n.quotes),A=nl[o],{formatTimestampTooltip:m,maxTicksLimit:p,useUtc:g=!1}=A,f=(0,$.useMemo)(()=>{let{formatTimestampLabel:e,lineTension:n}=A;return{labels:d.map(t=>e(t.timestamp,g?"UTC":s)),datasets:[{data:d.map(e=>e.close),borderColor:t?t3:t4,pointRadius:0,pointHoverRadius:4,pointStyle:"circle",backgroundColor:t?t3:t4,borderWidth:3,lineTension:null!=n?n:.4}]}},[A,d,t,g,s]),x=(0,q.w$)(),b=(0,q.Gv)();return(0,eO.jsxs)("div",{className:"flex h-full flex-col gap-6",children:[(0,eO.jsx)("div",{className:"flex items-center justify-between text-xs font-semibold text-token-text-tertiary sm:justify-start sm:gap-6",children:h.map(e=>(0,eO.jsx)("button",{onClick:()=>{c(e),null==r||r(e)},className:(0,G.default)("rounded-md px-2 py-1 uppercase hover:text-token-text-secondary",{"bg-token-main-surface-tertiary !text-token-text-primary":o===e}),children:nl[e].label},e))}),(0,eO.jsxs)("div",{className:"relative h-full",children:[(0,eO.jsx)(t7.x1,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},animation:!1,scales:{x:{afterBuildTicks:e=>{if(e.ticks.length>p){if(u)e.ticks=e.ticks.filter((e,t)=>d[t].timestamp%(x?3600:7200)==0);else{let t=Math.ceil(e.ticks.length/(p-1));e.ticks=e.ticks.filter((n,r)=>r>0&&(r%t==0||r===e.ticks.length-1))}}},grid:{display:!1},ticks:{align:"end"}},y:{ticks:{maxTicksLimit:7},border:{display:!1},grid:{color:b?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}}},plugins:{datalabels:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(e){let t=e[0];return t?m(d[t.dataIndex].timestamp,g?"UTC":s):""}},external:e=>{let{tooltip:t}=e;l(e=>e&&e.x===t.caretX&&e.y===t.caretY&&e.opacity===t.opacity?e:nt(nt({},e),{},{x:t.caretX,y:t.caretY,dateLabel:t.title[0],value:t.dataPoints[0].parsed.y.toFixed(2),opacity:t.opacity}))}},dropShadow:!1,crosshair:{line:{color:b?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:f}),(0,eO.jsx)(nu,{tooltipData:i})]})]})}function nu(e){let{tooltipData:t}=e;return t&&t.opacity?(0,eO.jsxs)("div",{style:{left:t.x+5,top:t.y-5},className:"pointer-events-none absolute translate-y-[-100%] whitespace-nowrap rounded-br-xl rounded-tl-xl rounded-tr-xl bg-black p-2.5",children:[(0,eO.jsx)("div",{className:" text-white",children:t.value}),(0,eO.jsx)("div",{className:"text-xs text-gray-400",children:t.dateLabel})]}):null}let nd={"1d":"Today","5d":"Past 5 days","1m":"Past month","6m":"Past 6 months",ytd:"Year to date","1y":"Past year","5y":"Past 5 years"};function nh(e){var t,n,r,a;let{citation:s,turnIndex:i}=e,l=(0,ek.nn)(ek.LW.threadId);(0,$.useEffect)(()=>{l&&ti.Y.logEvent(ti.M.searchWidgetShown,{thread_id:l,type:"stock",turn_index:i})},[l,i]);let o=null==s?void 0:s.stock,{0:c,1:u}=(0,$.useState)(),d="1d"===c,h=null==o||null===(t=o.histories)||void 0===t||null===(t=t.quotes)||void 0===t||null===(t=t[null!=c?c:""])||void 0===t?void 0:t[0],A=o&&(h&&!d?{changePercentage:(o.price.price-h.close)/h.close*100,changeAmount:o.price.price-h.close,changeLabel:nd[null!=c?c:""],isUp:o.price.price>h.close}:{changePercentage:100*o.price.changePercent,changeAmount:o.price.change,changeLabel:function(e,t){if(!e||!t||function(e,t){let n=new Date,r=(0,t2.Z)(n,t),a=(0,t6.Z)(r,"yyyy-MM-dd",{timeZone:t}),s=(0,t5.Z)(1e3*e),i=(0,t2.Z)(s,t);return a===(0,t6.Z)(i,"yyyy-MM-dd",{timeZone:t})}(e,t))return"Today";{let n=(0,t5.Z)(1e3*e),r=(0,t2.Z)(n,t);return(0,t6.Z)(r,"MMMM d",{timeZone:t})}}(o.price.latestTradeTimestamp,o.asset.timezone),isUp:o.price.change>0});return(0,eO.jsxs)("div",{className:"flex h-[340px] flex-col gap-6",children:[(0,eO.jsx)("div",{className:"shrink-0 grow-0",children:(0,eO.jsx)(nA,{data:null!=o?o:null,priceChange:null!=A?A:null,url:null!==(n=null==s?void 0:s.url)&&void 0!==n?n:null})}),(0,eO.jsx)("div",{className:"h-full",children:(0,eO.jsx)(no,{isUp:null!==(r=null==A?void 0:A.isUp)&&void 0!==r&&r,histories:null==o?void 0:o.histories,onSelectHistoryInterval:e=>u(e),latestTradingPeriod:null==o?void 0:o.asset.latestTradingPeriod,timezone:null!==(a=null==o?void 0:o.asset.timezone)&&void 0!==a?a:null})})]})}function nA(e){let{data:t,priceChange:n,url:r}=e;return(0,eO.jsxs)("div",{className:"flex justify-between",children:[(0,eO.jsxs)("div",{children:[(0,eO.jsx)("div",{className:"text-xl font-semibold",children:t?t.asset.ticker:(0,eO.jsx)("div",{className:"w-32",children:(0,eO.jsx)(e2.Lw,{index:9,width:100})})}),(0,eO.jsx)("div",{className:"text-sm text-token-text-tertiary",children:t?(0,eO.jsxs)(eO.Fragment,{children:[t.asset.name,null!=r&&(0,eO.jsxs)(eO.Fragment,{children:[" \xb7 ",(0,eO.jsx)("a",{href:r,target:"_blank",rel:"noopener",className:"text-token-link hover:underline",children:(0,eo.p)(r,"hostname")})]})]}):(0,eO.jsx)("div",{className:"mt-2 w-36",children:(0,eO.jsx)(e2.Lw,{index:6,width:100})})})]}),(0,eO.jsxs)("div",{children:[(0,eO.jsx)("div",{className:"flex justify-end text-xl font-semibold",children:t?"$".concat(t.price.price.toFixed(2)):(0,eO.jsx)("div",{className:"w-32",children:(0,eO.jsx)(e2.Lw,{index:0,width:100})})}),(0,eO.jsx)("div",{className:"flex items-center gap-1",children:n?function(e){let{isUp:t,changePercentage:n,changeLabel:r,changeAmount:a}=e;return(0,eO.jsxs)("span",{className:(0,G.default)("flex items-center gap-1 text-sm",t?"text-[#30a633]":"text-[#f14d42]"),children:[(0,eO.jsxs)("span",{className:"font-semibold",children:[t&&"+",a.toFixed(2)]}),"(",t?"+":"-",Math.abs(n).toFixed(2),"%)"," ",(0,eO.jsx)("span",{className:"text-token-text-primary",children:r})]})}(n):(0,eO.jsx)("div",{className:"mt-2 w-40",children:(0,eO.jsx)(e2.Lw,{index:3,width:100})})})]})]})}var nm=n(11550),np=n(36792),ng=n(91304),nf=n(86481),nx=n.n(nf),nb=n(46654);function nv(e,t){let n=(0,nb.Z)(e),r=Math.abs(t),a=Math.floor(r/3600).toString().padStart(2,"0"),s=Math.floor(r%3600/60).toString().padStart(2,"0"),i="".concat(t<0?"-":"+").concat(a,":").concat(s);return(0,t2.Z)(n,i)}let nw={foggy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/cloud-foggy.cce9a5f0.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAQlBMVEVMaXHW4ujw7+/X4Ons7/PW4OrR3+jy8vLW5fDI1N/i7PPd5evP3unJ1d/X4+v19PTq9frw9/zM2eLu7vD+/v7o9f5oCeqEAAAAFHRSTlMAZUcpNhDcA/2mpnL6k8TFt8+wfaeqBakAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA9SURBVHicNcdHEoAgEADBWcIGQDHg/79qebBvDQaYgZFm+VbauSR1yMcj91qFXYe6t0rtw12lYltExJX5vTypAazA4QKmAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},cloudy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/cloudy.663b016c.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEVMaXH7+/vx8fLg6O3Y2Njy8vPb4eT19fXp6en4+Pj19fXZ4+j///8FocPtAAAADHRSTlMA+WuFEXdNvSTbwWWLIGCvAAAACXBIWXMAACxLAAAsSwGlPZapAAAAMUlEQVR4nEXLuQ0AMAzDQMp2fu0/b4A0uYYV4auIet32AOay5AbNkuSg+wnomZnnzxcgcAD6BhBj9wAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},"heavy-snow":{default:{src:"https://cdn.oaistatic.com/_next/static/media/heavy-snow.f2709a7f.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAPFBMVEVMaXGanp74+/vn6evd39+Wnp7h5+m7v8D////k6+/5+vp2qd/j7/qWxeyQs+7u8vdVk/OLu/lQkOv5+fcX2bSzAAAAFHRSTlMAO/ddIi9FB/6s7SP89H3NRf2h1oxsniEAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA7SURBVHicHctHEsAgDATBAQRaERz//1cX7nsDuPNr73lcDqVr3s/AsjTXGliXpGzQIiLKPjWlupNv8AE7agGJBTdWywAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},"light-snow":{default:{src:"https://cdn.oaistatic.com/_next/static/media/light-snow.eb08e0be.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAPFBMVEVMaXGcnJzh5eno6urk6+/d39/x9vi9wsL///+MoLeQv/H1+vr7+/vk8f+Qs+5Vk/Pu8veZxu5QkOv5+ffHTq+6AAAAFHRSTlMAEkVdqCLxBv4o/fj2/n1Fzeqh1udITzsAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA8SURBVHicHctJEoAgEATBAga6B3f9/18NzXsCSPzqc+6HoA1v8076ao95JX3Y9tKhRkS072Rm+ZKkIngBOFoBds959YIAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},sleet:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sleet.8fade61a.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEXZ2c+5yNj8/Pxmmt7e6PD39/fZ3d3l6ez5+vru7u7T3uL///+HPdvmAAAAC3RSTlMBCvpSqdQjXO1ER9LeZMIAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA1SURBVHicRYu3EQAgEMNsfyB4/305aFCjRgI+q2pdj2kXgZYlFdHTttXAzswcN4qIeBdJAgcf4QDaZMsg8gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},drizzle:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-drizzle.9b674b1d.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAVFBMVEVMaXEMpfP36979/vo7nfDi4uTo7/Gs3O7i4uT6+fjo4uUAh+7/mQ//kW34hSb09PfgUQD/kQD9oBP1+f/2smr5+fnP6vKm4vj206b48ev////9xXB261e0AAAAGnRSTlMAUfv9ET2sAiPzWi+AByjCGfnnjeXau+Kv9PwyBJEAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA/SURBVHicHctHEoAwEMRAOY5NzlDL//9JmZsOLZBgBETZn20A0mnhXSdKter9sbSwYDPQ3VfOqeHeOfRvMSI+VegCKzylrpcAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-drizzle.1a496fe5.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEVMaXH5+fns8vf5myPeyao7nfDu7Ov////+/vrWyrX40I7w8PDu8fMAh+4Mn/ANrPWn5Pnt8PH6vmr8w1rQ6vLy7+z97tWprtEBAAAAFnRSTlMA+JcnFxGA/vwMsGRvL1VN4a3hY7pSXB4MogAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADxJREFUeJwdizcSACEQw0T0ApfT/596s7iQGhl8bfKN/XYPk/WUGbIQviuxyCRVaPV4zpg9Wrd9nqAU4AczhwFsm69M9AAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},hazy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-hazy.1212b33b.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAATlBMVEVMaXHvfxz2qlTa///h5ub1v3zqZwDY///xdgPozrfsYwDrvIHb7fr/mwvY6/zzyY3e7v3ovIXzt17g08Lttmrvm1HWwbHxunP/o0n9uD1Z1kprAAAAF3RSTlMAkPoOLuQwAk88fZo6cWr+lvruhvr0fcLoNckAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA/SURBVHicJYtLFoAgDMSiggX8gkrh/hf1VTeTLDIgAgjGeQtm61V6X8CdXm89Im73mnWMMNWnteGPU/ieNvACTx0CIhE3pwUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-hazy.e42f94c5.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEXU09P+myXmy5b/hxb/0mvU2t7om2bH4PvO3vHR2uDkrn/R0cngyavit3vez6/Y0MHP3/Hf0L3j28Xnt3Xh1rrS4Or/yHP40IvF539nAAAAFnRSTlMBcfUiLp8VJjdeJkOe0dfQgom73aSteX8D7QAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADhJREFUeJxjYEAAFhYIzc0kwsHJycDALiTOJ8AqysHAziPOxM8qyM7AwMYrJibMBVLExsjIjKQXADLMAXMYAqrjAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},"mostly-cloudy":{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-mostly-cloudy.a840397c.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAANlBMVEVMaXHb49/v7uz5+friOgDS2dz1+Pz///7g6e35iCH8+vj57eH+lgf/kQD32rT1wo7/phz6yISt6iZMAAAAEHRSTlMAIEvsDTa4/ocl9vuk+tLf1kfJowAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADVJREFUeJxNy0sWABAMBMFBmIj//S/rsaE3tWrgT/LFpz7rMZCrZTijlTIELpBkAhBVVeNbNyNsAQ8KyV0DAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-mostly-cloudy.4513b8c0.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEVMaXH7y27/wlH/rz7o7O/4t1vh5urr7vH7+vrJyKXg5+v1+f/2yY/63KH3xXT/////+u/+0zR3AAAAD3RSTlMASpO9izpicPgJhLqV6vnfBHdQAAAACXBIWXMAACxLAAAsSwGlPZapAAAANUlEQVR4nE3LOxaAIBDAwKj7VXC5/2l52Mg0qQI7Pb7400+SlKp4L8UrIkYDq8UBk1s8/3UCKHIBRL2cVzsAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},"mostly-sunny":{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-mostly-sunny.78621f10.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEVMaXH5nBjDtLTavI3JbQDtjB357uHop0HynCrzqjzz7uv06NHks3Tz7eP0tlzqzJ79x3Xu3r34sWLtj0L0fAP/+/X/lgFSmw6lAAAAFXRSTlMAsRFjB1b7LzMHrr9pzLFv/U74vKpGKSd6AAAACXBIWXMAACxLAAAsSwGlPZapAAAAPElEQVR4nB2LSRLAIAzDRAs46b7B/5/aCb5IBxnAnTEzU/Dej1TCznr1JHB9/WkroPLWtkQk2+Zp3HIGfjcVAYY2qSZSAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-mostly-sunny.736077bc.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEVMaXHl6/XlnEX7tEbY7PHypEnU1NTroEnlxpPQ0Mr39fX49vP5z4r+7tD1ynz7tk3s7u7/0mL18Ov9yGL/+Oz/////2mr/zVDjrEd7AAAAFHRSTlMAMnV8GjsPJTQToN/4/G/te0vW6+AB4KAAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA4SURBVHicTcs3AoAgEADBJd6hKEGU//+UUqYf+KniEyBPM+8B3J/z1UA8R3ZBIPZxzRKApNbKdhcxrwFl+MDnLwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},shower:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-shower.0b97732f.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAATlBMVEVMaXH/mArp6eb+//rvchnb2+MxtfOMrdRHm9Tk7/P36t37+fc1tfHe4eHd4+b/mQ/09fcttPP206b2smr5+fn1+f/l7/L5+fn////9xXByCrlCAAAAGHRSTlMA8C79ICBPBxKy+/cmRlyAwlmv5dqNterK4zqeAAAACXBIWXMAACxLAAAsSwGlPZapAAAAQElEQVR4nB2LSRKAIBDEGtlmQEXBpf3/R60hh+QUwMjTy91ds170nwuIL2spIyBW0vMAsD+qutmR0rnOVUQy8ANGZwIHOE0VPQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-shower.facfcd4c.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAATlBMVEVMaXH5myPu8PHs8ve4trb9/fyEyOn////u27o+ntf40I7y7+3p7O3xrmv8w1ottvQwtvL19fX6vmrl7/Pk7/Ln7vE0svE1k9b97tX///REexAMAAAAGHRSTlMAJ2yYC/kc/gMQsFiBE2NfVPjht7atSRNLGodyAAAACXBIWXMAACxLAAAsSwGlPZapAAAAPklEQVR4nBXLRxLAIAzAQAEGYyC9//+jGe9NB0GFKrie2uwZs34tTHTNeXv3QFQ3QMZxnakAZblX80keswo/PCsB2UcBQ5wAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},sunny:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-sunny.8f75dd58.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEXqpTxMaXHklCjslCr7lw72fAn/pAD/jwDSeLtsAAAABnRSTlMxAAdWr7MvkfsyAAAACXBIWXMAACxLAAAsSwGlPZapAAAAMElEQVR4nEWLMQ4AIAyE4Gz1/z82TUxcWADUREWBoayqhYTauwihz2kyqnvUj99+ARAjAHNNhZiBAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-sunny.f60bb6f9.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEVMaXHBfDv6yXzmqGDqmzv2uVb9t0z8x2v+tkj5uF35uVr6rEH9yGT/xkn/1VmqFlhAAAAADXRSTlMAHjIpdm7wVgeDhNLp8nbOUAAAAAlwSFlzAAAsSwAALEsBpT2WqQAAAC9JREFUeJxjYEAAJiYIzczDzsABYrDycUFEWHnZONlBsozcvLxszCAhRhYWRiS9ABW2AKP08t5VAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},"rain-thunder":{default:{src:"https://cdn.oaistatic.com/_next/static/media/rain-thunder.8b5abb7a.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAMFBMVEXEtsahqsP7+/vZ3d339/fj7PXu7u7s0a4YsfHV7Pb5+vryawDSeiXX3uX39/f+///a/V1YAAAAD3RSTlMBDPkj1llE2Eau7VOJR80LWLflAAAACXBIWXMAACxLAAAsSwGlPZapAAAAOElEQVR4nEXLORKAQAzEQI3tPTnm/7+lIEFJR4K/XtVf27ZLkOEI3yK3bUfCtdYYDdCc5/FdkoAHJ10BKLJEu2MAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},rain:{default:{src:"https://cdn.oaistatic.com/_next/static/media/rain.6bc7337d.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEXQ19+ft9v7+/vZ6/LZ3d3n6ev39/fl6eogrvQfr+8irvX49/f///9gvAeZAAAADHRSTlMBC/WvI0XWXEYgUs05SfskAAAACXBIWXMAACxLAAAsSwGlPZapAAAANklEQVR4nEWLORLAMAyEWMmSj+z/35txmtBAA/xUd13PsFswwhF+dMN2DKjMzAlorbO/SxLwAh+9AOhRBiocAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},snow:{default:{src:"https://cdn.oaistatic.com/_next/static/media/snow.e2194b7c.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEVMaXFHo+hYtfFauPh/y/lBsfV6zP8xpvhFuPo/svhlwP1Qtftkvfl90f5Qtvpu+BBVAAAAD3RSTlMAByNqhFdMlp54z4yXlNurPkIcAAAACXBIWXMAACxLAAAsSwGlPZapAAAAN0lEQVR4nD3KuREAIAzEQB02j/n6L5eBAEUbCH5K7klAWe6rADZ7n3Yx9h4XuUW0/OZa34wkwQEgKwDr80NE1AAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},thunder:{default:{src:"https://cdn.oaistatic.com/_next/static/media/thunder.f75568ad.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAPFBMVEVMaXHu7uz39vf+lBDr6eX1+fn49/X6+vbVw7rY0sq7RBHwzq/tgS329fX0sGT/3rf29vb76dH+///8wH41Il+BAAAAEnRSTlMASr/8QHfv/hs0D92iuP794/v87/TmAAAACXBIWXMAACxLAAAsSwGlPZapAAAAPElEQVR4nEWLOxbAIAzDDASc9ENb9/535cGCFi0SsLGcbTo16XUg6fnE21FZflEVcZZONgP8igif9bHmATHHAYGCS6ZoAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},tornado:{default:{src:"https://cdn.oaistatic.com/_next/static/media/tornado.6612217c.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEVMaXGo2fWn2PKy3vSRzfCb0vKe1/XG5/d9vuGSzua34fbb8PfI6feq2/XYB53sAAAADnRSTlMAi4MRQFpxTR0KqiRrnD5QaL0AAAAJcEhZcwAALEsAACxLAaU9lqkAAAA0SURBVHicJYxJEgAxCISwNZpt/v/dqZRc4ATgNNeq6oDvzKG9ID6ZDWCFpBcQZrMj2/gb/B59ALysiQUTAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},windy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/windy.d9e0363e.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEWnzeap2fKh1/LC4va/5PXF5fS64/e54POt2umq2/j///+y3fOOy+7B5/hLx/pcAAAADnRSTlMBgWwdWW2IehEnBJxPu8mYzKoAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA2SURBVHicLYvJDcAwDMMoH3FzdP91ixjliwAlgGdxWeRomWMb5XhWRbyBmyQ7nbSzR2D65f4/HpYAyEH9kpwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}}},ny={foggy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/cloud-foggy.dd7950de.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAUVBMVEVMaXGsuMDg4ePQ2dmWoqyXo6ywtb7i8fGPn6vj4OKXpbDDyM7q6uqsuMDFztbo6OimsLbG1N3W3ePi5OSYprCxv8eQn6mWpK25xtH2+funtL7gAJuZAAAAGXRSTlMAvmcNnqsbA/081y9Lo8/FMfqpfXxgaOT6b58NfAAAAAlwSFlzAAAsSwAALEsBpT2WqQAAAEFJREFUeJwdy0kWgCAMwNAwlBYccFa8/0F9mMXfBXqqoIw1ozBMc/PZQ3LvubeWccXuZ90C4TCzciU0Sowiy393PkmVAgDPwGLjAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},cloudy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/cloudy.13ac82a6.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEXd3d3o6OjS0tLPz8/5+fnt7e3S0tL///9MaXHe3t7Y2Nje3t7x8fHu7u7j4+Pq6ur6+voyyk/JAAAAD3RSTlP9tnt3DWn6AQBc/UJwHtScFXagAAAACXBIWXMAACxLAAAsSwGlPZapAAAAOUlEQVR4nCXByQHAIAwDweWUDElM/9XyyAyWbNnIfYxu4V7OKTbvl5DDPDnnJIO9WEDgXVurIeTfBUI7Acv2uENlAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},"heavy-snow":{default:{src:"https://cdn.oaistatic.com/_next/static/media/heavy-snow.77bb418a.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAS1BMVEVMaXHa29qnqavm6OjS09Ps6eaerrrU3urg4eGgpqzc5Ovb29vg3drp6elVkuCMuOCNvOFSke/l5+7E0NiOtfSFtfVVk/Ps7Ovz8e/ozq7uAAAAGHRSTlMA+Tg8oBsqA/0K8+lUUiHp/aHF+Hb8Rc7pYpzcAAAACXBIWXMAACxLAAAsSwGlPZapAAAAQElEQVR4nB3LSRKAIAwAwQkEkuCCu/7/pZbeu8EwAzDyvR2XwdSedq4zxV32pVfK4CIuBbKq6vjpmlL9W0SE8QJHPAHFR0cGOgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},"light-snow":{default:{src:"https://cdn.oaistatic.com/_next/static/media/light-snow.4e32b952.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEVMaXHm6Ojl4+Pp6emfpKTs6ebZ29uyusKRqb7T0tLb29vP3euOtfSNvOHs7OtSke/Ez9eMuOBVk/OFtfXl5+7f4ODz8e9axw/4AAAAFXRSTlMAPFLtEBv5Biac6f52/c6h+OlF/MXQzjrBAAAACXBIWXMAACxLAAAsSwGlPZapAAAAPUlEQVR4nB3LRxKAQAwEsd44NmlJ5v9PpUB3gZD4pe1eTkEuz3wNo5Xo+3oYbYoe0Rskd/cMyMzql1RVBS9EtAHNITHtpwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},sleet:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sleet.2f675d2a.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEVMaXHOz9by8vLKztPo6OjZ2dns7Oy6y9xtpOvp6enf39/Z2dnp6enh4eHj4+Ld3dzw8PBQKApgAAAADnRSTlMAnz2Z8PPOCU8bUj1SxqqpVBcAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA6SURBVHicRYtBEsAgCMRWBRa0Bf//WsdemksuCfDTzfr1I3sbgZBSzZcIzaqUAFYbo80bubt/F0kCBypQAUQWUkqgAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},drizzle:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-drizzle.8254e660.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAXVBMVEVMaXHLy8v65MXPzc7/mQjj498Tr//FwMIqjdzW1tjWzsf4hSb/mRHh0c0Akv/j187WWwD30azY2dy0zNTm5ub/1q7T09P6y43i5umMx+D7p03SyLz06dzQ0tX/wF0frxzKAAAAHHRSTlMAov758SBOAxI1/iiATi+5GffUshX+5K2F3OX3dYhTfQAAAAlwSFlzAAAsSwAALEsBpT2WqQAAAD1JREFUeJwtyzUCgDAAALGrC1Kkgv//mSwdMgYcdOZoegTC9shPD+T63mu5FoyKKsoETOcuRACYre3Nexw/U1UCJaIgkxAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-drizzle.43491efc.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAS1BMVEWuxbb8pToXuP+Qi4m3trUjf9SOiomZmZnUtoqlpKEFov//yF/0s1mjo6Nfm7TkxIx7kpuyusOJiIP8xW+7u7fk1b2kop/jyaGkpKRVBHVvAAAAFXRSTlMBJ079+hKE/BFoL2PgVt2isYmjuUu9qQYhAAAACXBIWXMAACxLAAAsSwGlPZapAAAAPklEQVR4nB2LORLAIAzEBBiMk0Du4/8vzeAtpEYLY9V57es8bCL3GSrtU5V3CZimpI8BpW9H8XqK0U+QM/ADOlYBfQN1aFIAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},hazy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-hazy.2df474ab.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEWvxL7om2azusD7myTMwKnnuHn/2G6Uq8f4oE+jrrOfrruqs7jRvJ7FtKORqMO6vrLKv6HQyLLnzJXhxZL/yXT81pD2zYgTghc6AAAAFHRSTlMBFapx1NcuJiRejTaeiThDpLvs/ZCAF7gAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA4SURBVHicY2BAADY2CM0vJMDHycnAwC4oysLFxcTNwM4jJszCxMvOwMDIKiLCygFSxMjMDKahAAAwjQFQkMaDtwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-hazy.9cb51a20.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAS1BMVEWpkKzqZwDvfxzPsZfrs3HswYfuu3bxdgO3vLzGtqbVwbDmt32j2v70qFLsYwDttWn/mwunuMWywNGywtbvnFH0uF//o0n9uD32vHHDfs9YAAAAFnRSTlMBMJA75Pz+Ty6CPpoO+n36cTqWavTu4U3qBgAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADdJREFUeJxjYEACjALsIEqQU1RcnJuBgUOIRYKfjZWLgUOYRYKVjZeZgYGHU0RMjAmimA+sGAoAOx8Bmsxh7k8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},"mostly-cloudy":{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-mostly-cloudy.f8a30a6d.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEVMaXHf2tnY2dr9lgr5iCHhUQDc3NrNzs/g4ODW1NL/kwDa1tb70Jb5sWvLzM3/5r/Qx77Ly8vxzavv3s//pxf/2LL/wm4den12AAAAE3RSTlMAr+ykJQw3ex3++kzQ3f799uf4nzItjQAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADhJREFUeJxjYEAGrCxgio2RR4SZgYGBm0mYX4yLhYGDiU9ASJSXlYFDkJOTU5gRpISdnZ2dA6EVACvTAVrnzDyOAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-mostly-cloudy.372053e6.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAOVBMVEVMaXH7y27vqFarq6uJiYmpqam6uriUlZWWl5nnz6D/skOzt8H/xVPUo2T4wWjrx4b/yGCys7PDuqwb9UKcAAAAEXRSTlMASjKEffts/F8HvrKTkfnnQl+TGH0AAAAJcEhZcwAALEsAACxLAaU9lqkAAAA3SURBVHicY2BABgKMYIqNm5+HgZOBk1lQUIiPi4mBg5WdnVWIl4GBgx0EOBgYGDhYWFg4OBFaASq3ATjSK822AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},"mostly-sunny":{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-mostly-sunny.8818b6bb.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAOVBMVEVMaXHqjB36jgr3lCzYv5Phz73f0r3mn1brpjvynjDLy8Xcrm76s07/wl7/r1Lx067hv5P/lwH34cd335vHAAAAEXRSTlMAVqy2U/y/By41pF+w/vj2aNVpL5cAAAAJcEhZcwAALEsAACxLAaU9lqkAAAA4SURBVHicJYtJEgAgCMOqoOC+/P+xDtJLekgAQAR/WooaOfcY7O01DqlANJ55symBUqouN/bu5w8slQE+JSCvKwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-mostly-sunny.94f2fdd6.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAATlBMVEX//2f/zl7/ukz2oT6oqrD3qU392IdMaXG3yOiwudPnjy+wrq6Ikp39yGL/zXjuz5jHwLT3xXamoZ38tEj/u2arqafGspr/zU//2mfp07BYknvHAAAAFXRSTlMBRnpvKS4xABIJIJhu6mz82PfM6x6M6aq9AAAACXBIWXMAACxLAAAsSwGlPZapAAAAP0lEQVR4nB3LRxLAIBDEwAEWxDrn8P+PurAufZKQEDRKoVbEMQY7e8T0xDoY8uVdY8jIt2u+94xwS6lr05/4AEl3AhuEFfsXAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},shower:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-shower.adb87269.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAATlBMVEVMaXHj498ytvj65MTUy8TQ0dHY1tjcrqMqiMDIzM//mQjW1tjV0c7WWwDj187/mRH4hSbm5ubi5umv0Nz7p03/1q730az6y4306dz/wF0NCHaFAAAAGHRSTlMAIEv++/s1Awqn8dxPGbmAKBWFyeX+963x73O5AAAACXBIWXMAACxLAAAsSwGlPZapAAAAPklEQVR4nBXLSRLAIAgAwVFBQLPv+f9HU+l7g4EZYKTtbjNQ+1PetrB2les8RpKqSJmAIfaICuA5/xXDHeMDRf4Bxdt0sXoAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-shower.87b75170.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEVMaXGOjIu4trO3tbOqqq38qTyHhoabm5xmtNrZuIijoqEteMOOiog8uPf4s1P/xWeBkpqDlp3sxYGioqL/x126u73k07fnyZqKI2PkAAAAFXRSTlMA/T30bii3/R0P/hGVbd+51dKWSGWW9iajAAAACXBIWXMAACxLAAAsSwGlPZapAAAAO0lEQVR4nB2KSRLAIAyAsEZj7GL3/v+nnYQDXADHwpOcdzQ/7yjG1VXztxVEU9IuYMt+1Np8amsEmN0/Ne0Bb5+KJkAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},sunny:{default:{src:"https://cdn.oaistatic.com/_next/static/media/sun-sunny.8f75dd58.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEXqpTxMaXHklCjslCr7lw72fAn/pAD/jwDSeLtsAAAABnRSTlMxAAdWr7MvkfsyAAAACXBIWXMAACxLAAAsSwGlPZapAAAAMElEQVR4nEWLMQ4AIAyE4Gz1/z82TUxcWADUREWBoayqhYTauwihz2kyqnvUj99+ARAjAHNNhZiBAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},night:{src:"https://cdn.oaistatic.com/_next/static/media/moon-sunny.622ae977.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEVMaXHzsFn6rl3/vV3+yWz2oz7+uEz8u1bmm1D92IX7rkL/ymX3wW//xkn/1VoqoKxiAAAADXRSTlMAHjGBVXDvbBQw0OgvI72EUQAAAAlwSFlzAAAsSwAALEsBpT2WqQAAAC5JREFUeJxjYEAATk4IzcjNAmGw8zFDGbxszCxMDAwMHFy8vGwgBgMHKysjkl4AFbQApZPFqEAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},"rain-thunder":{default:{src:"https://cdn.oaistatic.com/_next/static/media/rain-thunder.42051352.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAOVBMVEXcy97iv5nr6+v/cQDp6Oja2tkZuvilsc3p7fDp6end3d3bgifL1tbA2OPi4uHw7u7h4uPb29zx8fAi2RkDAAAAEHRSTlMB0c1R8PNDCkYbPYeknsXOEluSaAAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADpJREFUeJxFizkSwCAMxASxWZzT8P/HZkITNWok+Om19mWb8xGEDfe8RXiOkRawn1cpX6TWjm1dkoAXMDEBaKZAvXgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},rain:{default:{src:"https://cdn.oaistatic.com/_next/static/media/rain.32e741db.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEXL5eXm5uYlt//r6+vZ2dnr6+vk4+Oct9vj4+PH1NcgtPbu7u4mtf/u7u7h4eHk5OTw8PAXmAblAAAAD3RSTlMBGkTN9j1RCviiHx9QzsYzOQEGAAAACXBIWXMAACxLAAAsSwGlPZapAAAAOElEQVR4nEWLMRaAIAzFArT8VlC4/2l9uJglWQI/3pof99j7FpQIs/WIYidigGdmdkC1zuu7JAEvJvQBLDpChm0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},snow:{default:{src:"https://cdn.oaistatic.com/_next/static/media/snow.daca4237.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEWRy/puqv2BvPpvrP5rqf93s/1qp/5mn/1ioPyCwPv35WSJAAAACnRSTlMBghtIkFtsyMgWyerCMQAAAAlwSFlzAAAsSwAALEsBpT2WqQAAACpJREFUeJxjYEAAJkZGJhDNzMLGxsLMwMDAysjOzsgKYXCAGXApuGIoAAAQtwB2emwHgQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},thunder:{default:{src:"https://cdn.oaistatic.com/_next/static/media/thunder.72b79dd9.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAUVBMVEVMaXHlpl/p5eTm6/LV19rbn4Lu8/fi0crr6ufa2Nfr6ur////S0tHd///Kycndy7Xrfiv8kgjk5OTqyqTs7OzFyM/bvKPz8/Tl5OPx4dH6kRTH9NsGAAAAF3RSTlMA/ULx/Q5uGDguuAPrHv37n/qv/t3602vE6+wAAAAJcEhZcwAALEsAACxLAaU9lqkAAABBSURBVHicJYtLEoAgDMUeUmgLKoqfqvc/qFPNJpNFgIqfCilFPIdotif31ujqjHyvgcgypvMJxzwKwIuqsm/p219GDwICBbK5BQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},tornado:{default:{src:"https://cdn.oaistatic.com/_next/static/media/tornado.d7942f85.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEVMaXGdz+qdz+qJxuicxuWSzOm73e94tdyFwuaVzuuk0uqp0ufU4vC82+vM5fJlFCu4AAAAD3RSTlMAi4BAEFpNHQptoLAkaxRtno1XAAAACXBIWXMAACxLAAAsSwGlPZapAAAANUlEQVR4nCXGSRLAIAzEQM3YOECW/z+XqlgXNfDRvaqqB3IvD98TYlsawAz7B4R0NVafTOAAICMAwEiAS+QAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},windy:{default:{src:"https://cdn.oaistatic.com/_next/static/media/windy.f087e077.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEWt2Oycy+KUyeWw1uqx1OehzuWexOGc0eu21OO22Omy2OqEweGx1+kQG/iwAAAADXRSTlMBf2wdWZcRJ2xzhU+7J84sRQAAAAlwSFlzAAAsSwAALEsBpT2WqQAAADRJREFUeJwti0kOACAMAqGLttX/v9fUlAuTMADAwiTr1y4XpEKDNLsGFZJyenJ6jC0c6P8DGA8Am907uZsAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}}};function nj(e){let{turnIndex:t}=e,n=(0,ek.nn)(e=>{var n;return null===(n=e.thread)||void 0===n||null===(n=n.turns[t])||void 0===n?void 0:n.use_location}),[r]=(0,tQ.rV)();return!r.useLocation&&n?(0,eO.jsx)("div",{className:"mt-3",children:(0,eO.jsx)(nm.z,{color:"secondary",icon:el.Jj5,onClick:()=>{ep.vm.setSettingsModalOpen(!0)},children:"Share precise location"})}):null}let nk=(0,$.memo)(function(e){let{weatherResults:t,dateRange:n,turnIndex:r}=e,a=(0,ek.nn)(ek.LW.threadId);(0,$.useEffect)(()=>{a&&ti.Y.logEvent(ti.M.searchWidgetShown,{thread_id:a,type:"weather",turn_index:r})},[a,r]);let{daily:s,hourly:i,current:l}=t,o=l.temperature.current,c=l.description,u=(()=>{var e;let t=["It's"];return null!=o&&t.push("".concat(nS(o)," and")),t.push(0===(e=c.description).length?e:e.charAt(0).toLowerCase()+e.slice(1)),t.join(" ")})(),d=null!=n,h=d?i.filter(e=>e.timestamp>=n.start_timestamp&&e.timestamp<n.end_timestamp):s.slice(0,7);return(0,eO.jsxs)(eO.Fragment,{children:[(0,eO.jsxs)("div",{className:"not-prose flex items-center  gap-4 ",children:[(0,eO.jsxs)("div",{className:"flex-grow",children:[(0,eO.jsx)("div",{className:"text-lg font-semibold",children:u}),(0,eO.jsx)("div",{className:"text-token-text-tertiary",children:function(e){let t=e.name.split(",").map(e=>e.trim());return e.country&&!t.includes(e.country)&&t.push(e.country),t.join(", ")}(t.location)})]}),(0,eO.jsx)(nE,{weatherDescriptionData:c,isNight:l.night})]}),(0,eO.jsx)(nj,{turnIndex:r}),h.length>1&&(0,eO.jsx)("div",{className:"no-scrollbar not-prose -mx-snc-results-padding mb-3 mt-6 overflow-auto px-snc-results-padding sm:overflow-hidden",children:(0,eO.jsx)(np.Z.Root,{className:"min-w-[170vw] border-b-[0.5px] border-token-border-medium sm:min-w-0",children:(0,eO.jsx)(np.Z.Body,{children:h.map((e,t)=>(0,eO.jsxs)(np.Z.Row,{children:[(0,eO.jsxs)(nM,{className:(0,G.default)(d?"w-[110px] md:w-[180px]":"w-[60vw] sm:w-[150px]"),children:[(0,eO.jsx)(nE,{weatherDescriptionData:e.description,isNight:e.night,size:"small"}),(0,eO.jsx)("div",{className:"ml-3",children:d?(0,eO.jsx)("span",{className:"lowercase",children:function(e){let t=nv(e.timestamp,e.utc_offset_sec);return(0,t6.Z)(t,"ha")}(e)}):function(e){let t=nv(e.timestamp,e.utc_offset_sec);return(0,ng.Z)(t)?"Today":(0,t6.Z)(t,"EEEE")}(e)})]}),(0,eO.jsx)(nM,{className:(0,G.default)("tabular-nums",d&&"w-[60px]"),children:d?(0,eO.jsx)("div",{children:nS(e.temperature.current)}):(0,eO.jsxs)(eO.Fragment,{children:[(0,eO.jsx)("div",{children:nS(e.temperature.max)}),(0,eO.jsx)("div",{className:"ml-1 text-token-text-tertiary",children:nS(e.temperature.min)})]})}),(0,eO.jsx)(nM,{children:e.description.description})]},t))})})})]})}),nM=(0,eA.Z)(np.Z.Cell)(l||(l=(0,ea.Z)(["py-1.5"])));function nE(e){let{weatherDescriptionData:t,isNight:n=!1,size:r="normal"}=e,a=(0,q.Gv)(),s="small"===r?30:50;return(0,eO.jsx)(nx(),{draggable:!1,alt:t.description,src:function(e){let{weatherCode:t,isDarkMode:n,isNight:r}=e,a=(n?ny:nw)[function(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:default:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy"}}(t)];return a.night&&r?a.night:a.default}({weatherCode:t.id,isDarkMode:a,isNight:n}).src,width:s,height:s})}function nS(e){return null==e?"-":"".concat(Math.round(9*e/5+32),"\xb0")}var nO=n(96525),nC=n(19464);function nN(e){let{metadata:t}=e,n=(0,J.useRouter)(),r=eR().imageResults.length,a=(0,q.BL)(),s=t.images,i=s.map(e=>e.thumbnail_url),l=(0,nC.h)({queries:i.map(e=>eD(e)),combine:e=>{let t=new Set;return e.forEach((e,n)=>{e.isSuccess&&t.add(i[n])}),t}}),o=s.filter(e=>l.has(e.thumbnail_url)),c=t.images.length;if(0===c)return null;if(1===c){let e=t.images[0];return(0,eO.jsx)(nL,{image:e,imageSource:ep.y6.Turn,className:"float-image z-10 float-right clear-right mb-snc-2 ml-snc-2 mt-1 min-w-32 max-w-[22%] overflow-hidden rounded-xl border-[0.5px] border-token-border-light"},e.content_url)}let u=a?o.length:Math.min(o.length,5);return(0,eO.jsx)("div",{className:"no-scrollbar -mx-snc-results-padding mb-6 mt-1 flex flex-nowrap gap-0.5 overflow-auto px-snc-results-padding sm:gap-1 sm:overflow-hidden",children:o.slice(0,u).map((e,t)=>(0,eO.jsxs)("div",{className:(0,G.default)("relative aspect-square max-h-48 shrink-0 overflow-hidden border-[0.5px] border-token-border-light",0===t&&"rounded-l-xl",t===u-1&&"rounded-r-xl"),style:{width:a?128:"calc((100% - 0.25rem * ".concat(u-1,") / ").concat(u,")")},children:[(0,eO.jsx)(nL,{image:e,imageSource:ep.y6.Turn,className:"h-full w-full"},e.thumbnail_url),t===u-1&&r>u&&(0,eO.jsx)("button",{className:"absolute bottom-1 right-1 rounded-[10px] bg-black/50 px-2 py-1 text-sm text-white transition-colors hover:bg-black/80",onClick:()=>(0,tD._d)(n,tD.iY.Images),children:"+".concat(r-u)})]},e.thumbnail_url))})}function nL(e){let{image:t,imageSource:n,className:r,imgClassName:a,style:s}=e,i=eI(t),{isSuccess:l}=eP(i),o=(0,ek.nn)(ek.LW.threadId),c=(0,$.useCallback)(e=>{t&&l&&t&&o&&ti.Y.logEvent(e,{thread_id:o,url:t.url,title:t.title})},[t,l,o]);return(0,$.useEffect)(()=>{c(ti.M.searchCarouselImageShown)},[c]),(0,eO.jsx)("button",{className:(0,G.default)("relative aspect-square overflow-hidden",r),style:s,onClick:()=>{ep.vm.setFocusedImage(t?{image:t,source:n}:void 0),c(ti.M.searchCarouselImageClicked)},children:t?l?(0,eO.jsx)(eB,{children:(0,eO.jsx)("img",{src:i,alt:null==t?void 0:t.content_url,className:(0,G.default)("m-0 h-full w-full bg-token-main-surface-tertiary object-cover",a)})}):(0,eO.jsx)("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"}):(0,eO.jsx)("div",{className:"aspect-square h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}let nR={google_maps:{title:"Google Maps"}};function nD(e){var t,n;let{metadata:r}=e,a=null!==(t=null===(n=nR[r.provider])||void 0===n?void 0:n.title)&&void 0!==t?t:"Maps";return(0,eO.jsxs)("span",{children:[" (",(0,eO.jsx)("a",{href:r.url,target:"_blank",rel:"noopener",children:a}),") "]})}function nP(e){let{image:t}=e,n=eI(t,{width:180,height:270}),{isSuccess:r}=eP(n);return(0,eO.jsx)(Q.E.img,{src:n,className:"h-full w-full object-cover",alt:t.title,initial:{opacity:0},animate:r?{opacity:1}:{},whileHover:{scale:1.03,transition:ez}})}function nU(e){let{metadata:t}=e,n=(0,ek.nn)(ek.LW.threadId),r=(0,$.useCallback)(e=>{!t.hidden&&n&&t.image&&ti.Y.logEvent(e,{thread_id:n,url:t.image.url,title:t.image.title})},[t.hidden,t.image,n]);return((0,$.useEffect)(()=>{r(ti.M.searchInlineImageShown)},[]),t.hidden)?null:(0,eO.jsx)(eO.Fragment,{children:(0,eO.jsx)("button",{className:"message-image-citation flex w-full items-center justify-center overflow-hidden rounded-lg border-[0.5px] border-token-border-light",onClick:()=>{t.image&&ep.vm.setFocusedImage({image:t.image,source:ep.y6.Turn}),r(ti.M.searchInlineImageClicked)},children:t.image?(0,eO.jsx)(nP,{image:t.image}):(0,eO.jsx)("div",{className:(0,G.default)("flex h-full w-full items-center justify-center bg-token-main-surface-tertiary","done"!==t.status&&"animate-pulse"),children:"done"===t.status&&(0,eO.jsx)(e8.u,{label:"Error fetching image",children:(0,eO.jsx)(em.Z,{className:"h-12 w-12 text-token-text-tertiary"})})})})})}function nT(e){let{metadata:t}=e;return 0===t.items.length?null:(0,eO.jsxs)("div",{className:"mt-snc-1 flex flex-col gap-snc-1",children:[t.title&&(0,eO.jsx)("div",{className:"-mb-1 font-semibold text-token-text-primary",children:t.title}),t.items.map((e,t)=>(0,eO.jsx)(nI,{item:e,index:t},t))]})}function nI(e){var t,n;let{item:r,index:a}=e,s=null!==(t=(0,ec.d)(r.url).data)&&void 0!==t?t:(0,eo.p)(r.url,"short"),{isSuccess:i,isLoading:l}=eP(null!==(n=r.thumbnail_url)&&void 0!==n?n:void 0),o=(0,ek.nn)(ek.LW.threadId),c=(0,$.useCallback)(e=>{o&&ti.Y.logEvent(e,{thread_id:o,url:r.url,title:r.title,index:a})},[o,r.url,r.title,a]);return(0,$.useEffect)(()=>{c(ti.M.searchNavListCitationShown)},[c]),(0,eO.jsxs)("a",{className:"group/nav-list flex items-center gap-snc-1",href:r.url,target:"_blank",rel:"noopener",onClick:()=>{c(ti.M.searchNavListCitationClicked)},children:[(0,eO.jsx)("div",{className:"h-12 w-12 flex-shrink-0 self-start overflow-hidden rounded-lg bg-token-main-surface-tertiary",children:i?r.thumbnail_url&&(0,eO.jsx)(eB,{children:(0,eO.jsx)("img",{src:r.thumbnail_url,className:"m-0 h-full w-full object-cover",alt:r.title})}):!l&&(0,eO.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,eO.jsx)(es.Z,{url:r.url,size:128,minSize:16,className:"icon-lg"})})}),(0,eO.jsxs)("div",{className:"flex grow flex-col gap-0.5 overflow-hidden text-ellipsis",children:[(0,eO.jsx)("div",{className:"line-clamp-1 text-xs text-token-text-tertiary",children:s}),(0,eO.jsx)("div",{className:"text-token-primary col-start-2 line-clamp-2 text-base font-semibold decoration-token-link group-hover/nav-list:underline",children:r.title})]})]})}var nz=n(59594);function nB(e){let{metadata:t}=e;return(0,eO.jsxs)("span",{className:"break-all",children:["(",t.items.map(e=>(0,eO.jsx)(n_,{index:e.index,citationMetadata:e},e.url)),")"]})}function n_(e){var t;let{citationMetadata:n,index:r}=e,a=null!==(t=(0,ec.d)(n.url).data)&&void 0!==t?t:(0,eo.p)(n.url);return(0,eO.jsx)(nV,{citationMetadata:n,index:r,className:"inline-flex max-w-full after:mr-0.5 after:text-token-text-primary after:content-[','] last:after:mr-0 last:after:content-['']",children:(0,eO.jsx)("span",{className:"truncate",children:a})})}function nV(e){var t;let{citationMetadata:n,children:r,index:a,className:s}=e,i=(0,$.useContext)(e3.h7),l="webpage"===n.type?n.url:"",o=null!==(t=(0,ec.d)(l).data)&&void 0!==t?t:(0,eo.p)(l),c="file"!==n.type,{onCitationShown:u,onCitationHovered:d,onCitationClicked:h,onCitationUnhovered:A}=null!=i?i:{};return((0,$.useEffect)(()=>{c&&(null==u||u(n,a))},[]),c)?(0,eO.jsxs)(nz.fC,{delayDuration:150,onOpenChange:e=>{e?null==d||d(n,a):null!=a&&(null==A||A(a))},disableHoverableContent:!0,children:[(0,eO.jsx)(nz.xz,{asChild:!0,children:(0,eO.jsx)("a",{href:n.url,onClick:()=>null==h?void 0:h(n,a),target:"_blank",rel:"noopener",className:s,children:r})}),(0,eO.jsx)(nz.h_,{children:(0,eO.jsx)(nz.VY,{side:"top",children:(0,eO.jsx)("a",{href:n.url,target:"_blank",rel:"noopener",children:(0,eO.jsxs)("div",{className:"flex max-w-xs flex-col gap-1 rounded-lg bg-black px-4 py-3 text-sm text-white shadow-sm",children:[(0,eO.jsxs)("div",{className:"flex gap-2",children:[(0,eO.jsx)(es.Z,{url:n.url,size:32,className:"h-5 w-5 shrink-0 rounded"}),(0,eO.jsx)("div",{className:"line-clamp-1",children:o})]}),n.title&&(0,eO.jsx)("div",{className:"line-clamp-2",children:n.title}),n.text&&(0,eO.jsx)("div",{className:"line-clamp-2",children:n.text})]})})})})]}):null}function nH(e){let{metadata:t}=e,n=(0,t2.Z)(t.utc_time,t.utc_offset),r=(0,t6.Z)(n,"p",{timeZone:t.utc_offset});return(0,eO.jsx)("span",{children:r})}function nW(e){let{metadata:t}=e;return(0,eO.jsx)("div",{className:"title-citation",children:null!=t.url?(0,eO.jsx)(nV,{citationMetadata:{type:"webpage",url:t.url,title:t.description},className:"group/title-citation inline-flex flex-col",children:(0,eO.jsx)("div",{className:"!font-semibold text-token-link group-hover/title-citation:!underline",children:t.description})}):(0,eO.jsx)("div",{className:"!font-semibold",children:t.description})})}function nF(e){let t,{url:n,className:r}=e,a=function(e){let t=e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return t?t[1]:null}(n);a&&(t=(0,eO.jsx)(nZ,{videoId:a}));let s=function(e){let t=e.match(/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/);return t?t[1]:null}(n);return(s&&(t=(0,eO.jsx)(nq,{videoId:s})),t)?(0,eO.jsx)("div",{className:r,children:t}):null}function nZ(e){let{videoId:t}=e;return(0,eO.jsx)("iframe",{className:"aspect-video w-full",src:"https://www.youtube.com/embed/".concat(t),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function nq(e){let{videoId:t}=e;return(0,eO.jsx)(eO.Fragment,{children:(0,eO.jsx)("iframe",{className:"aspect-video w-full",src:"https://player.vimeo.com/video/".concat(t),frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}var nX=n(3551);function nY(e){let{tldr:t}=e,n=(0,ek.nn)(ek.LW.threadId),r=(0,$.useCallback)(e=>{t.url&&n&&ti.Y.logEvent(e,{thread_id:n,url:t.url,title:t.display_title})},[n,t.display_title,t.url]);if((0,$.useEffect)(()=>{r(ti.M.searchTldrLinkShown)},[r]),!t.url)return null;let a=t.leaf_description;return!a&&t.url&&(a=new URL(t.url).pathname.slice(1)),Array.isArray(a)||(a=ev()([a])),(0,eO.jsxs)("div",{className:"not-prose mb-5 flex flex-col gap-snc-results-padding text-base",children:[(0,eO.jsx)(nF,{url:t.url}),(0,eO.jsx)("a",{href:t.url,onClick:()=>r(ti.M.searchTldrLinkClicked),target:"_blank",className:"group/tldr",children:(0,eO.jsxs)("div",{className:"grid max-w-full shrink grid-cols-[1fr,auto] items-center gap-x-8 sm:gap-x-16",children:[(0,eO.jsxs)("div",{className:"flex shrink flex-col overflow-hidden",children:[(0,eO.jsx)("div",{className:"shrink text-lg font-semibold text-token-text-primary 2xl:text-xl",children:t.display_title}),(0,eO.jsxs)("div",{className:"flex items-center truncate text-token-link [overflow-wrap:anywhere] group-hover/tldr:opacity-70",children:[(0,eO.jsx)("div",{children:(0,nX.SX)(t.url)}),a.length>0&&a.map((e,t)=>(0,eO.jsxs)($.Fragment,{children:[(0,eO.jsx)(el.ob9,{className:"h-4 w-4 shrink-0"}),(0,eO.jsx)("div",{className:"truncate",children:e.toLowerCase()})]},t))]})]}),(0,eO.jsx)(es.Z,{url:t.url,size:128,minSize:32,className:"mr-[0.1875rem] h-7 w-7 shrink-0 rounded"}),t.snippet&&(0,eO.jsx)("div",{className:"line-clamp-3 overflow-hidden text-ellipsis text-sm text-token-text-tertiary",children:t.snippet})]})})]})}function nG(e){var t;let{index:n,displayLayout:r}=e,a=parseInt(n,10),s=(0,$.useContext)(tc);if(null==s)return null;let{displayedCitations:i,turnIndex:l}=s,o=i[a];if(o.type===to.Snc)switch(o.metadata.type){case"title_citation":return(0,eO.jsx)(nW,{metadata:o.metadata});case"optimistic_image_inline":return"block"!==r&&nO.Z.error("Message image citation should use a block layout. Got: ".concat(r)),(0,eO.jsx)(nU,{metadata:o.metadata});case"location_search":return(0,eO.jsx)(nD,{metadata:o.metadata});case"time":return(0,eO.jsx)(nH,{metadata:o.metadata});case"image_v2":return(0,eO.jsx)(nN,{metadata:o.metadata});case"nav_list":return(0,eO.jsx)(nT,{metadata:o.metadata});case"webpage":return(0,eO.jsx)(nB,{metadata:o.metadata});case"tldr":return(0,eO.jsx)(nY,{tldr:o.metadata});case"stock":return(0,eO.jsx)(nh,{citation:o.metadata,turnIndex:l});case"calculator":return(0,eO.jsx)(t1,{data:o.metadata,turnIndex:l});case"forecast":return(null===(t=o.metadata)||void 0===t?void 0:t.forecast)&&(0,eO.jsx)(nk,{weatherResults:o.metadata.forecast,dateRange:o.metadata.date_range,turnIndex:l})}return o.type===to.SncDebug?(0,eO.jsx)(eO.Fragment,{children:Object.entries(o.metadata).map(e=>{let[t,n]=e;return(0,eO.jsx)("sub",{className:"ml-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:n},t)})}):(0,eO.jsx)(t$.R,{index:a})}let nQ=["node","inline","children"];function nK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nK(Object(n),!0).forEach(function(t){(0,eg.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let n$=[...t_.Hf,function(){return e=>{(0,tq.Vn)(e,e=>{var t;(0,tZ.j)(e)&&e.name===tX&&((null!==(t=e.data)&&void 0!==t?t:e.data={}).hName=tX)})}}];function n0(e){let{text:t,turnIndex:n,isActivelyStreaming:r=!1}=e;return(0,eO.jsx)(n1,{className:(0,G.default)("relative text-token-text-primary",""===t&&r&&"result-thinking",r&&"result-streaming"),turnIndex:n,children:""===t?"&#8203;":t})}function n1(e){let{size:t="medium",turnIndex:n,children:r,className:a}=e,{resolvedTheme:s}=(0,tW.F)(),i=(0,$.useMemo)(()=>({code:e=>{let{node:t,inline:r,children:a}=e,s=(0,tz.Z)(e,nQ);if(t&&r){let e=(0,tH.B)(t).match(/^\[([^\]]+)\]\((.+)\)$/);if(e&&tK(e[2]))return(0,eO.jsx)("code",nJ(nJ({},s),{},{children:(0,eO.jsx)(tJ,{turnIndex:n,children:[e[1]]})}))}return(0,eO.jsx)(tB.Z,nJ({},e))},[td.p]:nG,[tX]:tG,a:e=>{let{href:t,children:r}=e;return tK(t)?(0,eO.jsx)(tJ,{turnIndex:n,children:r}):(0,eO.jsx)("a",{href:t?(0,t_.SQ)(t):void 0,target:"_blank",rel:"noopener",children:r})},td:e=>{let{children:t}=e;return(0,eO.jsx)("td",{children:$.Children.map(t,(e,t)=>"<br>"===e?(0,eO.jsx)("br",{},t):e)})}}),[n]);return(0,eO.jsx)(tV.S,{name:"formatted_text_error",fallback:()=>(0,eO.jsx)(eO.Fragment,{children:r}),children:(0,eO.jsx)(tF.U,{rehypePlugins:t_.Yu,remarkPlugins:n$,className:(0,G.default)(a,"prose w-full break-words dark:prose-invert","dark"===s?"dark":"light","small"===t&&"prose-xs"),urlTransform:t_.SQ,components:i,children:r})})}function n2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n2(Object(n),!0).forEach(function(t){(0,eg.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let n5=e9()(()=>Promise.all([n.e(8682),n.e(9788),n.e(675)]).then(n.bind(n,44621)).then(e=>e.SportsWidget),{loadableGenerated:{webpack:()=>[44621]}}),n3=(0,$.memo)((0,$.forwardRef)(function(e,t){let{turn:n,isHighlighted:r}=e,{retrySearch:a}=(0,eG.A)();if(null==n.index)throw Error();let s=n.index>0;return(0,eO.jsxs)(Q.E.div,n6(n6({ref:t,className:"flex flex-col gap-snc-results-padding"},s?{initial:{opacity:0},animate:{opacity:1},transition:{duration:.33,ease:"easeInOut"}}:{}),{},{children:[s&&(0,eO.jsx)(n4,{turnIndex:n.index,text:n.user_query}),(0,eM.jo)(n)?(0,eO.jsx)(n9,{text:"Something went wrong. Please try again.",canRetry:!0,onRetry:()=>a(n.user_query)}):(0,eO.jsx)(n8,{turn:n,isHighlighted:r})]}))}));function n4(e){let{turnIndex:t,text:n}=e;return(0,eO.jsx)("div",{className:"user-query inline-flex justify-end px-snc-results-padding",children:(0,eO.jsx)("div",{className:"max-w-[90%] rounded-3xl bg-token-main-surface-tertiary px-5 py-2.5",children:(0,eO.jsx)(n0,{turnIndex:t,text:n})})})}function n9(e){let{text:t,onRetry:n,canRetry:r}=e;return(0,eO.jsx)("div",{className:"mx-snc-results-padding",children:(0,eO.jsx)(e6.Z,{type:"danger",className:"my-0 border border-token-border-light bg-transparent text-token-text-secondary",iconClassName:"text-red-500",children:(0,eO.jsxs)("div",{className:"flex w-full items-center justify-between text-red-500",children:[t,r&&(0,eO.jsx)("button",{onClick:()=>n(),className:"font-semibold text-token-text-primary",children:"Retry"})]})})})}function n8(e){var t,n,r,a;let{turn:s,isHighlighted:i}=e,l=(0,$.useRef)(null),o=null!==(t=null===(n=s.model_response)||void 0===n?void 0:n.text)&&void 0!==t?t:"",{0:c,1:u}=(0,$.useState)(o),{0:d}=(0,$.useState)(()=>new e5.Zl(e5.R3,e=>{u(e)},c));if((0,$.useEffect)(()=>{i&&l.current&&l.current.scrollIntoView({behavior:"smooth",block:"start"})},[i]),(0,$.useEffect)(()=>{d.setText(o)},[o,d]),null==s.index)throw Error();let h=d.isBuffering()||(0,eM.A7)(s);return(0,eO.jsxs)(n7,{ref:l,$isHighlighted:i,children:[(0,eO.jsx)(re,{turnIndex:s.index,responseText:c,showOlympicsCitation:(null===(r=s.olympics_widget)||void 0===r?void 0:r.status)==="done",citations:null===(a=s.model_response)||void 0===a?void 0:a.citations,isResponseStreaming:h}),!h&&(0,eO.jsx)("div",{className:"mt-6 px-snc-results-padding",children:(0,eO.jsx)(tS,{turn:s})})]})}let n7=eA.Z.div(o||(o=(0,ea.Z)(["group flex flex-col\n  ",""])),e=>{let{$isHighlighted:t}=e;return t&&"-mx-2 rounded-md bg-yellow-100 px-2 py-4 dark:bg-yellow-900"}),re=(0,$.memo)(function(e){let{turnIndex:t,responseText:n,citations:r,isResponseStreaming:a,showOlympicsCitation:s}=e,i=(0,ek.nn)(ek.LW.threadId),l=tm(n,r,eJ.ne.useState(eJ.ne.selectAgentSettingsOverrides).debug_mode),{displayedCitations:o}=l,{processedText:c}=l,u=a?tp(c):s?"".concat(c,"\n\nMore information on [olympics.com](https://olympics.com/en/paris-2024/schedule?utm_campaign=dp_openai)."):c,d=(0,ec.u)(o.reduce((e,t)=>{var n,r;return t.type===e3.Zn.Standard&&(null===(n=t.metadata)||void 0===n?void 0:n.type)!=="file"&&(null===(r=t.metadata)||void 0===r?void 0:r.url)!=null?[...e,t.metadata.url]:e},[])),h=(0,ek.nn)(ek.LW.__deprecated_sportsWidget),{0:A,1:m}=(0,$.useState)(new Set),p=(0,tC.L)();return(0,eO.jsxs)(eO.Fragment,{children:[p&&h&&0===t&&(0,eO.jsx)(n5,{sportsWidget:h}),(0,eO.jsxs)(tu,{value:{displayedCitations:o,isActivelyStreaming:a,responseText:n,attributions:d,onCitationShown:e=>{i&&(null==e?void 0:e.type)==="webpage"&&ti.Y.logEvent(ti.M.searchCitationShown,{thread_id:i,url:e.url,title:e.title,pub_date:e.pub_date,turn_index:t})},onCitationClicked:e=>{i&&"webpage"===e.type&&ti.Y.logEvent(ti.M.searchCitationClicked,{thread_id:i,url:e.url,title:e.title,pub_date:e.pub_date,turn_index:t})},onCitationHovered:(e,n)=>{null!=n&&m(e=>{let t=new Set(e);return t.add(n),t}),i&&(null==e?void 0:e.type)==="webpage"&&ti.Y.logEvent(ti.M.searchCitationHovered,{thread_id:i,url:e.url,title:e.title,pub_date:e.pub_date,turn_index:t})},onCitationUnhovered:e=>{null!=e&&m(t=>{let n=new Set(t);return n.delete(e),n})},turnIndex:t},children:[(0,eO.jsx)("div",{className:"relative z-0 px-snc-results-padding",children:(0,eO.jsx)(n0,{turnIndex:t,text:u,isActivelyStreaming:a})}),!a&&(0,eO.jsx)(tI,{highlightedCitationIndices:A,turnIndex:t})]})]})});function rt(e){let{highlightTurnIndex:t}=e,n=(0,ek.nn)(ek.LW.turns),r=(0,ek.nn)(ek.LW.hasResponse),a=(0,ek.nn)(ek.LW.numTurns),s=(0,ee.useScrollToBottom)();return(0,$.useEffect)(()=>{a>1&&s({behavior:"smooth"})},[a,s]),(0,eO.jsx)("div",{className:"flex w-full flex-col gap-snc-results-padding",children:r?n.map((e,n)=>(0,eO.jsx)(n3,{turn:e,isHighlighted:e.index===t},n)):(0,eO.jsx)(rn,{})})}function rn(){return(0,eO.jsxs)("div",{className:"space-y-6 px-snc-results-padding",children:[(0,eO.jsx)(e2.HK,{lines:2,scaleUpAnimation:{initialScaleX:.6,duration:1.6}}),(0,eO.jsx)(e2.HK,{lines:8,indexOffset:2,scaleUpAnimation:{initialScaleX:.6,duration:1.6}}),(0,eO.jsx)(e2.HK,{lines:5,indexOffset:10,scaleUpAnimation:{initialScaleX:.6,duration:1.6},className:"max-sm:hidden"})]})}function rr(e){let{highlightTurnIndex:t}=e;return(0,eO.jsxs)("div",{className:"flex grow flex-col pt-6 lg:pt-8 xl:pt-10 2xl:pt-12",children:[(0,eO.jsx)(rt,{highlightTurnIndex:t}),(0,eO.jsx)("div",{className:"h-24 sm:h-32"})]})}function ra(){return(ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rs=e=>$.createElement("svg",ra({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),c||(c=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v5"})),u||(u=$.createElement("path",{fill:"currentColor",d:"M5.344 18.769c0 1.107.549 1.809 1.332 1.809.594 0 1.017-.396 1.134-1.035l1.656.549c-.396 1.215-1.332 2.016-2.781 2.016-1.818 0-3.105-1.395-3.105-3.339s1.287-3.339 3.105-3.339c1.449 0 2.385.801 2.78 2.016l-1.655.549c-.117-.639-.54-1.035-1.134-1.035-.783 0-1.332.702-1.332 1.809m4.082 2.259.963-1.278c.549.621 1.278.909 1.935.909.54 0 .9-.198.9-.567 0-.414-.46-.468-1.45-.666-.944-.189-1.98-.54-1.98-1.854 0-1.323 1.144-2.142 2.575-2.142 1.134 0 2.025.441 2.538.999l-.954 1.188a2.17 2.17 0 0 0-1.63-.738c-.476 0-.8.18-.8.513 0 .369.396.432 1.179.594 1.008.207 2.268.486 2.268 1.926 0 1.395-1.224 2.196-2.718 2.196-1.053 0-2.286-.414-2.826-1.08m5.52 0 .962-1.278c.55.621 1.278.909 1.935.909.54 0 .9-.198.9-.567 0-.414-.459-.468-1.449-.666-.945-.189-1.98-.54-1.98-1.854 0-1.323 1.143-2.142 2.574-2.142 1.134 0 2.025.441 2.538.999l-.954 1.188a2.17 2.17 0 0 0-1.629-.738c-.477 0-.8.18-.8.513 0 .369.395.432 1.178.594 1.008.207 2.268.486 2.268 1.926 0 1.395-1.224 2.196-2.718 2.196-1.053 0-2.286-.414-2.826-1.08"})),d||(d=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M9 8v2"})));function ri(){return(ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rl=e=>$.createElement("svg",ri({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),h||(h=$.createElement("path",{fill:"currentColor",d:"M9.199 22v-.576c-.252.387-.846.675-1.63.675-1.7 0-2.951-1.35-2.951-3.294 0-1.953 1.278-3.366 3.078-3.366 1.413 0 2.34.747 2.736 1.935L9 17.833c-.144-.693-.612-1.089-1.296-1.089-.936 0-1.584.81-1.584 2.043s.648 2.043 1.61 2.043c.739 0 1.234-.495 1.315-1.161H7.615v-1.233h2.916V22zm4.228-6.462V22h-1.503v-6.462zM16.331 22h-1.476v-6.462h4.527v1.287h-3.05v1.467h2.537v1.26h-2.538z"})),A||(A=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v5"})),m||(m=$.createElement("path",{fill:"currentColor",d:"M6 5h2l-.862 1.724A.5.5 0 0 1 6.691 7H6zM9 5h3l-.862 1.724a.5.5 0 0 1-.447.276H8.566a.35.35 0 0 1-.313-.507zM13 5h3l-.862 1.724a.5.5 0 0 1-.447.276h-2.125a.35.35 0 0 1-.313-.507zM17 5h1v2h-1.434a.35.35 0 0 1-.313-.507z"})));function ro(){return(ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rc=e=>$.createElement("svg",ro({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),p||(p=$.createElement("path",{fill:"currentColor",d:"M4.108 21.991v-1.296c.252.036.414.054.648.054.63 0 .918-.225.918-.873v-4.338h1.503v4.563c0 1.359-.864 1.953-2.232 1.953a5 5 0 0 1-.837-.063m5.51-2.241V22H8.113v-6.462h2.727c1.521 0 2.466.72 2.466 2.106 0 1.377-.945 2.106-2.466 2.106zm0-1.26h1.142c.711 0 1.071-.315 1.071-.846s-.36-.837-1.07-.837H9.616zm8.66 3.51v-.576c-.252.387-.846.675-1.629.675-1.701 0-2.952-1.35-2.952-3.294 0-1.953 1.278-3.366 3.078-3.366 1.413 0 2.34.747 2.736 1.935l-1.431.459c-.144-.693-.612-1.089-1.296-1.089-.936 0-1.584.81-1.584 2.043s.648 2.043 1.611 2.043c.738 0 1.233-.495 1.314-1.161h-1.431v-1.233h2.916V22z"})),g||(g=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h7.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 19 8.828V11m-4-6v2.5a.5.5 0 0 0 .5.5H18m-2-1 .5-.5"})));function ru(){return(ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rd=e=>$.createElement("svg",ru({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),f||(f=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M19 11a7 7 0 1 0-14 0"})),x||(x=$.createElement("path",{fill:"currentColor",d:"M6.889 22H5.71l-1.224-4.086V22H2.794v-6.462h2.475l1.053 3.708 1.053-3.708h2.448V22h-1.71v-4.086zm8.027 0H13.26v-1.467h-2.907v-1.296l2.358-3.699h2.205v3.6h.891v1.395h-.89zm-2.997-2.862h1.296V17.05zm6.336-3.6h2.034L22.62 22h-1.791l-.414-1.17h-2.34L17.67 22h-1.746zm.99 1.953-.675 1.926h1.35z"})),b||(b=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M14.5 11a2.5 2.5 0 0 0-5 0"})));function rh(){return(rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rA=e=>$.createElement("svg",rh({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),v||(v=$.createElement("path",{fill:"currentColor",d:"M6.246 22h-1.08l-1.422-4.473V22h-1.43v-6.462H4.41l1.314 4.239 1.314-4.239H9.1V22H7.67v-4.473zm3.584-3.231c0-1.953 1.287-3.33 3.096-3.33 1.818 0 3.096 1.377 3.096 3.33s-1.278 3.33-3.096 3.33c-1.81 0-3.096-1.377-3.096-3.33m4.689 0c0-1.242-.657-2.025-1.593-2.025s-1.584.783-1.584 2.025.648 2.025 1.584 2.025 1.593-.783 1.593-2.025M19.789 22H18.23l-2.367-6.462h1.602l1.566 4.527 1.566-4.527h1.548z"})),w||(w=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v5"})),y||(y=$.createElement("path",{fill:"currentColor",d:"M6 5h2l-.862 1.724A.5.5 0 0 1 6.691 7H6zM9 5h3l-.862 1.724a.5.5 0 0 1-.447.276H8.566a.35.35 0 0 1-.313-.507zM13 5h3l-.862 1.724a.5.5 0 0 1-.447.276h-2.125a.35.35 0 0 1-.313-.507zM17 5h1v2h-1.434a.35.35 0 0 1-.313-.507z"})));function rm(){return(rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rp=e=>$.createElement("svg",rm({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),j||(j=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M19 11a7 7 0 1 0-14 0"})),k||(k=$.createElement("path",{fill:"currentColor",d:"M6.952 22h-1.18L4.55 17.914V22H2.857v-6.462h2.475l1.053 3.708 1.053-3.708h2.448V22h-1.71v-4.086zm5.579-2.061V22h-1.764v-6.462h2.826c1.593 0 2.574.756 2.574 2.205 0 1.44-.981 2.196-2.574 2.196zm0-1.467h.972c.62 0 .918-.279.918-.729 0-.459-.297-.729-.918-.729h-.972zm6.437 3.636c-1.413 0-2.475-.711-2.646-2.034l1.737-.252c.054.522.414.819.882.819.414 0 .765-.198.765-.648 0-.441-.37-.594-.882-.594h-.567V18.04h.549c.477 0 .8-.162.8-.567 0-.36-.242-.576-.665-.576-.477 0-.765.342-.828.783l-1.638-.153c.144-1.143 1.044-2.097 2.547-2.097 1.43 0 2.322.819 2.322 1.917 0 .648-.396 1.152-.846 1.341.549.252.936.702.936 1.467 0 1.08-.963 1.953-2.466 1.953"})),M||(M=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M14.5 11a2.5 2.5 0 0 0-5 0"})));function rg(){return(rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rf=e=>$.createElement("svg",rg({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),E||(E=$.createElement("path",{fill:"currentColor",d:"M6.844 22h-1.08l-1.422-4.473V22H2.91v-6.462h2.097l1.314 4.239 1.314-4.239h2.06V22h-1.43v-4.473zm5.383-2.25V22h-1.503v-6.462h2.727c1.521 0 2.466.72 2.466 2.106 0 1.377-.945 2.106-2.466 2.106zm0-1.26h1.143c.711 0 1.071-.315 1.071-.846s-.36-.837-1.07-.837h-1.144zM20.485 22H19.09v-1.512h-2.97v-1.125l2.493-3.825h1.88v3.744h1.018v1.206h-1.026zm-2.98-2.718h1.549v-2.403z"})),S||(S=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v5"})),O||(O=$.createElement("path",{fill:"currentColor",d:"M6 5h2l-.862 1.724A.5.5 0 0 1 6.691 7H6zM9 5h3l-.862 1.724a.5.5 0 0 1-.447.276H8.566a.35.35 0 0 1-.313-.507zM13 5h3l-.862 1.724a.5.5 0 0 1-.447.276h-2.125a.35.35 0 0 1-.313-.507zM17 5h1v2h-1.434a.35.35 0 0 1-.313-.507z"})));function rx(){return(rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rb=e=>$.createElement("svg",rx({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),C||(C=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M19 11a7 7 0 1 0-14 0"})),N||(N=$.createElement("path",{fill:"currentColor",d:"M2.647 18.769c0-1.944 1.296-3.339 3.16-3.339 1.871 0 3.167 1.395 3.167 3.339s-1.296 3.339-3.168 3.339c-1.863 0-3.159-1.395-3.159-3.339m4.554 0c0-1.125-.567-1.809-1.395-1.809-.819 0-1.386.684-1.386 1.809s.567 1.809 1.386 1.809c.828 0 1.395-.684 1.395-1.809M13.924 22v-.513c-.26.351-.828.621-1.557.621-1.728 0-2.979-1.35-2.979-3.294s1.287-3.384 3.141-3.384c1.485 0 2.44.774 2.835 1.998l-1.683.54c-.117-.648-.522-1.008-1.143-1.008-.819 0-1.386.72-1.386 1.827 0 1.116.567 1.836 1.413 1.836.594 0 1.008-.369 1.125-.855h-1.242v-1.395h3.006V22zm6.654 0v-.513c-.261.351-.828.621-1.557.621-1.728 0-2.98-1.35-2.98-3.294s1.288-3.384 3.142-3.384c1.485 0 2.439.774 2.835 1.998l-1.683.54c-.117-.648-.522-1.008-1.143-1.008-.82 0-1.386.72-1.386 1.827 0 1.116.567 1.836 1.413 1.836.594 0 1.008-.369 1.125-.855h-1.242v-1.395h3.006V22z"})),L||(L=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M14.5 11a2.5 2.5 0 0 0-5 0"})));function rv(){return(rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rw=e=>$.createElement("svg",rv({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),R||(R=$.createElement("path",{fill:"currentColor",d:"M5.315 19.75V22H3.812v-6.462h2.727c1.52 0 2.466.72 2.466 2.106 0 1.377-.945 2.106-2.466 2.106zm0-1.26h1.143c.71 0 1.07-.315 1.07-.846s-.36-.837-1.07-.837H5.315zM9.63 22v-6.462h2.295c2.052 0 3.303 1.26 3.303 3.231S13.978 22 11.925 22zm1.467-1.269h.828c1.161 0 1.818-.774 1.818-1.962s-.657-1.962-1.827-1.962h-.819zM17.434 22h-1.476v-6.462h4.527v1.287h-3.05v1.467h2.537v1.26h-2.538z"})),D||(D=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h7.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 19 8.828V11m-4-6v2.5a.5.5 0 0 0 .5.5H18m-2-1 .5-.5"})));function ry(){return(ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rj=e=>$.createElement("svg",ry({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),P||(P=$.createElement("path",{fill:"currentColor",d:"M4.493 19.75V22H2.99v-6.462h2.727c1.521 0 2.466.72 2.466 2.106 0 1.377-.945 2.106-2.466 2.106zm0-1.26h1.143c.711 0 1.071-.315 1.071-.846s-.36-.837-1.07-.837H4.492zm9.904-2.952V22h-1.305l-2.844-4.167V22h-1.44v-6.462h1.503l2.646 3.951v-3.951zM19.711 22v-.576c-.252.387-.846.675-1.63.675-1.7 0-2.951-1.35-2.951-3.294 0-1.953 1.278-3.366 3.078-3.366 1.413 0 2.34.747 2.736 1.935l-1.431.459c-.144-.693-.612-1.089-1.296-1.089-.936 0-1.584.81-1.584 2.043s.648 2.043 1.61 2.043c.739 0 1.234-.495 1.315-1.161h-1.431v-1.233h2.916V22z"})),U||(U=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h7.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 19 8.828V11m-4-6v2.5a.5.5 0 0 0 .5.5H18m-2-1 .5-.5"})));function rk(){return(rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rM=e=>$.createElement("svg",rk({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),T||(T=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h8.172a2 2 0 0 1 1.414.586l1.828 1.828A2 2 0 0 1 19 7.828V11"})),I||(I=$.createElement("path",{fill:"currentColor",d:"M4.757 19.858V22H2.993v-6.462h2.826c1.593 0 2.574.774 2.574 2.16 0 .918-.468 1.602-1.287 1.935L8.59 22H6.575l-1.27-2.142zm0-1.395h.972c.62 0 .918-.288.918-.72 0-.459-.297-.729-.918-.729h-.972zm6.217-2.925h2.034L15.34 22h-1.79l-.415-1.17h-2.34L10.39 22H8.643zm.99 1.953-.675 1.926h1.35zm5.607 2.367V22h-1.764v-6.462h2.826c1.593 0 2.574.774 2.574 2.16 0 .918-.468 1.602-1.287 1.935L21.405 22H19.39l-1.269-2.142zm0-1.395h.972c.621 0 .918-.288.918-.72 0-.459-.297-.729-.918-.729h-.972zM12 5h-2v2h1.5a.5.5 0 0 0 .5-.5zM10 7H8.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5H10zM12 9.5a.5.5 0 0 0-.5-.5H10v1.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5z"})));function rE(){return(rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rS=e=>$.createElement("svg",rE({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),z||(z=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M19 11a7 7 0 1 0-14 0"})),B||(B=$.createElement("path",{fill:"currentColor",d:"M5.915 15.538h1.45l.908 3.834.9-3.834h1.791L9.264 22H7.57l-.954-3.816L5.663 22H3.971l-1.7-6.462h1.835l.91 3.834zm6.807 0h2.034L17.087 22h-1.79l-.415-1.17h-2.34L12.137 22h-1.746zm.99 1.953-.675 1.926h1.35zM20.394 22h-1.81l-2.34-6.462h1.882l1.395 4.158 1.404-4.158h1.809z"})),_||(_=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M14.5 11a2.5 2.5 0 0 0-5 0"})));function rO(){return(rO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rC=e=>$.createElement("svg",rO({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),V||(V=$.createElement("path",{fill:"currentColor",d:"M3.472 15.538h1.142l.932 4.221.931-4.221h1.369L6.299 22H4.995l-.972-4.131L3.067 22H1.763L.208 15.538h1.401l.94 4.221zm4.885 0h4.107v1.287H9.685v1.242h2.317v1.269H9.685v1.377h2.779V22H8.357zM13.206 22v-6.462h2.503c1.271 0 1.952.612 1.952 1.737 0 .747-.405 1.188-.786 1.368.551.225.956.765.956 1.539 0 1.143-.729 1.818-1.976 1.818zm1.296-3.87h1.07c.526 0 .817-.234.817-.684s-.291-.675-.818-.675h-1.07zm0 1.17v1.458h1.231c.518 0 .802-.297.802-.729s-.284-.729-.802-.729zm5.317.45V22h-1.353v-6.462h2.454c1.37 0 2.22.72 2.22 2.106 0 1.377-.85 2.106-2.22 2.106zm0-1.26h1.029c.64 0 .963-.315.963-.846s-.324-.837-.963-.837h-1.03zM4 11a1 1 0 1 0 2 0zm11.586-6.414.707-.707zm2.828 2.828.707-.707zM18 11a1 1 0 1 0 2 0zm-2-6a1 1 0 1 0-2 0zm2 4a1 1 0 1 0 0-2zm-2.707-2.707a1 1 0 0 0 1.414 1.414zm1.914.914a1 1 0 0 0-1.414-1.414zM6 11V6H4v5zm1-6h7.172V3H7zm7.879.293 2.828 2.828 1.414-1.414-2.828-2.828zM18 8.828V11h2V8.828zm-.293-.707a1 1 0 0 1 .293.707h2a3 3 0 0 0-.879-2.12zM14.172 5a1 1 0 0 1 .707.293l1.414-1.414A3 3 0 0 0 14.172 3zM6 6a1 1 0 0 1 1-1V3a3 3 0 0 0-3 3zm8-1v2.5h2V5zm1.5 4H18V7h-2.5zm1.207-1.293.5-.5-1.414-1.414-.5.5zM14 7.5A1.5 1.5 0 0 0 15.5 9V7a.5.5 0 0 1 .5.5z"})));function rN(){return(rN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rL=e=>$.createElement("svg",rN({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),H||(H=$.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M5 11V6a2 2 0 0 1 2-2h8.172a2 2 0 0 1 1.414.586l1.828 1.828A2 2 0 0 1 19 7.828V11"})),W||(W=$.createElement("path",{fill:"currentColor",d:"M9.882 20.506V22H4.59v-1.314l3.006-3.654h-2.97v-1.494h5.22v1.305l-2.961 3.663zm2.96-4.968V22H11.08v-6.462zm3.146 4.401V22h-1.764v-6.462h2.826c1.593 0 2.574.756 2.574 2.205 0 1.44-.98 2.196-2.574 2.196zm0-1.467h.972c.621 0 .918-.279.918-.729 0-.459-.297-.729-.918-.729h-.972zM12 5h-2v2h1.5a.5.5 0 0 0 .5-.5zM10 7H8.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5H10zM12 9.5a.5.5 0 0 0-.5-.5H10v1.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5z"})));function rR(e){let{url:t,className:n}=e;switch(new URL(t).pathname.split(".").pop()){case"pdf":return(0,eO.jsx)(rw,{className:n});case"gif":return(0,eO.jsx)(rl,{className:n});case"jpg":case"jpeg":return(0,eO.jsx)(rc,{className:n});case"png":return(0,eO.jsx)(rj,{className:n});case"webp":return(0,eO.jsx)(rC,{className:n});case"mp3":return(0,eO.jsx)(rp,{className:n});case"m4a":return(0,eO.jsx)(rd,{className:n});case"ogg":return(0,eO.jsx)(rb,{className:n});case"wav":return(0,eO.jsx)(rS,{className:n});case"mp4":return(0,eO.jsx)(rf,{className:n});case"mov":return(0,eO.jsx)(rA,{className:n});case"zip":return(0,eO.jsx)(rL,{className:n});case"rar":return(0,eO.jsx)(rM,{className:n});case"css":return(0,eO.jsx)(rs,{className:n});default:return null}}function rD(e){let{searchResult:t,className:n}=e;switch(t.content_type){case"application/pdf":return(0,eO.jsx)(rw,{className:n});case"image/gif":return(0,eO.jsx)(rl,{className:n});case"image/jpeg":return(0,eO.jsx)(rc,{className:n});case"image/png":return(0,eO.jsx)(rj,{className:n});case"image/webp":return(0,eO.jsx)(rC,{className:n});case"audio/mpeg":return(0,eO.jsx)(rp,{className:n});case"audio/m4a":return(0,eO.jsx)(rd,{className:n});case"audio/ogg":return(0,eO.jsx)(rb,{className:n});case"audio/wav":return(0,eO.jsx)(rS,{className:n});case"video/mp4":return(0,eO.jsx)(rf,{className:n});case"video/quicktime":return(0,eO.jsx)(rA,{className:n});case"application/zip":return(0,eO.jsx)(rL,{className:n});case"application/x-rar-compressed":return(0,eO.jsx)(rM,{className:n});case"text/css":return(0,eO.jsx)(rs,{className:n})}return(0,eO.jsx)(rR,{url:t.url,className:n})}function rP(e){let{image:t,index:n,isInDrawer:r}=e,a=(0,ek.nn)(ek.LW.threadId),s=(0,$.useCallback)(e=>{t&&null!=n&&null!=a&&ti.Y.logEvent(e,{url:t.url,title:t.title,index:n,thread_id:a})},[t,n,a]);return(0,$.useEffect)(()=>{s(ti.M.searchSidebarImageShown)},[s]),(0,eO.jsxs)("button",{className:"group flex h-full w-full flex-col gap-2",onClick:()=>{ep.vm.setFocusedImage(t?{image:t,source:ep.y6.ImagesTab}:void 0),s(ti.M.searchSidebarImageClicked)},children:[(0,eO.jsx)(rT,{className:r?"rounded-xl":(0,G.default)(null!=n&&n%4==0&&"sm:rounded-bl-xl sm:rounded-tl-xl",null!=n&&n%4==3&&"sm:rounded-br-xl sm:rounded-tr-xl"),imgClassName:"group-hover:opacity-90 hover:opacity-100",image:t}),(0,eO.jsx)("div",{className:"-ml-1.5 hidden w-full justify-center gap-2 text-xs text-token-text-tertiary group-hover:text-token-text-primary sm:flex",children:t&&(0,eO.jsxs)(eO.Fragment,{children:[(0,eO.jsx)(rR,{url:t.content_url,className:"icon-md"}),t.content_size.width," x ",t.content_size.height]})})]})}function rU(e){let t,{isInDrawer:n=!1}=e,{imageResults:r,isLoading:a,isErrored:s}=eR(!0),{retrySearch:i}=(0,eG.A)(),l=r.map(e=>e.thumbnail_url),o=(0,nC.h)({queries:l.map(e=>eD(e)),combine:e=>{let t=new Set;return e.forEach((e,n)=>{e.isError&&t.add(l[n])}),t}}),c=r.length;return c>8?c=4*Math.floor(c/4):c>4&&(c=2*Math.floor(c/2)),t=s?(0,eO.jsx)(er.bW,{onClickRetry:()=>i()}):0!==c||a?(0,eO.jsx)("div",{className:(0,G.default)("grid items-center justify-center",n?"grid-cols-2 gap-4":"grid-cols-3 gap-1 sm:grid-cols-4 sm:gap-x-2.5 sm:gap-y-5"),children:a?Array.from({length:24}).map((e,t)=>(0,eO.jsx)(rP,{index:t,isInDrawer:n},t)):r.slice(0,c).map((e,t)=>!o.has(e.thumbnail_url)&&(0,eO.jsx)(rP,{image:e,index:t,isInDrawer:n},t))}):(0,eO.jsx)(er.jj,{children:"No results"}),(0,eO.jsx)("div",{className:"sm:px-snc-results-padding",children:t})}function rT(e){let{image:t,imageSource:n,className:r,imgClassName:a}=e,{isSuccess:s}=eP(null==t?void 0:t.thumbnail_url),i=t&&.125>=Math.abs(t.content_size.width/t.content_size.height-1);return(0,eO.jsx)("button",{className:(0,G.default)("relative aspect-square h-full w-full overflow-hidden border-[0.5px] border-token-border-light",r),onClick:()=>{ep.vm.setFocusedImage(t?{image:t,source:n}:void 0)},children:t?(0,eO.jsx)("div",{className:"relative aspect-square overflow-hidden",children:s?(0,eO.jsx)("div",{className:"h-full w-full bg-black",children:(0,eO.jsx)("img",{src:t.thumbnail_url,alt:t.content_url,className:(0,G.default)("h-full w-full object-contain hover:opacity-90",i?"object-cover":"object-contain",a)})}):(0,eO.jsx)("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"})}):(0,eO.jsx)("div",{className:"aspect-square h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}var rI=n(61097);function rz(){return(rz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rB=e=>$.createElement("svg",rz({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 18 18"},e),F||(F=$.createElement("g",{id:"browser"},$.createElement("rect",{width:18,height:18,fill:"currentColor",rx:9}),$.createElement("path",{id:"vector",fill:"#fff",fillRule:"evenodd",d:"m11.524 10.435 1.548-4.363a.895.895 0 0 0-1.143-1.144L7.565 6.477a1.79 1.79 0 0 0-1.088 1.088L4.928 11.93a.895.895 0 0 0 1.144 1.143l4.363-1.548a1.79 1.79 0 0 0 1.088-1.09M9 10.119a1.12 1.12 0 1 0 0-2.238 1.12 1.12 0 0 0 0 2.238",clipRule:"evenodd"})))),r_=n(53102);let rV=["turnIndex","groupPosition","rawPosition"];function rH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rH(Object(n),!0).forEach(function(t){(0,eg.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rF(e){let{searchResult:t}=e;return t.pub_date?(0,eO.jsxs)("span",{className:"text-token-text-tertiary",children:[new Date(1e3*t.pub_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})," — "]}):null}function rZ(e){let{secondaryResults:t,highlightUrl:n,children:r}=e;return(0,eO.jsxs)("div",{className:"ml-10 mt-snc-1 flex flex-col gap-5",children:[t.map((e,t)=>(0,eO.jsx)("div",{className:"group relative",children:(0,eO.jsx)(rY,{href:e.url,turnIndex:e.turn_index,groupPosition:[e.group_index,e.group_child_index],rawPosition:e.raw_index,target:"_blank",rel:"noopener",className:"block",children:(0,eO.jsx)(rX,{result:e,isHighlighted:n===e.url,isSecondaryResult:!0})})},t)),r]})}function rq(e){var t;let{group:n,highlightUrl:r}=e,a=n.entries,[s,i]=[a[0],a.slice(1)],l=(0,$.useRef)(null),o=null!==(t=(0,ec.d)(s.url).data)&&void 0!==t?t:(0,eo.p)(s.url,"short"),c=r===s.url;return(0,$.useEffect)(()=>{c&&l.current&&l.current.scrollIntoView({behavior:"smooth",block:"center"})},[c]),(0,eO.jsxs)("div",{ref:l,className:"flex w-full min-w-0 flex-col px-snc-results-padding pb-snc-2",children:[(0,eO.jsxs)(rY,{turnIndex:n.turn_index,href:s.url,groupPosition:[n.group_index,0],rawPosition:n.raw_index,target:"_blank",rel:"noopener",className:"group flex gap-6",children:[(0,eO.jsx)(es.Z,{url:s.url,className:"icon-sm mt-0.5 rounded bg-token-main-surface-primary object-cover",size:32,minSize:20,fallback:(0,eO.jsx)(rB,{className:"icon-sm text-token-text-quaternary"})}),(0,eO.jsxs)("div",{className:"grow",children:[(0,eO.jsx)("div",{className:"line-clamp-1 h-5 text-sm text-token-text-tertiary",children:o}),(0,eO.jsx)(rX,{result:s,isHighlighted:c})]})]}),i&&i.length>0&&(0,eO.jsx)(rZ,{secondaryResults:i,highlightUrl:r})]})}function rX(e){let{result:t,isHighlighted:n,isSecondaryResult:r}=e;return(0,eO.jsxs)(eO.Fragment,{children:[(0,eO.jsxs)("div",{className:"relative flex justify-between gap-1",children:[(0,eO.jsx)("div",{className:(0,G.default)("line-clamp-2 text-base font-semibold group-hover:text-token-link",n&&"bg-yellow-100 dark:bg-yellow-900"),children:t.title}),(0,eO.jsx)("div",{className:"invisible py-0.5 group-hover:visible",children:(0,eO.jsx)(tO,{url:t.url,title:t.title,snippet:t.snippet,turnIndex:t.turn_index})})]}),(0,eO.jsxs)("div",{className:(0,G.default)("mt-1 text-sm font-normal text-token-text-tertiary",r?"line-clamp-1":"line-clamp-2"),children:[(0,eO.jsx)(rD,{searchResult:t,className:"mr-1 mt-1 inline h-5 w-5 -translate-y-1"}),(0,eO.jsx)(rF,{searchResult:t}),t.snippet]})]})}let rY=(0,$.forwardRef)(function(e,t){let n=(0,ek.nn)(ek.LW.threadId),{turnIndex:r,groupPosition:a,rawPosition:s}=e,i=(0,tz.Z)(e,rV);function l(t){e.href&&n&&ti.Y.logEvent(t,{url:e.href,thread_id:n,turn_index:r,group_position:a,raw_position:s})}return(0,$.useEffect)(()=>{l(ti.M.searchLinkShown)},[]),(0,eO.jsx)("a",rW(rW({ref:t},i),{},{onClick:t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),t.stopPropagation(),l(ti.M.searchLinkClicked)}}))}),rG=(0,$.forwardRef)(function(e,t){let{searchResults:n,query:r,highlightUrl:a}=e;return(0,eO.jsxs)("div",{className:"flex w-full flex-col overflow-hidden",ref:t,children:[null!=r&&(0,eO.jsxs)("div",{className:"line-clamp-1 border-t-[0.5px] border-token-border-medium px-snc-results-padding pb-snc-2 pt-5 text-sm text-token-text-tertiary dark:border-x-token-border-xheavy",children:['Search: "',r,'"']}),n.map((e,t)=>(0,eO.jsx)(rq,{group:e,highlightUrl:a},t))]})});function rQ(e){let{highlightUrl:t}=e,n=(0,r_.L)(),r=(0,$.useRef)(new Map),a=(0,J.useRouter)(),s=(0,tD.U8)(a);return(0,$.useEffect)(()=>{if(null!=s){let e=r.current.get(s);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}},[s]),(0,eO.jsx)("div",{className:"flex w-full flex-col",children:n.length>0?n.map((e,n)=>{let{query:a,results:s}=e;if(0===s.length)return null;let i=s[0].turn_index;return(0,eO.jsx)(rG,{searchResults:s,highlightUrl:t,query:0!==n&&null!=a?a:void 0,ref:e=>{e&&r.current.set(i,e)}},i)}):(0,eO.jsx)("div",{className:"px-snc-results-padding",children:(0,eO.jsx)(e2.HK,{lines:8,gapFrequency:2,width:55,widthVariance:30})})})}function rK(e){let{highlightUrl:t}=e;return(0,eO.jsx)("div",{className:"flex flex-col gap-snc-1 pb-snc-1",children:(0,eO.jsx)(rQ,{highlightUrl:t})})}function rJ(){var e;let t=eJ.ne.useStore(),n=eJ.ne.useState(e=>{var t;return null===(t=e.currentSearch)||void 0===t?void 0:t.config.query}),r=null===(e=(0,ek.nn)(ek.LW.firstTurn))||void 0===e?void 0:e.user_query,a=null!=r?r:n;return(0,eO.jsxs)("div",{className:(0,G.default)("relative hidden h-20 shrink-0 border-b border-token-border-light bg-token-main-surface-primary sm:block"),children:[(0,eO.jsx)("button",{onClick:()=>{t.setState({queryInput:a,shouldShowComposer:!0})},className:"block h-full w-full cursor-pointer pl-7 pr-5 text-left text-base text-token-text-tertiary transition hover:text-token-text-primary",children:null!=a?(0,eO.jsxs)(eO.Fragment,{children:["“",null==a?void 0:a.substring(0,60),(null==a?void 0:a.length)>60?"...":"","”"]}):null}),(0,eO.jsxs)("div",{className:"absolute right-5 top-1/2 flex h-8 -translate-y-1/2 items-center gap-4",children:[(0,eO.jsx)(en.F,{}),(0,eO.jsx)(et.Kd,{className:"h-8 w-8"})]})]})}function r$(e){let{currentTab:t}=e;return(0,eO.jsxs)("div",{className:"block sm:hidden",children:[(0,eO.jsx)("div",{className:"px-4 pt-2",children:(0,eO.jsx)(e1,{})}),(0,eO.jsx)(rI.Vv,{selectedTab:t})]})}function r0(){return(0,eO.jsx)("div",{className:"absolute inset-x-0 bottom-0 sm:inset-x-4",children:(0,eO.jsxs)("div",{className:(0,G.default)("absolute bottom-0 left-0 w-full sm:left-1/2 sm:-translate-x-1/2",r6),children:[(0,eO.jsx)(eK,{side:"bottom",className:"hidden sm:block"}),(0,eO.jsx)(eQ.$,{})]})})}function r1(e){let{currentTab:t}=e,n=X.fY.useState(e=>e.windowWidth>1400)?440:384;return(0,eO.jsxs)(Q.E.div,{initial:{marginLeft:-n},animate:{marginLeft:0},exit:{marginLeft:-n},style:{width:"".concat(n,"px")},className:"relative shrink-0",children:[(0,eO.jsx)("div",{className:"no-scrollbar h-full overflow-auto py-6",children:t===tD.iY.Images?(0,eO.jsx)(rU,{isInDrawer:!0}):t===tD.iY.Sources?(0,eO.jsx)(rK,{}):null},t),(0,eO.jsx)(Q.E.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-y-0 right-0 w-px bg-token-border-light"})]})}let r2=(0,$.memo)(function(e){var t;let{highlightTurnIndex:n}=e,{0:r,1:a}=(0,$.useState)(!1),s=(0,ek.nn)(ek.LW.hasFirstTurnError),i=(0,ek.nn)(ek.LW.threadError),l=(0,ek.nn)(ek.LW.threadId),o=(0,ek.nn)(ek.LW.hasResponse),c=(0,$.useRef)(l);c.current=l;let u=(0,$.useRef)(o);u.current=o;let{retrySearch:d}=(0,eG.A)(),{0:h,1:A}=(0,$.useState)(tD.iY.Answer),m=(0,X.pY)(e=>(0,tD.Y)(e.windowWidth),tD.AE.Mobile),p=(0,J.useRouter)(),g=(0,tD.NM)(p);!function(){let{imageResults:e}=eR();!function(e){let{enabled:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){let t=(0,$.useRef)(e);return eh()(t.current,e)||(t.current=e),t.current}(e);(0,$.useEffect)(()=>{if(!t||"connection"in navigator&&"cellular"===navigator.connection.type)return;let e=setTimeout(()=>{n.forEach(e=>{e&&eS.enqueue(e)})},1e3);return()=>{clearTimeout(e)}},[t,n])}([...e.map(e=>eT(e))])}(),(0,$.useEffect)(()=>{if(o)a(!1);else{let e=setTimeout(()=>{a(!0),Y.U.addAction("sonic.web.query_not_responding",{timeoutMs:8e3,threadId:c.current})},8e3);return()=>{clearTimeout(e)}}},[o]),(0,$.useEffect)(()=>{let e=()=>{u.current||Y.U.addAction("sonic.web.query_not_responding_on_unload",{threadId:c.current})};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[]),(0,$.useEffect)(()=>{let e=(0,tD.Ld)();m===tD.AE.DesktopWithDrawer&&(h===tD.iY.Answer&&null!=e&&h!==e?(window.location.hash=e,A(e)):g!==e&&h!==tD.iY.Answer&&(0,tD.GV)(h))},[m,A,tD.GV]),(0,$.useEffect)(()=>{g!==h&&A(g)},[g,p]);let f=eJ.ne.useStore();(0,$.useEffect)(()=>(0,Z.eR)(document,{keydown:e=>{"k"===e.key&&((0,q.kK)()?e.metaKey:e.ctrlKey)&&(f.setState(e=>e.shouldShowComposer?{shouldShowComposer:!1}:{shouldShowComposer:!0}),e.preventDefault()),!f.getState().shouldShowComposer&&"alt"===rI.JW&&e.altKey&&("Backquote"===e.code&&((0,tD._d)(p,tD.iY.Answer),e.preventDefault()),"Digit1"===e.code&&((0,tD._d)(p,tD.iY.Sources),e.preventDefault()),"Digit2"===e.code&&((0,tD._d)(p,tD.iY.Images),e.preventDefault()))}}),[p,f]);let x=(0,ek.nn)(ek.LW.numTurns),b=s||r||null!=i;return(0,eO.jsxs)("div",{className:"h-full w-full overflow-y-hidden bg-token-main-surface-primary",children:[(0,eO.jsxs)("div",{id:"__feather_screenshot",className:"flex h-full",children:[(0,eO.jsx)(eY.WU,{onResultsPage:!0,children:(0,eO.jsx)(rI.Fi,{sizeVariant:m,selectedTab:h})}),(0,eO.jsxs)("div",{className:"flex grow flex-col overflow-hidden",children:[(0,eO.jsx)(rJ,{}),(0,eO.jsx)("div",{className:"relative flex h-full grow overflow-hidden",children:(0,eO.jsxs)(K.M,{initial:!1,children:[m===tD.AE.DesktopWithDrawer&&h!==tD.iY.Answer&&(0,eO.jsx)(r1,{currentTab:h},"drawer"),(0,eO.jsxs)("div",{className:"relative grow",children:[(t=(0,eO.jsxs)("div",{className:(0,G.default)("mx-auto flex min-h-full max-w-[100vw] flex-col",r6),children:[(0,eO.jsx)(r$,{currentTab:h}),b?(0,eO.jsx)("div",{className:"flex grow items-center justify-center",children:(0,eO.jsx)(er.bW,{onClickRetry:()=>d(),children:i})}):m===tD.AE.DesktopWithDrawer?(0,eO.jsx)(rr,{highlightTurnIndex:n}):h===tD.iY.Images?(0,eO.jsx)("div",{className:"sm:pt-8",children:(0,eO.jsx)(rU,{})}):h===tD.iY.Sources?(0,eO.jsx)("div",{className:"pt-8",children:(0,eO.jsx)(rK,{})}):(0,eO.jsx)(rr,{highlightTurnIndex:n})]}),m===tD.AE.DesktopWithDrawer||h===tD.iY.Answer?(0,eO.jsx)(ee.default,{className:"h-full",initialScrollBehavior:"auto",scrollViewClassName:"h-full !overflow-y-scroll sm:px-2",followButtonClassName:"hidden",scroller:()=>x>1?1/0:0,children:t}):(0,eO.jsx)("div",{className:"h-full overflow-y-scroll sm:px-2",children:t},h)),m===tD.AE.DesktopWithDrawer||h===tD.iY.Answer?(0,eO.jsx)(r0,{}):null]})]})})]})]}),(0,eO.jsx)(e_,{})]})}),r6="lg:max-w-[800px]"},61097:function(e,t,n){n.d(t,{Fi:function(){return O},JW:function(){return E},M2:function(){return S},Vv:function(){return C}});var r,a=n(2346),s=n(98601),i=n(52088),l=n(30853),o=n(13490),c=n(40833),u=n(60682),d=n(15913),h=n(19841),A=n(34977),m=n(92379),p=n(15478),g=n(53102),f=n(26925),x=n(97193),b=n(12381),v=n(48772),w=n(651);let y=["selected","tooltipLabel","children","className"],j=["selected","tooltipLabel","children","className"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let E="alt";function S(e){switch(e){case"alt":return(0,d.kK)()?"⌥":"Alt+";case"ctrl":return"Ctrl+";case"meta":return"⌘"}}function O(e){let{sizeVariant:t,selectedTab:n}=e,r=f.ne.useStore(),a=S(E),s=(0,A.useRouter)();return(0,w.jsxs)("div",{className:"hidden flex-col justify-center gap-3 sm:flex",children:[(0,w.jsx)(N,{selected:!1,onClick:()=>{r.setState({shouldShowComposer:!0})},tooltipLabel:(0,w.jsxs)("span",{children:["Search ",S((0,d.kK)()?"meta":"ctrl"),"K"]}),children:(0,w.jsx)(o.W1M,{className:"icon-lg"})}),(0,w.jsx)(N,{selected:n===v.iY.Answer,disabled:n===v.iY.Answer,onClick:()=>(0,v._d)(s,v.iY.Answer),tooltipLabel:(0,w.jsxs)("span",{children:["Answer ",a,"~"]}),className:"min-[1200px]:hidden",children:(0,w.jsx)(o.qtd,{className:"icon-lg"})}),(0,w.jsx)(R,{selected:n===v.iY.Sources,disabled:t!==v.AE.DesktopWithDrawer&&n===v.iY.Sources,tooltipLabel:(0,w.jsxs)("span",{children:["Sources ",a,"1"]}),onClick:()=>(0,v._d)(s,n===v.iY.Sources?v.iY.Answer:v.iY.Sources),children:(0,w.jsx)(o.xPt,{className:"icon-lg"})}),(0,w.jsx)(N,{selected:n===v.iY.Images,disabled:t!==v.AE.DesktopWithDrawer&&n===v.iY.Images,tooltipLabel:(0,w.jsxs)("span",{children:["Media ",a,"2"]}),onClick:()=>(0,v._d)(s,n===v.iY.Images?v.iY.Answer:v.iY.Images),children:(0,w.jsx)(o.Ka2,{className:"icon-lg"})})]})}function C(e){let{selectedTab:t}=e,n=(0,A.useRouter)();return(0,w.jsxs)("div",{className:"flex justify-between gap-3 border-b border-token-border-light",children:[(0,w.jsx)(U,{$selected:t===v.iY.Answer,disabled:t===v.iY.Answer,onClick:()=>(0,v._d)(n,v.iY.Answer),children:(0,w.jsx)(o.qtd,{className:"icon-lg"})}),(0,w.jsx)(D,{children:(0,w.jsx)(U,{$selected:t===v.iY.Sources,disabled:t===v.iY.Sources,onClick:()=>(0,v._d)(n,v.iY.Sources),children:(0,w.jsx)(o.xPt,{className:"icon-lg"})})}),(0,w.jsx)(U,{$selected:t===v.iY.Images,disabled:t===v.iY.Images,onClick:()=>(0,v._d)(n,v.iY.Images),children:(0,w.jsx)(o.Ka2,{className:"icon-lg"})})]})}function N(e){let{selected:t,tooltipLabel:n,children:r,className:a}=e,s=(0,i.Z)(e,y),o=(0,w.jsx)("button",M(M({},s),{},{className:(0,h.default)("rounded-lg p-1.5 transition",t?"bg-token-main-surface-tertiary text-token-text-primary":"text-token-text-tertiary hover:bg-token-main-surface-tertiary hover:text-token-text-primary"),children:r}));return n?(0,w.jsx)(l.u,{label:n,side:"right",sideOffset:4,className:a,children:o}):o}function L(){let e=(0,b.nn)(e=>{var t,n;return(null!==(t=null===(n=e.thread)||void 0===n||null===(n=n.turns)||void 0===n?void 0:n.length)&&void 0!==t?t:0)>1||!b.LW.isLastTurnStreaming(e)}),t=(0,u.qg)(u.pm.hasSeenSncSourcesTooltip),n=(0,g.d)();return!(0,x.W6)(x.bM.isModalOpen)&&n&&!t.isLoading&&t.eligible&&e}function R(e){let{selected:t,tooltipLabel:n,children:r,className:a}=e,s=(0,i.Z)(e,j),l=L(),o=(0,d.oc)();return l&&o&&!t?(0,w.jsx)(P,{side:"right",sideOffset:8,children:(0,w.jsx)(N,M(M({selected:t,className:a},s),{},{children:r}))}):(0,w.jsx)(N,M(M({selected:t,tooltipLabel:n,className:a},s),{},{children:r}))}function D(e){let{children:t}=e,n=(0,d.oc)(),r=L();return n||!r?(0,w.jsx)(w.Fragment,{children:t}):(0,w.jsx)(P,{side:"bottom",sideOffset:-8,children:t})}function P(e){let{children:t,side:n,sideOffset:r}=e,a=(0,u.qg)(u.pm.hasSeenSncSourcesTooltip),s=(0,A.useRouter)(),i=()=>{(0,v._d)(s,v.iY.Sources),a.markAsViewed()},{0:l,1:o}=(0,m.useState)(!1);return(0,m.useEffect)(()=>{let e=setTimeout(()=>{o(!0)},3e3);return()=>clearTimeout(e)},[]),(0,w.jsx)(c.v,{side:n,show:l,theme:"bright",title:(0,w.jsx)("button",{onClick:i,className:"w-full text-left",children:"All your sources, right here"}),description:(0,w.jsx)("button",{onClick:i,className:"text-left",children:"Every link included in your search results can be found here."}),onDismiss:a.markAsViewed,sideOffset:r,badge:"none",children:(0,w.jsx)("div",{className:"w-full",children:t})})}let U=p.Z.button(r||(r=(0,a.Z)(["w-full -mb-0.5 py-3 flex justify-center transition\n",""])),e=>{let{$selected:t}=e;return t?"text-token-text-primary":"text-token-text-tertiary hover:text-token-text-primary"})},48772:function(e,t,n){n.d(t,{AE:function(){return c},GV:function(){return m},Ld:function(){return p},NM:function(){return h},U8:function(){return f},Y:function(){return u},_d:function(){return A},iY:function(){return d},po:function(){return g}});var r,a,s=n(15913),i=n(65012),l=n(79930),o=n(5132);let c=((r={})[r.DesktopWithDrawer=0]="DesktopWithDrawer",r[r.DesktopWithTabs=1]="DesktopWithTabs",r[r.Mobile=2]="Mobile",r);function u(e){return e>=1200?c.DesktopWithDrawer:e>=s.cG[s._G.Small]?c.DesktopWithTabs:c.Mobile}let d=((a={}).Answer="answer",a.Images="images",a.Sources="sources",a);function h(e){var t;let n=null!==(t=e.asPath.split("#")[1])&&void 0!==t?t:d.Answer;return n.startsWith(d.Sources)?d.Sources:n}function A(e,t){let n=h(e),r=u(window.innerWidth)===c.DesktopWithDrawer;t===n&&r&&[d.Images,d.Sources].includes(t)&&(t=d.Answer),t===d.Answer?e.push(e.asPath.split("#")[0]):(t===d.Sources?l.Y.logEvent(l.M.searchLinkSidebarShown):t===d.Images&&l.Y.logEvent(l.M.searchImagesSidebarShown),e.push("#".concat(t))),r&&m(t)}function m(e){e===d.Answer?i.bX.deleteCookie(i.cn.DesktopResultsTab):i.bX.setCookie(i.cn.DesktopResultsTab,e,{maxAge:o.to})}function p(){return i.bX.getCookie(i.cn.DesktopResultsTab)}function g(e,t){if(null!=t){e("#".concat(d.Sources,"-").concat(t));return}e("#".concat(d.Sources))}function f(e){let t=e.asPath.split("#")[1];if(null!=t&&t.startsWith(d.Sources)){let e=t.split("-");if(e.length>=2)return parseInt(e[1])}}},53102:function(e,t,n){n.d(t,{L:function(){return o},d:function(){return l}});var r=n(98601),a=n(12381);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(){return(0,a.m0)(["search_results"]).some(e=>{var t,n;return null!==(t=null===(n=e.search_results)||void 0===n||null===(n=n.entries)||void 0===n?void 0:n.length)&&void 0!==t&&t})}function o(){let e=(0,a.m0)(["index","search_results","user_query"]),t=[];for(let r of e){var n;(null===(n=r.search_results)||void 0===n?void 0:n.entries)!=null&&t.push({query:r.user_query,results:r.search_results.entries.map(e=>{var t;return i(i({},e),{},{turnIndex:null!==(t=r.index)&&void 0!==t?t:0})})})}let r=t.toReversed(),s=[],l=0,o=0;return r.forEach(e=>{let t=e.results.map(e=>{let t=0,n=o,r=e.entries.map(n=>i(i({},n),{},{group_index:l,raw_index:o++,turn_index:e.turnIndex,group_child_index:t++})),a=i(i({},e),{},{entries:r,group_index:l,raw_index:n,turn_index:e.turnIndex});return l++,a});s.push({query:e.query,results:t})}),s}},12381:function(e,t,n){n.d(t,{HV:function(){return f},LW:function(){return y},P3:function(){return j},m0:function(){return g},nn:function(){return b}});var r=n(98601),a=n(95267),s=n(15539),i=n(94206),l=n(82363),o=n(18939),c=n.n(o),u=n(89678),d=n.n(u),h=n(68810),A=n(69767);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e){return b(t=>{var n,r;return null!==(n=null===(r=t.thread)||void 0===r?void 0:r.turns.map(t=>e.reduce((e,n)=>(e[n]=t[n],e),{})))&&void 0!==n?n:[]},(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!(0,s.X)(e[n],t[n]))return!1;return!0})}function f(){return b(e=>{var t;return c()(null===(t=e.thread)||void 0===t?void 0:t.turns.flatMap(e=>{var t;return null===(t=e.model_response)||void 0===t?void 0:t.citations}))},s.X)}let x={thread:null,error:void 0},b=(0,h.Ue)((0,a.n)(()=>p({},x))),v=d()(()=>{l.U.addError(new i.v3("got updateTurn with no current thread"))},1e3),w=d()(e=>{l.U.addError(new i.v3("turn not found"),{turnIndex:e})},1e3),y={threadId:e=>{var t,n;return null!==(t=null===(n=e.thread)||void 0===n?void 0:n.id)&&void 0!==t?t:null},turns:e=>{var t,n;return null!==(t=null===(n=e.thread)||void 0===n?void 0:n.turns)&&void 0!==t?t:[]},turnCitations:e=>t=>{var n,r;return null!==(n=null===(r=t.thread)||void 0===r||null===(r=r.turns[e].model_response)||void 0===r?void 0:r.citations)&&void 0!==n?n:[]},hasResponse:e=>{var t;return(0,A.VP)(null===(t=e.thread)||void 0===t?void 0:t.turns[0])},firstTurn:e=>null!=e.thread?e.thread.turns[0]:void 0,lastTurn:e=>null!=e.thread?e.thread.turns[e.thread.turns.length-1]:void 0,numTurns:e=>{var t,n;return null!==(t=null===(n=e.thread)||void 0===n?void 0:n.turns.length)&&void 0!==t?t:0},isLastTurnStreaming:e=>{let t=null!=e.thread?e.thread.turns[e.thread.turns.length-1]:void 0;return null!=t&&(0,A.A7)(t)},hasModelResponseText:e=>{var t,n;let r=null===(t=e.thread)||void 0===t?void 0:t.turns[0];return(null==r||null===(n=r.model_response)||void 0===n?void 0:n.text)!=null},hasFirstTurnError:e=>{var t;let n=null===(t=e.thread)||void 0===t?void 0:t.turns[0];return!!n&&(0,A.jo)(n)},hasTurnError:e=>{var t,n;return null!==(t=null===(n=e.thread)||void 0===n?void 0:n.turns.some(A.jo))&&void 0!==t&&t},threadError:e=>e.error,__deprecated_sportsWidget:e=>{var t,n;let r=null===(t=e.thread)||void 0===t?void 0:t.turns[0];return null!==(n=null==r?void 0:r.sports_widget)&&void 0!==n?n:null}},j={appendTurn(e,t,n){b.setState(r=>{var a;(null===(a=r.thread)||void 0===a?void 0:a.id)!==e&&(null==n||n(e),r.thread={id:e,turns:[]}),r.thread.turns.push(t)})},updateTurn(e,t){b.setState(n=>{let r=n.thread;if(!r){v();return}let a=r.turns[e];if(!a){w(e);return}t(a)})},clearThread(){b.setState(()=>p({},x))},setError(e){b.setState(t=>{t.error=e})},setThread(e,t){b.setState(n=>{n.thread={id:e,turns:t}})}}},69767:function(e,t,n){function r(e){var t;return!!e&&(null===(t=e.model_response)||void 0===t?void 0:t.text)!=null}function a(e){return"fatal_system_error"===e.execution_status}function s(e){return"in_progress"===e.execution_status||null===e.execution_status}n.d(t,{A7:function(){return s},VP:function(){return r},jo:function(){return a}})},712:function(e,t,n){n.d(t,{o:function(){return d}});var r=n(84760),a=n(92379),s=n(92054),i=n(91111),l=n(81014),o=n(26925),c=n(10798);function u(e,t,n,r,a,s,i){if(0===t.length)return[n,s];let o=t[0],c=n.findIndex(t=>t.id===e&&!t.topHit);return -1===c||(n[c].topHit=o,s!==o&&n.length>=3&&n.every(e=>e.topHit===o)&&((0,l.Y5)({query:o,metadata:a,agentSettingsOverrides:r}),i(o),s=o)),[n,s]}function d(e){let{query:t,enabled:n=!0}=e,{prefetch:d}=(0,i.A)(),h=(0,a.useRef)([]),A=(0,a.useRef)(null),m=(0,a.useRef)([]),p=(0,a.useRef)((0,s.Z)()),g=o.ne.useStore(),{userMetadata:f}=(0,i.A)(),[x]=(0,c.OR)(),b=!x.suggestions||!n||!t;b||0!==h.current.length&&h.current[h.current.length-1].query===t||(p.current=(0,s.Z)(),h.current=h.current.slice(-2),h.current.push({id:p.current,query:t,topHit:null}));let v=p.current,w=(0,a.useCallback)(async e=>{let t=await (0,l.mO)(e);return[h.current,A.current]=u(v,t,h.current,o.ne.selectAgentSettingsOverrides(g.getState()),f,A.current,d),t},[v,g,f,d]),{data:y=[],isFetched:j}=(0,r.a)({queryKey:["typeahead",t],queryFn:w,enabled:!b,networkMode:"offlineFirst"});return!b&&j&&(m.current=y,[h.current,A.current]=u(v,y,h.current,o.ne.selectAgentSettingsOverrides(g.getState()),f,A.current,d),m.current=y),n?y:m.current}},3551:function(e,t,n){n.d(t,{AA:function(){return l},FH:function(){return u},J8:function(){return c},L7:function(){return i},SX:function(){return d},ZV:function(){return a},cy:function(){return s},xj:function(){return o}});var r=n(39004);function a(e,t){return t?"/g/".concat((0,r.kX)(t),"/c/").concat(e):"/c/".concat(e)}function s(){return"/gpts"}function i(){return"/gpts/mine"}function l(e){return e?"/gpts/editor/".concat(e):"/gpts/editor"}function o(e){let t=l(void 0);return null==e?t:l(e)}function c(e){return l(e)}function u(e){try{let t=new URL(e);return t.hostname=t.hostname.replace(/^(www\.|web\.|mbasic\.|mobile\.)(secure\.)?/,""),t.pathname="",[...t.searchParams.keys()].forEach(e=>t.searchParams.delete(e)),t.toString()}catch(t){return e}}function d(e){let t=function(e){if(!e)return null;try{return new URL(e).hostname}catch(e){return null}}(e);return t?t.replace(/^www\./,""):e}},87230:function(e,t,n){n.d(t,{d:function(){return p},u:function(){return g}});var r=n(72409),a=n(3551),s=n(42420),i=n(84760),l=n(19464),o=n(79208),c=n(18939),u=n.n(c),d=n(74153),h=n.n(d),A=n(28438);let m=h()(e=>o.Ue({fetcher:async t=>{let n=new Map;for await(let a of r.c.streamedJsonPost("".concat(A.B,"/attributions"),{urls:t}))a.attribution&&n.set(a.url,a.attribution),e.setQueryData(["attribution",{url:a.url}],a.attribution);return u()(t.map(e=>{let t=n.get(e);return t&&{url:e,attribution:t}}))},resolver:o.rp("url"),scheduler:o.ck(100)}));function p(e){let{useBaseUrl:t=!0,enabled:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t?(0,a.FH)(e):e,l=m((0,s.NL)());return(0,i.a)({queryKey:["attribution",{url:r}],queryFn:async()=>(await l.fetch(r)).attribution,enabled:n&&!!e})}function g(e){let{useBaseUrl:t=!0,enabled:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t?e.map(a.FH):e,i=m((0,s.NL)());return(0,l.h)({queries:r.map(e=>({queryKey:["attribution",{url:e}],queryFn:async()=>(await i.fetch(e)).attribution,enabled:r.length>0&&n})),combine:t=>{let n=new Map;for(let r=0;r<t.length;r++){let a=t[r].data;a&&n.set(e[r],a)}return n}})}},39696:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(92379);function a(e,t){let n=(0,r.useRef)(e);(0,r.useEffect)(()=>{n.current=e},[e]),(0,r.useEffect)(()=>{if(null!=t){let e=window.setInterval(function(){n.current()},t);return()=>clearInterval(e)}},[t])}},15174:function(e,t,n){var r=n(92379);t.Z=function(){let e=(0,r.useRef)(!1);return(0,r.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),(0,r.useCallback)(()=>e.current,[])}},66290:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(34977),a=n.n(r),s=n(92379);function i(){return(0,s.useCallback)(e=>{-1===e?a().back():a().push(e,void 0,{shallow:!0})},[])}}}]);
//# sourceMappingURL=2526.d434662511de4c35.js.map