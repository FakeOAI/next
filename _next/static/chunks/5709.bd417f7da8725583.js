"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5709],{85709:function(e,t,s){s.r(t),s.d(t,{default:function(){return T}});var i=s(31438),l=s(98601),n=s(19841),o=s(88600),r=s(38482),a=s.n(r),d=s(92379),c=s(62984),x=s(68306),h=s(76032),m=s(83995),u=s.n(m),f=s(11550),p=s(30115),g=s(47563),w=s(56783),y=s(78234),j=s(651);function v(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,i)}return s}function b(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?v(Object(s),!0).forEach(function(t){(0,l.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}let k={padding:20,zIndex:1e3,xOffset:300,yOffset:200,normal:{width:600,height:585},small:{width:600,height:335}},N=a()(()=>Promise.all([s.e(5823),s.e(6346)]).then(s.bind(s,56346)),{ssr:!1,loading:()=>(0,j.jsx)("div",{className:"p-3",children:(0,j.jsx)("p",{className:"flex items-center justify-center text-center font-mono text-sm uppercase text-token-text-primary",style:{height:200},children:(0,j.jsx)(c.Z,b({},P.loading))})}),loadableGenerated:{webpack:()=>[56346]}});function z(){let e=(0,d.useRef)(null),[{width:t,height:s},l]=u()(),{targetLatencyData:r}=(0,w.gj)(),a=(0,i.tN)(i.bM.isLatencyDevtoolsVisible);(0,d.useEffect)(()=>{if(e.current){let t=window.innerWidth,s=window.innerHeight;e.current.updatePosition({x:t-(k.normal.width+k.xOffset)-k.padding,y:s-(k.normal.height+k.yOffset)-k.padding}),e.current.updateSize({width:k.normal.width,height:k.normal.height})}},[]);let{0:x,1:m}=(0,d.useState)(!1),p=()=>{x||m(!0)},v=()=>{x&&m(!1)},z=(0,y.AA)(),D=(0,y.JP)(),{0:T,1:W}=(0,d.useState)(!1),B=(0,d.useMemo)(()=>z?(0,y.j7)(z)+1:0,[z]),R=(0,d.useMemo)(()=>z?(0,y.BC)():0,[z]);(0,d.useEffect)(()=>{W(!1)},[z,W]);let S=()=>{a?i.vm.hideLatencyDevTools():i.vm.showLatencyDevTools()};if(!a)return null;let E=Object.keys(D).length>1;return(0,j.jsx)(o.E.div,{initial:{opacity:0},transition:{delay:1,duration:.2},animate:{opacity:1,transition:{duration:.2,ease:"easeIn"}},exit:{opacity:0,transition:{duration:.2,ease:"easeIn"}},children:(0,j.jsx)(h.s,{disableDragging:x,ref:e,style:{zIndex:k.zIndex,width:k.normal.width,height:k.normal.height},className:(0,n.default)("transition-delay popover group relative flex h-full flex-col overflow-hidden rounded-md border-2 border-gray-500 bg-token-main-surface-primary opacity-80 shadow-md transition-opacity delay-100 hover:opacity-100 hover:delay-0 dark:border-white"),children:z?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"flex flex-row items-center border-b border-gray-700 py-1 dark:border-gray-300",children:(0,j.jsxs)("div",{className:"flex w-full flex-row items-center justify-end",children:[(0,j.jsxs)("div",{className:"flex w-full flex-row items-center justify-between px-3 ",children:[(0,j.jsx)(f.z,{disabled:!E,className:"whitespace-nowrap",loading:T,color:"secondary",size:"small",onClick:()=>{W(!0),(0,y.WD)((0,y.iZ)(z))},icon:g.DUf}),(0,j.jsxs)("span",{className:"flex flex-row items-center justify-center space-x-2 truncate whitespace-nowrap text-xs font-semibold uppercase text-token-text-secondary",children:[(0,j.jsxs)("span",{className:"inline-flex items-center gap-x-1.5 rounded-full bg-yellow-100 px-1.5 py-0.5 text-xs font-semibold text-yellow-800",children:[(0,j.jsx)("svg",{className:"h-1.5 w-1.5 fill-yellow-500",viewBox:"0 0 6 6","aria-hidden":"true",children:(0,j.jsx)("circle",{cx:3,cy:3,r:3})}),"".concat(B," / ").concat(R)]}),(0,j.jsx)(c.Z,b(b({},P.node),{},{values:{focusedNodeId:z}}))]}),(0,j.jsx)(f.z,{disabled:!E,className:"whitespace-nowrap",loading:T,color:"secondary",size:"small",onClick:()=>{W(!0),(0,y.WD)((0,y.Q7)(z))},icon:g.ob9})]}),(0,j.jsx)(f.z,{color:"ghost",size:"small",onClick:()=>S(),className:"whitespace-nowrap",icon:g.tPq})]})}),r&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{ref:l,className:"h-full w-full min-w-20 space-y-2 overflow-scroll p-1 pb-12",children:(0,j.jsxs)("div",{className:(0,n.default)("col-span-1 grid gap-1"),children:[(0,j.jsx)("div",{onMouseMove:p,onMouseEnter:p,onMouseLeave:v,onMouseOut:v,onMouseUp:v,children:(0,j.jsx)(N,{parentDimensions:{width:t,height:s},targetLatencyData:r})}),(0,j.jsx)(O,{}),(0,j.jsx)(C,{})]})}),(0,j.jsx)(M,{resizableRef:e})]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"font-lg flex h-full flex-col items-center justify-center text-lg",children:(0,j.jsx)(c.Z,b({},P.initiateCompletionRequest))}),(0,j.jsx)(M,{resizableRef:e})]})})})}let C=()=>(0,j.jsx)("div",{}),O=()=>{let{stats:e}=(0,w.gj)();return(0,j.jsxs)("div",{className:"space-y-3 overflow-scroll px-3",children:[(0,j.jsx)("div",{className:"border-b pb-3",children:(0,j.jsx)(D,{size:"large",stats:e.filter(e=>"summary"==e.category)})}),(0,j.jsx)(D,{stats:e.filter(e=>"token"==e.category)}),(0,j.jsx)(D,{stats:e.filter(e=>"aggregate"==e.category)})]})},D=e=>{let{stats:t,size:s="normal"}=e;return(0,j.jsx)("div",{className:"flex flex-wrap gap-3",children:t.map(e=>e.stat&&(0,j.jsx)("div",{className:"col-span-1",children:(0,j.jsxs)("div",{className:(0,n.default)("overflow-hidden bg-token-main-surface-primary shadow",{"rounded px-2 py-1 sm:p-2":"normal"==s,"rounded-lg px-2 py-3 sm:p-3":"large"==s}),children:[(0,j.jsx)("dt",{className:(0,n.default)("truncate text-token-text-tertiary",{"text-xs font-semibold":"normal"==s,"text-sm font-semibold":"large"==s}),children:e.name}),(0,j.jsx)("dd",{className:(0,n.default)("mt-1 font-semibold text-token-text-primary",{"text-base tracking-tight":"normal"==s,"text-xl tracking-tight":"large"==s}),children:e.stat})]})},e.name))})},M=e=>{let{resizableRef:t}=e,s=e=>{let s=window.innerWidth,i=window.innerHeight,l={"up-left":{x:0,y:0},"down-right":{x:s-k.normal.width-k.padding,y:i-k.normal.height-k.padding},"down-left":{x:0,y:i-k.normal.height-k.padding},"up-right":{x:s-k.normal.width-k.padding,y:0}};t.current&&(t.current.updatePosition({x:l[e].x,y:l[e].y}),t.current.updateSize({width:k.normal.width,height:k.normal.height}))},l=()=>{i.vm.hideLatencyDevTools()};return(0,j.jsxs)("div",{className:"popover sticky bottom-0 z-50 flex w-full flex-row justify-between border-t border-gray-400 bg-token-main-surface-primary p-2",children:[(0,j.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,j.jsxs)("div",{className:"flex flex-row space-x-1",children:[(0,j.jsx)(f.z,{color:"secondary",size:"small",onClick:()=>s("down-left"),icon:g.ReP}),(0,j.jsx)(f.z,{color:"secondary",size:"small",onClick:()=>s("up-left"),children:(0,j.jsx)(g.w9k,{className:"icon-sm rotate-180"})}),(0,j.jsx)(f.z,{color:"secondary",size:"small",onClick:()=>s("up-right"),children:(0,j.jsx)(g.ReP,{className:"icon-sm rotate-180"})}),(0,j.jsx)(f.z,{color:"secondary",size:"small",onClick:()=>s("down-right"),icon:g.w9k})]}),(0,j.jsxs)("div",{className:"flex flex-row space-x-1",children:[(0,j.jsx)(f.z,{color:"secondary",size:"small",onClick:()=>{var e;null===(e=t.current)||void 0===e||e.updateSize({width:k.small.width,height:k.small.height})},children:(0,j.jsx)(c.Z,b({},P.shrinkButton))}),(0,j.jsx)(f.z,{color:"secondary",size:"small",onClick:()=>{var e;null===(e=t.current)||void 0===e||e.updateSize({width:k.normal.width,height:k.normal.height})},children:(0,j.jsx)(c.Z,b({},P.growButton))})]})]}),(0,j.jsx)("div",{className:"flex flex-row justify-end gap-3",children:(0,j.jsx)(p.P,{onClick:()=>l()})})]})},P=(0,x.vU)({loading:{id:"CompletionDevToolsWidget.loading",defaultMessage:"Loading..."},node:{id:"CompletionDevToolsWidget.node",defaultMessage:"Node: {focusedNodeId}"},initiateCompletionRequest:{id:"CompletionDevToolsWidget.initiateCompletionRequest",defaultMessage:"Initiate a completion request to use this feature"},shrinkButton:{id:"CompletionDevToolsWidget.shrinkButton",defaultMessage:"Shrink"},growButton:{id:"CompletionDevToolsWidget.growButton",defaultMessage:"Grow"},closeButton:{id:"CompletionDevToolsWidget.closeButton",defaultMessage:"Close"},dragAndResizeTooltip:{id:"CompletionDevToolsWidget.dragAndResizeTooltip",defaultMessage:"This widget can be dragged and resized"}});var T=()=>(0,i.tN)(i.bM.isLatencyDevtoolsVisible)?(0,j.jsx)(z,{}):null}}]);
//# sourceMappingURL=5709.bd417f7da8725583.js.map