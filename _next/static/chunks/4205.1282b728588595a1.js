"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4205],{31094:function(e,t,a){a.d(t,{Z:function(){return o}});var s=a(19841),n=a(44230),l=a(651);function o(e){let{className:t,checked:a}=e;return(0,l.jsx)(n.Tg4,{className:(0,s.default)("icon-sm transform transition-transform duration-200",t,a?"rotate-0":"ltr:-rotate-90 rtl:rotate-90")})}},74205:function(e,t,a){a.r(t),a.d(t,{GizmoActionsEditor:function(){return L}});var s=a(17379),n=a(94521),l=a(21904),o=a(85734),r=a(5443),i=a(2377),c=a(4702),d=a(19841),u=a(61888),p=a(92379),m=a(26123),h=a(72256),x=a(25940),f=a(1703),v=a(31094),g=a(65530),y=a(98131),j=a(651);let b=["className","children"];function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach(function(t){(0,n.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var w={Root:function(e){let{className:t,children:a}=e,n=(0,s.Z)(e,b);return(0,j.jsx)(y.fC,M(M({className:t},n),{},{children:a}))}},_=a(44230),k=a(49217);function T(e){let{onSelectExample:t}=e,a=(0,m.Z)(),s=(0,p.useRef)(null);return(0,j.jsxs)("select",{onChange:e=>{"label"!==e.target.value&&(t(O[parseInt(e.target.value)].spec),s.current.value="label")},className:"h-8 rounded-lg border border-token-border-medium bg-transparent px-2 py-0 text-sm",ref:s,children:[(0,j.jsx)("option",{value:"label",children:a.formatMessage(P.examples)}),O.map((e,t)=>(0,j.jsx)("option",{value:t,children:a.formatMessage(e.displayName)},t))]})}let P=(0,x.vU)({examples:{id:"gizmo.actions.examples",defaultMessage:"Examples"},weatherExampleTitle:{id:"gizmo.actions.weatherExampleTitle",defaultMessage:"Weather (JSON)"},petStoreExampleTitle:{id:"gizmo.actions.petStoreExampleTitle",defaultMessage:"Pet Store (YAML)"},blankExampleTitle:{id:"gizmo.actions.blankExampleTitle",defaultMessage:"Blank Template"}}),O=[{displayName:P.weatherExampleTitle,spec:JSON.stringify({openapi:"3.1.0",info:{title:"Get weather data",description:"Retrieves current weather data for a location.",version:"v1.0.0"},servers:[{url:"https://weather.example.com"}],paths:{"/location":{get:{description:"Get temperature for a specific location",operationId:"GetCurrentWeather",parameters:[{name:"location",in:"query",description:"The city and state to retrieve the weather for",required:!0,schema:{type:"string"}}],deprecated:!1}}},components:{schemas:{}}},null,2)},{displayName:P.petStoreExampleTitle,spec:'# Taken from https://github.com/OAI/OpenAPI-Specification/blob/main/examples/v3.0/petstore.yaml\n\nopenapi: "3.0.0"\ninfo:\n  version: 1.0.0\n  title: Swagger Petstore\n  license:\n    name: MIT\nservers:\n  - url: https://petstore.swagger.io/v1\npaths:\n  /pets:\n    get:\n      summary: List all pets\n      operationId: listPets\n      tags:\n        - pets\n      parameters:\n        - name: limit\n          in: query\n          description: How many items to return at one time (max 100)\n          required: false\n          schema:\n            type: integer\n            maximum: 100\n            format: int32\n      responses:\n        \'200\':\n          description: A paged array of pets\n          headers:\n            x-next:\n              description: A link to the next page of responses\n              schema:\n                type: string\n          content:\n            application/json:    \n              schema:\n                $ref: "#/components/schemas/Pets"\n        default:\n          description: unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: "#/components/schemas/Error"\n    post:\n      summary: Create a pet\n      operationId: createPets\n      tags:\n        - pets\n      responses:\n        \'201\':\n          description: Null response\n        default:\n          description: unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: "#/components/schemas/Error"\n  /pets/{petId}:\n    get:\n      summary: Info for a specific pet\n      operationId: showPetById\n      tags:\n        - pets\n      parameters:\n        - name: petId\n          in: path\n          required: true\n          description: The id of the pet to retrieve\n          schema:\n            type: string\n      responses:\n        \'200\':\n          description: Expected response to a valid request\n          content:\n            application/json:\n              schema:\n                $ref: "#/components/schemas/Pet"\n        default:\n          description: unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: "#/components/schemas/Error"\ncomponents:\n  schemas:\n    Pet:\n      type: object\n      required:\n        - id\n        - name\n      properties:\n        id:\n          type: integer\n          format: int64\n        name:\n          type: string\n        tag:\n          type: string\n    Pets:\n      type: array\n      maxItems: 100\n      items:\n        $ref: "#/components/schemas/Pet"\n    Error:\n      type: object\n      required:\n        - code\n        - message\n      properties:\n        code:\n          type: integer\n          format: int32\n        message:\n          type: string'},{displayName:P.blankExampleTitle,spec:JSON.stringify({openapi:"3.1.0",info:{title:"Untitled",description:"Your OpenAPI specification",version:"v1.0.0"},servers:[{url:""}],paths:{},components:{schemas:{}}},null,2)}];var C=a(89987),I=a(6175),S=a(56029),V=a(2933);function A(e){let{content:t,button:a,onClick:s}=e;return(0,j.jsxs)("div",{className:"flex rounded-lg border border-token-border-medium text-sm hover:cursor-pointer",onClick:s,children:[(0,j.jsx)("div",{className:"h-9 grow px-3 py-2",children:t}),(0,j.jsx)("div",{className:"w-px bg-token-border-medium"}),a]})}let Z=["oauth_client_id","oauth_client_secret"],E=["api_key"];function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach(function(t){(0,n.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let U="".concat("https://chatgpt.com","/g/g-TYEliDU6A-actionsgpt");function G(e){let{children:t}=e;return(0,j.jsx)("label",{className:"mb-1 block text-sm font-semibold",children:t})}function q(e){var t,a,s,n,l,i,c,d,u,x,f,v,g,y;let{jitPluginTool:b,onUpdateTool:N,onClose:M}=e,_=(0,m.Z)(),{0:T,1:P}=(0,p.useState)({apiKeyValue:"",oauthClientIdValue:"",oauthClientSecretValue:"",oauthAuthUrlValue:null!==(t=null==b||null===(a=b.metadata)||void 0===a||null===(a=a.auth)||void 0===a?void 0:a.client_url)&&void 0!==t?t:"",oauthTokenUrlValue:null!==(s=null==b||null===(n=b.metadata)||void 0===n||null===(n=n.auth)||void 0===n?void 0:n.authorization_url)&&void 0!==s?s:"",oauthScopeValue:null!==(l=null==b||null===(i=b.metadata)||void 0===i||null===(i=i.auth)||void 0===i?void 0:i.scope)&&void 0!==l?l:"",authTypeValue:null!==(c=null==b||null===(d=b.metadata)||void 0===d||null===(d=d.auth)||void 0===d?void 0:d.type)&&void 0!==c?c:o.Jv.None,httpAuthTypeValue:null!==(u=null==b||null===(x=b.metadata)||void 0===x||null===(x=x.auth)||void 0===x?void 0:x.authorization_type)&&void 0!==u?u:"basic",customHeaderValue:null!==(f=null==b||null===(v=b.metadata)||void 0===v||null===(v=v.auth)||void 0===v?void 0:v.custom_auth_header)&&void 0!==f?f:"",tokenExchangeMethodValue:null!==(g=null==b||null===(y=b.metadata)||void 0===y||null===(y=y.auth)||void 0===y?void 0:y.token_exchange_method)&&void 0!==g?g:"default_post"});function O(e){P(t=>z(z({},t),e))}return(0,j.jsxs)(k.Z,{type:"success",isOpen:!0,title:_.formatMessage({id:"kZ040s",defaultMessage:"Authentication"}),primaryButton:(0,j.jsx)(r.z,{color:"primary",onClick:()=>{N(T.authTypeValue===o.Jv.None?{type:o.Jv.None}:T.authTypeValue===o.Jv.OAuth?{type:o.Jv.OAuth,client_url:T.oauthAuthUrlValue,authorization_url:T.oauthTokenUrlValue,authorization_content_type:"application/x-www-form-urlencoded",scope:T.oauthScopeValue,token_exchange_method:T.tokenExchangeMethodValue,oauth_client_id:T.oauthClientIdValue,oauth_client_secret:T.oauthClientSecretValue}:{type:o.Jv.ServiceHTTP,authorization_type:T.httpAuthTypeValue,custom_auth_header:T.customHeaderValue,api_key:T.apiKeyValue}),M()},children:(0,j.jsx)(h.Z,{id:"dchvRM",defaultMessage:"Save"})}),secondaryButton:(0,j.jsx)(r.z,{color:"secondary",onClick:M,children:(0,j.jsx)(h.Z,{id:"xHBR5t",defaultMessage:"Cancel"})}),onClose:M,children:[(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)(h.Z,{id:"la7zPT",defaultMessage:"Authentication Type"}),(0,j.jsxs)(w.Root,{onValueChange:e=>{O({authTypeValue:e})},value:T.authTypeValue,className:"mt-2 flex gap-4",children:[(0,j.jsx)(V.Xb,{label:_.formatMessage({id:"Ml5rNZ",defaultMessage:"None"}),value:o.Jv.None}),(0,j.jsx)(V.Xb,{label:_.formatMessage({id:"rN0uCi",defaultMessage:"API Key"}),value:o.Jv.ServiceHTTP}),(0,j.jsx)(V.Xb,{label:_.formatMessage({id:"qG7Z4O",defaultMessage:"OAuth"}),value:o.Jv.OAuth})]})]}),"service_http"===T.authTypeValue?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(G,{children:(0,j.jsx)(h.Z,{id:"hSd+5k",defaultMessage:"API Key"})}),(0,j.jsx)(C.yt,{placeholder:_.formatMessage({id:"9W9lGr",defaultMessage:"[HIDDEN]"}),type:"password",value:T.apiKeyValue,onChange:e=>{O({apiKeyValue:e.target.value})},className:"mb-2",dir:"ltr"}),(0,j.jsx)(G,{children:(0,j.jsx)(h.Z,{id:"PSnRGf",defaultMessage:"Auth Type"})}),(0,j.jsxs)(w.Root,{className:"mb-2 flex gap-6 overflow-hidden rounded-lg",value:T.httpAuthTypeValue,required:!0,onValueChange:e=>{O({httpAuthTypeValue:e})},children:[(0,j.jsx)(V.Xb,{value:"basic",label:"Basic"}),(0,j.jsx)(V.Xb,{value:"bearer",label:"Bearer"}),(0,j.jsx)(V.Xb,{value:"custom",label:_.formatMessage({id:"6kqx38",defaultMessage:"Custom"})})]}),"custom"===T.httpAuthTypeValue&&(0,j.jsxs)("div",{className:"mt-2",children:[(0,j.jsx)(G,{children:(0,j.jsx)(h.Z,{id:"XqdT/P",defaultMessage:"Custom Header Name"})}),(0,j.jsx)(C.yt,{value:T.customHeaderValue,onChange:e=>{O({customHeaderValue:e.target.value})},className:"mb-2",placeholder:"X-Api-Key",dir:"ltr"})]})]}):"oauth"===T.authTypeValue?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(G,{children:(0,j.jsx)(h.Z,{id:"lS4nvz",defaultMessage:"Client ID"})}),(0,j.jsx)(C.yt,{placeholder:"<HIDDEN>",type:"password",value:T.oauthClientIdValue,onChange:e=>{O({oauthClientIdValue:e.target.value})},className:"mb-2",dir:"ltr"}),(0,j.jsx)(G,{children:(0,j.jsx)(h.Z,{id:"OvwGR3",defaultMessage:"Client Secret"})}),(0,j.jsx)(C.yt,{placeholder:"<HIDDEN>",type:"password",value:T.oauthClientSecretValue,onChange:e=>{O({oauthClientSecretValue:e.target.value})},className:"mb-2",dir:"ltr"}),(0,j.jsx)(G,{children:(0,j.jsx)(h.Z,{id:"I27qZU",defaultMessage:"Authorization URL"})}),(0,j.jsx)(C.yt,{value:T.oauthAuthUrlValue,onChange:e=>{O({oauthAuthUrlValue:e.target.value})},className:"mb-2",dir:"ltr"}),(0,j.jsx)(G,{children:(0,j.jsx)(h.Z,{id:"QywIpF",defaultMessage:"Token URL"})}),(0,j.jsx)(C.yt,{value:T.oauthTokenUrlValue,onChange:e=>{O({oauthTokenUrlValue:e.target.value})},className:"mb-2",dir:"ltr"}),(0,j.jsx)(G,{children:(0,j.jsx)(h.Z,{id:"1VAJqN",defaultMessage:"Scope"})}),(0,j.jsx)(C.yt,{value:T.oauthScopeValue,onChange:e=>{O({oauthScopeValue:e.target.value})},className:"mb-2",dir:"ltr"}),(0,j.jsx)(G,{children:(0,j.jsx)(h.Z,{id:"9MvwPc",defaultMessage:"Token Exchange Method"})}),(0,j.jsxs)(w.Root,{value:T.tokenExchangeMethodValue,required:!0,onValueChange:e=>{O({tokenExchangeMethodValue:e})},children:[(0,j.jsx)(V.Xb,{value:"default_post",label:_.formatMessage({id:"vXIzoE",defaultMessage:"Default (POST request)"})}),(0,j.jsx)(V.Xb,{value:"basic_auth_header",label:_.formatMessage({id:"38o+yX",defaultMessage:"Basic authorization header"})})]})]}):null]})}function D(e){let{onImport:t,onClose:a}=e,{0:s,1:n}=(0,p.useState)(""),{0:l,1:o}=(0,p.useState)(!1);async function r(){var e;let n;try{n=new URL(s)}catch{return}if(null!==(e=n)&&void 0!==e&&e.hostname){o(!0);try{let e=await S.U.fetchOpenAPISpec(s);t(e.content),a()}finally{o(!1)}}}return(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)("input",{name:"url",value:s,onChange:e=>{n(e.target.value)},placeholder:"https://...",className:"h-8 rounded border border-token-border-light px-2 text-sm",autoFocus:!0,dir:"ltr"}),(0,j.jsx)(V.cY,{color:"primary",size:"small",loading:l,onClick:r,children:(0,j.jsx)(h.Z,{id:"7sLuEB",defaultMessage:"Import"})}),(0,j.jsx)(V.cY,{color:"secondary",size:"small",onClick:a,children:(0,j.jsx)(h.Z,{id:"xHBR5t",defaultMessage:"Cancel"})})]})}function R(e){let{rootDomain:t,operations:a}=e;return null==a||0===a.length?(0,j.jsx)("div",{className:"text-sm text-token-text-tertiary",children:(0,j.jsx)(h.Z,{id:"L69u6d",defaultMessage:"Operations in your schema will show here"})}):(0,j.jsx)("table",{className:"w-full text-sm",children:(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{className:"border-b border-token-border-light text-left text-xs text-token-text-tertiary",children:[(0,j.jsx)("th",{className:"py-1 font-normal",children:(0,j.jsx)(h.Z,{id:"JizDcr",defaultMessage:"Name"})}),(0,j.jsx)("th",{className:"py-1 font-normal",children:(0,j.jsx)(h.Z,{id:"zN16fd",defaultMessage:"Method"})}),(0,j.jsx)("th",{className:"py-1 font-normal",children:(0,j.jsx)(h.Z,{id:"y2WJvt",defaultMessage:"Path"})}),(0,j.jsx)("th",{className:"py-1 font-normal"})]}),a.map(e=>(0,j.jsxs)("tr",{className:"border-b border-token-border-light",children:[(0,j.jsx)("td",{className:"py-2",children:e.operationName}),(0,j.jsx)("td",{className:"py-2 uppercase",children:e.method}),(0,j.jsx)("td",{className:"py-2",dir:"ltr",style:{textAlign:"match-parent"},children:e.path}),(0,j.jsx)("td",{className:"py-2",children:(0,j.jsx)(V.cY,{color:"secondary",onClick:()=>{t&&I.gP.publish({kind:I.f7.TestGizmoAction,rootDomain:t,operationName:e.operationName})},children:(0,j.jsx)(h.Z,{id:"Ag71GQ",defaultMessage:"Test"})})})]},e.operationName))]})})}function H(e){let{validationResponse:t}=e,a=(0,m.Z)();return(0,j.jsxs)("div",{children:[(0,j.jsx)(C.lX,{label:a.formatMessage({id:"hKfo5R",defaultMessage:"Available actions"})}),(0,j.jsx)(R,{rootDomain:t.success?t.spec.root_domain:void 0,operations:t.success?t.spec.operations:void 0})]})}function L(e){var t,a,n,y,b,N,M;let{currentlyEditingActionDomain:w,gizmoEditorData:k,updateGizmo:P,onClose:O}=e,I=(0,m.Z)(),{0:J,1:G}=(0,p.useState)(w),R=(0,p.useRef)(J),L=(0,c.t)(),{data:K}=(0,i.C)(null==L?void 0:L.getWorkspaceId());(0,p.useEffect)(()=>{R.current=J},[J]);let X=null==k||null===(t=k.tools)||void 0===t?void 0:t.find(e=>e.type===l.qK.JIT_PLUGIN&&e.metadata.domain===J),{0:B}=(0,p.useState)(()=>null==X),W=null!==(a=null==X||null===(n=X.metadata)||void 0===n?void 0:n.raw_spec)&&void 0!==a?a:"",{0:Y,1:$}=(0,p.useState)(!1),{0:F,1:Q}=(0,p.useState)(!1),{0:ee,1:et}=(0,p.useState)(!1);function ea(e){P(t=>z(z({},t),{},{tools:X?t.tools.map(t=>t.type===l.qK.JIT_PLUGIN&&t.metadata.domain===J?z(z({},t),{},{metadata:z(z(z({},t.metadata),e),{},{json_schema:void 0})}):t):[...t.tools,{type:l.qK.JIT_PLUGIN,metadata:z(z({raw_spec:"",domain:null!=J?J:"Unknown domain",action_id:""},e),{},{json_schema:void 0})}]}))}let{0:es,1:en}=(0,p.useState)(),{0:el}=(0,p.useState)(()=>(0,u.debounce)(async function(e){let t=await S.U.validateOpenAPISpec(e);en(t);let a=t.success?t.spec.root_domain:void 0;if(a){if(a!==R.current){var s;if(null==k||null===(s=k.tools)||void 0===s?void 0:s.find(e=>e.type===l.qK.JIT_PLUGIN&&e.metadata.domain===a)){en({success:!1,errors:[I.formatMessage({id:"nwBcmJ",defaultMessage:"Action sets cannot have duplicate domains - {domain} already exists on another action"},{domain:a})]});return}}P(e=>z(z({},e),{},{tools:e.tools.map(e=>e.type===l.qK.JIT_PLUGIN&&e.metadata.domain===R.current?z(z({},e),{},{metadata:z(z({},e.metadata),{},{domain:a})}):e)})),G(a)}if(t.success&&t.known_auth&&t.known_privacy_policy&&X){let e=z({type:o.Jv.OAuth},t.known_auth);(0,u.isEqual)(X.metadata.auth,e)||ea({auth:z({type:o.Jv.OAuth},t.known_auth)}),X.metadata.privacy_policy_url!==t.known_privacy_policy&&ea({privacy_policy_url:t.known_privacy_policy})}},1e3)),eo=null!=es?es.success?es.warnings:es.errors:void 0;(0,p.useEffect)(()=>{""===W?(en(void 0),el.cancel()):el(W)},[el,W]);let er=e=>{try{ea({raw_spec:JSON.stringify(JSON.parse(e),null,2)})}catch{try{ea({raw_spec:f.default.stringify(f.default.parse(e),{lineWidth:120,indent:2})})}catch{}}};return(0,j.jsxs)("div",{className:"h-full overflow-auto px-4 pb-12 text-sm",children:[(0,j.jsxs)("div",{className:"relative flex flex-col items-center px-16 py-6 text-center",children:[(0,j.jsx)("div",{className:"absolute left-0 top-6",children:(0,j.jsx)(r.z,{color:"secondary",onClick:O,icon:_.DUf})}),null!=X&&(0,j.jsx)("div",{className:"absolute right-0 top-6",children:(0,j.jsx)(r.z,{color:"secondary",onClick:()=>{window.confirm("Are you sure you want to delete this action?")&&(P(e=>z(z({},e),{},{tools:e.tools.filter(e=>e.type!==l.qK.JIT_PLUGIN||e.metadata.domain!==J)})),O())},className:"text-red-500",children:(0,j.jsx)(_.XHJ,{className:"icon-md"})})}),(0,j.jsx)("div",{className:"text-xl font-semibold",children:B?(0,j.jsx)(h.Z,{id:"LEn2vt",defaultMessage:"Add actions"}):(0,j.jsx)(h.Z,{id:"WtVYgh",defaultMessage:"Edit actions"})}),(0,j.jsx)("div",{className:"text-sm text-token-text-tertiary",children:(0,j.jsx)(h.Z,{id:"f0WG0Q",defaultMessage:"Let your GPT retrieve information or take actions outside of ChatGPT."})}),(0,j.jsx)("div",{className:"text-sm text-token-text-tertiary",children:(0,j.jsx)("a",{href:"https://help.openai.com/en/articles/8554397-creating-a-gpt",target:"_blank",rel:"noreferrer",className:"font-semibold",children:(0,j.jsx)(h.Z,{id:"44M7/B",defaultMessage:"Learn more."})})})]}),(0,j.jsxs)(C.hj,{className:"relative",children:[(0,j.jsx)(C.lX,{label:I.formatMessage({id:"kZ040s",defaultMessage:"Authentication"})}),(0,j.jsx)(A,{onClick:()=>{$(!0)},content:I.formatMessage(function(e){switch(e){case o.Jv.None:return(0,x.Em)({id:"G9qfIC",defaultMessage:"None"});case o.Jv.OAuth:return(0,x.Em)({id:"t8MwwT",defaultMessage:"OAuth"});case o.Jv.ServiceHTTP:return(0,x.Em)({id:"rN0uCi",defaultMessage:"API Key"})}}(null!==(y=null==X||null===(b=X.metadata)||void 0===b||null===(b=b.auth)||void 0===b?void 0:b.type)&&void 0!==y?y:o.Jv.None)),button:(0,j.jsx)("button",{color:"secondary",className:"flex items-center gap-2 px-3",children:(0,j.jsx)(_.SWE,{className:"icon-sm"})})}),Y&&(0,j.jsx)(q,{jitPluginTool:X,onUpdateTool:e=>{switch(e.type){case o.Jv.None:ea({auth:{type:o.Jv.None}});break;case o.Jv.OAuth:{let{oauth_client_id:t,oauth_client_secret:a}=e;ea({auth:(0,s.Z)(e,Z),oauth_client_id:t,oauth_client_secret:a});break}case o.Jv.ServiceHTTP:{let{api_key:t}=e;ea({auth:(0,s.Z)(e,E),api_key:t})}}},onClose:()=>{$(!1)}})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"mb-1 flex h-8 items-center justify-between",children:[(0,j.jsx)("label",{className:"font-semibold text-token-text-primary",children:(0,j.jsx)(h.Z,{id:"+xKwQg",defaultMessage:"Schema"})}),(0,j.jsx)("div",{className:"flex items-center",children:F?(0,j.jsx)(D,{onImport:e=>{er(e)},onClose:()=>{Q(!1)}}):(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)(V.cY,{color:"secondary",size:"small",onClick:()=>{Q(!0)},children:(0,j.jsx)(h.Z,{id:"kTR+Ef",defaultMessage:"Import from URL"})}),(0,j.jsx)(T,{onSelectExample:e=>{ea({raw_spec:e})}})]})})]}),(0,j.jsxs)("div",{className:"mb-8 overflow-hidden rounded-lg border border-token-border-light",children:[(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)("textarea",{value:W,onChange:e=>{ea({raw_spec:e.target.value})},spellCheck:!1,placeholder:I.formatMessage({id:"zBM3o0",defaultMessage:"Enter your OpenAPI schema here"}),className:"block h-96 w-full border-none bg-transparent p-2 font-mono text-xs text-token-text-primary",dir:"ltr"}),(0,j.jsx)("div",{className:"absolute bottom-2 right-2 flex gap-2",children:""!==W?(0,j.jsx)(V.cY,{onClick:()=>{er(W)},children:(0,j.jsx)(h.Z,{id:"vJWnIM",defaultMessage:"Format"})}):(0,j.jsxs)(V.cY,{as:"a",to:U,openNewTab:!0,size:"small",children:[(0,j.jsx)(h.Z,{id:"gizmo.actions.actionsGptHelp",defaultMessage:"Get help from ActionsGPT"}),(0,j.jsx)(_.Pfi,{className:"icon-md"})]})})]}),null!=eo&&(null==eo?void 0:eo.length)>0&&(0,j.jsx)("div",{className:"border-t border-token-border-light p-2 text-red-500",children:eo.map((e,t)=>(0,j.jsx)("div",{children:e},t))})]})]}),null!=es&&(0,j.jsx)(H,{validationResponse:es}),(null==K?void 0:K.allowed_custom_actions_domains)!=null&&((null==K?void 0:K.allowed_custom_actions_domains.length)>0?(0,j.jsxs)("div",{className:"mt-4",children:[(0,j.jsxs)("p",{className:"mb-1 cursor-pointer font-semibold",onClick:()=>et(!ee),children:[(0,j.jsx)(h.Z,{id:"Gcxir6",defaultMessage:"Domains allowed by your workspace"}),(0,j.jsx)(v.Z,{className:"inline",checked:ee})]}),(0,j.jsx)("ul",{className:(0,d.default)("list-disc ps-4",!ee&&"hidden"),children:null==K?void 0:K.allowed_custom_actions_domains.map(e=>(0,j.jsx)("li",{children:e},e))})]}):(0,j.jsx)("p",{className:"text-sm italic",children:(0,j.jsx)(h.Z,{id:"wWCl0j",defaultMessage:"No domains are allowed by your workspace's settings."})})),(0,j.jsxs)("div",{className:"mt-4",children:[(0,j.jsx)(C.lX,{label:I.formatMessage({id:"Pbk0Gp",defaultMessage:"Privacy policy"}),description:"Privacy policy is required for all public GPTs."}),(0,j.jsx)(g.Z,{name:"privacyPolicyUrl",value:null!==(N=null==X||null===(M=X.metadata)||void 0===M?void 0:M.privacy_policy_url)&&void 0!==N?N:"",placeholder:"https://app.example.com/privacy",onChange:e=>{ea({privacy_policy_url:e.target.value})}})]})]})}}}]);
//# sourceMappingURL=4205.1282b728588595a1.js.map