"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6925,3347,1014],{87387:function(e,t,r){r.d(t,{aO:function(){return P},sH:function(){return j},sS:function(){return I}});var n=r(98601),s=r(52088),o=r(99333),i=r(11550),a=r(16779),c=r(73062),l=r(24434),u=r(81014),d=r(23047),f=r(24740),h=r(58025),g=r(78571),m=r(56032),p=r(19841),y=r(99661),S=r(15478),b=r(52445),v=r(10798),x=r(651);let O=["children"];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let j={debug_mode:!1,base_config:d.l.SCALLION,completion_model:void 0,eval_preset:"production",use_labrador:!0,show_image_to_model:!0,emulated_location:void 0};function I(e){let{children:t}=e,r=(0,s.Z)(e,O);return(0,x.jsx)(c.Z.Content,_(_({},r),{},{className:(0,p.default)("z-50",r.className),children:t}))}function P(e){var t;let{onClose:r}=e,{theme:n,setTheme:s}=(0,y.F)(),{data:d}=(0,h.R1)(o.sh.TrainingAllowed),p=(0,h.Gt)(),S=(t=()=>f.m.success("All search logs have been deleted",{duration:3}),(0,m.D)({mutationFn:u.A8,onSuccess:t})),[O,w]=(0,v.rV)(),j=(0,b.m)();return(0,x.jsx)(l.Z,{isOpen:!0,onClose:r,type:"success",size:"custom",className:"max-w-2xl",title:"SearchGPT Settings",showCloseButton:!0,children:(0,x.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,x.jsxs)(k,{children:[(0,x.jsx)(g._,{htmlFor:"theme",className:"text-sm",children:"Theme"}),(0,x.jsxs)(c.Z.Root,{value:n,onValueChange:e=>{e!==n&&s(e)},children:[(0,x.jsxs)(c.Z.Trigger,{id:"theme",children:[(0,x.jsx)(c.Z.Value,{}),(0,x.jsx)(c.Z.Icon,{})]}),(0,x.jsx)(c.Z.Portal,{children:(0,x.jsxs)(I,{children:[(0,x.jsx)(c.Z.Item,{value:"light",children:"Light"}),(0,x.jsx)(c.Z.Item,{value:"dark",children:"Dark"}),(0,x.jsx)(c.Z.Item,{value:"system",children:"System"})]})})]})]}),(0,x.jsxs)("div",{className:"flex flex-col border-t border-token-border-medium pt-1",children:[(0,x.jsxs)(k,{children:[(0,x.jsx)(g._,{htmlFor:"location",className:"text-sm",children:"Share precise location"}),(0,x.jsx)(a.Z,{onChange:e=>{w(_(_({},O),{},{useLocation:e}))},enabled:O.useLocation,disabled:!j||"denied"===j,label:"Use location from browser"})]}),(0,x.jsx)("div",{className:"text-xs text-token-text-secondary",children:"Improve searches using precise location data from your device e.g. “restaurants near me” will try to show you restaurants near your current location. (When precise location is off, we’ll still use general location info based on your IP address so we can help you search local weather, etc.)"})]}),(0,x.jsxs)("div",{className:"flex flex-col border-t border-token-border-medium pt-1",children:[(0,x.jsxs)(k,{children:[(0,x.jsx)(g._,{htmlFor:"trainingAllowed",className:"text-sm",children:"Improve search for everyone"}),(0,x.jsx)(a.Z,{onChange:e=>{p.mutate({setting:o.sh.TrainingAllowed,value:e})},enabled:d??!0,label:"Use location from browser"})]}),(0,x.jsxs)("div",{className:"text-xs text-token-text-secondary",children:["Allow your conversations to be used to improve our search functionality, which makes our services better for you and everyone who uses them. We take steps to protect your privacy."," ",(0,x.jsx)("a",{className:"underline",href:"https://openai.com/policies/privacy-policy/",target:"_blank",children:"Learn more"})]})]}),(0,x.jsx)("div",{className:"flex flex-col border-t border-token-border-medium pt-2",children:(0,x.jsxs)(k,{children:[(0,x.jsx)(g._,{htmlFor:"deleteLogs",className:"text-sm",children:"Delete search logs"}),(0,x.jsx)(i.z,{color:"danger",loading:S.isPending,onClick:()=>S.mutate(),children:"Delete All"})]})})]})})}let k=S.Z.div`flex justify-between items-center gap-2 min-h-[36px]`},81014:function(e,t,r){r.d(t,{A8:function(){return f},K8:function(){return g},NK:function(){return v},Y5:function(){return x},a2:function(){return S},dN:function(){return d},k4:function(){return m},lw:function(){return h},mH:function(){return p},mO:function(){return u},pV:function(){return y},qE:function(){return O},tF:function(){return _},v5:function(){return w},zq:function(){return b}});var n=r(98601),s=r(16351),o=r(72409),i=r(82363),a=r(23047);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let u=async e=>{let{queryKey:t}=e,[r,n]=t;if(n.length<2)return[];let i=new URLSearchParams({query_fragment:n});return o.c.get(`${s.rq}/suggestions?${i.toString()}`).then(e=>e.suggestions).catch(()=>[])};async function d(e){let{threadId:t,sessionId:r,query:n,agentSettingsOverrides:a,metadata:c}=e,u=h(a),d=t?`${s.rq}/threads/${t}/turns?blocking=false`:`${s.rq}/turns?nonce=${r}`;a.emulated_location&&(c=l(l({},c),a.emulated_location));let f=new PerformanceObserver(e=>{let t=e.getEntriesByName(d,"resource");if(t.length){let e=t[0];if(e.connectEnd){let t=e.connectEnd-e.fetchStart;i.U.addAction("sonic.web.home.new_turn_connection_time",{durationMs:t})}f.disconnect()}});return f.observe({type:"resource"}),o.c.post(d,l(l({},u),{},{turn:{user_query:n},user_metadata:c}))}async function f(){return o.c.delete(`${s.rq}/threads`)}function h(e){return{settings_overrides:{search_results:{search_engines:e.use_labrador?{bing:{}}:{bing:{ranking_model:null,rrf_alpha:1,rrf_input_threshold:0},labrador:null}},model_response:{enable_multimodal:e.show_image_to_model,completion_model:e.completion_model?{model:e.completion_model,clip_model:"@mmapi",direct_connection_urls:[]}:{}}},base_config:e.base_config??a.l.SCALLION,eval_preset:e.eval_preset}}async function g(e){let{threadId:t,threadUserId:r,routePrefix:n}=e,i=s.rq;n&&(i+=n);let a=new URL(`${i}/threads/${t}/with_turns`);return r&&a.searchParams.append("thread_user_id",r),await o.c.get(a.toString())}async function m(e){let t=new FormData;return t.append("feedback",JSON.stringify({thread_id:e.threadId,turn_index:e.turnIndex,rating:e.rating,search_query:e.searchQuery,text:e.text,model_instructions:e.modelInstructions,tags:e.tags,user_email:e.userEmail})),e.screenshot&&t.append("file",new File([e.screenshot],"screenshot.jpeg",{type:"image/jpeg"})),o.c.post(`${s.rq}/feedback/turns`,t)}async function p(e,t){return o.c.post(`${s.rq}/threads/${e}/turns/${t}/images_try_hard`)}async function y(){return o.c.get(`${s.rq}/feedback/turns`)}async function S(e,t){return o.c.get(`${s.rq}/feedback/turns/${e}/${t}`)}async function b(e,t){return o.c.get(`${s.rq}/feedback/links/${e}/${t}`)}async function v(e){let t=new FormData;return e.screenshot&&t.append("file",new File([e.screenshot],"screenshot.jpeg",{type:"image/jpeg"})),t.append("feedback",JSON.stringify({thread_id:e.threadId,url:e.url,title:e.title,snippet:e.snippet,rating:e.rating,search_query:e.searchQuery,text:e.text,tags:e.tags,user_email:e.userEmail})),o.c.post(`${s.rq}/feedback/links`,t)}function x(e){let t=h(e.agentSettingsOverrides);o.c.post(`${s.rq}/prefetch`,l(l({},t),{},{turn:{user_query:e.query},user_metadata:e.metadata}))}function O(){return o.c.get(`${s.rq}/healthcheck`)}function w(){return o.c.post(`${s.rq}/waitlist`)}function _(){return o.c.delete(`${s.rq}/waitlist`)}},26925:function(e,t,r){r.d(t,{HC:function(){return p},ne:function(){return m},po:function(){return h}});var n,s,o=r(98601),i=r(87387),a=r(25579),c=r(44544),l=r(5132),u=r(651);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let h=((n={})[n.InitialPending=0]="InitialPending",n[n.Active=1]="Active",n);var g=((s=g||{}).HasSearched="oai/apps/hasSearched",s.HasDismissedExtensionUpsell="oai/apps/dismissExtensionUpsell",s.HasDismissedAddToHome="oai/apps/dismissAddToHome",s);class m extends(0,a.R)()(e=>({queryInput:e?.initialQuery??"",followupQueryInput:"",initialQuery:e?.initialQuery??void 0,shouldShowComposer:!1,agentSettingsOverrides:e?.initialAgentSettingsOverrides??S(),currentSearch:e?.initialQuery?{config:{threadId:e.initialThreadId??null,query:e.initialQuery,isFollowup:!1,querySource:"url_query"},state:h.InitialPending}:void 0,lastPrefetchedQuery:void 0,shouldShowAddToHomePopover:!1,hasSearched:"1"===localStorage.getItem(g.HasSearched),hasDismissedExtensionUpsell:"1"===localStorage.getItem(g.HasDismissedExtensionUpsell),hasDismissedAddToHome:"1"===localStorage.getItem(g.HasDismissedAddToHome)})){setQueryInput(e){this.setState({queryInput:e})}setFollowupQueryInput(e){this.setState({followupQueryInput:e})}setCurrentSearch(e){this.setState({currentSearch:e})}setLastPrefetchedQuery(e){this.setState({lastPrefetchedQuery:e})}handlePendingInitialSearch(){let e=this.getState();if(e.currentSearch?.state===h.InitialPending){let t=f(f({},e.currentSearch),{},{state:h.Active});return this.setState({currentSearch:t}),t}}updateAgentSettingsOverrides(e){let t=f(f({},this.getState().agentSettingsOverrides),e);this.setState({agentSettingsOverrides:t}),t===i.sH?(0,c.deleteCookie)(y):(0,c.setCookie)(y,JSON.stringify(t),{maxAge:l.to})}markHasSearched(){this.getState().hasSearched||(this.setState({hasSearched:!0}),localStorage.setItem(g.HasSearched,"1"))}dismissExtensionUpsell(){this.getState().hasDismissedExtensionUpsell||(this.setState({hasDismissedExtensionUpsell:!0}),localStorage.setItem(g.HasDismissedExtensionUpsell,"1"))}dismissAddToHomePrompt(){this.getState().hasDismissedAddToHome||(this.setState({hasDismissedAddToHome:!0}),localStorage.setItem(g.HasDismissedAddToHome,"1"))}}function p(e){let{children:t,serverProps:r}=e;return(0,u.jsx)(m.Provider,{store:()=>new m(r),children:t})}(0,o.Z)(m,"selectQueryInput",e=>e.queryInput),(0,o.Z)(m,"selectFollowupQueryInput",e=>e.followupQueryInput),(0,o.Z)(m,"selectAgentSettingsOverrides",e=>e.agentSettingsOverrides),(0,o.Z)(m,"selectLastSubmittedQuery",e=>e.currentSearch?.config.query),(0,o.Z)(m,"selectWasCurrentSearchPrefetched",e=>e.currentSearch?.config.query===e.lastPrefetchedQuery);let y="agent_overrides";function S(e){let t={};try{let r=(0,c.getCookie)(y,e);"string"==typeof r&&(t=JSON.parse(r))}catch{}return f(f({},i.sH),t)}},23047:function(e,t,r){var n;r.d(t,{l:function(){return s}});let s=((n={}).SCALLION="scallion",n.SCALLION_RC="scallion-rc",n)},95628:function(e,t,r){r.d(t,{ZP:function(){return o}});var n=r(92379);function s(e,t,r){try{let n=JSON.parse(window.localStorage.getItem(e)??"");if(!r(n))return t;return n}catch(e){return t}}function o(e,t,r){let{0:o,1:i}=(0,n.useState)(()=>s(e,t,r));return(0,n.useEffect)(()=>{i(()=>s(e,t,r))},[e,t,r]),(0,n.useEffect)(()=>{window.localStorage.setItem(e,JSON.stringify(o))},[e,o]),[o,i]}},52445:function(e,t,r){r.d(t,{m:function(){return c},w:function(){return a}});var n=r(92379),s=r(5132),o=r(651);let i=(0,n.createContext)(null),a=e=>{let{children:t}=e,{0:r,1:a}=(0,n.useState)(null);return(0,n.useEffect)(()=>{(0,s.XM)().then(e=>{null!=e&&(a(e.state),e.onchange=()=>{a(e.state)})})},[]),(0,o.jsx)(i.Provider,{value:r,children:t})};function c(){return(0,n.useContext)(i)}},10798:function(e,t,r){r.d(t,{OR:function(){return p},Ws:function(){return f},lM:function(){return g},nf:function(){return d},rV:function(){return m}});var n=r(13249),s=r(92379),o=r(95628),i=r(651);function a(e){return"object"==typeof e&&"boolean"==typeof e.suggestions}let c={version:0,useLocation:!1};function l(e){try{let t=n.m.getItem(n.F.SearchSettings,{userId:e});return"number"==typeof t.version&&t.version>=c.version?t:c}catch{return c}}let u=(0,s.createContext)({settings:c,setSettings:()=>{}}),d=e=>{let{userId:t,children:r}=e,{0:o,1:a}=(0,s.useState)(()=>l(t));return(0,s.useEffect)(()=>a(l(t)),[t]),(0,s.useEffect)(()=>{n.m.setItem(n.F.SearchSettings,o,{userId:t})},[o,t]),(0,i.jsx)(u.Provider,{value:{settings:o,setSettings:a},children:r})},f={suggestions:!0,showInlineFollowups:!1},h=(0,s.createContext)({settings:f,setSettings:()=>{}}),g=e=>{let{userId:t,children:r}=e,[n,s]=(0,o.ZP)(`_INTERNAL_${t}_SONIC_SETTINGS_1717364375`,f,a);return(0,i.jsx)(h.Provider,{value:{settings:n,setSettings:s},children:r})};function m(){let{settings:e,setSettings:t}=(0,s.useContext)(u);return[e,t]}function p(){let{settings:e,setSettings:t}=(0,s.useContext)(h);return[e,t]}},5132:function(e,t,r){r.d(t,{XB:function(){return l},XM:function(){return c},ri:function(){return u},t5:function(){return d},to:function(){return s}});var n=r(65012);let s=2592e3,o="last_checked_loc",i="last_denied_loc",a={latitude:null,longitude:null,locationAccuracy:null};async function c(){return navigator?.permissions?await navigator.permissions.query({name:"geolocation"}):null}async function l(e){let{enabled:t}=e;if(!t)return u();if((await c())?.state!=="granted"){let e=localStorage.getItem(o);if(e){let t=Number(e);if(Date.now()-864e5<t)try{return JSON.parse(n.bX.getCookie(n.cn.LastLocation))}catch{}}}let r=localStorage.getItem(i);if(r){let e=Number(r);if(Date.now()-36e5<e)return null}return await new Promise(e=>{navigator.geolocation.getCurrentPosition(t=>{let r={latitude:t.coords.latitude,longitude:t.coords.longitude,locationAccuracy:t.coords.accuracy};n.bX.setCookie(n.cn.LastLocation,JSON.stringify(r),{maxAge:s}),localStorage.setItem(o,Date.now().toString()),e(r)},()=>{localStorage.setItem(i,Date.now().toString()),e(u())},{enableHighAccuracy:!0,maximumAge:0})})}function u(){return n.bX.setCookie(n.cn.LastLocation,JSON.stringify(a),{maxAge:s}),localStorage.removeItem(o),localStorage.removeItem(i),null}function d(e,t){return`https://chatgpt.com/search/evals/permalink/${e}/${t}`}}}]);
//# sourceMappingURL=6925-9bacafa10618d4dc.js.map