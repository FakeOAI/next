"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4993],{98095:function(e,t,r){r.d(t,{d:function(){return b}});var n=r(98601),i=r(52088),o=r(54089),a=r(19841),c=r(92379),s=r(38838),u=r(82164),l=r(50863),f=r(651);let g=["className","size","align"],m=["onSelect","icon","className","color","size"],y=["className"],p=["onSelect","children"],d=["className"],h=["icon","children"];function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let w=c.forwardRef(function(e,t){let{className:r,size:n="default",align:c}=e,s=(0,i.Z)(e,g);return(0,f.jsx)(l.w5,v({ref:t,$as:o.VY,sideOffset:4,align:c??"start",collisionPadding:10,className:(0,a.default)({"min-w-[280px]":"default"===n,"min-w-[340px]":"large"===n,"min-w-[125px]":"small"===n,"overflow-hidden":!0},r)},s))});function b(e){let{triggerButton:t,children:r,size:n="default",open:i,onOpenChange:a,contentAlign:c,side:s,sideOffset:u=0,alignOffset:l=0,contentClassName:g}=e;return(0,f.jsxs)(o.fC,{modal:!1,open:i,onOpenChange:a,children:[(0,f.jsx)(o.xz,{asChild:!0,children:t}),(0,f.jsx)(o.Uv,{children:(0,f.jsx)(w,{size:n,align:c,alignOffset:l,side:s,sideOffset:u,className:g,children:r})})]})}let $={Root:o.fC,Trigger:function(e){return(0,f.jsx)(l.J7,v(v({$as:o.xz},e),{},{onFocusCapture:t=>{t.stopPropagation(),e.onFocusCapture?.(t)}}))},Portal:o.Uv,Content:w,Item:c.forwardRef(function(e,t){let{onSelect:r,icon:n,className:s,color:u,size:g="default"}=e,y=(0,i.Z)(e,m);return n?(0,f.jsxs)(l.gG,v(v({$as:o.ck,ref:t,onSelect:r,className:(0,a.default)("danger"===u&&"text-token-text-error","large"===g&&"gap-3",s)},y),{},{children:[(0,f.jsx)("div",{className:(0,a.default)("flex items-center justify-center","danger"===u&&"text-token-text-error","danger"!==u&&"text-token-text-secondary","default"===g&&"h-5 w-5","large"===g&&"h-5 w-7"),children:(0,c.isValidElement)(n)?n:(0,f.jsx)(n,{className:"h-5 w-5 shrink-0"})}),y.children]})):(0,f.jsx)(l.gG,v({$as:o.ck,ref:t,onSelect:r,className:(0,a.default)("danger"===u&&"text-token-text-error",s)},y))}),Separator:function(e){let{className:t}=e,r=(0,i.Z)(e,y);return(0,f.jsx)(o.Z0,v({className:(0,a.default)("mx-5 my-1 h-px bg-token-border-light",t)},r))},RadioGroup:o.Ee,RadioItem:function(e){let{onSelect:t,children:r}=e,n=(0,i.Z)(e,p);return(0,f.jsxs)(l.aF,v(v({$as:o.Rk,onSelect:t},n),{},{children:[(0,f.jsx)(o.wU,{className:"absolute",children:(0,f.jsx)(u.$As,{className:"icon-sm"})}),(0,f.jsx)("span",{className:"ml-6",children:r})]}))},Sub:o.Tr,SubContent:function(e){let{className:t}=e,r=(0,i.Z)(e,d);return(0,f.jsx)(l.w5,v({$as:o.tu,className:(0,a.default)("mt-2 max-h-[calc(100vh-300px)] min-w-[100px] overflow-auto",t),sideOffset:8,alignOffset:-16,collisionPadding:20},r))},SubMenuTrigger:function(e){let{icon:t,children:r}=e,n=(0,i.Z)(e,h);return(0,f.jsxs)(l.gG,v(v({$as:o.fF},n),{},{children:[t&&(0,f.jsx)("div",{className:"flex h-5 w-5 items-center justify-center text-token-text-secondary",children:(0,f.jsx)(t,{className:"h-5 w-5 flex-shrink-0"})}),r,(0,f.jsx)("div",{className:"ml-auto flex items-center text-token-text-tertiary group-data-[disabled]:opacity-50",children:(0,f.jsx)(s.Yf,{className:"icon-md"})})]}))},Label:function(e){let{children:t}=e;return(0,f.jsx)(o.__,{className:"mx-2 my-0 px-2 text-xs font-semibold text-token-text-secondary",children:t})}};t.Z=$},39004:function(e,t,r){r.d(t,{AG:function(){return $},D2:function(){return B},DC:function(){return N},DS:function(){return L},Dq:function(){return j},EF:function(){return O},F0:function(){return D},Fi:function(){return x},HW:function(){return z},K7:function(){return H},K9:function(){return E},M0:function(){return F},N_:function(){return C},Sg:function(){return S},UQ:function(){return J},Vw:function(){return R},WL:function(){return I},Wd:function(){return K},Wz:function(){return U},YR:function(){return Q},Z1:function(){return W},ZJ:function(){return M},b9:function(){return A},i6:function(){return k},kX:function(){return w},kb:function(){return T},m_:function(){return _},pJ:function(){return Z},un:function(){return b},uy:function(){return v},z5:function(){return P}});var n=r(98601),i=r(16757),o=r(10080),a=r(24740),c=r(84760),s=r(19856),u=r(49166),l=r(42420),f=r(56032),g=r(85567),m=r(42906),y=r(99555),p=r(45334);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let z="GPT Builder";function v(e){if(e)return`ChatGPT - ${e}`}function w(e){return e.gizmo.short_url??e.gizmo.id??"-"}function b(e){return`/g/${e}`}function $(e){return`https://chatgpt.com${b(e)}`}function _(e){return b(w(e))}function O(e,t){let r=new URLSearchParams;return null!=t&&r.set(m.l,t),(0,g.I)(new URL(`${_(e)}?${r}`,"https://chatgpt.com"))}function k(e){return`/g/${w(e)}`}function S(e){return(0,p.S9)(e)&&0===e.gizmo.live_version||(0,p.WQ)(e)&&0===e.liveVersion}function P(e,t){return(0,c.a)({queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:async()=>y.U.getGizmoDiscovery(e,t)})}function x(e){let{cutId:t,locale:r,limit:n,cursor:i,enabled:o=!0}=e;return(0,s.N)({queryKey:["gizmos","discovery",{cutId:t,locale:r,limit:n}],queryFn:async e=>{let{pageParam:i}=e;return y.U.getGizmoDiscoveryCut(t,{locale:r,cursor:i,limit:n})},initialPageParam:i,getNextPageParam:e=>e.list.cursor??void 0,enabled:o})}function j(){return(0,c.a)({queryKey:["gizmos","pinned"],queryFn:async()=>y.U.getGizmoPinned()})}function q(){return(0,u.C)({queryKey:["gizmos","bootstrap"],queryFn:async()=>y.U.getGizmoBootstrap().then(e=>({gizmos:e.gizmos.map(e=>({resource:e.resource,flair:e.flair}))}))})}function U(){return(0,c.a)(q())}function G(e,t){let r=e.filter(e=>e.resource.gizmo.id!==t.resource.gizmo.id),n=r.findIndex(e=>e.flair.kind===o.JK.Recent);return -1===n&&(n=r.length),r.splice(n,0,t),r}let B={handleGizmoInteracted(e,t){let r=e.getQueryData(R(e,t).queryKey);null!=r&&e.setQueryData(q().queryKey,e=>{if(null==e)return e;let n=e.gizmos.find(e=>e.resource.gizmo.id===t);return n?.flair.kind===o.JK.FirstParty||n?.flair.kind===o.JK.SidebarKeep?e:{gizmos:G(e.gizmos,{resource:r,flair:{kind:o.JK.Recent}})}})},handleGizmoSidebarKeep(e,t){let r=e.getQueryData(R(e,t).queryKey);null!=r&&e.setQueryData(q().queryKey,e=>null==e?e:{gizmos:G(e.gizmos,{resource:r,flair:{kind:o.JK.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(q().queryKey,e=>e?.gizmos.some(e=>e.resource.gizmo.id===t)?{gizmos:e.gizmos.filter(e=>e.resource.gizmo.id!==t)}:e)}};function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,l.NL)();return(0,c.a)(R(r,e,t))}function N(e){let{gizmoId:t,draft:r,version:n}=e,i=(0,l.NL)(),o=n?{queryKey:["gizmo","version",{gizmoId:t,version:n}],queryFn:async()=>y.U.getVersion({gizmoId:t,version:n}),enabled:null!=t}:R(i,t,r);return(0,c.a)(o)}function K(e,t){return(0,c.a)({queryKey:["gizmo","userActionSettings",{gizmoId:e}],queryFn:async()=>y.U.getUserActionSettings(e),enabled:null!=e&&t})}function R(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,u.C)({queryKey:["gizmo",{gizmoId:t},{draft:r}],queryFn:async()=>y.U.getGizmo(t,r),enabled:null!=t,initialData:()=>{if(!0===r)return;let n=e.getQueryData(q().queryKey);if(null!=n)return n.gizmos.find(e=>e.resource.gizmo.id===t)?.resource;let i=e.getQueryData(["gizmos","discovery"]);if(null!=i)for(let e of i.cuts){let r=e.list.items.find(e=>e.resource.gizmo.id===t)?.resource;if(null!=r)return r}}})}function D(e,t){return e.fetchQuery(R(e,t))}function E(e){return(0,c.a)({queryKey:["gizmo",{search:e}],queryFn:async()=>y.U.getGizmoSearch(e),enabled:e.length>0})}function F(e,t){return(0,c.a)({queryKey:["gizmo-search-workspace",{search:e}],queryFn:async()=>y.U.getGizmoSearchForWorkspace(e),enabled:e.length>0&&t})}function L(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,s.N)({queryKey:[r?"gizmo-search-workspace":"gizmo",{query:e,cursor:n}],queryFn:async t=>{let{pageParam:i}=t;return r?y.U.getGizmoSearchForWorkspace(e,n=i):y.U.getGizmoSearch(e,n=i)},initialPageParam:n,getNextPageParam:e=>e.cursor??void 0,enabled:t})}function C(){let e=(0,l.NL)();return(0,f.D)({mutationFn:async e=>{let{gizmoId:t,editorData:r}=e,{instructions:n,name:i,description:a,profilePictureId:c,profilePictureUrl:s,promptStarters:u,tools:l,files:f,trainingDisabled:g}=r;return y.U.upsertDraft({instructions:n,display:{name:i,description:a,profile_pic_id:c,profile_picture_url:s,prompt_starters:u},tools:l,files:f.map(e=>h(h({},e),{},{location:o.Nh.FILE_SERVICE})),training_disabled:g},t)},onSettled:t=>{t&&(e.setQueryData(R(e,t.gizmo.id,!0).queryKey,t),e.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}})}function M(){let e=(0,l.NL)();return(0,f.D)({mutationFn:async e=>{let{gizmoId:t,data:r}=e,{sharingRecipient:n,categories:i}=r,a=await y.U.promoteDraft({sharing:r.sharingSubjects&&r.sharingSubjects.length>0?r.sharingSubjects:{recipient:n},categories:i},t);if(a.error)throw new o.DC(a);return a.resource},onSettled:t=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),e.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),t&&e.setQueryData(R(e,t.gizmo.id,!1).queryKey,t)}})}function T(){let e=(0,l.NL)();return(0,f.D)({mutationFn:async e=>{let{gizmoId:t}=e;return y.U.deleteGizmo(t)},onSettled:()=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}})}function Z(){let e=(0,l.NL)();return(0,f.D)({mutationFn:async e=>{let{name:t,hideName:r,websiteUrl:n,willReceiveSupportEmails:i}=e;return y.U.updateBuilderProfile({name:t,hide_name:r,website_url:n,will_receive_support_emails:i})},onSuccess:t=>{e.setQueryData(["builderProfile"],t)},onError:e=>{a.m.warning(e.message)}})}function I(){return(0,c.a)({queryKey:["builderProfile"],queryFn:async()=>y.U.getBuilderProfile()})}function Q(){return(0,f.D)({mutationFn:async e=>{let{gizmoId:t}=e;return y.U.copyGizmo({gizmoId:t})}})}function W(){return(0,c.a)({queryKey:["gizmoCategories"],queryFn:async()=>y.U.getCategories()})}function J(e,t){return!!(null!=t&&[i.OL.PrimaryAssistant,i.OL.GizmoInteraction].includes(t)&&e?.includes(i.S.GPT_4))}function H(e,t){let r=(0,l.NL)();return(0,f.D)({mutationFn:async t=>{let{rating:r,message:n,includeFrom:i}=t;await y.U.upsertUserReview(e,r,n,i)},onSuccess:async()=>{t?.(),r.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},onError:e=>{a.m.danger(e.message)}})}},99555:function(e,t,r){r.d(t,{U:function(){return u}});var n=r(98601),i=r(28438),o=r(72409),a=r(39004);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class u{static getMyGizmos(){return o.c.get(`${i.B}/gizmos?mine=true`)}static getGizmosByUser(e){return o.c.get(`${i.B}/gizmos/u/${e}`)}static getGizmo(e,t){return o.c.get(`${i.B}/gizmos/${e}${t?"?draft=true":""}`)}static shareGizmo(e,t){return o.c.post(`${i.B}/gizmos/${e}/share`,t)}static getGizmoDiscovery(e,t){let r=new URLSearchParams;return null!=e&&r.set("locale",e),o.c.get(t?`${i.k5}/gizmos/discovery_anon?${r}`:`${i.k5}/gizmos/discovery?${r}`,{authOption:i.FB.SendIfAvailable})}static async getGizmoDiscoveryCut(e,t){let r=r=>{let n={};null!=r&&(n.cursor=r),t?.limit!=null&&(n.limit=`${t.limit}`),t?.locale!=null&&(n.locale=t.locale);let a=`${i.k5}/gizmos/discovery/${e}`;return o.c.get(a,{params:n,authOption:i.FB.SendIfAvailable})},n=await r(t?.cursor);return 0===n.list.items.length&&null!=n.list.cursor?(await new Promise(e=>setTimeout(e,30*Math.random())),r(n.list.cursor)):n}static getGizmoBootstrap(){return o.c.get(`${i.B}/gizmos/bootstrap?limit=2`)}static getGizmoPinned(){return o.c.get(`${i.B}/gizmos/pinned`)}static getGizmoSearch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?o.c.get(`${i.B}/gizmos/search?q=${e}&cursor=${t} `):o.c.get(`${i.B}/gizmos/search?q=${e}`)}static getGizmoSearchForWorkspace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?o.c.get(`${i.B}/gizmos/search?q=${e}&workspace_only=true&cursor=${t}`):o.c.get(`${i.B}/gizmos/search?q=${e}&workspace_only=true`)}static async postGizmoAppeal(e,t,r,n,a){await o.c.post(`${i.B}/gizmos/${t}/appeal`,{reason:r,share_recipient:n,categories:a}),await e.invalidateQueries({queryKey:["gizmo",{gizmoId:t}]})}static async postGizmoCancelAppeal(e,t){await o.c.post(`${i.B}/gizmos/${t}/cancel_appeal`,{}),await e.invalidateQueries({queryKey:["gizmo",{gizmoId:t}]})}static upsertDraft(e,t){return void 0!==t?o.c.post(`${i.B}/gizmos?gizmo_id=${t}`,e):o.c.post(`${i.B}/gizmos`,e)}static promoteDraft(e,t){return o.c.post(`${i.B}/gizmos/${t}/promote`,e)}static deleteGizmo(e){return o.c.delete(`${i.B}/gizmos/${e}`)}static getBuilderProfile(){return o.c.get(`${i.B}/gizmo_creator_profile`)}static updateBuilderProfile(e){return o.c.post(`${i.B}/gizmo_creator_profile`,e)}static unverifySocialAuth(e){return o.c.delete(`${i.B}/gizmo_creator_profile/socials/${e}`)}static async updateGizmoSidebar(e,t,r){let n=await o.c.post(`${i.B}/gizmos/${t}/sidebar`,{action:r});switch(r){case"keep":a.D2.handleGizmoSidebarKeep(e,t);break;case"hide":a.D2.handleGizmoSidebarHide(e,t)}return n}static async removeFromRecent(e,t){let r=await o.c.post(`${i.B}/gizmos/${t}/remove_recent`,{});return e.invalidateQueries({queryKey:["gizmos","bootstrap"]}),e.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(e){return o.c.post(`${i.B}/gizmos/fetch_openapi`,{url:e})}static validateOpenAPISpec(e){return o.c.post(`${i.B}/gizmos/validate_openapi`,{raw_spec:e})}static transformToOpenAPISpec(e,t){return o.c.post(`${i.B}/gizmos/transform_openapi`,s(s({},e),{},{auth:t}))}static async doOAuthRedirect(e,t,r,n,a){let c=await o.c.post(`${i.B}/gizmos/oauth_redirect`,{gizmo_id:e,gizmo_action_id:t,domain:r,redirect_to:n,draft:a});window.location.href=c.redirect_uri}static async upsertUserActionSettings(e,t,r){return o.c.post(`${i.B}/gizmos/action_settings`,{gizmo_action_id:e,domain:t,action_settings:r})}static async getUserActionSettings(e){return o.c.get(`${i.B}/gizmos/user_action_settings?gizmo_id=${e}`)}static async generateCategory(e,t){return o.c.post(`${i.B}/gizmos/gen_category`,{name:e,instructions:t})}static async getCategories(){return o.c.get(`${i.B}/gizmos/categories`)}static async getUserReview(e){return o.c.get(`${i.B}/gizmo_reviews/${e}`)}static async upsertUserReview(e,t,r,n){return o.c.post(`${i.B}/gizmo_reviews/${e}`,{rating:t,message:r,include_from:n})}static async sendFeedbackEmail(e,t,r){return o.c.post(`${i.B}/gizmos/${e}/feedback`,{message:t,include_from:r})}static async getAbout(e){return o.c.get(`${i.B}/gizmos/${e}/about`)}static async getCreatorSlice(e){let{creatorId:t}=e;return o.c.get(`${i.B}/gizmo_creators/${t}/gizmos`)}static async getVersion(e){let{gizmoId:t,version:r}=e;return null==r?o.c.get(`${i.B}/gizmos/${t}/version/latest`):o.c.get(`${i.B}/gizmos/${t}/version/${r}`)}static async listVersions(e){let{gizmoId:t,limit:r,cursor:n}=e,a={};return r&&(a.limit=r),n&&(a.cursor=n),o.c.get(`${i.B}/gizmos/${t}/versions`,{params:a})}static async getRolodex(){return o.c.get(`${i.B}/rolodex`)}static async upsertToRolodex(e,t){let{gizmoId:r,usageDescription:n,remove:a}=t,c=await o.c.post(`${i.B}/rolodex`,{gizmo_id:r,usage_description:n,remove:a});return e.invalidateQueries({queryKey:["gizmoRolodex"],refetchType:"all"}),c}static async copyGizmo(e){let{gizmoId:t}=e;return await o.c.post(`${i.B}/gizmos/${t}/copy`)}}},10080:function(e,t,r){var n,i,o,a,c;r.d(t,{AR:function(){return _},CS:function(){return s},DC:function(){return $},EL:function(){return f},H$:function(){return w},JK:function(){return O},LA:function(){return l},Mj:function(){return b},Nh:function(){return h},U9:function(){return y},Zz:function(){return m},fV:function(){return g},h:function(){return z},q0:function(){return d},qL:function(){return u},yS:function(){return p}});let s="g-YyyyMT9XH",u="g-2fkFE8rbu",l=((n={})[n.USER=1]="USER",n[n.GROUP=2]="GROUP",n[n.WORKSPACE=3]="WORKSPACE",n[n.ALL=4]="ALL",n[n.PROJECT=5]="PROJECT",n[n.ORGANIZATION=6]="ORGANIZATION",n[n.SYSTEM=7]="SYSTEM",n[n.AGENT=8]="AGENT",n),f={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},g={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},m={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"},y=((i={}).FirstParty="first_party",i.UsesFunctionCalls="uses_function_calls",i.Reportable="reportable",i.Private="private",i.Workspace="workspace",i.Public="public",i.Beta="beta",i.Pinned="pinned",i.WorkspaceDisabled="workspace_disabled",i.Unreviewable="unreviewable",i),p=e=>e.gizmo.tags?.includes(y.FirstParty),d=e=>!e.gizmo.tags?.includes(y.Unreviewable),h=((o={}).FILE_SERVICE="fs",o);function z(e){return e.type===l.USER||e.type===l.GROUP}let v=[l.USER,l.GROUP,l.WORKSPACE,l.ALL];function w(e){return 0===e.length?null:e.reduce((e,t)=>v.indexOf(t.type)<v.indexOf(e.type)?e:t,e[0])}function b(e,t,r){return(t=t.filter(e=>e.type===m.User||e.type===m.Group),e===m.Private||e===m.User||e===m.Group)?[{type:m.Private,capabilities:f},...t]:[...t,{type:e,capabilities:r}]}class ${constructor(e){this.response=e}}let _=((a={}).ENGLISH="en",a.GLOBAL="global",a),O=((c={}).FirstParty="first_party",c.SidebarKeep="sidebar_keep",c.Mine="mine",c.Recent="recent",c.Workspace="workspace",c)},45334:function(e,t,r){r.d(t,{R2:function(){return c},S9:function(){return u},VN:function(){return f},WQ:function(){return l},XA:function(){return s},k1:function(){return a}});var n=r(10080),i=r(31498),o=r(49764);function a(e){return e.gizmo.current_user_permission?.can_write??!1}function c(e){return e.gizmo.current_user_permission?.can_view_config??!1}function s(e){let t=(0,o.Z)();return function(e,t,r){let i=t?.name;switch(e){case n.Zz.Link:return r.formatMessage(g.privacyAnyoneWithLink);case n.Zz.Private:return r.formatMessage(g.privacyOnlyMe);case n.Zz.Group:case n.Zz.User:return r.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case n.Zz.Marketplace:return r.formatMessage(g.privacyMarketplace);case n.Zz.Workspace:return r.formatMessage(g.privacyWorkspace,{workspaceName:i});case n.Zz.WorkspaceLink:return r.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:i})}}(e,(0,i.ec)(e=>e.currentWorkspace),t)}function u(e){return"gizmo"in e}function l(e){return"id"in e}function f(e){return`${e.replaceAll(".","_").replaceAll("-","_")}__jit_plugin`}let g=(0,r(47584).vU)({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}})},42906:function(e,t,r){r.d(t,{M:function(){return y},l:function(){return m}});var n=r(52088),i=r(16757),o=r(67437),a=r(92745),c=r(30474),s=r(85567),u=r(34977),l=r(92379),f=r(92054);function g(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let m="q";function y(e){var t;let{clientThreadId:r,currentLeafId:y,handleRequestCompletion:d}=e,h=(0,l.useRef)(!1),{isLoading:z}=(0,o.Y7)(),v=(0,u.useRouter)(),w=(0,l.useCallback)((e,t,n,o)=>{a.tQ.updateTree(r,r=>{r.addNode(e,n,t,i.uU.User,void 0,o)})},[r]),b=(0,l.useCallback)(async(e,t,r,n)=>{let{content:o,attachments:a}=t;w(e,y,o,a.length>0?{attachments:a}:{}),d({type:i.Os.Next,promptId:e,eventMetadata:r,cancelActiveRequests:!0,completionMetadata:n})},[w,d,y]),$=(0,c.L)(()=>window.location.pathname)??null,_=!z&&null!=(t=$)&&("/"===t||p(t)),O=a.iN.getConversationMode(r),k=(0,s.f)();p($)&&void 0===k&&(_=!1),(0,l.useEffect)(()=>{if(!_||h.current)return;let e=v.query,{[m]:t,m:i}=e,o=(0,n.Z)(e,[m,"m"].map(g)),c=("string"==typeof t?t:null)??("string"==typeof i?i:null);if(!c||null!=a.tQ.getServerThreadId(r)||null==O)return;let s=(0,f.Z)();h.current=!0,v.replace({query:o},void 0,{shallow:!0}),b(s,{content:c,attachments:[]},{eventSource:"url"},{conversationMode:O,source:"instant-query"})},[_,v,b,r,O])}function p(e){return null!=e&&/^\/g\/[\w-]+$/.test(e)}},3551:function(e,t,r){r.d(t,{AA:function(){return c},FH:function(){return l},J8:function(){return u},L7:function(){return a},SX:function(){return f},ZV:function(){return i},cy:function(){return o},xj:function(){return s}});var n=r(39004);function i(e,t){return t?`/g/${(0,n.kX)(t)}/c/${e}`:`/c/${e}`}function o(){return"/gpts"}function a(){return"/gpts/mine"}function c(e){return e?`/gpts/editor/${e}`:"/gpts/editor"}function s(e){let t=c(void 0);return null==e?t:c(e)}function u(e){return c(e)}function l(e){try{let t=new URL(e);return t.hostname=t.hostname.replace(/^(www\.|web\.|mbasic\.|mobile\.)(secure\.)?/,""),t.pathname="",[...t.searchParams.keys()].forEach(e=>t.searchParams.delete(e)),t.toString()}catch(t){return e}}function f(e){let t=function(e){if(!e)return null;try{return new URL(e).hostname}catch(e){return null}}(e);return t?t.replace(/^www\./,""):e}},85567:function(e,t,r){r.d(t,{I:function(){return c},f:function(){return s}});var n=r(84760);let i="client-correlated-secret";function o(){let e=localStorage.getItem(i);return null==e?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function a(){null==o()&&localStorage.setItem(i,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));let e=o();if(null==e)throw Error("Failed to get key from storage");return e}function c(e){let t=new URL(e),r=(0,n.a)({queryKey:[i,"generate-challenge",e.search],queryFn:async()=>[...new Uint8Array(await crypto.subtle.sign("HMAC",await a(),new TextEncoder().encode(e.search)))].map(e=>e.toString(16).padStart(2,"0")).join(""),staleTime:0});if(void 0!==r.data)return t.hash=r.data,t}function s(){let e=location?.search,t=location?.hash;return(0,n.a)({queryKey:[i,"verify-challenge",e,t],queryFn:async()=>"string"==typeof e&&"string"==typeof t&&crypto.subtle.verify("HMAC",await a(),function(e){let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++)t[r]=parseInt(e.substr(2*r,2),16);return t.buffer}(t.slice(1)),new TextEncoder().encode(e))}).data?new URLSearchParams(e):void 0}}}]);
//# sourceMappingURL=4993-8fcc5201c2c9d0d6.js.map