(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1598],{34598:function(e,t,r){var n=r(85036);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},60510:function(e){e.exports=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}},85036:function(e,t,r){var n=r(83663),i=r(18826),s=r(31154);e.exports=function(e,t,r){return t==t?s(e,t,r):n(e,i,r)}},18826:function(e){e.exports=function(e){return e!=e}},18296:function(e,t,r){var n=r(25561),i=r(34598),s=r(60510),l=r(8529),o=r(33295),a=r(33005);e.exports=function(e,t,r){var u=-1,c=i,d=e.length,f=!0,m=[],g=m;if(r)f=!1,c=s;else if(d>=200){var x=t?null:o(e);if(x)return a(x);f=!1,c=l,g=new n}else g=t?[]:m;e:for(;++u<d;){var v=e[u],p=t?t(v):v;if(v=r||0!==v?v:0,f&&p==p){for(var h=g.length;h--;)if(g[h]===p)continue e;t&&g.push(p),m.push(v)}else c(g,p,r)||(g!==m&&g.push(p),m.push(v))}return m}},33295:function(e,t,r){var n=r(353),i=r(91530),s=r(33005),l=n&&1/s(new n([,-0]))[1]==1/0?function(e){return new n(e)}:i;e.exports=l},31154:function(e){e.exports=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1}},96594:function(e,t,r){var n=r(61757),i=r(18296);e.exports=function(e,t){return e&&e.length?i(e,n(t,2)):[]}},66587:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(98601),i=r(52088),s=r(19841),l=r(651);let o=["className"];function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){let{className:t}=e,r=(0,i.Z)(e,o);return(0,l.jsx)("textarea",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:(0,s.default)("form-textarea w-full rounded-lg border border-token-border-light bg-token-main-surface-secondary text-sm text-token-text-primary focus:border-token-text-primary focus:shadow-none focus:outline-none focus:ring-token-text-primary",t)},r))}},98303:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var n=r(93951);function i(e){var t,r;let i=(0,n.hz)();return!(null===(t=(0,n.t)())||void 0===t?void 0:t.isWorkspaceAccount())||null!==(r=null==i?void 0:i.includes(e))&&void 0!==r&&r}},10083:function(e,t,r){"use strict";r.d(t,{X:function(){return g},r:function(){return m}});var n=r(12128),i=r(10080),s=r(15913),l=r(19841),o=r(50820),a=r(57456),u=r(54097),c=r(83036),d=r(45334),f=r(651);function m(e){let{gizmo:t,hideOwner:r=!1,children:n,className:i,avatarClassName:s,showStarterPrompts:o=!1,disableStarterPrompts:a=!1}=e;return null==t?null:(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:(0,l.default)("flex h-full flex-col items-center justify-center text-token-text-primary",i),children:[(0,f.jsx)(g,{gizmo:t,avatarClassName:s}),(0,f.jsx)(v,{gizmo:t,hideOwner:r,showStarterPrompts:o,disableStarterPrompts:a}),n]})})}function g(e){var t;let{gizmo:r,avatarClassName:s}=e,o=!!(null!=r&&(0,d.S9)(r)&&(null==r||null===(t=r.gizmo.tags)||void 0===t?void 0:t.includes(i.U9.FirstParty)));return(0,f.jsx)("div",{className:"relative",children:(0,f.jsx)(n.Z,{isFirstParty:o||!r,src:null!=r&&(0,d.WQ)(r)?r.profilePictureUrl:null==r?void 0:r.gizmo.display.profile_picture_url,className:(0,l.default)("mb-3 h-12 w-12",s)})})}function x(e){let{gizmo:t,disabled:r}=e,n=(0,u.O)(t),i=(0,o.f)(),l=(0,s.BL)();if(null==n||0===n.length)return null;let c=n.slice(0,l?2:4);return(0,f.jsx)(a.cS,{starterPrompts:c,onSelectStarterPrompt:i,disabled:r})}function v(e){let{gizmo:t,hideOwner:r,showStarterPrompts:n,disableStarterPrompts:i}=e,s=null!=t&&(0,d.WQ)(t)?t.name:null==t?void 0:t.gizmo.display.name,l=null!=t&&(0,d.WQ)(t)?t.description:null==t?void 0:t.gizmo.display.description;return(0,f.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,f.jsx)("div",{className:"text-center text-2xl font-semibold",children:s}),!r&&(0,f.jsx)("div",{className:"flex items-center gap-1 text-token-text-tertiary",children:(0,f.jsx)(f.Fragment,{children:t&&(0,d.WQ)(t)?(0,f.jsx)(c.Z,{gizmo:t}):(0,f.jsx)(c.Z,{gizmo:t,socials:t.gizmo.author.display_socials})})}),l&&(0,f.jsx)("div",{className:"max-w-md text-center text-sm font-normal text-token-text-primary",children:l}),n&&(0,f.jsx)(x,{gizmo:t,disabled:i})]})}},20053:function(e,t,r){"use strict";r.d(t,{H:function(){return R}});var n=r(98601),i=r(11550),s=r(66587),l=r(24434),o=r(99555),a=r(24740),u=r(31438),c=r(31498),d=r(84760),f=r(99976),m=r(61619),g=r(19841),x=r(92379),v=r(75172),p=r(62984),h=r(68306),b=r(30853),y=r(28146),j=r(39004),w=r(10080),O=r(651);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let R=e=>{let{rating:t,onRating:r,className:n}=e,{0:i,1:s}=(0,x.useState)(),l=(0,v.Z)();return(0,O.jsx)("div",{className:(0,g.default)("flex flex-row",n),children:[1,2,3,4,5].map(e=>{var n;let o=(0,O.jsx)(y.e0l,{className:(0,g.default)("icon-2xl cursor-pointer",(null!==(n=null!=i?i:t)&&void 0!==n?n:0)>=e?function(e,t){var r;let n=null!==(r=null!=e?e:t)&&void 0!==r?r:0;return(0,g.default)(null!=e&&e!=t&&"opacity-50 dark:opacity-60",n>4?"text-brand-purple":n>3?"text-green-500":n>2?"text-yellow-500":n>1?"text-orange-500":"text-red-500")}(i,t):"text-token-main-surface-tertiary")}),a=function(e){switch(e){case 1:return P.hoverRating1;case 2:return P.hoverRating2;case 3:return P.hoverRating3;case 4:return P.hoverRating4;case 5:return P.hoverRating5}}(null!=i?i:0),u=a&&l.formatMessage(a);return(0,O.jsx)("div",{onClick:()=>{r(e)},onMouseEnter:()=>{s(e)},onMouseLeave:()=>{s(void 0)},className:"p-1",children:a?(0,O.jsx)(b.u,{label:u,side:"top",sideOffset:4,children:o}):o},e)})})},k=e=>{var t,r,n;let{gizmo:h}=e,y=(0,c.aF)(),z=()=>u.vm.closeModal(u.B.GPTReview),k=(0,v.Z)(),{0:N,1:G}=(0,x.useState)(""),{0:S,1:Z}=(0,x.useState)(!1),C=(n=h.gizmo.id,(0,d.a)({queryFn:async()=>o.U.getUserReview(n),queryKey:["gizmo","review",{gizmoId:n}],enabled:null!=n})),E=(0,j.K7)(h.gizmo.id),{0:F,1:_}=(0,x.useState)(),T=F===(null===(t=C.data)||void 0===t?void 0:t.rating);(0,x.useEffect)(()=>{null!=C.data&&null==F&&_(C.data.rating)},[C.data,F]),(0,x.useEffect)(()=>{f.A.logEvent(m.M.showRatingModal,{gizmo_id:h.gizmo.id})},[h.gizmo.id]);let D=null!=C.data,U=!(null!==(r=h.gizmo.tags)&&void 0!==r&&r.includes(w.U9.FirstParty))&&h.gizmo.author.will_receive_support_emails;return(0,O.jsx)(l.Z,{type:"success",title:(0,O.jsxs)("div",{children:[(0,O.jsx)(p.Z,M({},P.title)),(0,O.jsxs)("div",{className:"align-end mt-2 flex text-sm font-normal",children:[D?(0,O.jsx)(p.Z,M({},P.subtitleChange)):(0,O.jsx)(p.Z,M({},P.subtitle)),(0,O.jsx)(b.u,{label:k.formatMessage(P.subtitleTooltip),className:"ml-1 flex cursor-pointer items-center pl-1",sideOffset:0,children:(0,O.jsx)("div",{className:"icon-xs flex items-center justify-center rounded-full border border-token-text-tertiary text-[8px] font-bold text-token-text-tertiary",children:"i"})})]})]}),isOpen:!0,onClose:z,size:"custom",showCloseButton:!0,className:"max-w-xl overflow-y-auto",hideSeparator:!0,children:(0,O.jsxs)("div",{className:"flex flex-grow flex-col space-y-8",children:[(0,O.jsx)(R,{rating:F,onRating:_,className:"mx-auto flex flex-row items-center"}),U&&(0,O.jsxs)("div",{children:[(0,O.jsx)(s.Z,{className:"mb-1 w-full resize-none overflow-y-auto rounded-md bg-transparent focus:border-gray-200 focus:ring-gray-200 dark:focus:border-white dark:focus:ring-white",placeholder:k.formatMessage(P.messagePlaceholder),value:N,rows:1,onChange:e=>G(e.target.value)}),(0,O.jsxs)("div",{className:(0,g.default)("flex flex-row items-center space-x-2 self-start",N.length>0?"text-token-text-primary":"text-token-text-tertiary"),children:[(0,O.jsx)("input",{type:"checkbox",className:"rounded",checked:S,onChange:e=>Z(e.target.checked)}),y&&(0,O.jsx)("span",{className:"text-sm",children:(0,O.jsx)(p.Z,M(M({},P.includeFrom),{},{values:{email:(0,O.jsx)("strong",{children:y.email})}}))})]})]}),(0,O.jsx)(i.z,{color:"primary",disabled:T,onClick:async()=>{if(null==F){a.m.warning("Please select a rating");return}f.A.logEvent(m.M.submitRatingModal,{gizmo_id:h.gizmo.id,rating:F}),await E.mutateAsync({rating:F,message:N.length>0?N:void 0,includeFrom:N.length>0?S:void 0}),a.m.success(k.formatMessage(P.successToast),{duration:3}),z()},children:(0,O.jsx)(p.Z,M({},P.submit))})]})})},P=(0,h.vU)({title:{id:"GizmoReviewModal.title",defaultMessage:"Leave Feedback"},subtitle:{id:"GizmoReviewModal.subtitle",defaultMessage:"How would you rate this GPT?"},subtitleChange:{id:"GizmoReviewModal.subtitleChange",defaultMessage:"Would you like to change your rating?"},subtitleTooltip:{id:"GizmoReviewModal.subtitleTooltip",defaultMessage:"Stars will be public and anonymous"},messagePlaceholder:{id:"GizmoReviewModal.messagePlaceholder",defaultMessage:"Add an optional private email to the creator"},submit:{id:"GizmoReviewModal.submit",defaultMessage:"Submit"},successToast:{id:"GizmoReviewModal.successToast",defaultMessage:"Review sent"},includeFrom:{id:"GizmoReviewModal.includeFrom",defaultMessage:"Include my email address {email}"},hoverRating1:{id:"GizmoReviewModal.hoverRating1",defaultMessage:"Bad"},hoverRating2:{id:"GizmoReviewModal.hoverRating2",defaultMessage:"Okay"},hoverRating3:{id:"GizmoReviewModal.hoverRating3",defaultMessage:"Good"},hoverRating4:{id:"GizmoReviewModal.hoverRating4",defaultMessage:"Great!"},hoverRating5:{id:"GizmoReviewModal.hoverRating5",defaultMessage:"Excellent!"}});t.Z=e=>{let{gizmo:t}=e;return(0,u.EV)(u.B.GPTReview)?(0,O.jsx)(k,{gizmo:t}):null}}}]);
//# sourceMappingURL=1598.131eb0b18bd7bc01.js.map